var AX=Object.defineProperty;var iI=e=>{throw TypeError(e)};var EX=(e,t,r)=>t in e?AX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kn=(e,t,r)=>EX(e,typeof t!="symbol"?t+"":t,r),X5=(e,t,r)=>t.has(e)||iI("Cannot "+r);var Ie=(e,t,r)=>(X5(e,t,"read from private field"),r?r.call(e):t.get(e)),gr=(e,t,r)=>t.has(e)?iI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Tt=(e,t,r,n)=>(X5(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Vr=(e,t,r)=>(X5(e,t,"access private method"),r);var ix=(e,t,r,n)=>({set _(i){Tt(e,t,i,r)},get _(){return Ie(e,t,n)}});function f7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var p7={exports:{}},Ww={},m7={exports:{}},Jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=Symbol.for("react.element"),CX=Symbol.for("react.portal"),NX=Symbol.for("react.fragment"),OX=Symbol.for("react.strict_mode"),TX=Symbol.for("react.profiler"),jX=Symbol.for("react.provider"),IX=Symbol.for("react.context"),kX=Symbol.for("react.forward_ref"),PX=Symbol.for("react.suspense"),MX=Symbol.for("react.memo"),RX=Symbol.for("react.lazy"),aI=Symbol.iterator;function DX(e){return e===null||typeof e!="object"?null:(e=aI&&e[aI]||e["@@iterator"],typeof e=="function"?e:null)}var g7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v7=Object.assign,y7={};function Gm(e,t,r){this.props=e,this.context=t,this.refs=y7,this.updater=r||g7}Gm.prototype.isReactComponent={};Gm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x7(){}x7.prototype=Gm.prototype;function q4(e,t,r){this.props=e,this.context=t,this.refs=y7,this.updater=r||g7}var W4=q4.prototype=new x7;W4.constructor=q4;v7(W4,Gm.prototype);W4.isPureReactComponent=!0;var sI=Array.isArray,b7=Object.prototype.hasOwnProperty,H4={current:null},w7={key:!0,ref:!0,__self:!0,__source:!0};function _7(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)b7.call(t,n)&&!w7.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:hy,type:e,key:a,ref:s,props:i,_owner:H4.current}}function LX(e,t){return{$$typeof:hy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function V4(e){return typeof e=="object"&&e!==null&&e.$$typeof===hy}function FX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oI=/\/+/g;function Z5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FX(""+e.key):t.toString(36)}function d2(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case hy:case CX:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Z5(s,0):n,sI(i)?(r="",e!=null&&(r=e.replace(oI,"$&/")+"/"),d2(i,t,r,"",function(u){return u})):i!=null&&(V4(i)&&(i=LX(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(oI,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",sI(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Z5(a,o);s+=d2(a,t,r,c,i)}else if(c=DX(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Z5(a,o++),s+=d2(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ax(e,t,r){if(e==null)return e;var n=[],i=0;return d2(e,n,"","",function(a){return t.call(r,a,i++)}),n}function BX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rs={current:null},f2={transition:null},$X={ReactCurrentDispatcher:Rs,ReactCurrentBatchConfig:f2,ReactCurrentOwner:H4};function S7(){throw Error("act(...) is not supported in production builds of React.")}Jr.Children={map:ax,forEach:function(e,t,r){ax(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ax(e,function(){t++}),t},toArray:function(e){return ax(e,function(t){return t})||[]},only:function(e){if(!V4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Jr.Component=Gm;Jr.Fragment=NX;Jr.Profiler=TX;Jr.PureComponent=q4;Jr.StrictMode=OX;Jr.Suspense=PX;Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$X;Jr.act=S7;Jr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=v7({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=H4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)b7.call(t,c)&&!w7.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:hy,type:e.type,key:i,ref:a,props:n,_owner:s}};Jr.createContext=function(e){return e={$$typeof:IX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jX,_context:e},e.Consumer=e};Jr.createElement=_7;Jr.createFactory=function(e){var t=_7.bind(null,e);return t.type=e,t};Jr.createRef=function(){return{current:null}};Jr.forwardRef=function(e){return{$$typeof:kX,render:e}};Jr.isValidElement=V4;Jr.lazy=function(e){return{$$typeof:RX,_payload:{_status:-1,_result:e},_init:BX}};Jr.memo=function(e,t){return{$$typeof:MX,type:e,compare:t===void 0?null:t}};Jr.startTransition=function(e){var t=f2.transition;f2.transition={};try{e()}finally{f2.transition=t}};Jr.unstable_act=S7;Jr.useCallback=function(e,t){return Rs.current.useCallback(e,t)};Jr.useContext=function(e){return Rs.current.useContext(e)};Jr.useDebugValue=function(){};Jr.useDeferredValue=function(e){return Rs.current.useDeferredValue(e)};Jr.useEffect=function(e,t){return Rs.current.useEffect(e,t)};Jr.useId=function(){return Rs.current.useId()};Jr.useImperativeHandle=function(e,t,r){return Rs.current.useImperativeHandle(e,t,r)};Jr.useInsertionEffect=function(e,t){return Rs.current.useInsertionEffect(e,t)};Jr.useLayoutEffect=function(e,t){return Rs.current.useLayoutEffect(e,t)};Jr.useMemo=function(e,t){return Rs.current.useMemo(e,t)};Jr.useReducer=function(e,t,r){return Rs.current.useReducer(e,t,r)};Jr.useRef=function(e){return Rs.current.useRef(e)};Jr.useState=function(e){return Rs.current.useState(e)};Jr.useSyncExternalStore=function(e,t,r){return Rs.current.useSyncExternalStore(e,t,r)};Jr.useTransition=function(){return Rs.current.useTransition()};Jr.version="18.3.1";m7.exports=Jr;var M=m7.exports;const me=yn(M),G4=f7({__proto__:null,default:me},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UX=M,zX=Symbol.for("react.element"),qX=Symbol.for("react.fragment"),WX=Object.prototype.hasOwnProperty,HX=UX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VX={key:!0,ref:!0,__self:!0,__source:!0};function A7(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)WX.call(t,n)&&!VX.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:zX,type:e,key:a,ref:s,props:i,_owner:HX.current}}Ww.Fragment=qX;Ww.jsx=A7;Ww.jsxs=A7;p7.exports=Ww;var d=p7.exports,E7={exports:{}},qo={},C7={exports:{}},N7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,H){var le=te.length;te.push(H);e:for(;0<le;){var fe=le-1>>>1,q=te[fe];if(0<i(q,H))te[fe]=H,te[le]=q,le=fe;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var H=te[0],le=te.pop();if(le!==H){te[0]=le;e:for(var fe=0,q=te.length,Z=q>>>1;fe<Z;){var ae=2*(fe+1)-1,ge=te[ae],he=ae+1,Se=te[he];if(0>i(ge,le))he<q&&0>i(Se,ge)?(te[fe]=Se,te[he]=le,fe=he):(te[fe]=ge,te[ae]=le,fe=ae);else if(he<q&&0>i(Se,le))te[fe]=Se,te[he]=le,fe=he;else break e}}return H}function i(te,H){var le=te.sortIndex-H.sortIndex;return le!==0?le:te.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],h=1,m=null,y=3,g=!1,S=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(te){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=te)n(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(u)}}function I(te){if(_=!1,O(te),!S)if(r(c)!==null)S=!0,Q(k);else{var H=r(u);H!==null&&ne(I,H.startTime-te)}}function k(te,H){S=!1,_&&(_=!1,A(D),D=-1),g=!0;var le=y;try{for(O(H),m=r(c);m!==null&&(!(m.expirationTime>H)||te&&!$());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,y=m.priorityLevel;var q=fe(m.expirationTime<=H);H=e.unstable_now(),typeof q=="function"?m.callback=q:m===r(c)&&n(c),O(H)}else n(c);m=r(c)}if(m!==null)var Z=!0;else{var ae=r(u);ae!==null&&ne(I,ae.startTime-H),Z=!1}return Z}finally{m=null,y=le,g=!1}}var F=!1,B=null,D=-1,P=5,K=-1;function $(){return!(e.unstable_now()-K<P)}function z(){if(B!==null){var te=e.unstable_now();K=te;var H=!0;try{H=B(!0,te)}finally{H?X():(F=!1,B=null)}}else F=!1}var X;if(typeof E=="function")X=function(){E(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,V=W.port2;W.port1.onmessage=z,X=function(){V.postMessage(null)}}else X=function(){w(z,0)};function Q(te){B=te,F||(F=!0,X())}function ne(te,H){D=w(function(){te(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,Q(k))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(te){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var le=y;y=H;try{return te()}finally{y=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,H){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=y;y=te;try{return H()}finally{y=le}},e.unstable_scheduleCallback=function(te,H,le){var fe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,te){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=le+q,te={id:h++,callback:H,priorityLevel:te,startTime:le,expirationTime:q,sortIndex:-1},le>fe?(te.sortIndex=le,t(u,te),r(c)===null&&te===r(u)&&(_?(A(D),D=-1):_=!0,ne(I,le-fe))):(te.sortIndex=q,t(c,te),S||g||(S=!0,Q(k))),te},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(te){var H=y;return function(){var le=y;y=H;try{return te.apply(this,arguments)}finally{y=le}}}})(N7);C7.exports=N7;var GX=C7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KX=M,Uo=GX;function mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O7=new Set,$g={};function fp(e,t){J0(e,t),J0(e+"Capture",t)}function J0(e,t){for($g[e]=t,e=0;e<t.length;e++)O7.add(t[e])}var Gu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZA=Object.prototype.hasOwnProperty,YX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lI={},cI={};function XX(e){return ZA.call(cI,e)?!0:ZA.call(lI,e)?!1:YX.test(e)?cI[e]=!0:(lI[e]=!0,!1)}function ZX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QX(e,t,r,n){if(t===null||typeof t>"u"||ZX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ds(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Xa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xa[e]=new Ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xa[t]=new Ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xa[e]=new Ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xa[e]=new Ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xa[e]=new Ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xa[e]=new Ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xa[e]=new Ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xa[e]=new Ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xa[e]=new Ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var K4=/[\-:]([a-z])/g;function Y4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K4,Y4);Xa[t]=new Ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K4,Y4);Xa[t]=new Ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K4,Y4);Xa[t]=new Ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xa[e]=new Ds(e,1,!1,e.toLowerCase(),null,!1,!1)});Xa.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xa[e]=new Ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function X4(e,t,r,n){var i=Xa.hasOwnProperty(t)?Xa[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QX(t,r,i,n)&&(r=null),n||i===null?XX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var id=KX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sx=Symbol.for("react.element"),Jp=Symbol.for("react.portal"),e0=Symbol.for("react.fragment"),Z4=Symbol.for("react.strict_mode"),QA=Symbol.for("react.profiler"),T7=Symbol.for("react.provider"),j7=Symbol.for("react.context"),Q4=Symbol.for("react.forward_ref"),JA=Symbol.for("react.suspense"),eE=Symbol.for("react.suspense_list"),J4=Symbol.for("react.memo"),Pd=Symbol.for("react.lazy"),I7=Symbol.for("react.offscreen"),uI=Symbol.iterator;function M1(e){return e===null||typeof e!="object"?null:(e=uI&&e[uI]||e["@@iterator"],typeof e=="function"?e:null)}var Ei=Object.assign,Q5;function ng(e){if(Q5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Q5=t&&t[1]||""}return`
`+Q5+e}var J5=!1;function eS(e,t){if(!e||J5)return"";J5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{J5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ng(e):""}function JX(e){switch(e.tag){case 5:return ng(e.type);case 16:return ng("Lazy");case 13:return ng("Suspense");case 19:return ng("SuspenseList");case 0:case 2:case 15:return e=eS(e.type,!1),e;case 11:return e=eS(e.type.render,!1),e;case 1:return e=eS(e.type,!0),e;default:return""}}function tE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case e0:return"Fragment";case Jp:return"Portal";case QA:return"Profiler";case Z4:return"StrictMode";case JA:return"Suspense";case eE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j7:return(e.displayName||"Context")+".Consumer";case T7:return(e._context.displayName||"Context")+".Provider";case Q4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J4:return t=e.displayName||null,t!==null?t:tE(e.type)||"Memo";case Pd:t=e._payload,e=e._init;try{return tE(e(t))}catch{}}return null}function eZ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tE(t);case 8:return t===Z4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Af(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tZ(e){var t=k7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ox(e){e._valueTracker||(e._valueTracker=tZ(e))}function P7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=k7(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function B2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rE(e,t){var r=t.checked;return Ei({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dI(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Af(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M7(e,t){t=t.checked,t!=null&&X4(e,"checked",t,!1)}function nE(e,t){M7(e,t);var r=Af(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iE(e,t.type,r):t.hasOwnProperty("defaultValue")&&iE(e,t.type,Af(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fI(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function iE(e,t,r){(t!=="number"||B2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ig=Array.isArray;function x0(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Af(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function aE(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(mt(91));return Ei({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hI(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(mt(92));if(ig(r)){if(1<r.length)throw Error(mt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Af(r)}}function R7(e,t){var r=Af(t.value),n=Af(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function pI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function D7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sE(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?D7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lx,L7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lx=lx||document.createElement("div"),lx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ug(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rZ=["Webkit","ms","Moz","O"];Object.keys(gg).forEach(function(e){rZ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gg[t]=gg[e]})});function F7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gg.hasOwnProperty(e)&&gg[e]?(""+t).trim():t+"px"}function B7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=F7(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var nZ=Ei({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oE(e,t){if(t){if(nZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(mt(62))}}function lE(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cE=null;function eN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uE=null,b0=null,w0=null;function mI(e){if(e=gy(e)){if(typeof uE!="function")throw Error(mt(280));var t=e.stateNode;t&&(t=Yw(t),uE(e.stateNode,e.type,t))}}function $7(e){b0?w0?w0.push(e):w0=[e]:b0=e}function U7(){if(b0){var e=b0,t=w0;if(w0=b0=null,mI(e),t)for(e=0;e<t.length;e++)mI(t[e])}}function z7(e,t){return e(t)}function q7(){}var tS=!1;function W7(e,t,r){if(tS)return e(t,r);tS=!0;try{return z7(e,t,r)}finally{tS=!1,(b0!==null||w0!==null)&&(q7(),U7())}}function zg(e,t){var r=e.stateNode;if(r===null)return null;var n=Yw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(mt(231,t,typeof r));return r}var dE=!1;if(Gu)try{var R1={};Object.defineProperty(R1,"passive",{get:function(){dE=!0}}),window.addEventListener("test",R1,R1),window.removeEventListener("test",R1,R1)}catch{dE=!1}function iZ(e,t,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var vg=!1,$2=null,U2=!1,fE=null,aZ={onError:function(e){vg=!0,$2=e}};function sZ(e,t,r,n,i,a,s,o,c){vg=!1,$2=null,iZ.apply(aZ,arguments)}function oZ(e,t,r,n,i,a,s,o,c){if(sZ.apply(this,arguments),vg){if(vg){var u=$2;vg=!1,$2=null}else throw Error(mt(198));U2||(U2=!0,fE=u)}}function hp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function H7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gI(e){if(hp(e)!==e)throw Error(mt(188))}function lZ(e){var t=e.alternate;if(!t){if(t=hp(e),t===null)throw Error(mt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return gI(i),e;if(a===n)return gI(i),t;a=a.sibling}throw Error(mt(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(mt(189))}}if(r.alternate!==n)throw Error(mt(190))}if(r.tag!==3)throw Error(mt(188));return r.stateNode.current===r?e:t}function V7(e){return e=lZ(e),e!==null?G7(e):null}function G7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G7(e);if(t!==null)return t;e=e.sibling}return null}var K7=Uo.unstable_scheduleCallback,vI=Uo.unstable_cancelCallback,cZ=Uo.unstable_shouldYield,uZ=Uo.unstable_requestPaint,Ui=Uo.unstable_now,dZ=Uo.unstable_getCurrentPriorityLevel,tN=Uo.unstable_ImmediatePriority,Y7=Uo.unstable_UserBlockingPriority,z2=Uo.unstable_NormalPriority,fZ=Uo.unstable_LowPriority,X7=Uo.unstable_IdlePriority,Hw=null,kc=null;function hZ(e){if(kc&&typeof kc.onCommitFiberRoot=="function")try{kc.onCommitFiberRoot(Hw,e,void 0,(e.current.flags&128)===128)}catch{}}var Ql=Math.clz32?Math.clz32:gZ,pZ=Math.log,mZ=Math.LN2;function gZ(e){return e>>>=0,e===0?32:31-(pZ(e)/mZ|0)|0}var cx=64,ux=4194304;function ag(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function q2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=ag(o):(a&=s,a!==0&&(n=ag(a)))}else s=r&~i,s!==0?n=ag(s):a!==0&&(n=ag(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ql(t),i=1<<r,n|=e[r],t&=~i;return n}function vZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Ql(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=vZ(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function hE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z7(){var e=cx;return cx<<=1,!(cx&4194240)&&(cx=64),e}function rS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function py(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ql(t),e[t]=r}function xZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ql(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function rN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ql(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ln=0;function Q7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J7,nN,e9,t9,r9,pE=!1,dx=[],sf=null,of=null,lf=null,qg=new Map,Wg=new Map,Ld=[],bZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yI(e,t){switch(e){case"focusin":case"focusout":sf=null;break;case"dragenter":case"dragleave":of=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":qg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wg.delete(t.pointerId)}}function D1(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=gy(t),t!==null&&nN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wZ(e,t,r,n,i){switch(t){case"focusin":return sf=D1(sf,e,t,r,n,i),!0;case"dragenter":return of=D1(of,e,t,r,n,i),!0;case"mouseover":return lf=D1(lf,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return qg.set(a,D1(qg.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Wg.set(a,D1(Wg.get(a)||null,e,t,r,n,i)),!0}return!1}function n9(e){var t=yh(e.target);if(t!==null){var r=hp(t);if(r!==null){if(t=r.tag,t===13){if(t=H7(r),t!==null){e.blockedOn=t,r9(e.priority,function(){e9(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function h2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=mE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);cE=n,r.target.dispatchEvent(n),cE=null}else return t=gy(r),t!==null&&nN(t),e.blockedOn=r,!1;t.shift()}return!0}function xI(e,t,r){h2(e)&&r.delete(t)}function _Z(){pE=!1,sf!==null&&h2(sf)&&(sf=null),of!==null&&h2(of)&&(of=null),lf!==null&&h2(lf)&&(lf=null),qg.forEach(xI),Wg.forEach(xI)}function L1(e,t){e.blockedOn===t&&(e.blockedOn=null,pE||(pE=!0,Uo.unstable_scheduleCallback(Uo.unstable_NormalPriority,_Z)))}function Hg(e){function t(i){return L1(i,e)}if(0<dx.length){L1(dx[0],e);for(var r=1;r<dx.length;r++){var n=dx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(sf!==null&&L1(sf,e),of!==null&&L1(of,e),lf!==null&&L1(lf,e),qg.forEach(t),Wg.forEach(t),r=0;r<Ld.length;r++)n=Ld[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ld.length&&(r=Ld[0],r.blockedOn===null);)n9(r),r.blockedOn===null&&Ld.shift()}var _0=id.ReactCurrentBatchConfig,W2=!0;function SZ(e,t,r,n){var i=Ln,a=_0.transition;_0.transition=null;try{Ln=1,iN(e,t,r,n)}finally{Ln=i,_0.transition=a}}function AZ(e,t,r,n){var i=Ln,a=_0.transition;_0.transition=null;try{Ln=4,iN(e,t,r,n)}finally{Ln=i,_0.transition=a}}function iN(e,t,r,n){if(W2){var i=mE(e,t,r,n);if(i===null)fS(e,t,n,H2,r),yI(e,n);else if(wZ(i,e,t,r,n))n.stopPropagation();else if(yI(e,n),t&4&&-1<bZ.indexOf(e)){for(;i!==null;){var a=gy(i);if(a!==null&&J7(a),a=mE(e,t,r,n),a===null&&fS(e,t,n,H2,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else fS(e,t,n,null,r)}}var H2=null;function mE(e,t,r,n){if(H2=null,e=eN(n),e=yh(e),e!==null)if(t=hp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=H7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return H2=e,null}function i9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dZ()){case tN:return 1;case Y7:return 4;case z2:case fZ:return 16;case X7:return 536870912;default:return 16}default:return 16}}var Qd=null,aN=null,p2=null;function a9(){if(p2)return p2;var e,t=aN,r=t.length,n,i="value"in Qd?Qd.value:Qd.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return p2=i.slice(e,1<n?1-n:void 0)}function m2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fx(){return!0}function bI(){return!1}function Wo(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fx:bI,this.isPropagationStopped=bI,this}return Ei(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fx)},persist:function(){},isPersistent:fx}),t}var Km={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sN=Wo(Km),my=Ei({},Km,{view:0,detail:0}),EZ=Wo(my),nS,iS,F1,Vw=Ei({},my,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==F1&&(F1&&e.type==="mousemove"?(nS=e.screenX-F1.screenX,iS=e.screenY-F1.screenY):iS=nS=0,F1=e),nS)},movementY:function(e){return"movementY"in e?e.movementY:iS}}),wI=Wo(Vw),CZ=Ei({},Vw,{dataTransfer:0}),NZ=Wo(CZ),OZ=Ei({},my,{relatedTarget:0}),aS=Wo(OZ),TZ=Ei({},Km,{animationName:0,elapsedTime:0,pseudoElement:0}),jZ=Wo(TZ),IZ=Ei({},Km,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kZ=Wo(IZ),PZ=Ei({},Km,{data:0}),_I=Wo(PZ),MZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DZ[e])?!!t[e]:!1}function oN(){return LZ}var FZ=Ei({},my,{key:function(e){if(e.key){var t=MZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=m2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oN,charCode:function(e){return e.type==="keypress"?m2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?m2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BZ=Wo(FZ),$Z=Ei({},Vw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SI=Wo($Z),UZ=Ei({},my,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oN}),zZ=Wo(UZ),qZ=Ei({},Km,{propertyName:0,elapsedTime:0,pseudoElement:0}),WZ=Wo(qZ),HZ=Ei({},Vw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VZ=Wo(HZ),GZ=[9,13,27,32],lN=Gu&&"CompositionEvent"in window,yg=null;Gu&&"documentMode"in document&&(yg=document.documentMode);var KZ=Gu&&"TextEvent"in window&&!yg,s9=Gu&&(!lN||yg&&8<yg&&11>=yg),AI=" ",EI=!1;function o9(e,t){switch(e){case"keyup":return GZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var t0=!1;function YZ(e,t){switch(e){case"compositionend":return l9(t);case"keypress":return t.which!==32?null:(EI=!0,AI);case"textInput":return e=t.data,e===AI&&EI?null:e;default:return null}}function XZ(e,t){if(t0)return e==="compositionend"||!lN&&o9(e,t)?(e=a9(),p2=aN=Qd=null,t0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s9&&t.locale!=="ko"?null:t.data;default:return null}}var ZZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZZ[e.type]:t==="textarea"}function c9(e,t,r,n){$7(n),t=V2(t,"onChange"),0<t.length&&(r=new sN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var xg=null,Vg=null;function QZ(e){b9(e,0)}function Gw(e){var t=i0(e);if(P7(t))return e}function JZ(e,t){if(e==="change")return t}var u9=!1;if(Gu){var sS;if(Gu){var oS="oninput"in document;if(!oS){var NI=document.createElement("div");NI.setAttribute("oninput","return;"),oS=typeof NI.oninput=="function"}sS=oS}else sS=!1;u9=sS&&(!document.documentMode||9<document.documentMode)}function OI(){xg&&(xg.detachEvent("onpropertychange",d9),Vg=xg=null)}function d9(e){if(e.propertyName==="value"&&Gw(Vg)){var t=[];c9(t,Vg,e,eN(e)),W7(QZ,t)}}function eQ(e,t,r){e==="focusin"?(OI(),xg=t,Vg=r,xg.attachEvent("onpropertychange",d9)):e==="focusout"&&OI()}function tQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gw(Vg)}function rQ(e,t){if(e==="click")return Gw(t)}function nQ(e,t){if(e==="input"||e==="change")return Gw(t)}function iQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tc=typeof Object.is=="function"?Object.is:iQ;function Gg(e,t){if(tc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ZA.call(t,i)||!tc(e[i],t[i]))return!1}return!0}function TI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jI(e,t){var r=TI(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=TI(r)}}function f9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h9(){for(var e=window,t=B2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=B2(e.document)}return t}function cN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aQ(e){var t=h9(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&f9(r.ownerDocument.documentElement,r)){if(n!==null&&cN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=jI(r,a);var s=jI(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sQ=Gu&&"documentMode"in document&&11>=document.documentMode,r0=null,gE=null,bg=null,vE=!1;function II(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vE||r0==null||r0!==B2(n)||(n=r0,"selectionStart"in n&&cN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bg&&Gg(bg,n)||(bg=n,n=V2(gE,"onSelect"),0<n.length&&(t=new sN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=r0)))}function hx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var n0={animationend:hx("Animation","AnimationEnd"),animationiteration:hx("Animation","AnimationIteration"),animationstart:hx("Animation","AnimationStart"),transitionend:hx("Transition","TransitionEnd")},lS={},p9={};Gu&&(p9=document.createElement("div").style,"AnimationEvent"in window||(delete n0.animationend.animation,delete n0.animationiteration.animation,delete n0.animationstart.animation),"TransitionEvent"in window||delete n0.transitionend.transition);function Kw(e){if(lS[e])return lS[e];if(!n0[e])return e;var t=n0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in p9)return lS[e]=t[r];return e}var m9=Kw("animationend"),g9=Kw("animationiteration"),v9=Kw("animationstart"),y9=Kw("transitionend"),x9=new Map,kI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pf(e,t){x9.set(e,t),fp(t,[e])}for(var cS=0;cS<kI.length;cS++){var uS=kI[cS],oQ=uS.toLowerCase(),lQ=uS[0].toUpperCase()+uS.slice(1);Pf(oQ,"on"+lQ)}Pf(m9,"onAnimationEnd");Pf(g9,"onAnimationIteration");Pf(v9,"onAnimationStart");Pf("dblclick","onDoubleClick");Pf("focusin","onFocus");Pf("focusout","onBlur");Pf(y9,"onTransitionEnd");J0("onMouseEnter",["mouseout","mouseover"]);J0("onMouseLeave",["mouseout","mouseover"]);J0("onPointerEnter",["pointerout","pointerover"]);J0("onPointerLeave",["pointerout","pointerover"]);fp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fp("onBeforeInput",["compositionend","keypress","textInput","paste"]);fp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(sg));function PI(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,oZ(n,t,void 0,e),e.currentTarget=null}function b9(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;PI(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;PI(i,o,u),a=c}}}if(U2)throw e=fE,U2=!1,fE=null,e}function oi(e,t){var r=t[_E];r===void 0&&(r=t[_E]=new Set);var n=e+"__bubble";r.has(n)||(w9(t,e,2,!1),r.add(n))}function dS(e,t,r){var n=0;t&&(n|=4),w9(r,e,n,t)}var px="_reactListening"+Math.random().toString(36).slice(2);function Kg(e){if(!e[px]){e[px]=!0,O7.forEach(function(r){r!=="selectionchange"&&(cQ.has(r)||dS(r,!1,e),dS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[px]||(t[px]=!0,dS("selectionchange",!1,t))}}function w9(e,t,r,n){switch(i9(t)){case 1:var i=SZ;break;case 4:i=AZ;break;default:i=iN}r=i.bind(null,t,r,e),i=void 0,!dE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function fS(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=yh(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}W7(function(){var u=a,h=eN(r),m=[];e:{var y=x9.get(e);if(y!==void 0){var g=sN,S=e;switch(e){case"keypress":if(m2(r)===0)break e;case"keydown":case"keyup":g=BZ;break;case"focusin":S="focus",g=aS;break;case"focusout":S="blur",g=aS;break;case"beforeblur":case"afterblur":g=aS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=NZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zZ;break;case m9:case g9:case v9:g=jZ;break;case y9:g=WZ;break;case"scroll":g=EZ;break;case"wheel":g=VZ;break;case"copy":case"cut":case"paste":g=kZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=SI}var _=(t&4)!==0,w=!_&&e==="scroll",A=_?y!==null?y+"Capture":null:y;_=[];for(var E=u,O;E!==null;){O=E;var I=O.stateNode;if(O.tag===5&&I!==null&&(O=I,A!==null&&(I=zg(E,A),I!=null&&_.push(Yg(E,I,O)))),w)break;E=E.return}0<_.length&&(y=new g(y,S,null,r,h),m.push({event:y,listeners:_}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",y&&r!==cE&&(S=r.relatedTarget||r.fromElement)&&(yh(S)||S[Ku]))break e;if((g||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,g?(S=r.relatedTarget||r.toElement,g=u,S=S?yh(S):null,S!==null&&(w=hp(S),S!==w||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(_=wI,I="onMouseLeave",A="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=SI,I="onPointerLeave",A="onPointerEnter",E="pointer"),w=g==null?y:i0(g),O=S==null?y:i0(S),y=new _(I,E+"leave",g,r,h),y.target=w,y.relatedTarget=O,I=null,yh(h)===u&&(_=new _(A,E+"enter",S,r,h),_.target=O,_.relatedTarget=w,I=_),w=I,g&&S)t:{for(_=g,A=S,E=0,O=_;O;O=jp(O))E++;for(O=0,I=A;I;I=jp(I))O++;for(;0<E-O;)_=jp(_),E--;for(;0<O-E;)A=jp(A),O--;for(;E--;){if(_===A||A!==null&&_===A.alternate)break t;_=jp(_),A=jp(A)}_=null}else _=null;g!==null&&MI(m,y,g,_,!1),S!==null&&w!==null&&MI(m,w,S,_,!0)}}e:{if(y=u?i0(u):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var k=JZ;else if(CI(y))if(u9)k=nQ;else{k=tQ;var F=eQ}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(k=rQ);if(k&&(k=k(e,u))){c9(m,k,r,h);break e}F&&F(e,y,u),e==="focusout"&&(F=y._wrapperState)&&F.controlled&&y.type==="number"&&iE(y,"number",y.value)}switch(F=u?i0(u):window,e){case"focusin":(CI(F)||F.contentEditable==="true")&&(r0=F,gE=u,bg=null);break;case"focusout":bg=gE=r0=null;break;case"mousedown":vE=!0;break;case"contextmenu":case"mouseup":case"dragend":vE=!1,II(m,r,h);break;case"selectionchange":if(sQ)break;case"keydown":case"keyup":II(m,r,h)}var B;if(lN)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else t0?o9(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(s9&&r.locale!=="ko"&&(t0||D!=="onCompositionStart"?D==="onCompositionEnd"&&t0&&(B=a9()):(Qd=h,aN="value"in Qd?Qd.value:Qd.textContent,t0=!0)),F=V2(u,D),0<F.length&&(D=new _I(D,e,null,r,h),m.push({event:D,listeners:F}),B?D.data=B:(B=l9(r),B!==null&&(D.data=B)))),(B=KZ?YZ(e,r):XZ(e,r))&&(u=V2(u,"onBeforeInput"),0<u.length&&(h=new _I("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=B))}b9(m,t)})}function Yg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function V2(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=zg(e,r),a!=null&&n.unshift(Yg(e,a,i)),a=zg(e,t),a!=null&&n.push(Yg(e,a,i))),e=e.return}return n}function jp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function MI(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=zg(r,a),c!=null&&s.unshift(Yg(r,c,o))):i||(c=zg(r,a),c!=null&&s.push(Yg(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var uQ=/\r\n?/g,dQ=/\u0000|\uFFFD/g;function RI(e){return(typeof e=="string"?e:""+e).replace(uQ,`
`).replace(dQ,"")}function mx(e,t,r){if(t=RI(t),RI(e)!==t&&r)throw Error(mt(425))}function G2(){}var yE=null,xE=null;function bE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wE=typeof setTimeout=="function"?setTimeout:void 0,fQ=typeof clearTimeout=="function"?clearTimeout:void 0,DI=typeof Promise=="function"?Promise:void 0,hQ=typeof queueMicrotask=="function"?queueMicrotask:typeof DI<"u"?function(e){return DI.resolve(null).then(e).catch(pQ)}:wE;function pQ(e){setTimeout(function(){throw e})}function hS(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Hg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hg(t)}function cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ym=Math.random().toString(36).slice(2),Ec="__reactFiber$"+Ym,Xg="__reactProps$"+Ym,Ku="__reactContainer$"+Ym,_E="__reactEvents$"+Ym,mQ="__reactListeners$"+Ym,gQ="__reactHandles$"+Ym;function yh(e){var t=e[Ec];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ku]||r[Ec]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LI(e);e!==null;){if(r=e[Ec])return r;e=LI(e)}return t}e=r,r=e.parentNode}return null}function gy(e){return e=e[Ec]||e[Ku],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function i0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function Yw(e){return e[Xg]||null}var SE=[],a0=-1;function Mf(e){return{current:e}}function fi(e){0>a0||(e.current=SE[a0],SE[a0]=null,a0--)}function ei(e,t){a0++,SE[a0]=e.current,e.current=t}var Ef={},hs=Mf(Ef),Js=Mf(!1),Wh=Ef;function em(e,t){var r=e.type.contextTypes;if(!r)return Ef;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function eo(e){return e=e.childContextTypes,e!=null}function K2(){fi(Js),fi(hs)}function FI(e,t,r){if(hs.current!==Ef)throw Error(mt(168));ei(hs,t),ei(Js,r)}function _9(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(mt(108,eZ(e)||"Unknown",i));return Ei({},r,n)}function Y2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ef,Wh=hs.current,ei(hs,e),ei(Js,Js.current),!0}function BI(e,t,r){var n=e.stateNode;if(!n)throw Error(mt(169));r?(e=_9(e,t,Wh),n.__reactInternalMemoizedMergedChildContext=e,fi(Js),fi(hs),ei(hs,e)):fi(Js),ei(Js,r)}var Nu=null,Xw=!1,pS=!1;function S9(e){Nu===null?Nu=[e]:Nu.push(e)}function vQ(e){Xw=!0,S9(e)}function Rf(){if(!pS&&Nu!==null){pS=!0;var e=0,t=Ln;try{var r=Nu;for(Ln=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nu=null,Xw=!1}catch(i){throw Nu!==null&&(Nu=Nu.slice(e+1)),K7(tN,Rf),i}finally{Ln=t,pS=!1}}return null}var s0=[],o0=0,X2=null,Z2=0,sl=[],ol=0,Hh=null,ku=1,Pu="";function sh(e,t){s0[o0++]=Z2,s0[o0++]=X2,X2=e,Z2=t}function A9(e,t,r){sl[ol++]=ku,sl[ol++]=Pu,sl[ol++]=Hh,Hh=e;var n=ku;e=Pu;var i=32-Ql(n)-1;n&=~(1<<i),r+=1;var a=32-Ql(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ku=1<<32-Ql(t)+i|r<<i|n,Pu=a+e}else ku=1<<a|r<<i|n,Pu=e}function uN(e){e.return!==null&&(sh(e,1),A9(e,1,0))}function dN(e){for(;e===X2;)X2=s0[--o0],s0[o0]=null,Z2=s0[--o0],s0[o0]=null;for(;e===Hh;)Hh=sl[--ol],sl[ol]=null,Pu=sl[--ol],sl[ol]=null,ku=sl[--ol],sl[ol]=null}var Lo=null,Mo=null,gi=!1,Xl=null;function E9(e,t){var r=dl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $I(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lo=e,Mo=cf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lo=e,Mo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hh!==null?{id:ku,overflow:Pu}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=dl(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Lo=e,Mo=null,!0):!1;default:return!1}}function AE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function EE(e){if(gi){var t=Mo;if(t){var r=t;if(!$I(e,t)){if(AE(e))throw Error(mt(418));t=cf(r.nextSibling);var n=Lo;t&&$I(e,t)?E9(n,r):(e.flags=e.flags&-4097|2,gi=!1,Lo=e)}}else{if(AE(e))throw Error(mt(418));e.flags=e.flags&-4097|2,gi=!1,Lo=e}}}function UI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lo=e}function gx(e){if(e!==Lo)return!1;if(!gi)return UI(e),gi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bE(e.type,e.memoizedProps)),t&&(t=Mo)){if(AE(e))throw C9(),Error(mt(418));for(;t;)E9(e,t),t=cf(t.nextSibling)}if(UI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mo=cf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mo=null}}else Mo=Lo?cf(e.stateNode.nextSibling):null;return!0}function C9(){for(var e=Mo;e;)e=cf(e.nextSibling)}function tm(){Mo=Lo=null,gi=!1}function fN(e){Xl===null?Xl=[e]:Xl.push(e)}var yQ=id.ReactCurrentBatchConfig;function B1(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(mt(309));var n=r.stateNode}if(!n)throw Error(mt(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(mt(284));if(!r._owner)throw Error(mt(290,e))}return e}function vx(e,t){throw e=Object.prototype.toString.call(t),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zI(e){var t=e._init;return t(e._payload)}function N9(e){function t(A,E){if(e){var O=A.deletions;O===null?(A.deletions=[E],A.flags|=16):O.push(E)}}function r(A,E){if(!e)return null;for(;E!==null;)t(A,E),E=E.sibling;return null}function n(A,E){for(A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function i(A,E){return A=hf(A,E),A.index=0,A.sibling=null,A}function a(A,E,O){return A.index=O,e?(O=A.alternate,O!==null?(O=O.index,O<E?(A.flags|=2,E):O):(A.flags|=2,E)):(A.flags|=1048576,E)}function s(A){return e&&A.alternate===null&&(A.flags|=2),A}function o(A,E,O,I){return E===null||E.tag!==6?(E=wS(O,A.mode,I),E.return=A,E):(E=i(E,O),E.return=A,E)}function c(A,E,O,I){var k=O.type;return k===e0?h(A,E,O.props.children,I,O.key):E!==null&&(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pd&&zI(k)===E.type)?(I=i(E,O.props),I.ref=B1(A,E,O),I.return=A,I):(I=_2(O.type,O.key,O.props,null,A.mode,I),I.ref=B1(A,E,O),I.return=A,I)}function u(A,E,O,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==O.containerInfo||E.stateNode.implementation!==O.implementation?(E=_S(O,A.mode,I),E.return=A,E):(E=i(E,O.children||[]),E.return=A,E)}function h(A,E,O,I,k){return E===null||E.tag!==7?(E=$h(O,A.mode,I,k),E.return=A,E):(E=i(E,O),E.return=A,E)}function m(A,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return E=wS(""+E,A.mode,O),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sx:return O=_2(E.type,E.key,E.props,null,A.mode,O),O.ref=B1(A,null,E),O.return=A,O;case Jp:return E=_S(E,A.mode,O),E.return=A,E;case Pd:var I=E._init;return m(A,I(E._payload),O)}if(ig(E)||M1(E))return E=$h(E,A.mode,O,null),E.return=A,E;vx(A,E)}return null}function y(A,E,O,I){var k=E!==null?E.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return k!==null?null:o(A,E,""+O,I);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case sx:return O.key===k?c(A,E,O,I):null;case Jp:return O.key===k?u(A,E,O,I):null;case Pd:return k=O._init,y(A,E,k(O._payload),I)}if(ig(O)||M1(O))return k!==null?null:h(A,E,O,I,null);vx(A,O)}return null}function g(A,E,O,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return A=A.get(O)||null,o(E,A,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case sx:return A=A.get(I.key===null?O:I.key)||null,c(E,A,I,k);case Jp:return A=A.get(I.key===null?O:I.key)||null,u(E,A,I,k);case Pd:var F=I._init;return g(A,E,O,F(I._payload),k)}if(ig(I)||M1(I))return A=A.get(O)||null,h(E,A,I,k,null);vx(E,I)}return null}function S(A,E,O,I){for(var k=null,F=null,B=E,D=E=0,P=null;B!==null&&D<O.length;D++){B.index>D?(P=B,B=null):P=B.sibling;var K=y(A,B,O[D],I);if(K===null){B===null&&(B=P);break}e&&B&&K.alternate===null&&t(A,B),E=a(K,E,D),F===null?k=K:F.sibling=K,F=K,B=P}if(D===O.length)return r(A,B),gi&&sh(A,D),k;if(B===null){for(;D<O.length;D++)B=m(A,O[D],I),B!==null&&(E=a(B,E,D),F===null?k=B:F.sibling=B,F=B);return gi&&sh(A,D),k}for(B=n(A,B);D<O.length;D++)P=g(B,A,D,O[D],I),P!==null&&(e&&P.alternate!==null&&B.delete(P.key===null?D:P.key),E=a(P,E,D),F===null?k=P:F.sibling=P,F=P);return e&&B.forEach(function($){return t(A,$)}),gi&&sh(A,D),k}function _(A,E,O,I){var k=M1(O);if(typeof k!="function")throw Error(mt(150));if(O=k.call(O),O==null)throw Error(mt(151));for(var F=k=null,B=E,D=E=0,P=null,K=O.next();B!==null&&!K.done;D++,K=O.next()){B.index>D?(P=B,B=null):P=B.sibling;var $=y(A,B,K.value,I);if($===null){B===null&&(B=P);break}e&&B&&$.alternate===null&&t(A,B),E=a($,E,D),F===null?k=$:F.sibling=$,F=$,B=P}if(K.done)return r(A,B),gi&&sh(A,D),k;if(B===null){for(;!K.done;D++,K=O.next())K=m(A,K.value,I),K!==null&&(E=a(K,E,D),F===null?k=K:F.sibling=K,F=K);return gi&&sh(A,D),k}for(B=n(A,B);!K.done;D++,K=O.next())K=g(B,A,D,K.value,I),K!==null&&(e&&K.alternate!==null&&B.delete(K.key===null?D:K.key),E=a(K,E,D),F===null?k=K:F.sibling=K,F=K);return e&&B.forEach(function(z){return t(A,z)}),gi&&sh(A,D),k}function w(A,E,O,I){if(typeof O=="object"&&O!==null&&O.type===e0&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case sx:e:{for(var k=O.key,F=E;F!==null;){if(F.key===k){if(k=O.type,k===e0){if(F.tag===7){r(A,F.sibling),E=i(F,O.props.children),E.return=A,A=E;break e}}else if(F.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pd&&zI(k)===F.type){r(A,F.sibling),E=i(F,O.props),E.ref=B1(A,F,O),E.return=A,A=E;break e}r(A,F);break}else t(A,F);F=F.sibling}O.type===e0?(E=$h(O.props.children,A.mode,I,O.key),E.return=A,A=E):(I=_2(O.type,O.key,O.props,null,A.mode,I),I.ref=B1(A,E,O),I.return=A,A=I)}return s(A);case Jp:e:{for(F=O.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===O.containerInfo&&E.stateNode.implementation===O.implementation){r(A,E.sibling),E=i(E,O.children||[]),E.return=A,A=E;break e}else{r(A,E);break}else t(A,E);E=E.sibling}E=_S(O,A.mode,I),E.return=A,A=E}return s(A);case Pd:return F=O._init,w(A,E,F(O._payload),I)}if(ig(O))return S(A,E,O,I);if(M1(O))return _(A,E,O,I);vx(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,E!==null&&E.tag===6?(r(A,E.sibling),E=i(E,O),E.return=A,A=E):(r(A,E),E=wS(O,A.mode,I),E.return=A,A=E),s(A)):r(A,E)}return w}var rm=N9(!0),O9=N9(!1),Q2=Mf(null),J2=null,l0=null,hN=null;function pN(){hN=l0=J2=null}function mN(e){var t=Q2.current;fi(Q2),e._currentValue=t}function CE(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function S0(e,t){J2=e,hN=l0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xs=!0),e.firstContext=null)}function gl(e){var t=e._currentValue;if(hN!==e)if(e={context:e,memoizedValue:t,next:null},l0===null){if(J2===null)throw Error(mt(308));l0=e,J2.dependencies={lanes:0,firstContext:e}}else l0=l0.next=e;return t}var xh=null;function gN(e){xh===null?xh=[e]:xh.push(e)}function T9(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,gN(t)):(r.next=i.next,i.next=r),t.interleaved=r,Yu(e,n)}function Yu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Md=!1;function vN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j9(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,dn&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Yu(e,r)}return i=n.interleaved,i===null?(t.next=t,gN(n)):(t.next=i.next,i.next=t),n.interleaved=t,Yu(e,r)}function g2(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rN(e,r)}}function qI(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eb(e,t,r,n){var i=e.updateQueue;Md=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;s=0,h=u=c=null,o=a;do{var y=o.lane,g=o.eventTime;if((n&y)===y){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,_=o;switch(y=t,g=r,_.tag){case 1:if(S=_.payload,typeof S=="function"){m=S.call(g,m,y);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,y=typeof S=="function"?S.call(g,m,y):S,y==null)break e;m=Ei({},m,y);break e;case 2:Md=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[o]:y.push(o))}else g={eventTime:g,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=g,c=m):h=h.next=g,s|=y;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Gh|=s,e.lanes=s,e.memoizedState=m}}function WI(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(mt(191,i));i.call(n)}}}var vy={},Pc=Mf(vy),Zg=Mf(vy),Qg=Mf(vy);function bh(e){if(e===vy)throw Error(mt(174));return e}function yN(e,t){switch(ei(Qg,t),ei(Zg,e),ei(Pc,vy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sE(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sE(t,e)}fi(Pc),ei(Pc,t)}function nm(){fi(Pc),fi(Zg),fi(Qg)}function I9(e){bh(Qg.current);var t=bh(Pc.current),r=sE(t,e.type);t!==r&&(ei(Zg,e),ei(Pc,r))}function xN(e){Zg.current===e&&(fi(Pc),fi(Zg))}var Si=Mf(0);function tb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mS=[];function bN(){for(var e=0;e<mS.length;e++)mS[e]._workInProgressVersionPrimary=null;mS.length=0}var v2=id.ReactCurrentDispatcher,gS=id.ReactCurrentBatchConfig,Vh=0,Ai=null,xa=null,ka=null,rb=!1,wg=!1,Jg=0,xQ=0;function ns(){throw Error(mt(321))}function wN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tc(e[r],t[r]))return!1;return!0}function _N(e,t,r,n,i,a){if(Vh=a,Ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,v2.current=e===null||e.memoizedState===null?SQ:AQ,e=r(n,i),wg){a=0;do{if(wg=!1,Jg=0,25<=a)throw Error(mt(301));a+=1,ka=xa=null,t.updateQueue=null,v2.current=EQ,e=r(n,i)}while(wg)}if(v2.current=nb,t=xa!==null&&xa.next!==null,Vh=0,ka=xa=Ai=null,rb=!1,t)throw Error(mt(300));return e}function SN(){var e=Jg!==0;return Jg=0,e}function xc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ka===null?Ai.memoizedState=ka=e:ka=ka.next=e,ka}function vl(){if(xa===null){var e=Ai.alternate;e=e!==null?e.memoizedState:null}else e=xa.next;var t=ka===null?Ai.memoizedState:ka.next;if(t!==null)ka=t,xa=e;else{if(e===null)throw Error(mt(310));xa=e,e={memoizedState:xa.memoizedState,baseState:xa.baseState,baseQueue:xa.baseQueue,queue:xa.queue,next:null},ka===null?Ai.memoizedState=ka=e:ka=ka.next=e}return ka}function ev(e,t){return typeof t=="function"?t(e):t}function vS(e){var t=vl(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=xa,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var h=u.lane;if((Vh&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,s=n):c=c.next=m,Ai.lanes|=h,Gh|=h}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,tc(n,t.memoizedState)||(Xs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ai.lanes|=a,Gh|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yS(e){var t=vl(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);tc(a,t.memoizedState)||(Xs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function k9(){}function P9(e,t){var r=Ai,n=vl(),i=t(),a=!tc(n.memoizedState,i);if(a&&(n.memoizedState=i,Xs=!0),n=n.queue,AN(D9.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ka!==null&&ka.memoizedState.tag&1){if(r.flags|=2048,tv(9,R9.bind(null,r,n,i,t),void 0,null),La===null)throw Error(mt(349));Vh&30||M9(r,t,i)}return i}function M9(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ai.updateQueue,t===null?(t={lastEffect:null,stores:null},Ai.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function R9(e,t,r,n){t.value=r,t.getSnapshot=n,L9(t)&&F9(e)}function D9(e,t,r){return r(function(){L9(t)&&F9(e)})}function L9(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tc(e,r)}catch{return!0}}function F9(e){var t=Yu(e,1);t!==null&&Jl(t,e,1,-1)}function HI(e){var t=xc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:e},t.queue=e,e=e.dispatch=_Q.bind(null,Ai,e),[t.memoizedState,e]}function tv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ai.updateQueue,t===null?(t={lastEffect:null,stores:null},Ai.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function B9(){return vl().memoizedState}function y2(e,t,r,n){var i=xc();Ai.flags|=e,i.memoizedState=tv(1|t,r,void 0,n===void 0?null:n)}function Zw(e,t,r,n){var i=vl();n=n===void 0?null:n;var a=void 0;if(xa!==null){var s=xa.memoizedState;if(a=s.destroy,n!==null&&wN(n,s.deps)){i.memoizedState=tv(t,r,a,n);return}}Ai.flags|=e,i.memoizedState=tv(1|t,r,a,n)}function VI(e,t){return y2(8390656,8,e,t)}function AN(e,t){return Zw(2048,8,e,t)}function $9(e,t){return Zw(4,2,e,t)}function U9(e,t){return Zw(4,4,e,t)}function z9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q9(e,t,r){return r=r!=null?r.concat([e]):null,Zw(4,4,z9.bind(null,t,e),r)}function EN(){}function W9(e,t){var r=vl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function H9(e,t){var r=vl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function V9(e,t,r){return Vh&21?(tc(r,t)||(r=Z7(),Ai.lanes|=r,Gh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xs=!0),e.memoizedState=r)}function bQ(e,t){var r=Ln;Ln=r!==0&&4>r?r:4,e(!0);var n=gS.transition;gS.transition={};try{e(!1),t()}finally{Ln=r,gS.transition=n}}function G9(){return vl().memoizedState}function wQ(e,t,r){var n=ff(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},K9(e))Y9(t,r);else if(r=T9(e,t,r,n),r!==null){var i=Is();Jl(r,e,n,i),X9(r,t,n)}}function _Q(e,t,r){var n=ff(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(K9(e))Y9(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,tc(o,s)){var c=t.interleaved;c===null?(i.next=i,gN(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=T9(e,t,i,n),r!==null&&(i=Is(),Jl(r,e,n,i),X9(r,t,n))}}function K9(e){var t=e.alternate;return e===Ai||t!==null&&t===Ai}function Y9(e,t){wg=rb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function X9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rN(e,r)}}var nb={readContext:gl,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useInsertionEffect:ns,useLayoutEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useMutableSource:ns,useSyncExternalStore:ns,useId:ns,unstable_isNewReconciler:!1},SQ={readContext:gl,useCallback:function(e,t){return xc().memoizedState=[e,t===void 0?null:t],e},useContext:gl,useEffect:VI,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,y2(4194308,4,z9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return y2(4194308,4,e,t)},useInsertionEffect:function(e,t){return y2(4,2,e,t)},useMemo:function(e,t){var r=xc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wQ.bind(null,Ai,e),[n.memoizedState,e]},useRef:function(e){var t=xc();return e={current:e},t.memoizedState=e},useState:HI,useDebugValue:EN,useDeferredValue:function(e){return xc().memoizedState=e},useTransition:function(){var e=HI(!1),t=e[0];return e=bQ.bind(null,e[1]),xc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ai,i=xc();if(gi){if(r===void 0)throw Error(mt(407));r=r()}else{if(r=t(),La===null)throw Error(mt(349));Vh&30||M9(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,VI(D9.bind(null,n,a,e),[e]),n.flags|=2048,tv(9,R9.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=xc(),t=La.identifierPrefix;if(gi){var r=Pu,n=ku;r=(n&~(1<<32-Ql(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=xQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AQ={readContext:gl,useCallback:W9,useContext:gl,useEffect:AN,useImperativeHandle:q9,useInsertionEffect:$9,useLayoutEffect:U9,useMemo:H9,useReducer:vS,useRef:B9,useState:function(){return vS(ev)},useDebugValue:EN,useDeferredValue:function(e){var t=vl();return V9(t,xa.memoizedState,e)},useTransition:function(){var e=vS(ev)[0],t=vl().memoizedState;return[e,t]},useMutableSource:k9,useSyncExternalStore:P9,useId:G9,unstable_isNewReconciler:!1},EQ={readContext:gl,useCallback:W9,useContext:gl,useEffect:AN,useImperativeHandle:q9,useInsertionEffect:$9,useLayoutEffect:U9,useMemo:H9,useReducer:yS,useRef:B9,useState:function(){return yS(ev)},useDebugValue:EN,useDeferredValue:function(e){var t=vl();return xa===null?t.memoizedState=e:V9(t,xa.memoizedState,e)},useTransition:function(){var e=yS(ev)[0],t=vl().memoizedState;return[e,t]},useMutableSource:k9,useSyncExternalStore:P9,useId:G9,unstable_isNewReconciler:!1};function $l(e,t){if(e&&e.defaultProps){t=Ei({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function NE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ei({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qw={isMounted:function(e){return(e=e._reactInternals)?hp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Is(),i=ff(e),a=Fu(n,i);a.payload=t,r!=null&&(a.callback=r),t=uf(e,a,i),t!==null&&(Jl(t,e,i,n),g2(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Is(),i=ff(e),a=Fu(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=uf(e,a,i),t!==null&&(Jl(t,e,i,n),g2(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Is(),n=ff(e),i=Fu(r,n);i.tag=2,t!=null&&(i.callback=t),t=uf(e,i,n),t!==null&&(Jl(t,e,n,r),g2(t,e,n))}};function GI(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Gg(r,n)||!Gg(i,a):!0}function Z9(e,t,r){var n=!1,i=Ef,a=t.contextType;return typeof a=="object"&&a!==null?a=gl(a):(i=eo(t)?Wh:hs.current,n=t.contextTypes,a=(n=n!=null)?em(e,i):Ef),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function KI(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qw.enqueueReplaceState(t,t.state,null)}function OE(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},vN(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=gl(a):(a=eo(t)?Wh:hs.current,i.context=em(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(NE(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qw.enqueueReplaceState(i,i.state,null),eb(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function im(e,t){try{var r="",n=t;do r+=JX(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function xS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function TE(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var CQ=typeof WeakMap=="function"?WeakMap:Map;function Q9(e,t,r){r=Fu(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ab||(ab=!0,BE=n),TE(e,t)},r}function J9(e,t,r){r=Fu(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){TE(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){TE(e,t),typeof n!="function"&&(df===null?df=new Set([this]):df.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function YI(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new CQ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=$Q.bind(null,e,t,r),t.then(e,e))}function XI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ZI(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fu(-1,1),t.tag=2,uf(r,t,1))),r.lanes|=1),e)}var NQ=id.ReactCurrentOwner,Xs=!1;function As(e,t,r,n){t.child=e===null?O9(t,null,r,n):rm(t,e.child,r,n)}function QI(e,t,r,n,i){r=r.render;var a=t.ref;return S0(t,i),n=_N(e,t,r,n,a,i),r=SN(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xu(e,t,i)):(gi&&r&&uN(t),t.flags|=1,As(e,t,n,i),t.child)}function JI(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!PN(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,eF(e,t,a,n,i)):(e=_2(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Gg,r(s,n)&&e.ref===t.ref)return Xu(e,t,i)}return t.flags|=1,e=hf(a,n),e.ref=t.ref,e.return=t,t.child=e}function eF(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Gg(a,n)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,Xu(e,t,i)}return jE(e,t,r,n,i)}function tF(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ei(u0,Co),Co|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ei(u0,Co),Co|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ei(u0,Co),Co|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ei(u0,Co),Co|=n;return As(e,t,i,r),t.child}function rF(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jE(e,t,r,n,i){var a=eo(r)?Wh:hs.current;return a=em(t,a),S0(t,i),r=_N(e,t,r,n,a,i),n=SN(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xu(e,t,i)):(gi&&n&&uN(t),t.flags|=1,As(e,t,r,i),t.child)}function ek(e,t,r,n,i){if(eo(r)){var a=!0;Y2(t)}else a=!1;if(S0(t,i),t.stateNode===null)x2(e,t),Z9(t,r,n),OE(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=gl(u):(u=eo(r)?Wh:hs.current,u=em(t,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&KI(t,s,n,u),Md=!1;var y=t.memoizedState;s.state=y,eb(t,n,s,i),c=t.memoizedState,o!==n||y!==c||Js.current||Md?(typeof h=="function"&&(NE(t,r,h,n),c=t.memoizedState),(o=Md||GI(t,r,o,n,y,c,u))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,j9(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:$l(t.type,o),s.props=u,m=t.pendingProps,y=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=gl(c):(c=eo(r)?Wh:hs.current,c=em(t,c));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==m||y!==c)&&KI(t,s,n,c),Md=!1,y=t.memoizedState,s.state=y,eb(t,n,s,i);var S=t.memoizedState;o!==m||y!==S||Js.current||Md?(typeof g=="function"&&(NE(t,r,g,n),S=t.memoizedState),(u=Md||GI(t,r,u,n,y,S,c)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,S,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,S,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=S),s.props=n,s.state=S,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return IE(e,t,r,n,a,i)}function IE(e,t,r,n,i,a){rF(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&BI(t,r,!1),Xu(e,t,a);n=t.stateNode,NQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=rm(t,e.child,null,a),t.child=rm(t,null,o,a)):As(e,t,o,a),t.memoizedState=n.state,i&&BI(t,r,!0),t.child}function nF(e){var t=e.stateNode;t.pendingContext?FI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&FI(e,t.context,!1),yN(e,t.containerInfo)}function tk(e,t,r,n,i){return tm(),fN(i),t.flags|=256,As(e,t,r,n),t.child}var kE={dehydrated:null,treeContext:null,retryLane:0};function PE(e){return{baseLanes:e,cachePool:null,transitions:null}}function iF(e,t,r){var n=t.pendingProps,i=Si.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ei(Si,i&1),e===null)return EE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=t_(s,n,0,null),e=$h(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=PE(r),t.memoizedState=kE,e):CN(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return OQ(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=hf(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=hf(o,a):(a=$h(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?PE(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=kE,n}return a=e.child,e=a.sibling,n=hf(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function CN(e,t){return t=t_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yx(e,t,r,n){return n!==null&&fN(n),rm(t,e.child,null,r),e=CN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OQ(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=xS(Error(mt(422))),yx(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=t_({mode:"visible",children:n.children},i,0,null),a=$h(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&rm(t,e.child,null,s),t.child.memoizedState=PE(s),t.memoizedState=kE,a);if(!(t.mode&1))return yx(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(mt(419)),n=xS(a,n,void 0),yx(e,t,s,n)}if(o=(s&e.childLanes)!==0,Xs||o){if(n=La,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Yu(e,i),Jl(n,e,i,-1))}return kN(),n=xS(Error(mt(421))),yx(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=UQ.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Mo=cf(i.nextSibling),Lo=t,gi=!0,Xl=null,e!==null&&(sl[ol++]=ku,sl[ol++]=Pu,sl[ol++]=Hh,ku=e.id,Pu=e.overflow,Hh=t),t=CN(t,n.children),t.flags|=4096,t)}function rk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),CE(e.return,t,r)}function bS(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function aF(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(As(e,t,n.children,r),n=Si.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rk(e,r,t);else if(e.tag===19)rk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ei(Si,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&tb(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),bS(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tb(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}bS(t,!0,r,null,a);break;case"together":bS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function x2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(mt(153));if(t.child!==null){for(e=t.child,r=hf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TQ(e,t,r){switch(t.tag){case 3:nF(t),tm();break;case 5:I9(t);break;case 1:eo(t.type)&&Y2(t);break;case 4:yN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ei(Q2,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ei(Si,Si.current&1),t.flags|=128,null):r&t.child.childLanes?iF(e,t,r):(ei(Si,Si.current&1),e=Xu(e,t,r),e!==null?e.sibling:null);ei(Si,Si.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return aF(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ei(Si,Si.current),n)break;return null;case 22:case 23:return t.lanes=0,tF(e,t,r)}return Xu(e,t,r)}var sF,ME,oF,lF;sF=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ME=function(){};oF=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,bh(Pc.current);var a=null;switch(r){case"input":i=rE(e,i),n=rE(e,n),a=[];break;case"select":i=Ei({},i,{value:void 0}),n=Ei({},n,{value:void 0}),a=[];break;case"textarea":i=aE(e,i),n=aE(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=G2)}oE(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($g.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($g.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&oi("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};lF=function(e,t,r,n){r!==n&&(t.flags|=4)};function $1(e,t){if(!gi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function is(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jQ(e,t,r){var n=t.pendingProps;switch(dN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(t),null;case 1:return eo(t.type)&&K2(),is(t),null;case 3:return n=t.stateNode,nm(),fi(Js),fi(hs),bN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xl!==null&&(zE(Xl),Xl=null))),ME(e,t),is(t),null;case 5:xN(t);var i=bh(Qg.current);if(r=t.type,e!==null&&t.stateNode!=null)oF(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(mt(166));return is(t),null}if(e=bh(Pc.current),gx(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ec]=t,n[Xg]=a,e=(t.mode&1)!==0,r){case"dialog":oi("cancel",n),oi("close",n);break;case"iframe":case"object":case"embed":oi("load",n);break;case"video":case"audio":for(i=0;i<sg.length;i++)oi(sg[i],n);break;case"source":oi("error",n);break;case"img":case"image":case"link":oi("error",n),oi("load",n);break;case"details":oi("toggle",n);break;case"input":dI(n,a),oi("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},oi("invalid",n);break;case"textarea":hI(n,a),oi("invalid",n)}oE(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&mx(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&mx(n.textContent,o,e),i=["children",""+o]):$g.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&oi("scroll",n)}switch(r){case"input":ox(n),fI(n,a,!0);break;case"textarea":ox(n),pI(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=G2)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ec]=t,e[Xg]=n,sF(e,t,!1,!1),t.stateNode=e;e:{switch(s=lE(r,n),r){case"dialog":oi("cancel",e),oi("close",e),i=n;break;case"iframe":case"object":case"embed":oi("load",e),i=n;break;case"video":case"audio":for(i=0;i<sg.length;i++)oi(sg[i],e);i=n;break;case"source":oi("error",e),i=n;break;case"img":case"image":case"link":oi("error",e),oi("load",e),i=n;break;case"details":oi("toggle",e),i=n;break;case"input":dI(e,n),i=rE(e,n),oi("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ei({},n,{value:void 0}),oi("invalid",e);break;case"textarea":hI(e,n),i=aE(e,n),oi("invalid",e);break;default:i=n}oE(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?B7(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L7(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ug(e,c):typeof c=="number"&&Ug(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($g.hasOwnProperty(a)?c!=null&&a==="onScroll"&&oi("scroll",e):c!=null&&X4(e,a,c,s))}switch(r){case"input":ox(e),fI(e,n,!1);break;case"textarea":ox(e),pI(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Af(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?x0(e,!!n.multiple,a,!1):n.defaultValue!=null&&x0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=G2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return is(t),null;case 6:if(e&&t.stateNode!=null)lF(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(mt(166));if(r=bh(Qg.current),bh(Pc.current),gx(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ec]=t,(a=n.nodeValue!==r)&&(e=Lo,e!==null))switch(e.tag){case 3:mx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mx(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ec]=t,t.stateNode=n}return is(t),null;case 13:if(fi(Si),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gi&&Mo!==null&&t.mode&1&&!(t.flags&128))C9(),tm(),t.flags|=98560,a=!1;else if(a=gx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(mt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(mt(317));a[Ec]=t}else tm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;is(t),a=!1}else Xl!==null&&(zE(Xl),Xl=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Si.current&1?_a===0&&(_a=3):kN())),t.updateQueue!==null&&(t.flags|=4),is(t),null);case 4:return nm(),ME(e,t),e===null&&Kg(t.stateNode.containerInfo),is(t),null;case 10:return mN(t.type._context),is(t),null;case 17:return eo(t.type)&&K2(),is(t),null;case 19:if(fi(Si),a=t.memoizedState,a===null)return is(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)$1(a,!1);else{if(_a!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=tb(e),s!==null){for(t.flags|=128,$1(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ei(Si,Si.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ui()>am&&(t.flags|=128,n=!0,$1(a,!1),t.lanes=4194304)}else{if(!n)if(e=tb(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$1(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!gi)return is(t),null}else 2*Ui()-a.renderingStartTime>am&&r!==1073741824&&(t.flags|=128,n=!0,$1(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ui(),t.sibling=null,r=Si.current,ei(Si,n?r&1|2:r&1),t):(is(t),null);case 22:case 23:return IN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Co&1073741824&&(is(t),t.subtreeFlags&6&&(t.flags|=8192)):is(t),null;case 24:return null;case 25:return null}throw Error(mt(156,t.tag))}function IQ(e,t){switch(dN(t),t.tag){case 1:return eo(t.type)&&K2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nm(),fi(Js),fi(hs),bN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xN(t),null;case 13:if(fi(Si),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(mt(340));tm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fi(Si),null;case 4:return nm(),null;case 10:return mN(t.type._context),null;case 22:case 23:return IN(),null;case 24:return null;default:return null}}var xx=!1,ds=!1,kQ=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function c0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Mi(e,t,n)}else r.current=null}function RE(e,t,r){try{r()}catch(n){Mi(e,t,n)}}var nk=!1;function PQ(e,t){if(yE=W2,e=h9(),cN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,h=0,m=e,y=null;t:for(;;){for(var g;m!==r||i!==0&&m.nodeType!==3||(o=s+i),m!==a||n!==0&&m.nodeType!==3||(c=s+n),m.nodeType===3&&(s+=m.nodeValue.length),(g=m.firstChild)!==null;)y=m,m=g;for(;;){if(m===e)break t;if(y===r&&++u===i&&(o=s),y===a&&++h===n&&(c=s),(g=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=g}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xE={focusedElem:e,selectionRange:r},W2=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){t=Ut;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,w=S.memoizedState,A=t.stateNode,E=A.getSnapshotBeforeUpdate(t.elementType===t.type?_:$l(t.type,_),w);A.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(I){Mi(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}return S=nk,nk=!1,S}function _g(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&RE(t,r,a)}i=i.next}while(i!==n)}}function Jw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function DE(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cF(e){var t=e.alternate;t!==null&&(e.alternate=null,cF(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ec],delete t[Xg],delete t[_E],delete t[mQ],delete t[gQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uF(e){return e.tag===5||e.tag===3||e.tag===4}function ik(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uF(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function LE(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=G2));else if(n!==4&&(e=e.child,e!==null))for(LE(e,t,r),e=e.sibling;e!==null;)LE(e,t,r),e=e.sibling}function FE(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(FE(e,t,r),e=e.sibling;e!==null;)FE(e,t,r),e=e.sibling}var Ga=null,Wl=!1;function _d(e,t,r){for(r=r.child;r!==null;)dF(e,t,r),r=r.sibling}function dF(e,t,r){if(kc&&typeof kc.onCommitFiberUnmount=="function")try{kc.onCommitFiberUnmount(Hw,r)}catch{}switch(r.tag){case 5:ds||c0(r,t);case 6:var n=Ga,i=Wl;Ga=null,_d(e,t,r),Ga=n,Wl=i,Ga!==null&&(Wl?(e=Ga,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ga.removeChild(r.stateNode));break;case 18:Ga!==null&&(Wl?(e=Ga,r=r.stateNode,e.nodeType===8?hS(e.parentNode,r):e.nodeType===1&&hS(e,r),Hg(e)):hS(Ga,r.stateNode));break;case 4:n=Ga,i=Wl,Ga=r.stateNode.containerInfo,Wl=!0,_d(e,t,r),Ga=n,Wl=i;break;case 0:case 11:case 14:case 15:if(!ds&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&RE(r,t,s),i=i.next}while(i!==n)}_d(e,t,r);break;case 1:if(!ds&&(c0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Mi(r,t,o)}_d(e,t,r);break;case 21:_d(e,t,r);break;case 22:r.mode&1?(ds=(n=ds)||r.memoizedState!==null,_d(e,t,r),ds=n):_d(e,t,r);break;default:_d(e,t,r)}}function ak(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kQ),t.forEach(function(n){var i=zQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ml(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ga=o.stateNode,Wl=!1;break e;case 3:Ga=o.stateNode.containerInfo,Wl=!0;break e;case 4:Ga=o.stateNode.containerInfo,Wl=!0;break e}o=o.return}if(Ga===null)throw Error(mt(160));dF(a,s,i),Ga=null,Wl=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Mi(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fF(t,e),t=t.sibling}function fF(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ml(t,e),gc(e),n&4){try{_g(3,e,e.return),Jw(3,e)}catch(_){Mi(e,e.return,_)}try{_g(5,e,e.return)}catch(_){Mi(e,e.return,_)}}break;case 1:Ml(t,e),gc(e),n&512&&r!==null&&c0(r,r.return);break;case 5:if(Ml(t,e),gc(e),n&512&&r!==null&&c0(r,r.return),e.flags&32){var i=e.stateNode;try{Ug(i,"")}catch(_){Mi(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&M7(i,a),lE(o,s);var u=lE(o,a);for(s=0;s<c.length;s+=2){var h=c[s],m=c[s+1];h==="style"?B7(i,m):h==="dangerouslySetInnerHTML"?L7(i,m):h==="children"?Ug(i,m):X4(i,h,m,u)}switch(o){case"input":nE(i,a);break;case"textarea":R7(i,a);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?x0(i,!!a.multiple,g,!1):y!==!!a.multiple&&(a.defaultValue!=null?x0(i,!!a.multiple,a.defaultValue,!0):x0(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xg]=a}catch(_){Mi(e,e.return,_)}}break;case 6:if(Ml(t,e),gc(e),n&4){if(e.stateNode===null)throw Error(mt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(_){Mi(e,e.return,_)}}break;case 3:if(Ml(t,e),gc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hg(t.containerInfo)}catch(_){Mi(e,e.return,_)}break;case 4:Ml(t,e),gc(e);break;case 13:Ml(t,e),gc(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(TN=Ui())),n&4&&ak(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(ds=(u=ds)||h,Ml(t,e),ds=u):Ml(t,e),gc(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Ut=e,h=e.child;h!==null;){for(m=Ut=h;Ut!==null;){switch(y=Ut,g=y.child,y.tag){case 0:case 11:case 14:case 15:_g(4,y,y.return);break;case 1:c0(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(_){Mi(n,r,_)}}break;case 5:c0(y,y.return);break;case 22:if(y.memoizedState!==null){ok(m);continue}}g!==null?(g.return=y,Ut=g):ok(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=F7("display",s))}catch(_){Mi(e,e.return,_)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(_){Mi(e,e.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ml(t,e),gc(e),n&4&&ak(e);break;case 21:break;default:Ml(t,e),gc(e)}}function gc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uF(r)){var n=r;break e}r=r.return}throw Error(mt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ug(i,""),n.flags&=-33);var a=ik(e);FE(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=ik(e);LE(e,o,s);break;default:throw Error(mt(161))}}catch(c){Mi(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MQ(e,t,r){Ut=e,hF(e)}function hF(e,t,r){for(var n=(e.mode&1)!==0;Ut!==null;){var i=Ut,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||xx;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||ds;o=xx;var u=ds;if(xx=s,(ds=c)&&!u)for(Ut=i;Ut!==null;)s=Ut,c=s.child,s.tag===22&&s.memoizedState!==null?lk(i):c!==null?(c.return=s,Ut=c):lk(i);for(;a!==null;)Ut=a,hF(a),a=a.sibling;Ut=i,xx=o,ds=u}sk(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ut=a):sk(e)}}function sk(e){for(;Ut!==null;){var t=Ut;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ds||Jw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ds)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:$l(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&WI(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}WI(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Hg(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}ds||t.flags&512&&DE(t)}catch(y){Mi(t,t.return,y)}}if(t===e){Ut=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function ok(e){for(;Ut!==null;){var t=Ut;if(t===e){Ut=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function lk(e){for(;Ut!==null;){var t=Ut;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Jw(4,t)}catch(c){Mi(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Mi(t,i,c)}}var a=t.return;try{DE(t)}catch(c){Mi(t,a,c)}break;case 5:var s=t.return;try{DE(t)}catch(c){Mi(t,s,c)}}}catch(c){Mi(t,t.return,c)}if(t===e){Ut=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ut=o;break}Ut=t.return}}var RQ=Math.ceil,ib=id.ReactCurrentDispatcher,NN=id.ReactCurrentOwner,hl=id.ReactCurrentBatchConfig,dn=0,La=null,ia=null,Ya=0,Co=0,u0=Mf(0),_a=0,rv=null,Gh=0,e_=0,ON=0,Sg=null,Ks=null,TN=0,am=1/0,Au=null,ab=!1,BE=null,df=null,bx=!1,Jd=null,sb=0,Ag=0,$E=null,b2=-1,w2=0;function Is(){return dn&6?Ui():b2!==-1?b2:b2=Ui()}function ff(e){return e.mode&1?dn&2&&Ya!==0?Ya&-Ya:yQ.transition!==null?(w2===0&&(w2=Z7()),w2):(e=Ln,e!==0||(e=window.event,e=e===void 0?16:i9(e.type)),e):1}function Jl(e,t,r,n){if(50<Ag)throw Ag=0,$E=null,Error(mt(185));py(e,r,n),(!(dn&2)||e!==La)&&(e===La&&(!(dn&2)&&(e_|=r),_a===4&&Fd(e,Ya)),to(e,n),r===1&&dn===0&&!(t.mode&1)&&(am=Ui()+500,Xw&&Rf()))}function to(e,t){var r=e.callbackNode;yZ(e,t);var n=q2(e,e===La?Ya:0);if(n===0)r!==null&&vI(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vI(r),t===1)e.tag===0?vQ(ck.bind(null,e)):S9(ck.bind(null,e)),hQ(function(){!(dn&6)&&Rf()}),r=null;else{switch(Q7(n)){case 1:r=tN;break;case 4:r=Y7;break;case 16:r=z2;break;case 536870912:r=X7;break;default:r=z2}r=wF(r,pF.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pF(e,t){if(b2=-1,w2=0,dn&6)throw Error(mt(327));var r=e.callbackNode;if(A0()&&e.callbackNode!==r)return null;var n=q2(e,e===La?Ya:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ob(e,n);else{t=n;var i=dn;dn|=2;var a=gF();(La!==e||Ya!==t)&&(Au=null,am=Ui()+500,Bh(e,t));do try{FQ();break}catch(o){mF(e,o)}while(!0);pN(),ib.current=a,dn=i,ia!==null?t=0:(La=null,Ya=0,t=_a)}if(t!==0){if(t===2&&(i=hE(e),i!==0&&(n=i,t=UE(e,i))),t===1)throw r=rv,Bh(e,0),Fd(e,n),to(e,Ui()),r;if(t===6)Fd(e,n);else{if(i=e.current.alternate,!(n&30)&&!DQ(i)&&(t=ob(e,n),t===2&&(a=hE(e),a!==0&&(n=a,t=UE(e,a))),t===1))throw r=rv,Bh(e,0),Fd(e,n),to(e,Ui()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(mt(345));case 2:oh(e,Ks,Au);break;case 3:if(Fd(e,n),(n&130023424)===n&&(t=TN+500-Ui(),10<t)){if(q2(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Is(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wE(oh.bind(null,e,Ks,Au),t);break}oh(e,Ks,Au);break;case 4:if(Fd(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Ql(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Ui()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RQ(n/1960))-n,10<n){e.timeoutHandle=wE(oh.bind(null,e,Ks,Au),n);break}oh(e,Ks,Au);break;case 5:oh(e,Ks,Au);break;default:throw Error(mt(329))}}}return to(e,Ui()),e.callbackNode===r?pF.bind(null,e):null}function UE(e,t){var r=Sg;return e.current.memoizedState.isDehydrated&&(Bh(e,t).flags|=256),e=ob(e,t),e!==2&&(t=Ks,Ks=r,t!==null&&zE(t)),e}function zE(e){Ks===null?Ks=e:Ks.push.apply(Ks,e)}function DQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!tc(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fd(e,t){for(t&=~ON,t&=~e_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ql(t),n=1<<r;e[r]=-1,t&=~n}}function ck(e){if(dn&6)throw Error(mt(327));A0();var t=q2(e,0);if(!(t&1))return to(e,Ui()),null;var r=ob(e,t);if(e.tag!==0&&r===2){var n=hE(e);n!==0&&(t=n,r=UE(e,n))}if(r===1)throw r=rv,Bh(e,0),Fd(e,t),to(e,Ui()),r;if(r===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oh(e,Ks,Au),to(e,Ui()),null}function jN(e,t){var r=dn;dn|=1;try{return e(t)}finally{dn=r,dn===0&&(am=Ui()+500,Xw&&Rf())}}function Kh(e){Jd!==null&&Jd.tag===0&&!(dn&6)&&A0();var t=dn;dn|=1;var r=hl.transition,n=Ln;try{if(hl.transition=null,Ln=1,e)return e()}finally{Ln=n,hl.transition=r,dn=t,!(dn&6)&&Rf()}}function IN(){Co=u0.current,fi(u0)}function Bh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fQ(r)),ia!==null)for(r=ia.return;r!==null;){var n=r;switch(dN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&K2();break;case 3:nm(),fi(Js),fi(hs),bN();break;case 5:xN(n);break;case 4:nm();break;case 13:fi(Si);break;case 19:fi(Si);break;case 10:mN(n.type._context);break;case 22:case 23:IN()}r=r.return}if(La=e,ia=e=hf(e.current,null),Ya=Co=t,_a=0,rv=null,ON=e_=Gh=0,Ks=Sg=null,xh!==null){for(t=0;t<xh.length;t++)if(r=xh[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}xh=null}return e}function mF(e,t){do{var r=ia;try{if(pN(),v2.current=nb,rb){for(var n=Ai.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rb=!1}if(Vh=0,ka=xa=Ai=null,wg=!1,Jg=0,NN.current=null,r===null||r.return===null){_a=1,rv=t,ia=null;break}e:{var a=e,s=r.return,o=r,c=t;if(t=Ya,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=XI(s);if(g!==null){g.flags&=-257,ZI(g,s,o,a,t),g.mode&1&&YI(a,u,t),t=g,c=u;var S=t.updateQueue;if(S===null){var _=new Set;_.add(c),t.updateQueue=_}else S.add(c);break e}else{if(!(t&1)){YI(a,u,t),kN();break e}c=Error(mt(426))}}else if(gi&&o.mode&1){var w=XI(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ZI(w,s,o,a,t),fN(im(c,o));break e}}a=c=im(c,o),_a!==4&&(_a=2),Sg===null?Sg=[a]:Sg.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var A=Q9(a,c,t);qI(a,A);break e;case 1:o=c;var E=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(df===null||!df.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=J9(a,o,t);qI(a,I);break e}}a=a.return}while(a!==null)}yF(r)}catch(k){t=k,ia===r&&r!==null&&(ia=r=r.return);continue}break}while(!0)}function gF(){var e=ib.current;return ib.current=nb,e===null?nb:e}function kN(){(_a===0||_a===3||_a===2)&&(_a=4),La===null||!(Gh&268435455)&&!(e_&268435455)||Fd(La,Ya)}function ob(e,t){var r=dn;dn|=2;var n=gF();(La!==e||Ya!==t)&&(Au=null,Bh(e,t));do try{LQ();break}catch(i){mF(e,i)}while(!0);if(pN(),dn=r,ib.current=n,ia!==null)throw Error(mt(261));return La=null,Ya=0,_a}function LQ(){for(;ia!==null;)vF(ia)}function FQ(){for(;ia!==null&&!cZ();)vF(ia)}function vF(e){var t=bF(e.alternate,e,Co);e.memoizedProps=e.pendingProps,t===null?yF(e):ia=t,NN.current=null}function yF(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=IQ(r,t),r!==null){r.flags&=32767,ia=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_a=6,ia=null;return}}else if(r=jQ(r,t,Co),r!==null){ia=r;return}if(t=t.sibling,t!==null){ia=t;return}ia=t=e}while(t!==null);_a===0&&(_a=5)}function oh(e,t,r){var n=Ln,i=hl.transition;try{hl.transition=null,Ln=1,BQ(e,t,r,n)}finally{hl.transition=i,Ln=n}return null}function BQ(e,t,r,n){do A0();while(Jd!==null);if(dn&6)throw Error(mt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(xZ(e,a),e===La&&(ia=La=null,Ya=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bx||(bx=!0,wF(z2,function(){return A0(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=hl.transition,hl.transition=null;var s=Ln;Ln=1;var o=dn;dn|=4,NN.current=null,PQ(e,r),fF(r,e),aQ(xE),W2=!!yE,xE=yE=null,e.current=r,MQ(r),uZ(),dn=o,Ln=s,hl.transition=a}else e.current=r;if(bx&&(bx=!1,Jd=e,sb=i),a=e.pendingLanes,a===0&&(df=null),hZ(r.stateNode),to(e,Ui()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ab)throw ab=!1,e=BE,BE=null,e;return sb&1&&e.tag!==0&&A0(),a=e.pendingLanes,a&1?e===$E?Ag++:(Ag=0,$E=e):Ag=0,Rf(),null}function A0(){if(Jd!==null){var e=Q7(sb),t=hl.transition,r=Ln;try{if(hl.transition=null,Ln=16>e?16:e,Jd===null)var n=!1;else{if(e=Jd,Jd=null,sb=0,dn&6)throw Error(mt(331));var i=dn;for(dn|=4,Ut=e.current;Ut!==null;){var a=Ut,s=a.child;if(Ut.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Ut=u;Ut!==null;){var h=Ut;switch(h.tag){case 0:case 11:case 15:_g(8,h,a)}var m=h.child;if(m!==null)m.return=h,Ut=m;else for(;Ut!==null;){h=Ut;var y=h.sibling,g=h.return;if(cF(h),h===u){Ut=null;break}if(y!==null){y.return=g,Ut=y;break}Ut=g}}}var S=a.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}Ut=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ut=s;else e:for(;Ut!==null;){if(a=Ut,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_g(9,a,a.return)}var A=a.sibling;if(A!==null){A.return=a.return,Ut=A;break e}Ut=a.return}}var E=e.current;for(Ut=E;Ut!==null;){s=Ut;var O=s.child;if(s.subtreeFlags&2064&&O!==null)O.return=s,Ut=O;else e:for(s=E;Ut!==null;){if(o=Ut,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Jw(9,o)}}catch(k){Mi(o,o.return,k)}if(o===s){Ut=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,Ut=I;break e}Ut=o.return}}if(dn=i,Rf(),kc&&typeof kc.onPostCommitFiberRoot=="function")try{kc.onPostCommitFiberRoot(Hw,e)}catch{}n=!0}return n}finally{Ln=r,hl.transition=t}}return!1}function uk(e,t,r){t=im(r,t),t=Q9(e,t,1),e=uf(e,t,1),t=Is(),e!==null&&(py(e,1,t),to(e,t))}function Mi(e,t,r){if(e.tag===3)uk(e,e,r);else for(;t!==null;){if(t.tag===3){uk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(df===null||!df.has(n))){e=im(r,e),e=J9(t,e,1),t=uf(t,e,1),e=Is(),t!==null&&(py(t,1,e),to(t,e));break}}t=t.return}}function $Q(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Is(),e.pingedLanes|=e.suspendedLanes&r,La===e&&(Ya&r)===r&&(_a===4||_a===3&&(Ya&130023424)===Ya&&500>Ui()-TN?Bh(e,0):ON|=r),to(e,t)}function xF(e,t){t===0&&(e.mode&1?(t=ux,ux<<=1,!(ux&130023424)&&(ux=4194304)):t=1);var r=Is();e=Yu(e,t),e!==null&&(py(e,t,r),to(e,r))}function UQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xF(e,r)}function zQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(mt(314))}n!==null&&n.delete(t),xF(e,r)}var bF;bF=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Js.current)Xs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xs=!1,TQ(e,t,r);Xs=!!(e.flags&131072)}else Xs=!1,gi&&t.flags&1048576&&A9(t,Z2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;x2(e,t),e=t.pendingProps;var i=em(t,hs.current);S0(t,r),i=_N(null,t,n,e,i,r);var a=SN();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,eo(n)?(a=!0,Y2(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vN(t),i.updater=Qw,t.stateNode=i,i._reactInternals=t,OE(t,n,e,r),t=IE(null,t,n,!0,a,r)):(t.tag=0,gi&&a&&uN(t),As(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(x2(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=WQ(n),e=$l(n,e),i){case 0:t=jE(null,t,n,e,r);break e;case 1:t=ek(null,t,n,e,r);break e;case 11:t=QI(null,t,n,e,r);break e;case 14:t=JI(null,t,n,$l(n.type,e),r);break e}throw Error(mt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:$l(n,i),jE(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:$l(n,i),ek(e,t,n,i,r);case 3:e:{if(nF(t),e===null)throw Error(mt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,j9(e,t),eb(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=im(Error(mt(423)),t),t=tk(e,t,n,r,i);break e}else if(n!==i){i=im(Error(mt(424)),t),t=tk(e,t,n,r,i);break e}else for(Mo=cf(t.stateNode.containerInfo.firstChild),Lo=t,gi=!0,Xl=null,r=O9(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tm(),n===i){t=Xu(e,t,r);break e}As(e,t,n,r)}t=t.child}return t;case 5:return I9(t),e===null&&EE(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,bE(n,i)?s=null:a!==null&&bE(n,a)&&(t.flags|=32),rF(e,t),As(e,t,s,r),t.child;case 6:return e===null&&EE(t),null;case 13:return iF(e,t,r);case 4:return yN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rm(t,null,n,r):As(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:$l(n,i),QI(e,t,n,i,r);case 7:return As(e,t,t.pendingProps,r),t.child;case 8:return As(e,t,t.pendingProps.children,r),t.child;case 12:return As(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ei(Q2,n._currentValue),n._currentValue=s,a!==null)if(tc(a.value,s)){if(a.children===i.children&&!Js.current){t=Xu(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Fu(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),CE(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(mt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),CE(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}As(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,S0(t,r),i=gl(i),n=n(i),t.flags|=1,As(e,t,n,r),t.child;case 14:return n=t.type,i=$l(n,t.pendingProps),i=$l(n.type,i),JI(e,t,n,i,r);case 15:return eF(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:$l(n,i),x2(e,t),t.tag=1,eo(n)?(e=!0,Y2(t)):e=!1,S0(t,r),Z9(t,n,i),OE(t,n,i,r),IE(null,t,n,!0,e,r);case 19:return aF(e,t,r);case 22:return tF(e,t,r)}throw Error(mt(156,t.tag))};function wF(e,t){return K7(e,t)}function qQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dl(e,t,r,n){return new qQ(e,t,r,n)}function PN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WQ(e){if(typeof e=="function")return PN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Q4)return 11;if(e===J4)return 14}return 2}function hf(e,t){var r=e.alternate;return r===null?(r=dl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _2(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")PN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case e0:return $h(r.children,i,a,t);case Z4:s=8,i|=8;break;case QA:return e=dl(12,r,t,i|2),e.elementType=QA,e.lanes=a,e;case JA:return e=dl(13,r,t,i),e.elementType=JA,e.lanes=a,e;case eE:return e=dl(19,r,t,i),e.elementType=eE,e.lanes=a,e;case I7:return t_(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T7:s=10;break e;case j7:s=9;break e;case Q4:s=11;break e;case J4:s=14;break e;case Pd:s=16,n=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return t=dl(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function $h(e,t,r,n){return e=dl(7,e,n,t),e.lanes=r,e}function t_(e,t,r,n){return e=dl(22,e,n,t),e.elementType=I7,e.lanes=r,e.stateNode={isHidden:!1},e}function wS(e,t,r){return e=dl(6,e,null,t),e.lanes=r,e}function _S(e,t,r){return t=dl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HQ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rS(0),this.expirationTimes=rS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function MN(e,t,r,n,i,a,s,o,c){return e=new HQ(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vN(a),e}function VQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _F(e){if(!e)return Ef;e=e._reactInternals;e:{if(hp(e)!==e||e.tag!==1)throw Error(mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(eo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(mt(171))}if(e.tag===1){var r=e.type;if(eo(r))return _9(e,r,t)}return t}function SF(e,t,r,n,i,a,s,o,c){return e=MN(r,n,!0,e,i,a,s,o,c),e.context=_F(null),r=e.current,n=Is(),i=ff(r),a=Fu(n,i),a.callback=t??null,uf(r,a,i),e.current.lanes=i,py(e,i,n),to(e,n),e}function r_(e,t,r,n){var i=t.current,a=Is(),s=ff(i);return r=_F(r),t.context===null?t.context=r:t.pendingContext=r,t=Fu(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=uf(i,t,s),e!==null&&(Jl(e,i,s,a),g2(e,i,s)),s}function lb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function RN(e,t){dk(e,t),(e=e.alternate)&&dk(e,t)}function GQ(){return null}var AF=typeof reportError=="function"?reportError:function(e){console.error(e)};function DN(e){this._internalRoot=e}n_.prototype.render=DN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(mt(409));r_(e,t,null,null)};n_.prototype.unmount=DN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kh(function(){r_(null,e,null,null)}),t[Ku]=null}};function n_(e){this._internalRoot=e}n_.prototype.unstable_scheduleHydration=function(e){if(e){var t=t9();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ld.length&&t!==0&&t<Ld[r].priority;r++);Ld.splice(r,0,e),r===0&&n9(e)}};function LN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function i_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fk(){}function KQ(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=lb(s);a.call(u)}}var s=SF(t,n,e,0,null,!1,!1,"",fk);return e._reactRootContainer=s,e[Ku]=s.current,Kg(e.nodeType===8?e.parentNode:e),Kh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=lb(c);o.call(u)}}var c=MN(e,0,!1,null,null,!1,!1,"",fk);return e._reactRootContainer=c,e[Ku]=c.current,Kg(e.nodeType===8?e.parentNode:e),Kh(function(){r_(t,c,r,n)}),c}function a_(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=lb(s);o.call(c)}}r_(t,s,e,i)}else s=KQ(r,t,e,i,n);return lb(s)}J7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ag(t.pendingLanes);r!==0&&(rN(t,r|1),to(t,Ui()),!(dn&6)&&(am=Ui()+500,Rf()))}break;case 13:Kh(function(){var n=Yu(e,1);if(n!==null){var i=Is();Jl(n,e,1,i)}}),RN(e,1)}};nN=function(e){if(e.tag===13){var t=Yu(e,134217728);if(t!==null){var r=Is();Jl(t,e,134217728,r)}RN(e,134217728)}};e9=function(e){if(e.tag===13){var t=ff(e),r=Yu(e,t);if(r!==null){var n=Is();Jl(r,e,t,n)}RN(e,t)}};t9=function(){return Ln};r9=function(e,t){var r=Ln;try{return Ln=e,t()}finally{Ln=r}};uE=function(e,t,r){switch(t){case"input":if(nE(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Yw(n);if(!i)throw Error(mt(90));P7(n),nE(n,i)}}}break;case"textarea":R7(e,r);break;case"select":t=r.value,t!=null&&x0(e,!!r.multiple,t,!1)}};z7=jN;q7=Kh;var YQ={usingClientEntryPoint:!1,Events:[gy,i0,Yw,$7,U7,jN]},U1={findFiberByHostInstance:yh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XQ={bundleType:U1.bundleType,version:U1.version,rendererPackageName:U1.rendererPackageName,rendererConfig:U1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:id.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=V7(e),e===null?null:e.stateNode},findFiberByHostInstance:U1.findFiberByHostInstance||GQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wx.isDisabled&&wx.supportsFiber)try{Hw=wx.inject(XQ),kc=wx}catch{}}qo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YQ;qo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LN(t))throw Error(mt(200));return VQ(e,t,null,r)};qo.createRoot=function(e,t){if(!LN(e))throw Error(mt(299));var r=!1,n="",i=AF;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=MN(e,1,!1,null,null,r,!1,n,i),e[Ku]=t.current,Kg(e.nodeType===8?e.parentNode:e),new DN(t)};qo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=V7(t),e=e===null?null:e.stateNode,e};qo.flushSync=function(e){return Kh(e)};qo.hydrate=function(e,t,r){if(!i_(t))throw Error(mt(200));return a_(null,e,t,!0,r)};qo.hydrateRoot=function(e,t,r){if(!LN(e))throw Error(mt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=AF;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=SF(t,null,e,1,r??null,i,!1,a,s),e[Ku]=t.current,Kg(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new n_(t)};qo.render=function(e,t,r){if(!i_(t))throw Error(mt(200));return a_(null,e,t,!1,r)};qo.unmountComponentAtNode=function(e){if(!i_(e))throw Error(mt(40));return e._reactRootContainer?(Kh(function(){a_(null,null,e,!1,function(){e._reactRootContainer=null,e[Ku]=null})}),!0):!1};qo.unstable_batchedUpdates=jN;qo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!i_(r))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return a_(e,t,r,!1,n)};qo.version="18.3.1-next-f1338f8080-20240426";function EF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EF)}catch(e){console.error(e)}}EF(),E7.exports=qo;var pp=E7.exports;const CF=yn(pp);var NF,hk=pp;NF=hk.createRoot,hk.hydrateRoot;const ZQ=1,QQ=1e6;let SS=0;function JQ(){return SS=(SS+1)%Number.MAX_SAFE_INTEGER,SS.toString()}const AS=new Map,pk=e=>{if(AS.has(e))return;const t=setTimeout(()=>{AS.delete(e),Eg({type:"REMOVE_TOAST",toastId:e})},QQ);AS.set(e,t)},eJ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ZQ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?pk(r):e.toasts.forEach(n=>{pk(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},S2=[];let A2={toasts:[]};function Eg(e){A2=eJ(A2,e),S2.forEach(t=>{t(A2)})}function tJ({...e}){const t=JQ(),r=i=>Eg({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Eg({type:"DISMISS_TOAST",toastId:t});return Eg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function rJ(){const[e,t]=M.useState(A2);return M.useEffect(()=>(S2.push(t),()=>{const r=S2.indexOf(t);r>-1&&S2.splice(r,1)}),[e]),{...e,toast:tJ,dismiss:r=>Eg({type:"DISMISS_TOAST",toastId:r})}}function wt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function mk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function s_(...e){return t=>{let r=!1;const n=e.map(i=>{const a=mk(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():mk(e[i],null)}}}}function Qr(...e){return M.useCallback(s_(...e),e)}function nJ(e,t){const r=M.createContext(t),n=a=>{const{children:s,...o}=a,c=M.useMemo(()=>o,Object.values(o));return d.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function i(a){const s=M.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Ho(e,t=[]){let r=[];function n(a,s){const o=M.createContext(s),c=r.length;r=[...r,s];const u=m=>{var A;const{scope:y,children:g,...S}=m,_=((A=y==null?void 0:y[e])==null?void 0:A[c])||o,w=M.useMemo(()=>S,Object.values(S));return d.jsx(_.Provider,{value:w,children:g})};u.displayName=a+"Provider";function h(m,y){var _;const g=((_=y==null?void 0:y[e])==null?void 0:_[c])||o,S=M.useContext(g);if(S)return S;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,h]}const i=()=>{const a=r.map(s=>M.createContext(s));return function(o){const c=(o==null?void 0:o[e])||a;return M.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[n,iJ(i,...t)]}function iJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const m=c(a)[`__scope${u}`];return{...o,...m}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function Yh(e){const t=sJ(e),r=M.forwardRef((n,i)=>{const{children:a,...s}=n,o=M.Children.toArray(a),c=o.find(oJ);if(c){const u=c.props.children,h=o.map(m=>m===c?M.Children.count(u)>1?M.Children.only(null):M.isValidElement(u)?u.props.children:null:m);return d.jsx(t,{...s,ref:i,children:M.isValidElement(u)?M.cloneElement(u,void 0,h):null})}return d.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var aJ=Yh("Slot");function sJ(e){const t=M.forwardRef((r,n)=>{const{children:i,...a}=r;if(M.isValidElement(i)){const s=cJ(i),o=lJ(a,i.props);return i.type!==M.Fragment&&(o.ref=n?s_(n,s):s),M.cloneElement(i,o)}return M.Children.count(i)>1?M.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OF=Symbol("radix.slottable");function TF(e){const t=({children:r})=>d.jsx(d.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=OF,t}function oJ(e){return M.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OF}function lJ(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function cJ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function o_(e){const t=e+"CollectionProvider",[r,n]=Ho(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=_=>{const{scope:w,children:A}=_,E=me.useRef(null),O=me.useRef(new Map).current;return d.jsx(i,{scope:w,itemMap:O,collectionRef:E,children:A})};s.displayName=t;const o=e+"CollectionSlot",c=Yh(o),u=me.forwardRef((_,w)=>{const{scope:A,children:E}=_,O=a(o,A),I=Qr(w,O.collectionRef);return d.jsx(c,{ref:I,children:E})});u.displayName=o;const h=e+"CollectionItemSlot",m="data-radix-collection-item",y=Yh(h),g=me.forwardRef((_,w)=>{const{scope:A,children:E,...O}=_,I=me.useRef(null),k=Qr(w,I),F=a(h,A);return me.useEffect(()=>(F.itemMap.set(I,{ref:I,...O}),()=>void F.itemMap.delete(I))),d.jsx(y,{[m]:"",ref:k,children:E})});g.displayName=h;function S(_){const w=a(e+"CollectionConsumer",_);return me.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const O=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((F,B)=>O.indexOf(F.ref.current)-O.indexOf(B.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:u,ItemSlot:g},S,n]}var uJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],br=uJ.reduce((e,t)=>{const r=Yh(`Primitive.${t}`),n=M.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function FN(e,t){e&&pp.flushSync(()=>e.dispatchEvent(t))}function io(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function dJ(e,t=globalThis==null?void 0:globalThis.document){const r=io(e);M.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var fJ="DismissableLayer",qE="dismissableLayer.update",hJ="dismissableLayer.pointerDownOutside",pJ="dismissableLayer.focusOutside",gk,jF=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xm=M.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...c}=e,u=M.useContext(jF),[h,m]=M.useState(null),y=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=M.useState({}),S=Qr(t,B=>m(B)),_=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),A=_.indexOf(w),E=h?_.indexOf(h):-1,O=u.layersWithOutsidePointerEventsDisabled.size>0,I=E>=A,k=gJ(B=>{const D=B.target,P=[...u.branches].some(K=>K.contains(D));!I||P||(i==null||i(B),s==null||s(B),B.defaultPrevented||o==null||o())},y),F=vJ(B=>{const D=B.target;[...u.branches].some(K=>K.contains(D))||(a==null||a(B),s==null||s(B),B.defaultPrevented||o==null||o())},y);return dJ(B=>{E===u.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&o&&(B.preventDefault(),o()))},y),M.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gk=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),vk(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=gk)}},[h,y,r,u]),M.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),vk())},[h,u]),M.useEffect(()=>{const B=()=>g({});return document.addEventListener(qE,B),()=>document.removeEventListener(qE,B)},[]),d.jsx(br.div,{...c,ref:S,style:{pointerEvents:O?I?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,F.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,k.onPointerDownCapture)})});Xm.displayName=fJ;var mJ="DismissableLayerBranch",IF=M.forwardRef((e,t)=>{const r=M.useContext(jF),n=M.useRef(null),i=Qr(t,n);return M.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),d.jsx(br.div,{...e,ref:i})});IF.displayName=mJ;function gJ(e,t=globalThis==null?void 0:globalThis.document){const r=io(e),n=M.useRef(!1),i=M.useRef(()=>{});return M.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let c=function(){kF(hJ,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function vJ(e,t=globalThis==null?void 0:globalThis.document){const r=io(e),n=M.useRef(!1);return M.useEffect(()=>{const i=a=>{a.target&&!n.current&&kF(pJ,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vk(){const e=new CustomEvent(qE);document.dispatchEvent(e)}function kF(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?FN(i,a):i.dispatchEvent(a)}var yJ=Xm,xJ=IF,Za=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},bJ="Portal",yy=M.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[i,a]=M.useState(!1);Za(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?CF.createPortal(d.jsx(br.div,{...n,ref:t}),s):null});yy.displayName=bJ;function wJ(e,t){return M.useReducer((r,n)=>t[r][n]??r,e)}var bl=e=>{const{present:t,children:r}=e,n=_J(t),i=typeof r=="function"?r({present:n.isPresent}):M.Children.only(r),a=Qr(n.ref,SJ(i));return typeof r=="function"||n.isPresent?M.cloneElement(i,{ref:a}):null};bl.displayName="Presence";function _J(e){const[t,r]=M.useState(),n=M.useRef(null),i=M.useRef(e),a=M.useRef("none"),s=e?"mounted":"unmounted",[o,c]=wJ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const u=_x(n.current);a.current=o==="mounted"?u:"none"},[o]),Za(()=>{const u=n.current,h=i.current;if(h!==e){const y=a.current,g=_x(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&y!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Za(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,m=g=>{const _=_x(n.current).includes(g.animationName);if(g.target===t&&_&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},y=g=>{g.target===t&&(a.current=_x(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:M.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function _x(e){return(e==null?void 0:e.animationName)||"none"}function SJ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AJ=G4[" useInsertionEffect ".trim().toString()]||Za;function Zu({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,s]=EJ({defaultProp:t,onChange:r}),o=e!==void 0,c=o?e:i;{const h=M.useRef(e!==void 0);M.useEffect(()=>{const m=h.current;m!==o&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,n])}const u=M.useCallback(h=>{var m;if(o){const y=CJ(h)?h(e):h;y!==e&&((m=s.current)==null||m.call(s,y))}else a(h)},[o,e,a,s]);return[c,u]}function EJ({defaultProp:e,onChange:t}){const[r,n]=M.useState(e),i=M.useRef(r),a=M.useRef(t);return AJ(()=>{a.current=t},[t]),M.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function CJ(e){return typeof e=="function"}var PF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NJ="VisuallyHidden",l_=M.forwardRef((e,t)=>d.jsx(br.span,{...e,ref:t,style:{...PF,...e.style}}));l_.displayName=NJ;var OJ=l_,BN="ToastProvider",[$N,TJ,jJ]=o_("Toast"),[MF,O9e]=Ho("Toast",[jJ]),[IJ,c_]=MF(BN),RF=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=e,[o,c]=M.useState(null),[u,h]=M.useState(0),m=M.useRef(!1),y=M.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${BN}\`. Expected non-empty \`string\`.`),d.jsx($N.Provider,{scope:t,children:d.jsx(IJ,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:M.useCallback(()=>h(g=>g+1),[]),onToastRemove:M.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:s})})};RF.displayName=BN;var DF="ToastViewport",kJ=["F8"],WE="toast.viewportPause",HE="toast.viewportResume",LF=M.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=kJ,label:i="Notifications ({hotkey})",...a}=e,s=c_(DF,r),o=TJ(r),c=M.useRef(null),u=M.useRef(null),h=M.useRef(null),m=M.useRef(null),y=Qr(t,m,s.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=s.toastCount>0;M.useEffect(()=>{const w=A=>{var O;n.length!==0&&n.every(I=>A[I]||A.code===I)&&((O=m.current)==null||O.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),M.useEffect(()=>{const w=c.current,A=m.current;if(S&&w&&A){const E=()=>{if(!s.isClosePausedRef.current){const F=new CustomEvent(WE);A.dispatchEvent(F),s.isClosePausedRef.current=!0}},O=()=>{if(s.isClosePausedRef.current){const F=new CustomEvent(HE);A.dispatchEvent(F),s.isClosePausedRef.current=!1}},I=F=>{!w.contains(F.relatedTarget)&&O()},k=()=>{w.contains(document.activeElement)||O()};return w.addEventListener("focusin",E),w.addEventListener("focusout",I),w.addEventListener("pointermove",E),w.addEventListener("pointerleave",k),window.addEventListener("blur",E),window.addEventListener("focus",O),()=>{w.removeEventListener("focusin",E),w.removeEventListener("focusout",I),w.removeEventListener("pointermove",E),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",E),window.removeEventListener("focus",O)}}},[S,s.isClosePausedRef]);const _=M.useCallback(({tabbingDirection:w})=>{const E=o().map(O=>{const I=O.ref.current,k=[I,...HJ(I)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?E.reverse():E).flat()},[o]);return M.useEffect(()=>{const w=m.current;if(w){const A=E=>{var k,F,B;const O=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!O){const D=document.activeElement,P=E.shiftKey;if(E.target===w&&P){(k=u.current)==null||k.focus();return}const z=_({tabbingDirection:P?"backwards":"forwards"}),X=z.findIndex(W=>W===D);ES(z.slice(X+1))?E.preventDefault():P?(F=u.current)==null||F.focus():(B=h.current)==null||B.focus()}};return w.addEventListener("keydown",A),()=>w.removeEventListener("keydown",A)}},[o,_]),d.jsxs(xJ,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&d.jsx(VE,{ref:u,onFocusFromOutsideViewport:()=>{const w=_({tabbingDirection:"forwards"});ES(w)}}),d.jsx($N.Slot,{scope:r,children:d.jsx(br.ol,{tabIndex:-1,...a,ref:y})}),S&&d.jsx(VE,{ref:h,onFocusFromOutsideViewport:()=>{const w=_({tabbingDirection:"backwards"});ES(w)}})]})});LF.displayName=DF;var FF="ToastFocusProxy",VE=M.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=c_(FF,r);return d.jsx(l_,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});VE.displayName=FF;var xy="Toast",PJ="toast.swipeStart",MJ="toast.swipeMove",RJ="toast.swipeCancel",DJ="toast.swipeEnd",BF=M.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=e,[o,c]=Zu({prop:n,defaultProp:i??!0,onChange:a,caller:xy});return d.jsx(bl,{present:r||o,children:d.jsx(BJ,{open:o,...s,ref:t,onClose:()=>c(!1),onPause:io(e.onPause),onResume:io(e.onResume),onSwipeStart:wt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:wt(e.onSwipeMove,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:wt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:wt(e.onSwipeEnd,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});BF.displayName=xy;var[LJ,FJ]=MF(xy,{onClose(){}}),BJ=M.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:g,...S}=e,_=c_(xy,r),[w,A]=M.useState(null),E=Qr(t,W=>A(W)),O=M.useRef(null),I=M.useRef(null),k=i||_.duration,F=M.useRef(0),B=M.useRef(k),D=M.useRef(0),{onToastAdd:P,onToastRemove:K}=_,$=io(()=>{var V;(w==null?void 0:w.contains(document.activeElement))&&((V=_.viewport)==null||V.focus()),s()}),z=M.useCallback(W=>{!W||W===1/0||(window.clearTimeout(D.current),F.current=new Date().getTime(),D.current=window.setTimeout($,W))},[$]);M.useEffect(()=>{const W=_.viewport;if(W){const V=()=>{z(B.current),u==null||u()},Q=()=>{const ne=new Date().getTime()-F.current;B.current=B.current-ne,window.clearTimeout(D.current),c==null||c()};return W.addEventListener(WE,Q),W.addEventListener(HE,V),()=>{W.removeEventListener(WE,Q),W.removeEventListener(HE,V)}}},[_.viewport,k,c,u,z]),M.useEffect(()=>{a&&!_.isClosePausedRef.current&&z(k)},[a,k,_.isClosePausedRef,z]),M.useEffect(()=>(P(),()=>K()),[P,K]);const X=M.useMemo(()=>w?VF(w):null,[w]);return _.viewport?d.jsxs(d.Fragment,{children:[X&&d.jsx($J,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),d.jsx(LJ,{scope:r,onClose:$,children:pp.createPortal(d.jsx($N.ItemSlot,{scope:r,children:d.jsx(yJ,{asChild:!0,onEscapeKeyDown:wt(o,()=>{_.isFocusedToastEscapeKeyDownRef.current||$(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(br.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...S,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:wt(e.onKeyDown,W=>{W.key==="Escape"&&(o==null||o(W.nativeEvent),W.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:wt(e.onPointerDown,W=>{W.button===0&&(O.current={x:W.clientX,y:W.clientY})}),onPointerMove:wt(e.onPointerMove,W=>{if(!O.current)return;const V=W.clientX-O.current.x,Q=W.clientY-O.current.y,ne=!!I.current,te=["left","right"].includes(_.swipeDirection),H=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,le=te?H(0,V):0,fe=te?0:H(0,Q),q=W.pointerType==="touch"?10:2,Z={x:le,y:fe},ae={originalEvent:W,delta:Z};ne?(I.current=Z,Sx(MJ,m,ae,{discrete:!1})):yk(Z,_.swipeDirection,q)?(I.current=Z,Sx(PJ,h,ae,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(V)>q||Math.abs(Q)>q)&&(O.current=null)}),onPointerUp:wt(e.onPointerUp,W=>{const V=I.current,Q=W.target;if(Q.hasPointerCapture(W.pointerId)&&Q.releasePointerCapture(W.pointerId),I.current=null,O.current=null,V){const ne=W.currentTarget,te={originalEvent:W,delta:V};yk(V,_.swipeDirection,_.swipeThreshold)?Sx(DJ,g,te,{discrete:!0}):Sx(RJ,y,te,{discrete:!0}),ne.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),$J=e=>{const{__scopeToast:t,children:r,...n}=e,i=c_(xy,t),[a,s]=M.useState(!1),[o,c]=M.useState(!1);return qJ(()=>s(!0)),M.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:d.jsx(yy,{asChild:!0,children:d.jsx(l_,{...n,children:a&&d.jsxs(d.Fragment,{children:[i.label," ",r]})})})},UJ="ToastTitle",$F=M.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(br.div,{...n,ref:t})});$F.displayName=UJ;var zJ="ToastDescription",UF=M.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(br.div,{...n,ref:t})});UF.displayName=zJ;var zF="ToastAction",qF=M.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?d.jsx(HF,{altText:r,asChild:!0,children:d.jsx(UN,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${zF}\`. Expected non-empty \`string\`.`),null)});qF.displayName=zF;var WF="ToastClose",UN=M.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=FJ(WF,r);return d.jsx(HF,{asChild:!0,children:d.jsx(br.button,{type:"button",...n,ref:t,onClick:wt(e.onClick,i.onClose)})})});UN.displayName=WF;var HF=M.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return d.jsx(br.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function VF(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),WJ(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...VF(n))}}),t}function Sx(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?FN(i,a):i.dispatchEvent(a)}var yk=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function qJ(e=()=>{}){const t=io(e);Za(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function WJ(e){return e.nodeType===e.ELEMENT_NODE}function HJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ES(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var VJ=RF,GF=LF,KF=BF,YF=$F,XF=UF,ZF=qF,QF=UN;function JF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=JF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $r(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=JF(e))&&(n&&(n+=" "),n+=t);return n}const xk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bk=$r,by=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return bk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(u=>{const h=r==null?void 0:r[u],m=a==null?void 0:a[u];if(h===null)return null;const y=xk(h)||xk(m);return i[u][y]}),o=r&&Object.entries(r).reduce((u,h)=>{let[m,y]=h;return y===void 0||(u[m]=y),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:m,className:y,...g}=h;return Object.entries(g).every(S=>{let[_,w]=S;return Array.isArray(w)?w.includes({...a,...o}[_]):{...a,...o}[_]===w})?[...u,m,y]:u},[]);return bk(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>M.createElement("svg",{ref:c,...KJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:eB("lucide",i),...o},[...s.map(([u,h])=>M.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=(e,t)=>{const r=M.forwardRef(({className:n,...i},a)=>M.createElement(YJ,{ref:a,iconNode:t,className:eB(`lucide-${GJ(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=ir("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=ir("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=ir("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=ir("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=ir("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=ir("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=ir("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=ir("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ir("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=ir("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=ir("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=ir("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=ir("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ir("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ir("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=ir("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=ir("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ir("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ir("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ir("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=ir("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=ir("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=ir("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=ir("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=ir("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=ir("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ir("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=ir("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=ir("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=ir("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=ir("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=ir("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ir("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=ir("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ir("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=ir("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=ir("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=ir("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ir("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=ir("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=ir("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ir("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=ir("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ir("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ir("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=ir("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ir("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=ir("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ir("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ir("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ir("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=ir("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=ir("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=ir("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=ir("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=ir("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=ir("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=ir("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=ir("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=ir("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),KN="-",wee=e=>{const t=See(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(KN);return o[0]===""&&o.length!==1&&o.shift(),oB(o,t)||_ee(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},oB=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?oB(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(KN);return(s=t.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},Sk=/^\[(.+)\]$/,_ee=e=>{if(Sk.test(e)){const t=Sk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},See=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Eee(Object.entries(e.classGroups),r).forEach(([a,s])=>{ZE(s,n,a,t)}),n},ZE=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Ak(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(Aee(i)){ZE(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{ZE(s,Ak(t,a),r,n)})})},Ak=(e,t)=>{let r=e;return t.split(KN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Aee=e=>e.isThemeGetter,Eee=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[t+s,o])):a);return[r,i]}):e,Cee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},lB="!",Nee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,s=o=>{const c=[];let u=0,h=0,m;for(let w=0;w<o.length;w++){let A=o[w];if(u===0){if(A===i&&(n||o.slice(w,w+a)===t)){c.push(o.slice(h,w)),h=w+a;continue}if(A==="/"){m=w;continue}}A==="["?u++:A==="]"&&u--}const y=c.length===0?o:o.substring(h),g=y.startsWith(lB),S=g?y.substring(1):y,_=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:_}};return r?o=>r({className:o,parseClassName:s}):s},Oee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Tee=e=>({cache:Cee(e.cacheSize),parseClassName:Nee(e),...wee(e)}),jee=/\s+/,Iee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(jee);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=r(u);let S=!!g,_=n(S?y.substring(0,g):y);if(!_){if(!S){o=u+(o.length>0?" "+o:o);continue}if(_=n(y),!_){o=u+(o.length>0?" "+o:o);continue}S=!1}const w=Oee(h).join(":"),A=m?w+lB:w,E=A+_;if(a.includes(E))continue;a.push(E);const O=i(_,S);for(let I=0;I<O.length;++I){const k=O[I];a.push(A+k)}o=u+(o.length>0?" "+o:o)}return o};function kee(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=cB(t))&&(n&&(n+=" "),n+=r);return n}const cB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=cB(e[n]))&&(r&&(r+=" "),r+=t);return r};function Pee(e,...t){let r,n,i,a=s;function s(c){const u=t.reduce((h,m)=>m(h),e());return r=Tee(u),n=r.cache.get,i=r.cache.set,a=o,o(c)}function o(c){const u=n(c);if(u)return u;const h=Iee(c,r);return i(c,h),h}return function(){return a(kee.apply(null,arguments))}}const si=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},uB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mee=/^\d+\/\d+$/,Ree=new Set(["px","full","screen"]),Dee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$ee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xu=e=>C0(e)||Ree.has(e)||Mee.test(e),Sd=e=>Zm(e,"length",Kee),C0=e=>!!e&&!Number.isNaN(Number(e)),NS=e=>Zm(e,"number",C0),z1=e=>!!e&&Number.isInteger(Number(e)),Uee=e=>e.endsWith("%")&&C0(e.slice(0,-1)),Wr=e=>uB.test(e),Ad=e=>Dee.test(e),zee=new Set(["length","size","percentage"]),qee=e=>Zm(e,zee,dB),Wee=e=>Zm(e,"position",dB),Hee=new Set(["image","url"]),Vee=e=>Zm(e,Hee,Xee),Gee=e=>Zm(e,"",Yee),q1=()=>!0,Zm=(e,t,r)=>{const n=uB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Kee=e=>Lee.test(e)&&!Fee.test(e),dB=()=>!1,Yee=e=>Bee.test(e),Xee=e=>$ee.test(e),Zee=()=>{const e=si("colors"),t=si("spacing"),r=si("blur"),n=si("brightness"),i=si("borderColor"),a=si("borderRadius"),s=si("borderSpacing"),o=si("borderWidth"),c=si("contrast"),u=si("grayscale"),h=si("hueRotate"),m=si("invert"),y=si("gap"),g=si("gradientColorStops"),S=si("gradientColorStopPositions"),_=si("inset"),w=si("margin"),A=si("opacity"),E=si("padding"),O=si("saturate"),I=si("scale"),k=si("sepia"),F=si("skew"),B=si("space"),D=si("translate"),P=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Wr,t],z=()=>[Wr,t],X=()=>["",xu,Sd],W=()=>["auto",C0,Wr],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Wr],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[C0,Wr];return{cacheSize:500,separator:":",theme:{colors:[q1],spacing:[xu,Sd],blur:["none","",Ad,Wr],brightness:fe(),borderColor:[e],borderRadius:["none","","full",Ad,Wr],borderSpacing:z(),borderWidth:X(),contrast:fe(),grayscale:H(),hueRotate:fe(),invert:H(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[Uee,Sd],inset:$(),margin:$(),opacity:fe(),padding:z(),saturate:fe(),scale:fe(),sepia:H(),skew:fe(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Wr]}],container:["container"],columns:[{columns:[Ad]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Wr]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",z1,Wr]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Wr]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",z1,Wr]}],"grid-cols":[{"grid-cols":[q1]}],"col-start-end":[{col:["auto",{span:["full",z1,Wr]},Wr]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[q1]}],"row-start-end":[{row:["auto",{span:[z1,Wr]},Wr]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Wr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Wr]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Wr,t]}],"min-w":[{"min-w":[Wr,t,"min","max","fit"]}],"max-w":[{"max-w":[Wr,t,"none","full","min","max","fit","prose",{screen:[Ad]},Ad]}],h:[{h:[Wr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Wr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Wr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Wr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ad,Sd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",NS]}],"font-family":[{font:[q1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Wr]}],"line-clamp":[{"line-clamp":["none",C0,NS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xu,Wr]}],"list-image":[{"list-image":["none",Wr]}],"list-style-type":[{list:["none","disc","decimal",Wr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xu,Sd]}],"underline-offset":[{"underline-offset":["auto",xu,Wr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Wee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Vee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[xu,Wr]}],"outline-w":[{outline:[xu,Sd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[xu,Sd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ad,Gee]}],"shadow-color":[{shadow:[q1]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ad,Wr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[O]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Wr]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Wr]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Wr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[z1,Wr]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Wr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xu,Sd,NS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qee=Pee(Zee);function Mt(...e){return Qee($r(e))}const Jee=VJ,fB=M.forwardRef(({className:e,...t},r)=>d.jsx(GF,{ref:r,className:Mt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));fB.displayName=GF.displayName;const ete=by("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hB=M.forwardRef(({className:e,variant:t,...r},n)=>d.jsx(KF,{ref:n,className:Mt(ete({variant:t}),e),...r}));hB.displayName=KF.displayName;const tte=M.forwardRef(({className:e,...t},r)=>d.jsx(ZF,{ref:r,className:Mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));tte.displayName=ZF.displayName;const pB=M.forwardRef(({className:e,...t},r)=>d.jsx(QF,{ref:r,className:Mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(d_,{className:"h-4 w-4"})}));pB.displayName=QF.displayName;const mB=M.forwardRef(({className:e,...t},r)=>d.jsx(YF,{ref:r,className:Mt("text-sm font-semibold",e),...t}));mB.displayName=YF.displayName;const gB=M.forwardRef(({className:e,...t},r)=>d.jsx(XF,{ref:r,className:Mt("text-sm opacity-90",e),...t}));gB.displayName=XF.displayName;function rte(){const{toasts:e}=rJ();return d.jsxs(Jee,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return d.jsxs(hB,{...a,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(mB,{children:r}),n&&d.jsx(gB,{children:n})]}),i,d.jsx(pB,{})]},t)}),d.jsx(fB,{})]})}var Ek=["light","dark"],nte="(prefers-color-scheme: dark)",ite=M.createContext(void 0),ate={setTheme:e=>{},themes:[]},ste=()=>{var e;return(e=M.useContext(ite))!=null?e:ate};M.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:c})=>{let u=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=i?Ek.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(S,_=!1,w=!0)=>{let A=s?s[S]:S,E=_?S+"|| ''":`'${A}'`,O="";return i&&w&&!_&&Ek.includes(S)&&(O+=`d.style.colorScheme = '${S}';`),r==="class"?_||A?O+=`c.add(${E})`:O+="null":A&&(O+=`d[s](n,${E})`),O},g=e?`!function(){${h}${y(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${nte}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${y(s?"x[e]":"e",!0)}}${u?"":"else{"+y(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${y(s?"x[e]":"e",!0)}}else{${y(a,!1,!1)};}${m}}catch(t){}}();`;return M.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var ote=e=>{switch(e){case"success":return ute;case"info":return fte;case"warning":return dte;case"error":return hte;default:return null}},lte=Array(12).fill(0),cte=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},lte.map((r,n)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ute=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dte=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fte=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hte=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pte=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mte=()=>{let[e,t]=me.useState(document.hidden);return me.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},QE=1,gte=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:QE++,s=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:o,title:n}):c):this.addToast({title:n,...i,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=t instanceof Promise?t:t(),a=n!==void 0,s,o=i.then(async u=>{if(s=["resolve",u],me.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(yte(u)&&!u.ok){a=!1;let h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:h,description:m})}else if(r.success!==void 0){a=!1;let h=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:h,description:m})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){a=!1;let h=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:h,description:m})}}).finally(()=>{var u;a&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,h)=>o.then(()=>s[0]==="reject"?h(s[1]):u(s[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||QE++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Gs=new gte,vte=(e,t)=>{let r=(t==null?void 0:t.id)||QE++;return Gs.addToast({title:e,...t,id:r}),r},yte=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",xte=vte,bte=()=>Gs.toasts,wte=()=>Gs.getActiveToasts(),ut=Object.assign(xte,{success:Gs.success,info:Gs.info,warning:Gs.warning,error:Gs.error,custom:Gs.custom,message:Gs.message,promise:Gs.promise,dismiss:Gs.dismiss,loading:Gs.loading},{getHistory:bte,getToasts:wte});function _te(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}_te(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ax(e){return e.label!==void 0}var Ste=3,Ate="32px",Ete="16px",Ck=4e3,Cte=356,Nte=14,Ote=20,Tte=200;function Rl(...e){return e.filter(Boolean).join(" ")}function jte(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Ite=e=>{var t,r,n,i,a,s,o,c,u,h,m;let{invert:y,toast:g,unstyled:S,interacting:_,setHeights:w,visibleToasts:A,heights:E,index:O,toasts:I,expanded:k,removeToast:F,defaultRichColors:B,closeButton:D,style:P,cancelButtonStyle:K,actionButtonStyle:$,className:z="",descriptionClassName:X="",duration:W,position:V,gap:Q,loadingIcon:ne,expandByDefault:te,classNames:H,icons:le,closeButtonAriaLabel:fe="Close toast",pauseWhenPageIsHidden:q}=e,[Z,ae]=me.useState(null),[ge,he]=me.useState(null),[Se,Ae]=me.useState(!1),[ye,Ne]=me.useState(!1),[Ee,Ce]=me.useState(!1),[Re,je]=me.useState(!1),[de,it]=me.useState(!1),[ft,Ye]=me.useState(0),[Be,_t]=me.useState(0),qe=me.useRef(g.duration||W||Ck),It=me.useRef(null),Ct=me.useRef(null),Vt=O===0,Gt=O+1<=A,vt=g.type,hr=g.dismissible!==!1,Kt=g.className||"",Et=g.descriptionClassName||"",sr=me.useMemo(()=>E.findIndex(Yt=>Yt.toastId===g.id)||0,[E,g.id]),kt=me.useMemo(()=>{var Yt;return(Yt=g.closeButton)!=null?Yt:D},[g.closeButton,D]),Ur=me.useMemo(()=>g.duration||W||Ck,[g.duration,W]),Zt=me.useRef(0),He=me.useRef(0),$t=me.useRef(0),Qt=me.useRef(null),[Nt,Lr]=V.split("-"),_r=me.useMemo(()=>E.reduce((Yt,Nr,wr)=>wr>=sr?Yt:Yt+Nr.height,0),[E,sr]),qn=mte(),pr=g.invert||y,Gr=vt==="loading";He.current=me.useMemo(()=>sr*Q+_r,[sr,_r]),me.useEffect(()=>{qe.current=Ur},[Ur]),me.useEffect(()=>{Ae(!0)},[]),me.useEffect(()=>{let Yt=Ct.current;if(Yt){let Nr=Yt.getBoundingClientRect().height;return _t(Nr),w(wr=>[{toastId:g.id,height:Nr,position:g.position},...wr]),()=>w(wr=>wr.filter(Nn=>Nn.toastId!==g.id))}},[w,g.id]),me.useLayoutEffect(()=>{if(!Se)return;let Yt=Ct.current,Nr=Yt.style.height;Yt.style.height="auto";let wr=Yt.getBoundingClientRect().height;Yt.style.height=Nr,_t(wr),w(Nn=>Nn.find(Rt=>Rt.toastId===g.id)?Nn.map(Rt=>Rt.toastId===g.id?{...Rt,height:wr}:Rt):[{toastId:g.id,height:wr,position:g.position},...Nn])},[Se,g.title,g.description,w,g.id]);let lr=me.useCallback(()=>{Ne(!0),Ye(He.current),w(Yt=>Yt.filter(Nr=>Nr.toastId!==g.id)),setTimeout(()=>{F(g)},Tte)},[g,F,w,He]);me.useEffect(()=>{if(g.promise&&vt==="loading"||g.duration===1/0||g.type==="loading")return;let Yt;return k||_||q&&qn?(()=>{if($t.current<Zt.current){let Nr=new Date().getTime()-Zt.current;qe.current=qe.current-Nr}$t.current=new Date().getTime()})():qe.current!==1/0&&(Zt.current=new Date().getTime(),Yt=setTimeout(()=>{var Nr;(Nr=g.onAutoClose)==null||Nr.call(g,g),lr()},qe.current)),()=>clearTimeout(Yt)},[k,_,g,vt,q,qn,lr]),me.useEffect(()=>{g.delete&&lr()},[lr,g.delete]);function rn(){var Yt,Nr,wr;return le!=null&&le.loading?me.createElement("div",{className:Rl(H==null?void 0:H.loader,(Yt=g==null?void 0:g.classNames)==null?void 0:Yt.loader,"sonner-loader"),"data-visible":vt==="loading"},le.loading):ne?me.createElement("div",{className:Rl(H==null?void 0:H.loader,(Nr=g==null?void 0:g.classNames)==null?void 0:Nr.loader,"sonner-loader"),"data-visible":vt==="loading"},ne):me.createElement(cte,{className:Rl(H==null?void 0:H.loader,(wr=g==null?void 0:g.classNames)==null?void 0:wr.loader),visible:vt==="loading"})}return me.createElement("li",{tabIndex:0,ref:Ct,className:Rl(z,Kt,H==null?void 0:H.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[vt],(r=g==null?void 0:g.classNames)==null?void 0:r[vt]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:B,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":Se,"data-promise":!!g.promise,"data-swiped":de,"data-removed":ye,"data-visible":Gt,"data-y-position":Nt,"data-x-position":Lr,"data-index":O,"data-front":Vt,"data-swiping":Ee,"data-dismissible":hr,"data-type":vt,"data-invert":pr,"data-swipe-out":Re,"data-swipe-direction":ge,"data-expanded":!!(k||te&&Se),style:{"--index":O,"--toasts-before":O,"--z-index":I.length-O,"--offset":`${ye?ft:He.current}px`,"--initial-height":te?"auto":`${Be}px`,...P,...g.style},onDragEnd:()=>{Ce(!1),ae(null),Qt.current=null},onPointerDown:Yt=>{Gr||!hr||(It.current=new Date,Ye(He.current),Yt.target.setPointerCapture(Yt.pointerId),Yt.target.tagName!=="BUTTON"&&(Ce(!0),Qt.current={x:Yt.clientX,y:Yt.clientY}))},onPointerUp:()=>{var Yt,Nr,wr,Nn;if(Re||!hr)return;Qt.current=null;let Rt=Number(((Yt=Ct.current)==null?void 0:Yt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),On=Number(((Nr=Ct.current)==null?void 0:Nr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ca=new Date().getTime()-((wr=It.current)==null?void 0:wr.getTime()),hn=Z==="x"?Rt:On,ri=Math.abs(hn)/ca;if(Math.abs(hn)>=Ote||ri>.11){Ye(He.current),(Nn=g.onDismiss)==null||Nn.call(g,g),he(Z==="x"?Rt>0?"right":"left":On>0?"down":"up"),lr(),je(!0),it(!1);return}Ce(!1),ae(null)},onPointerMove:Yt=>{var Nr,wr,Nn,Rt;if(!Qt.current||!hr||((Nr=window.getSelection())==null?void 0:Nr.toString().length)>0)return;let On=Yt.clientY-Qt.current.y,ca=Yt.clientX-Qt.current.x,hn=(wr=e.swipeDirections)!=null?wr:jte(V);!Z&&(Math.abs(ca)>1||Math.abs(On)>1)&&ae(Math.abs(ca)>Math.abs(On)?"x":"y");let ri={x:0,y:0};Z==="y"?(hn.includes("top")||hn.includes("bottom"))&&(hn.includes("top")&&On<0||hn.includes("bottom")&&On>0)&&(ri.y=On):Z==="x"&&(hn.includes("left")||hn.includes("right"))&&(hn.includes("left")&&ca<0||hn.includes("right")&&ca>0)&&(ri.x=ca),(Math.abs(ri.x)>0||Math.abs(ri.y)>0)&&it(!0),(Nn=Ct.current)==null||Nn.style.setProperty("--swipe-amount-x",`${ri.x}px`),(Rt=Ct.current)==null||Rt.style.setProperty("--swipe-amount-y",`${ri.y}px`)}},kt&&!g.jsx?me.createElement("button",{"aria-label":fe,"data-disabled":Gr,"data-close-button":!0,onClick:Gr||!hr?()=>{}:()=>{var Yt;lr(),(Yt=g.onDismiss)==null||Yt.call(g,g)},className:Rl(H==null?void 0:H.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(a=le==null?void 0:le.close)!=null?a:pte):null,g.jsx||M.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:me.createElement(me.Fragment,null,vt||g.icon||g.promise?me.createElement("div",{"data-icon":"",className:Rl(H==null?void 0:H.icon,(s=g==null?void 0:g.classNames)==null?void 0:s.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||rn():null,g.type!=="loading"?g.icon||(le==null?void 0:le[vt])||ote(vt):null):null,me.createElement("div",{"data-content":"",className:Rl(H==null?void 0:H.content,(o=g==null?void 0:g.classNames)==null?void 0:o.content)},me.createElement("div",{"data-title":"",className:Rl(H==null?void 0:H.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?me.createElement("div",{"data-description":"",className:Rl(X,Et,H==null?void 0:H.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),M.isValidElement(g.cancel)?g.cancel:g.cancel&&Ax(g.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||K,onClick:Yt=>{var Nr,wr;Ax(g.cancel)&&hr&&((wr=(Nr=g.cancel).onClick)==null||wr.call(Nr,Yt),lr())},className:Rl(H==null?void 0:H.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,M.isValidElement(g.action)?g.action:g.action&&Ax(g.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||$,onClick:Yt=>{var Nr,wr;Ax(g.action)&&((wr=(Nr=g.action).onClick)==null||wr.call(Nr,Yt),!Yt.defaultPrevented&&lr())},className:Rl(H==null?void 0:H.actionButton,(m=g==null?void 0:g.classNames)==null?void 0:m.actionButton)},g.action.label):null))};function Nk(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kte(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",o=a?Ete:Ate;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${s}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=o:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(o)}),r}var Pte=M.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:c,mobileOffset:u,theme:h="light",richColors:m,duration:y,style:g,visibleToasts:S=Ste,toastOptions:_,dir:w=Nk(),gap:A=Nte,loadingIcon:E,icons:O,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:k}=e,[F,B]=me.useState([]),D=me.useMemo(()=>Array.from(new Set([n].concat(F.filter(q=>q.position).map(q=>q.position)))),[F,n]),[P,K]=me.useState([]),[$,z]=me.useState(!1),[X,W]=me.useState(!1),[V,Q]=me.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=me.useRef(null),te=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=me.useRef(null),le=me.useRef(!1),fe=me.useCallback(q=>{B(Z=>{var ae;return(ae=Z.find(ge=>ge.id===q.id))!=null&&ae.delete||Gs.dismiss(q.id),Z.filter(({id:ge})=>ge!==q.id)})},[]);return me.useEffect(()=>Gs.subscribe(q=>{if(q.dismiss){B(Z=>Z.map(ae=>ae.id===q.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{CF.flushSync(()=>{B(Z=>{let ae=Z.findIndex(ge=>ge.id===q.id);return ae!==-1?[...Z.slice(0,ae),{...Z[ae],...q},...Z.slice(ae+1)]:[q,...Z]})})})}),[]),me.useEffect(()=>{if(h!=="system"){Q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:Z})=>{Q(Z?"dark":"light")})}catch{q.addListener(({matches:ae})=>{try{Q(ae?"dark":"light")}catch(ge){console.error(ge)}})}},[h]),me.useEffect(()=>{F.length<=1&&z(!1)},[F]),me.useEffect(()=>{let q=Z=>{var ae,ge;i.every(he=>Z[he]||Z.code===he)&&(z(!0),(ae=ne.current)==null||ae.focus()),Z.code==="Escape"&&(document.activeElement===ne.current||(ge=ne.current)!=null&&ge.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[i]),me.useEffect(()=>{if(ne.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,le.current=!1)}},[ne.current]),me.createElement("section",{ref:t,"aria-label":`${I} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((q,Z)=>{var ae;let[ge,he]=q.split("-");return F.length?me.createElement("ol",{key:q,dir:w==="auto"?Nk():w,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":ge,"data-lifted":$&&F.length>1&&!a,"data-x-position":he,style:{"--front-toast-height":`${((ae=P[0])==null?void 0:ae.height)||0}px`,"--width":`${Cte}px`,"--gap":`${A}px`,...g,...kte(c,u)},onBlur:Se=>{le.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(le.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||le.current||(le.current=!0,H.current=Se.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{X||z(!1)},onDragEnd:()=>z(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},F.filter(Se=>!Se.position&&Z===0||Se.position===q).map((Se,Ae)=>{var ye,Ne;return me.createElement(Ite,{key:Se.id,icons:O,index:Ae,toast:Se,defaultRichColors:m,duration:(ye=_==null?void 0:_.duration)!=null?ye:y,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:r,visibleToasts:S,closeButton:(Ne=_==null?void 0:_.closeButton)!=null?Ne:s,interacting:X,position:q,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:fe,toasts:F.filter(Ee=>Ee.position==Se.position),heights:P.filter(Ee=>Ee.position==Se.position),setHeights:K,expandByDefault:a,gap:A,loadingIcon:E,expanded:$,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});const Mte=({...e})=>{const{theme:t="system"}=ste();return d.jsx(Pte,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Rte=G4[" useId ".trim().toString()]||(()=>{}),Dte=0;function Mc(e){const[t,r]=M.useState(Rte());return Za(()=>{e||r(n=>n??String(Dte++))},[e]),e||(t?`radix-${t}`:"")}const Lte=["top","right","bottom","left"],Nf=Math.min,Oo=Math.max,ub=Math.round,Ex=Math.floor,Rc=e=>({x:e,y:e}),Fte={left:"right",right:"left",bottom:"top",top:"bottom"},Bte={start:"end",end:"start"};function JE(e,t,r){return Oo(e,Nf(t,r))}function Qu(e,t){return typeof e=="function"?e(t):e}function Ju(e){return e.split("-")[0]}function Qm(e){return e.split("-")[1]}function YN(e){return e==="x"?"y":"x"}function XN(e){return e==="y"?"height":"width"}const $te=new Set(["top","bottom"]);function Tc(e){return $te.has(Ju(e))?"y":"x"}function ZN(e){return YN(Tc(e))}function Ute(e,t,r){r===void 0&&(r=!1);const n=Qm(e),i=ZN(e),a=XN(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=db(s)),[s,db(s)]}function zte(e){const t=db(e);return[eC(e),t,eC(t)]}function eC(e){return e.replace(/start|end/g,t=>Bte[t])}const Ok=["left","right"],Tk=["right","left"],qte=["top","bottom"],Wte=["bottom","top"];function Hte(e,t,r){switch(e){case"top":case"bottom":return r?t?Tk:Ok:t?Ok:Tk;case"left":case"right":return t?qte:Wte;default:return[]}}function Vte(e,t,r,n){const i=Qm(e);let a=Hte(Ju(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(eC)))),a}function db(e){return e.replace(/left|right|bottom|top/g,t=>Fte[t])}function Gte(e){return{top:0,right:0,bottom:0,left:0,...e}}function vB(e){return typeof e!="number"?Gte(e):{top:e,right:e,bottom:e,left:e}}function fb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function jk(e,t,r){let{reference:n,floating:i}=e;const a=Tc(t),s=ZN(t),o=XN(s),c=Ju(t),u=a==="y",h=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,y=n[o]/2-i[o]/2;let g;switch(c){case"top":g={x:h,y:n.y-i.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-i.width,y:m};break;default:g={x:n.x,y:n.y}}switch(Qm(t)){case"start":g[s]-=y*(r&&u?-1:1);break;case"end":g[s]+=y*(r&&u?-1:1);break}return g}const Kte=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=jk(u,n,c),y=n,g={},S=0;for(let _=0;_<o.length;_++){const{name:w,fn:A}=o[_],{x:E,y:O,data:I,reset:k}=await A({x:h,y:m,initialPlacement:n,placement:y,strategy:i,middlewareData:g,rects:u,platform:s,elements:{reference:e,floating:t}});h=E??h,m=O??m,g={...g,[w]:{...g[w],...I}},k&&S<=50&&(S++,typeof k=="object"&&(k.placement&&(y=k.placement),k.rects&&(u=k.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:h,y:m}=jk(u,y,c)),_=-1)}return{x:h,y:m,placement:y,strategy:i,middlewareData:g}};async function iv(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:y=!1,padding:g=0}=Qu(t,e),S=vB(g),w=o[y?m==="floating"?"reference":"floating":m],A=fb(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:c})),E=m==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),I=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},k=fb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:E,offsetParent:O,strategy:c}):E);return{top:(A.top-k.top+S.top)/I.y,bottom:(k.bottom-A.bottom+S.bottom)/I.y,left:(A.left-k.left+S.left)/I.x,right:(k.right-A.right+S.right)/I.x}}const Yte=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:c}=t,{element:u,padding:h=0}=Qu(e,t)||{};if(u==null)return{};const m=vB(h),y={x:r,y:n},g=ZN(i),S=XN(g),_=await s.getDimensions(u),w=g==="y",A=w?"top":"left",E=w?"bottom":"right",O=w?"clientHeight":"clientWidth",I=a.reference[S]+a.reference[g]-y[g]-a.floating[S],k=y[g]-a.reference[g],F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let B=F?F[O]:0;(!B||!await(s.isElement==null?void 0:s.isElement(F)))&&(B=o.floating[O]||a.floating[S]);const D=I/2-k/2,P=B/2-_[S]/2-1,K=Nf(m[A],P),$=Nf(m[E],P),z=K,X=B-_[S]-$,W=B/2-_[S]/2+D,V=JE(z,W,X),Q=!c.arrow&&Qm(i)!=null&&W!==V&&a.reference[S]/2-(W<z?K:$)-_[S]/2<0,ne=Q?W<z?W-z:W-X:0;return{[g]:y[g]+ne,data:{[g]:V,centerOffset:W-V-ne,...Q&&{alignmentOffset:ne}},reset:Q}}}),Xte=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...w}=Qu(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const A=Ju(i),E=Tc(o),O=Ju(o)===o,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=y||(O||!_?[db(o)]:zte(o)),F=S!=="none";!y&&F&&k.push(...Vte(o,_,S,I));const B=[o,...k],D=await iv(t,w),P=[];let K=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&P.push(D[A]),m){const W=Ute(i,s,I);P.push(D[W[0]],D[W[1]])}if(K=[...K,{placement:i,overflows:P}],!P.every(W=>W<=0)){var $,z;const W=((($=a.flip)==null?void 0:$.index)||0)+1,V=B[W];if(V&&(!(m==="alignment"?E!==Tc(V):!1)||K.every(te=>te.overflows[0]>0&&Tc(te.placement)===E)))return{data:{index:W,overflows:K},reset:{placement:V}};let Q=(z=K.filter(ne=>ne.overflows[0]<=0).sort((ne,te)=>ne.overflows[1]-te.overflows[1])[0])==null?void 0:z.placement;if(!Q)switch(g){case"bestFit":{var X;const ne=(X=K.filter(te=>{if(F){const H=Tc(te.placement);return H===E||H==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(H=>H>0).reduce((H,le)=>H+le,0)]).sort((te,H)=>te[1]-H[1])[0])==null?void 0:X[0];ne&&(Q=ne);break}case"initialPlacement":Q=o;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function Ik(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kk(e){return Lte.some(t=>e[t]>=0)}const Zte=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Qu(e,t);switch(n){case"referenceHidden":{const a=await iv(t,{...i,elementContext:"reference"}),s=Ik(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:kk(s)}}}case"escaped":{const a=await iv(t,{...i,altBoundary:!0}),s=Ik(a,r.floating);return{data:{escapedOffsets:s,escaped:kk(s)}}}default:return{}}}}},yB=new Set(["left","top"]);async function Qte(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Ju(r),o=Qm(r),c=Tc(r)==="y",u=yB.has(s)?-1:1,h=a&&c?-1:1,m=Qu(t,e);let{mainAxis:y,crossAxis:g,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof S=="number"&&(g=o==="end"?S*-1:S),c?{x:g*h,y:y*u}:{x:y*u,y:g*h}}const Jte=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=t,c=await Qte(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},ere=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:w=>{let{x:A,y:E}=w;return{x:A,y:E}}},...c}=Qu(e,t),u={x:r,y:n},h=await iv(t,c),m=Tc(Ju(i)),y=YN(m);let g=u[y],S=u[m];if(a){const w=y==="y"?"top":"left",A=y==="y"?"bottom":"right",E=g+h[w],O=g-h[A];g=JE(E,g,O)}if(s){const w=m==="y"?"top":"left",A=m==="y"?"bottom":"right",E=S+h[w],O=S-h[A];S=JE(E,S,O)}const _=o.fn({...t,[y]:g,[m]:S});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[y]:a,[m]:s}}}}}},tre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Qu(e,t),h={x:r,y:n},m=Tc(i),y=YN(m);let g=h[y],S=h[m];const _=Qu(o,t),w=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const O=y==="y"?"height":"width",I=a.reference[y]-a.floating[O]+w.mainAxis,k=a.reference[y]+a.reference[O]-w.mainAxis;g<I?g=I:g>k&&(g=k)}if(u){var A,E;const O=y==="y"?"width":"height",I=yB.has(Ju(i)),k=a.reference[m]-a.floating[O]+(I&&((A=s.offset)==null?void 0:A[m])||0)+(I?0:w.crossAxis),F=a.reference[m]+a.reference[O]+(I?0:((E=s.offset)==null?void 0:E[m])||0)-(I?w.crossAxis:0);S<k?S=k:S>F&&(S=F)}return{[y]:g,[m]:S}}}},rre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:c=()=>{},...u}=Qu(e,t),h=await iv(t,u),m=Ju(i),y=Qm(i),g=Tc(i)==="y",{width:S,height:_}=a.floating;let w,A;m==="top"||m==="bottom"?(w=m,A=y===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(A=m,w=y==="end"?"top":"bottom");const E=_-h.top-h.bottom,O=S-h.left-h.right,I=Nf(_-h[w],E),k=Nf(S-h[A],O),F=!t.middlewareData.shift;let B=I,D=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=O),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(B=E),F&&!y){const K=Oo(h.left,0),$=Oo(h.right,0),z=Oo(h.top,0),X=Oo(h.bottom,0);g?D=S-2*(K!==0||$!==0?K+$:Oo(h.left,h.right)):B=_-2*(z!==0||X!==0?z+X:Oo(h.top,h.bottom))}await c({...t,availableWidth:D,availableHeight:B});const P=await s.getDimensions(o.floating);return S!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function f_(){return typeof window<"u"}function Jm(e){return xB(e)?(e.nodeName||"").toLowerCase():"#document"}function Fo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kc(e){var t;return(t=(xB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xB(e){return f_()?e instanceof Node||e instanceof Fo(e).Node:!1}function rc(e){return f_()?e instanceof Element||e instanceof Fo(e).Element:!1}function Hc(e){return f_()?e instanceof HTMLElement||e instanceof Fo(e).HTMLElement:!1}function Pk(e){return!f_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fo(e).ShadowRoot}const nre=new Set(["inline","contents"]);function wy(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=nc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!nre.has(i)}const ire=new Set(["table","td","th"]);function are(e){return ire.has(Jm(e))}const sre=[":popover-open",":modal"];function h_(e){return sre.some(t=>{try{return e.matches(t)}catch{return!1}})}const ore=["transform","translate","scale","rotate","perspective"],lre=["transform","translate","scale","rotate","perspective","filter"],cre=["paint","layout","strict","content"];function QN(e){const t=JN(),r=rc(e)?nc(e):e;return ore.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||lre.some(n=>(r.willChange||"").includes(n))||cre.some(n=>(r.contain||"").includes(n))}function ure(e){let t=Of(e);for(;Hc(t)&&!cm(t);){if(QN(t))return t;if(h_(t))return null;t=Of(t)}return null}function JN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dre=new Set(["html","body","#document"]);function cm(e){return dre.has(Jm(e))}function nc(e){return Fo(e).getComputedStyle(e)}function p_(e){return rc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Of(e){if(Jm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pk(e)&&e.host||Kc(e);return Pk(t)?t.host:t}function bB(e){const t=Of(e);return cm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hc(t)&&wy(t)?t:bB(t)}function av(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=bB(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),s=Fo(i);if(a){const o=tC(s);return t.concat(s,s.visualViewport||[],wy(i)?i:[],o&&r?av(o):[])}return t.concat(i,av(i,[],r))}function tC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wB(e){const t=nc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Hc(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,o=ub(r)!==a||ub(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function eO(e){return rc(e)?e:e.contextElement}function N0(e){const t=eO(e);if(!Hc(t))return Rc(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=wB(t);let s=(a?ub(r.width):r.width)/n,o=(a?ub(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const fre=Rc(0);function _B(e){const t=Fo(e);return!JN()||!t.visualViewport?fre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Fo(e)?!1:t}function Xh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=eO(e);let s=Rc(1);t&&(n?rc(n)&&(s=N0(n)):s=N0(e));const o=hre(a,r,n)?_B(a):Rc(0);let c=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,h=i.width/s.x,m=i.height/s.y;if(a){const y=Fo(a),g=n&&rc(n)?Fo(n):n;let S=y,_=tC(S);for(;_&&n&&g!==S;){const w=N0(_),A=_.getBoundingClientRect(),E=nc(_),O=A.left+(_.clientLeft+parseFloat(E.paddingLeft))*w.x,I=A.top+(_.clientTop+parseFloat(E.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,m*=w.y,c+=O,u+=I,S=Fo(_),_=tC(S)}}return fb({width:h,height:m,x:c,y:u})}function tO(e,t){const r=p_(e).scrollLeft;return t?t.left+r:Xh(Kc(e)).left+r}function SB(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:tO(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function pre(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",s=Kc(n),o=t?h_(t.floating):!1;if(n===s||o&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Rc(1);const h=Rc(0),m=Hc(n);if((m||!m&&!a)&&((Jm(n)!=="body"||wy(s))&&(c=p_(n)),Hc(n))){const g=Xh(n);u=N0(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const y=s&&!m&&!a?SB(s,c,!0):Rc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+y.x,y:r.y*u.y-c.scrollTop*u.y+h.y+y.y}}function mre(e){return Array.from(e.getClientRects())}function gre(e){const t=Kc(e),r=p_(e),n=e.ownerDocument.body,i=Oo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Oo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+tO(e);const o=-r.scrollTop;return nc(n).direction==="rtl"&&(s+=Oo(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function vre(e,t){const r=Fo(e),n=Kc(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,c=0;if(i){a=i.width,s=i.height;const u=JN();(!u||u&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:o,y:c}}const yre=new Set(["absolute","fixed"]);function xre(e,t){const r=Xh(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Hc(e)?N0(e):Rc(1),s=e.clientWidth*a.x,o=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:s,height:o,x:c,y:u}}function Mk(e,t,r){let n;if(t==="viewport")n=vre(e,r);else if(t==="document")n=gre(Kc(e));else if(rc(t))n=xre(t,r);else{const i=_B(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return fb(n)}function AB(e,t){const r=Of(e);return r===t||!rc(r)||cm(r)?!1:nc(r).position==="fixed"||AB(r,t)}function bre(e,t){const r=t.get(e);if(r)return r;let n=av(e,[],!1).filter(o=>rc(o)&&Jm(o)!=="body"),i=null;const a=nc(e).position==="fixed";let s=a?Of(e):e;for(;rc(s)&&!cm(s);){const o=nc(s),c=QN(s);!c&&o.position==="fixed"&&(i=null),(a?!c&&!i:!c&&o.position==="static"&&!!i&&yre.has(i.position)||wy(s)&&!c&&AB(e,s))?n=n.filter(h=>h!==s):i=o,s=Of(s)}return t.set(e,n),n}function wre(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?h_(t)?[]:bre(t,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,h)=>{const m=Mk(t,h,i);return u.top=Oo(m.top,u.top),u.right=Nf(m.right,u.right),u.bottom=Nf(m.bottom,u.bottom),u.left=Oo(m.left,u.left),u},Mk(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _re(e){const{width:t,height:r}=wB(e);return{width:t,height:r}}function Sre(e,t,r){const n=Hc(t),i=Kc(t),a=r==="fixed",s=Xh(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=Rc(0);function u(){c.x=tO(i)}if(n||!n&&!a)if((Jm(t)!=="body"||wy(i))&&(o=p_(t)),n){const g=Xh(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();a&&!n&&i&&u();const h=i&&!n&&!a?SB(i,o):Rc(0),m=s.left+o.scrollLeft-c.x-h.x,y=s.top+o.scrollTop-c.y-h.y;return{x:m,y,width:s.width,height:s.height}}function OS(e){return nc(e).position==="static"}function Rk(e,t){if(!Hc(e)||nc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Kc(e)===r&&(r=r.ownerDocument.body),r}function EB(e,t){const r=Fo(e);if(h_(e))return r;if(!Hc(e)){let i=Of(e);for(;i&&!cm(i);){if(rc(i)&&!OS(i))return i;i=Of(i)}return r}let n=Rk(e,t);for(;n&&are(n)&&OS(n);)n=Rk(n,t);return n&&cm(n)&&OS(n)&&!QN(n)?r:n||ure(e)||r}const Are=async function(e){const t=this.getOffsetParent||EB,r=this.getDimensions,n=await r(e.floating);return{reference:Sre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ere(e){return nc(e).direction==="rtl"}const Cre={convertOffsetParentRelativeRectToViewportRelativeRect:pre,getDocumentElement:Kc,getClippingRect:wre,getOffsetParent:EB,getElementRects:Are,getClientRects:mre,getDimensions:_re,getScale:N0,isElement:rc,isRTL:Ere};function CB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Nre(e,t){let r=null,n;const i=Kc(e);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:m,width:y,height:g}=u;if(o||t(),!y||!g)return;const S=Ex(m),_=Ex(i.clientWidth-(h+y)),w=Ex(i.clientHeight-(m+g)),A=Ex(h),O={rootMargin:-S+"px "+-_+"px "+-w+"px "+-A+"px",threshold:Oo(0,Nf(1,c))||1};let I=!0;function k(F){const B=F[0].intersectionRatio;if(B!==c){if(!I)return s();B?s(!1,B):n=setTimeout(()=>{s(!1,1e-7)},1e3)}B===1&&!CB(u,e.getBoundingClientRect())&&s(),I=!1}try{r=new IntersectionObserver(k,{...O,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,O)}r.observe(e)}return s(!0),a}function Ore(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=eO(e),h=i||a?[...u?av(u):[],...av(t)]:[];h.forEach(A=>{i&&A.addEventListener("scroll",r,{passive:!0}),a&&A.addEventListener("resize",r)});const m=u&&o?Nre(u,r):null;let y=-1,g=null;s&&(g=new ResizeObserver(A=>{let[E]=A;E&&E.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var O;(O=g)==null||O.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let S,_=c?Xh(e):null;c&&w();function w(){const A=Xh(e);_&&!CB(_,A)&&r(),_=A,S=requestAnimationFrame(w)}return r(),()=>{var A;h.forEach(E=>{i&&E.removeEventListener("scroll",r),a&&E.removeEventListener("resize",r)}),m==null||m(),(A=g)==null||A.disconnect(),g=null,c&&cancelAnimationFrame(S)}}const Tre=Jte,jre=ere,Ire=Xte,kre=rre,Pre=Zte,Dk=Yte,Mre=tre,Rre=(e,t,r)=>{const n=new Map,i={platform:Cre,...r},a={...i.platform,_c:n};return Kte(e,t,{...i,platform:a})};var Dre=typeof document<"u",Lre=function(){},C2=Dre?M.useLayoutEffect:Lre;function hb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!hb(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function NB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lk(e,t){const r=NB(e);return Math.round(t*r)/r}function TS(e){const t=M.useRef(e);return C2(()=>{t.current=e}),t}function Fre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[h,m]=M.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,g]=M.useState(n);hb(y,n)||g(n);const[S,_]=M.useState(null),[w,A]=M.useState(null),E=M.useCallback(te=>{te!==F.current&&(F.current=te,_(te))},[]),O=M.useCallback(te=>{te!==B.current&&(B.current=te,A(te))},[]),I=a||S,k=s||w,F=M.useRef(null),B=M.useRef(null),D=M.useRef(h),P=c!=null,K=TS(c),$=TS(i),z=TS(u),X=M.useCallback(()=>{if(!F.current||!B.current)return;const te={placement:t,strategy:r,middleware:y};$.current&&(te.platform=$.current),Rre(F.current,B.current,te).then(H=>{const le={...H,isPositioned:z.current!==!1};W.current&&!hb(D.current,le)&&(D.current=le,pp.flushSync(()=>{m(le)}))})},[y,t,r,$,z]);C2(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(te=>({...te,isPositioned:!1})))},[u]);const W=M.useRef(!1);C2(()=>(W.current=!0,()=>{W.current=!1}),[]),C2(()=>{if(I&&(F.current=I),k&&(B.current=k),I&&k){if(K.current)return K.current(I,k,X);X()}},[I,k,X,K,P]);const V=M.useMemo(()=>({reference:F,floating:B,setReference:E,setFloating:O}),[E,O]),Q=M.useMemo(()=>({reference:I,floating:k}),[I,k]),ne=M.useMemo(()=>{const te={position:r,left:0,top:0};if(!Q.floating)return te;const H=Lk(Q.floating,h.x),le=Lk(Q.floating,h.y);return o?{...te,transform:"translate("+H+"px, "+le+"px)",...NB(Q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:le}},[r,o,Q.floating,h.x,h.y]);return M.useMemo(()=>({...h,update:X,refs:V,elements:Q,floatingStyles:ne}),[h,X,V,Q,ne])}const Bre=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Dk({element:n.current,padding:i}).fn(r):{}:n?Dk({element:n,padding:i}).fn(r):{}}}},$re=(e,t)=>({...Tre(e),options:[e,t]}),Ure=(e,t)=>({...jre(e),options:[e,t]}),zre=(e,t)=>({...Mre(e),options:[e,t]}),qre=(e,t)=>({...Ire(e),options:[e,t]}),Wre=(e,t)=>({...kre(e),options:[e,t]}),Hre=(e,t)=>({...Pre(e),options:[e,t]}),Vre=(e,t)=>({...Bre(e),options:[e,t]});var Gre="Arrow",OB=M.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return d.jsx(br.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});OB.displayName=Gre;var Kre=OB;function rO(e){const[t,r]=M.useState(void 0);return Za(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,o=u.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var nO="Popper",[TB,e1]=Ho(nO),[Yre,jB]=TB(nO),IB=e=>{const{__scopePopper:t,children:r}=e,[n,i]=M.useState(null);return d.jsx(Yre,{scope:t,anchor:n,onAnchorChange:i,children:r})};IB.displayName=nO;var kB="PopperAnchor",PB=M.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=jB(kB,r),s=M.useRef(null),o=Qr(t,s);return M.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:d.jsx(br.div,{...i,ref:o})});PB.displayName=kB;var iO="PopperContent",[Xre,Zre]=TB(iO),MB=M.forwardRef((e,t)=>{var Se,Ae,ye,Ne,Ee,Ce;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:g="optimized",onPlaced:S,..._}=e,w=jB(iO,r),[A,E]=M.useState(null),O=Qr(t,Re=>E(Re)),[I,k]=M.useState(null),F=rO(I),B=(F==null?void 0:F.width)??0,D=(F==null?void 0:F.height)??0,P=n+(a!=="center"?"-"+a:""),K=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(u)?u:[u],z=$.length>0,X={padding:K,boundary:$.filter(Jre),altBoundary:z},{refs:W,floatingStyles:V,placement:Q,isPositioned:ne,middlewareData:te}=Fre({strategy:"fixed",placement:P,whileElementsMounted:(...Re)=>Ore(...Re,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[$re({mainAxis:i+D,alignmentAxis:s}),c&&Ure({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?zre():void 0,...X}),c&&qre({...X}),Wre({...X,apply:({elements:Re,rects:je,availableWidth:de,availableHeight:it})=>{const{width:ft,height:Ye}=je.reference,Be=Re.floating.style;Be.setProperty("--radix-popper-available-width",`${de}px`),Be.setProperty("--radix-popper-available-height",`${it}px`),Be.setProperty("--radix-popper-anchor-width",`${ft}px`),Be.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),I&&Vre({element:I,padding:o}),ene({arrowWidth:B,arrowHeight:D}),y&&Hre({strategy:"referenceHidden",...X})]}),[H,le]=LB(Q),fe=io(S);Za(()=>{ne&&(fe==null||fe())},[ne,fe]);const q=(Se=te.arrow)==null?void 0:Se.x,Z=(Ae=te.arrow)==null?void 0:Ae.y,ae=((ye=te.arrow)==null?void 0:ye.centerOffset)!==0,[ge,he]=M.useState();return Za(()=>{A&&he(window.getComputedStyle(A).zIndex)},[A]),d.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:ne?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Ne=te.transformOrigin)==null?void 0:Ne.x,(Ee=te.transformOrigin)==null?void 0:Ee.y].join(" "),...((Ce=te.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(Xre,{scope:r,placedSide:H,onArrowChange:k,arrowX:q,arrowY:Z,shouldHideArrow:ae,children:d.jsx(br.div,{"data-side":H,"data-align":le,..._,ref:O,style:{..._.style,animation:ne?void 0:"none"}})})})});MB.displayName=iO;var RB="PopperArrow",Qre={top:"bottom",right:"left",bottom:"top",left:"right"},DB=M.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Zre(RB,n),s=Qre[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(Kre,{...i,ref:r,style:{...i.style,display:"block"}})})});DB.displayName=RB;function Jre(e){return e!==null}var ene=e=>({name:"transformOrigin",options:e,fn(t){var w,A,E;const{placement:r,rects:n,middlewareData:i}=t,s=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,h]=LB(r),m={start:"0%",center:"50%",end:"100%"}[h],y=(((A=i.arrow)==null?void 0:A.x)??0)+o/2,g=(((E=i.arrow)==null?void 0:E.y)??0)+c/2;let S="",_="";return u==="bottom"?(S=s?m:`${y}px`,_=`${-c}px`):u==="top"?(S=s?m:`${y}px`,_=`${n.floating.height+c}px`):u==="right"?(S=`${-c}px`,_=s?m:`${g}px`):u==="left"&&(S=`${n.floating.width+c}px`,_=s?m:`${g}px`),{data:{x:S,y:_}}}});function LB(e){const[t,r="center"]=e.split("-");return[t,r]}var FB=IB,aO=PB,sO=MB,oO=DB,[m_,j9e]=Ho("Tooltip",[e1]),lO=e1(),BB="TooltipProvider",tne=700,Fk="tooltip.open",[rne,$B]=m_(BB),UB=e=>{const{__scopeTooltip:t,delayDuration:r=tne,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,s=M.useRef(!0),o=M.useRef(!1),c=M.useRef(0);return M.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(rne,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:M.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:M.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:a})};UB.displayName=BB;var zB="Tooltip",[I9e,g_]=m_(zB),rC="TooltipTrigger",nne=M.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=g_(rC,r),a=$B(rC,r),s=lO(r),o=M.useRef(null),c=Qr(t,o,i.onTriggerChange),u=M.useRef(!1),h=M.useRef(!1),m=M.useCallback(()=>u.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),d.jsx(aO,{asChild:!0,...s,children:d.jsx(br.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:wt(e.onPointerMove,y=>{y.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:wt(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:wt(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:wt(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:wt(e.onBlur,i.onClose),onClick:wt(e.onClick,i.onClose)})})});nne.displayName=rC;var ine="TooltipPortal",[k9e,ane]=m_(ine,{forceMount:void 0}),um="TooltipContent",qB=M.forwardRef((e,t)=>{const r=ane(um,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,s=g_(um,e.__scopeTooltip);return d.jsx(bl,{present:n||s.open,children:s.disableHoverableContent?d.jsx(WB,{side:i,...a,ref:t}):d.jsx(sne,{side:i,...a,ref:t})})}),sne=M.forwardRef((e,t)=>{const r=g_(um,e.__scopeTooltip),n=$B(um,e.__scopeTooltip),i=M.useRef(null),a=Qr(t,i),[s,o]=M.useState(null),{trigger:c,onClose:u}=r,h=i.current,{onPointerInTransitChange:m}=n,y=M.useCallback(()=>{o(null),m(!1)},[m]),g=M.useCallback((S,_)=>{const w=S.currentTarget,A={x:S.clientX,y:S.clientY},E=dne(A,w.getBoundingClientRect()),O=fne(A,E),I=hne(_.getBoundingClientRect()),k=mne([...O,...I]);o(k),m(!0)},[m]);return M.useEffect(()=>()=>y(),[y]),M.useEffect(()=>{if(c&&h){const S=w=>g(w,h),_=w=>g(w,c);return c.addEventListener("pointerleave",S),h.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",_)}}},[c,h,g,y]),M.useEffect(()=>{if(s){const S=_=>{const w=_.target,A={x:_.clientX,y:_.clientY},E=(c==null?void 0:c.contains(w))||(h==null?void 0:h.contains(w)),O=!pne(A,s);E?y():O&&(y(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,h,s,u,y]),d.jsx(WB,{...e,ref:a})}),[one,lne]=m_(zB,{isInside:!1}),cne=TF("TooltipContent"),WB=M.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=e,c=g_(um,r),u=lO(r),{onClose:h}=c;return M.useEffect(()=>(document.addEventListener(Fk,h),()=>document.removeEventListener(Fk,h)),[h]),M.useEffect(()=>{if(c.trigger){const m=y=>{const g=y.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),d.jsx(Xm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:d.jsxs(sO,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(cne,{children:n}),d.jsx(one,{scope:r,isInside:!0,children:d.jsx(OJ,{id:c.contentId,role:"tooltip",children:i||n})})]})})});qB.displayName=um;var HB="TooltipArrow",une=M.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=lO(r);return lne(HB,r).isInside?null:d.jsx(oO,{...i,...n,ref:t})});une.displayName=HB;function dne(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function fne(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function hne(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function pne(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const o=t[a],c=t[s],u=o.x,h=o.y,m=c.x,y=c.y;h>n!=y>n&&r<(m-u)*(n-h)/(y-h)+u&&(i=!i)}return i}function mne(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),gne(t)}function gne(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var vne=UB,VB=qB;const yne=vne,xne=M.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(VB,{ref:n,sideOffset:t,className:Mt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));xne.displayName=VB.displayName;var t1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zh=typeof window>"u"||"Deno"in globalThis;function Es(){}function bne(e,t){return typeof e=="function"?e(t):e}function nC(e){return typeof e=="number"&&e>=0&&e!==1/0}function GB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gf(e,t){return typeof e=="function"?e(t):e}function al(e,t){return typeof e=="function"?e(t):e}function Bk(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==cO(s,t.options))return!1}else if(!sv(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function $k(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Qh(t.options.mutationKey)!==Qh(a))return!1}else if(!sv(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function cO(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qh)(e)}function Qh(e){return JSON.stringify(e,(t,r)=>iC(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function sv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>sv(e[r],t[r])):!1}function KB(e,t){if(e===t)return e;const r=Uk(e)&&Uk(t);if(r||iC(e)&&iC(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),s=a.length,o=r?[]:{},c=new Set(n);let u=0;for(let h=0;h<s;h++){const m=r?h:a[h];(!r&&c.has(m)||r)&&e[m]===void 0&&t[m]===void 0?(o[m]=void 0,u++):(o[m]=KB(e[m],t[m]),o[m]===e[m]&&e[m]!==void 0&&u++)}return i===s&&u===i?e:o}return t}function pb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Uk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function iC(e){if(!zk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zk(e){return Object.prototype.toString.call(e)==="[object Object]"}function wne(e){return new Promise(t=>{setTimeout(t,e)})}function aC(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?KB(e,t):t}function _ne(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Sne(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var uO=Symbol();function YB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===uO?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function XB(e,t){return typeof e=="function"?e(...t):!!e}var jh,zd,U0,r7,Ane=(r7=class extends t1{constructor(){super();gr(this,jh);gr(this,zd);gr(this,U0);Tt(this,U0,t=>{if(!Zh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ie(this,zd)||this.setEventListener(Ie(this,U0))}onUnsubscribe(){var t;this.hasListeners()||((t=Ie(this,zd))==null||t.call(this),Tt(this,zd,void 0))}setEventListener(t){var r;Tt(this,U0,t),(r=Ie(this,zd))==null||r.call(this),Tt(this,zd,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Ie(this,jh)!==t&&(Tt(this,jh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ie(this,jh)=="boolean"?Ie(this,jh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},jh=new WeakMap,zd=new WeakMap,U0=new WeakMap,r7),dO=new Ane,z0,qd,q0,n7,Ene=(n7=class extends t1{constructor(){super();gr(this,z0,!0);gr(this,qd);gr(this,q0);Tt(this,q0,t=>{if(!Zh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ie(this,qd)||this.setEventListener(Ie(this,q0))}onUnsubscribe(){var t;this.hasListeners()||((t=Ie(this,qd))==null||t.call(this),Tt(this,qd,void 0))}setEventListener(t){var r;Tt(this,q0,t),(r=Ie(this,qd))==null||r.call(this),Tt(this,qd,t(this.setOnline.bind(this)))}setOnline(t){Ie(this,z0)!==t&&(Tt(this,z0,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Ie(this,z0)}},z0=new WeakMap,qd=new WeakMap,q0=new WeakMap,n7),mb=new Ene;function sC(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function Cne(e){return Math.min(1e3*2**e,3e4)}function ZB(e){return(e??"online")==="online"?mb.isOnline():!0}var QB=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jS(e){return e instanceof QB}function JB(e){let t=!1,r=0,n=!1,i;const a=sC(),s=_=>{var w;n||(y(new QB(_)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>dO.isFocused()&&(e.networkMode==="always"||mb.isOnline())&&e.canRun(),h=()=>ZB(e.networkMode)&&e.canRun(),m=_=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,_),i==null||i(),a.resolve(_))},y=_=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,_),i==null||i(),a.reject(_))},g=()=>new Promise(_=>{var w;i=A=>{(n||u())&&_(A)},(w=e.onPause)==null||w.call(e)}).then(()=>{var _;i=void 0,n||(_=e.onContinue)==null||_.call(e)}),S=()=>{if(n)return;let _;const w=r===0?e.initialPromise:void 0;try{_=w??e.fn()}catch(A){_=Promise.reject(A)}Promise.resolve(_).then(m).catch(A=>{var F;if(n)return;const E=e.retry??(Zh?0:3),O=e.retryDelay??Cne,I=typeof O=="function"?O(r,A):O,k=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,A);if(t||!k){y(A);return}r++,(F=e.onFail)==null||F.call(e,r,A),wne(I).then(()=>u()?void 0:g()).then(()=>{t?y(A):S()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?S():g().then(S),a)}}var Nne=e=>setTimeout(e,0);function One(){let e=[],t=0,r=o=>{o()},n=o=>{o()},i=Nne;const a=o=>{t?e.push(o):i(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var ba=One(),Ih,i7,e$=(i7=class{constructor(){gr(this,Ih)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nC(this.gcTime)&&Tt(this,Ih,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zh?1/0:5*60*1e3))}clearGcTimeout(){Ie(this,Ih)&&(clearTimeout(Ie(this,Ih)),Tt(this,Ih,void 0))}},Ih=new WeakMap,i7),W0,kh,il,Ph,cs,cy,Mh,zl,Su,a7,Tne=(a7=class extends e${constructor(t){super();gr(this,zl);gr(this,W0);gr(this,kh);gr(this,il);gr(this,Ph);gr(this,cs);gr(this,cy);gr(this,Mh);Tt(this,Mh,!1),Tt(this,cy,t.defaultOptions),this.setOptions(t.options),this.observers=[],Tt(this,Ph,t.client),Tt(this,il,Ie(this,Ph).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Tt(this,W0,jne(this.options)),this.state=t.state??Ie(this,W0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ie(this,cs))==null?void 0:t.promise}setOptions(t){this.options={...Ie(this,cy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ie(this,il).remove(this)}setData(t,r){const n=aC(this.state.data,t,this.options);return Vr(this,zl,Su).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Vr(this,zl,Su).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=Ie(this,cs))==null?void 0:n.promise;return(i=Ie(this,cs))==null||i.cancel(t),r?r.then(Es).catch(Es):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ie(this,W0))}isActive(){return this.observers.some(t=>al(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>gf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!GB(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ie(this,cs))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ie(this,cs))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ie(this,il).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ie(this,cs)&&(Ie(this,Mh)?Ie(this,cs).cancel({revert:!0}):Ie(this,cs).cancelRetry()),this.scheduleGc()),Ie(this,il).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vr(this,zl,Su).call(this,{type:"invalidate"})}fetch(t,r){var u,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ie(this,cs))return Ie(this,cs).continueRetry(),Ie(this,cs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(g=>g.options.queryFn);y&&this.setOptions(y.options)}const n=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Tt(this,Mh,!0),n.signal)})},a=()=>{const y=YB(this.options,r),S=(()=>{const _={client:Ie(this,Ph),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return Tt(this,Mh,!1),this.options.persister?this.options.persister(y,S,this):y(S)},o=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ie(this,Ph),state:this.state,fetchFn:a};return i(y),y})();(u=this.options.behavior)==null||u.onFetch(o,this),Tt(this,kh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&Vr(this,zl,Su).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta});const c=y=>{var g,S,_,w;jS(y)&&y.silent||Vr(this,zl,Su).call(this,{type:"error",error:y}),jS(y)||((S=(g=Ie(this,il).config).onError)==null||S.call(g,y,this),(w=(_=Ie(this,il).config).onSettled)==null||w.call(_,this.state.data,y,this)),this.scheduleGc()};return Tt(this,cs,JB({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:y=>{var g,S,_,w;if(y===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(A){c(A);return}(S=(g=Ie(this,il).config).onSuccess)==null||S.call(g,y,this),(w=(_=Ie(this,il).config).onSettled)==null||w.call(_,y,this.state.error,this),this.scheduleGc()},onError:c,onFail:(y,g)=>{Vr(this,zl,Su).call(this,{type:"failed",failureCount:y,error:g})},onPause:()=>{Vr(this,zl,Su).call(this,{type:"pause"})},onContinue:()=>{Vr(this,zl,Su).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ie(this,cs).start()}},W0=new WeakMap,kh=new WeakMap,il=new WeakMap,Ph=new WeakMap,cs=new WeakMap,cy=new WeakMap,Mh=new WeakMap,zl=new WeakSet,Su=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...t$(n.data,this.options),fetchMeta:t.meta??null};case"success":return Tt(this,kh,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return jS(i)&&i.revert&&Ie(this,kh)?{...Ie(this,kh),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ba.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ie(this,il).notify({query:this,type:"updated",action:t})})},a7);function t$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jne(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wc,s7,Ine=(s7=class extends t1{constructor(t={}){super();gr(this,wc);this.config=t,Tt(this,wc,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??cO(i,r);let s=this.get(a);return s||(s=new Tne({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){Ie(this,wc).has(t.queryHash)||(Ie(this,wc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ie(this,wc).get(t.queryHash);r&&(t.destroy(),r===t&&Ie(this,wc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ba.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ie(this,wc).get(t)}getAll(){return[...Ie(this,wc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Bk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Bk(t,n)):r}notify(t){ba.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ba.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ba.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wc=new WeakMap,s7),_c,_s,Rh,Sc,jd,o7,kne=(o7=class extends e${constructor(t){super();gr(this,Sc);gr(this,_c);gr(this,_s);gr(this,Rh);this.mutationId=t.mutationId,Tt(this,_s,t.mutationCache),Tt(this,_c,[]),this.state=t.state||r$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ie(this,_c).includes(t)||(Ie(this,_c).push(t),this.clearGcTimeout(),Ie(this,_s).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Tt(this,_c,Ie(this,_c).filter(r=>r!==t)),this.scheduleGc(),Ie(this,_s).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ie(this,_c).length||(this.state.status==="pending"?this.scheduleGc():Ie(this,_s).remove(this))}continue(){var t;return((t=Ie(this,Rh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,o,c,u,h,m,y,g,S,_,w,A,E,O,I,k,F,B,D;const r=()=>{Vr(this,Sc,jd).call(this,{type:"continue"})};Tt(this,Rh,JB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,K)=>{Vr(this,Sc,jd).call(this,{type:"failed",failureCount:P,error:K})},onPause:()=>{Vr(this,Sc,jd).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ie(this,_s).canRun(this)}));const n=this.state.status==="pending",i=!Ie(this,Rh).canStart();try{if(n)r();else{Vr(this,Sc,jd).call(this,{type:"pending",variables:t,isPaused:i}),await((s=(a=Ie(this,_s).config).onMutate)==null?void 0:s.call(a,t,this));const K=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));K!==this.state.context&&Vr(this,Sc,jd).call(this,{type:"pending",context:K,variables:t,isPaused:i})}const P=await Ie(this,Rh).start();return await((h=(u=Ie(this,_s).config).onSuccess)==null?void 0:h.call(u,P,t,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,P,t,this.state.context)),await((S=(g=Ie(this,_s).config).onSettled)==null?void 0:S.call(g,P,null,this.state.variables,this.state.context,this)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,P,null,t,this.state.context)),Vr(this,Sc,jd).call(this,{type:"success",data:P}),P}catch(P){try{throw await((E=(A=Ie(this,_s).config).onError)==null?void 0:E.call(A,P,t,this.state.context,this)),await((I=(O=this.options).onError)==null?void 0:I.call(O,P,t,this.state.context)),await((F=(k=Ie(this,_s).config).onSettled)==null?void 0:F.call(k,void 0,P,this.state.variables,this.state.context,this)),await((D=(B=this.options).onSettled)==null?void 0:D.call(B,void 0,P,t,this.state.context)),P}finally{Vr(this,Sc,jd).call(this,{type:"error",error:P})}}finally{Ie(this,_s).runNext(this)}}},_c=new WeakMap,_s=new WeakMap,Rh=new WeakMap,Sc=new WeakSet,jd=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ba.batch(()=>{Ie(this,_c).forEach(n=>{n.onMutationUpdate(t)}),Ie(this,_s).notify({mutation:this,type:"updated",action:t})})},o7);function r$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ju,ql,uy,l7,Pne=(l7=class extends t1{constructor(t={}){super();gr(this,ju);gr(this,ql);gr(this,uy);this.config=t,Tt(this,ju,new Set),Tt(this,ql,new Map),Tt(this,uy,0)}build(t,r,n){const i=new kne({mutationCache:this,mutationId:++ix(this,uy)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){Ie(this,ju).add(t);const r=Cx(t);if(typeof r=="string"){const n=Ie(this,ql).get(r);n?n.push(t):Ie(this,ql).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ie(this,ju).delete(t)){const r=Cx(t);if(typeof r=="string"){const n=Ie(this,ql).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&Ie(this,ql).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Cx(t);if(typeof r=="string"){const n=Ie(this,ql).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Cx(t);if(typeof r=="string"){const i=(n=Ie(this,ql).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ba.batch(()=>{Ie(this,ju).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ie(this,ju).clear(),Ie(this,ql).clear()})}getAll(){return Array.from(Ie(this,ju))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$k(r,n))}findAll(t={}){return this.getAll().filter(r=>$k(t,r))}notify(t){ba.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ba.batch(()=>Promise.all(t.map(r=>r.continue().catch(Es))))}},ju=new WeakMap,ql=new WeakMap,uy=new WeakMap,l7);function Cx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function qk(e){return{onFetch:(t,r)=>{var h,m,y,g,S;const n=t.options,i=(y=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],s=((S=t.state.data)==null?void 0:S.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let _=!1;const w=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},A=YB(t.options,t.fetchOptions),E=async(O,I,k)=>{if(_)return Promise.reject();if(I==null&&O.pages.length)return Promise.resolve(O);const B=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:I,direction:k?"backward":"forward",meta:t.options.meta};return w($),$})(),D=await A(B),{maxPages:P}=t.options,K=k?Sne:_ne;return{pages:K(O.pages,D,P),pageParams:K(O.pageParams,I,P)}};if(i&&a.length){const O=i==="backward",I=O?Mne:Wk,k={pages:a,pageParams:s},F=I(n,k);o=await E(k,F,O)}else{const O=e??a.length;do{const I=c===0?s[0]??n.initialPageParam:Wk(n,o);if(c>0&&I==null)break;o=await E(o,I),c++}while(c<O)}return o};t.options.persister?t.fetchFn=()=>{var _,w;return(w=(_=t.options).persister)==null?void 0:w.call(_,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Wk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Mne(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ji,Wd,Hd,H0,V0,Vd,G0,K0,c7,Rne=(c7=class{constructor(e={}){gr(this,ji);gr(this,Wd);gr(this,Hd);gr(this,H0);gr(this,V0);gr(this,Vd);gr(this,G0);gr(this,K0);Tt(this,ji,e.queryCache||new Ine),Tt(this,Wd,e.mutationCache||new Pne),Tt(this,Hd,e.defaultOptions||{}),Tt(this,H0,new Map),Tt(this,V0,new Map),Tt(this,Vd,0)}mount(){ix(this,Vd)._++,Ie(this,Vd)===1&&(Tt(this,G0,dO.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ie(this,ji).onFocus())})),Tt(this,K0,mb.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ie(this,ji).onOnline())})))}unmount(){var e,t;ix(this,Vd)._--,Ie(this,Vd)===0&&((e=Ie(this,G0))==null||e.call(this),Tt(this,G0,void 0),(t=Ie(this,K0))==null||t.call(this),Tt(this,K0,void 0))}isFetching(e){return Ie(this,ji).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ie(this,Wd).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ie(this,ji).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Ie(this,ji).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(gf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Ie(this,ji).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=Ie(this,ji).get(n.queryHash),a=i==null?void 0:i.state.data,s=bne(t,a);if(s!==void 0)return Ie(this,ji).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ba.batch(()=>Ie(this,ji).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ie(this,ji).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ie(this,ji);ba.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ie(this,ji);return ba.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ba.batch(()=>Ie(this,ji).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Es).catch(Es)}invalidateQueries(e,t={}){return ba.batch(()=>(Ie(this,ji).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ba.batch(()=>Ie(this,ji).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Es)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Es)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ie(this,ji).build(this,t);return r.isStaleByTime(gf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Es).catch(Es)}fetchInfiniteQuery(e){return e.behavior=qk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Es).catch(Es)}ensureInfiniteQueryData(e){return e.behavior=qk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mb.isOnline()?Ie(this,Wd).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ie(this,ji)}getMutationCache(){return Ie(this,Wd)}getDefaultOptions(){return Ie(this,Hd)}setDefaultOptions(e){Tt(this,Hd,e)}setQueryDefaults(e,t){Ie(this,H0).set(Qh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ie(this,H0).values()],r={};return t.forEach(n=>{sv(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Ie(this,V0).set(Qh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ie(this,V0).values()],r={};return t.forEach(n=>{sv(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ie(this,Hd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cO(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===uO&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ie(this,Hd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ie(this,ji).clear(),Ie(this,Wd).clear()}},ji=new WeakMap,Wd=new WeakMap,Hd=new WeakMap,H0=new WeakMap,V0=new WeakMap,Vd=new WeakMap,G0=new WeakMap,K0=new WeakMap,c7),Hs,sn,dy,Ss,Dh,Y0,Gd,Kd,fy,X0,Z0,Lh,Fh,Yd,Q0,Cn,lg,oC,lC,cC,uC,dC,fC,hC,n$,u7,Dne=(u7=class extends t1{constructor(t,r){super();gr(this,Cn);gr(this,Hs);gr(this,sn);gr(this,dy);gr(this,Ss);gr(this,Dh);gr(this,Y0);gr(this,Gd);gr(this,Kd);gr(this,fy);gr(this,X0);gr(this,Z0);gr(this,Lh);gr(this,Fh);gr(this,Yd);gr(this,Q0,new Set);this.options=r,Tt(this,Hs,t),Tt(this,Kd,null),Tt(this,Gd,sC()),this.options.experimental_prefetchInRender||Ie(this,Gd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ie(this,sn).addObserver(this),Hk(Ie(this,sn),this.options)?Vr(this,Cn,lg).call(this):this.updateResult(),Vr(this,Cn,uC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pC(Ie(this,sn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pC(Ie(this,sn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Vr(this,Cn,dC).call(this),Vr(this,Cn,fC).call(this),Ie(this,sn).removeObserver(this)}setOptions(t){const r=this.options,n=Ie(this,sn);if(this.options=Ie(this,Hs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof al(this.options.enabled,Ie(this,sn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Vr(this,Cn,hC).call(this),Ie(this,sn).setOptions(this.options),r._defaulted&&!pb(this.options,r)&&Ie(this,Hs).getQueryCache().notify({type:"observerOptionsUpdated",query:Ie(this,sn),observer:this});const i=this.hasListeners();i&&Vk(Ie(this,sn),n,this.options,r)&&Vr(this,Cn,lg).call(this),this.updateResult(),i&&(Ie(this,sn)!==n||al(this.options.enabled,Ie(this,sn))!==al(r.enabled,Ie(this,sn))||gf(this.options.staleTime,Ie(this,sn))!==gf(r.staleTime,Ie(this,sn)))&&Vr(this,Cn,oC).call(this);const a=Vr(this,Cn,lC).call(this);i&&(Ie(this,sn)!==n||al(this.options.enabled,Ie(this,sn))!==al(r.enabled,Ie(this,sn))||a!==Ie(this,Yd))&&Vr(this,Cn,cC).call(this,a)}getOptimisticResult(t){const r=Ie(this,Hs).getQueryCache().build(Ie(this,Hs),t),n=this.createResult(r,t);return Fne(this,n)&&(Tt(this,Ss,n),Tt(this,Y0,this.options),Tt(this,Dh,Ie(this,sn).state)),n}getCurrentResult(){return Ie(this,Ss)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(t){Ie(this,Q0).add(t)}getCurrentQuery(){return Ie(this,sn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Ie(this,Hs).defaultQueryOptions(t),n=Ie(this,Hs).getQueryCache().build(Ie(this,Hs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Vr(this,Cn,lg).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ie(this,Ss)))}createResult(t,r){var P;const n=Ie(this,sn),i=this.options,a=Ie(this,Ss),s=Ie(this,Dh),o=Ie(this,Y0),u=t!==n?t.state:Ie(this,dy),{state:h}=t;let m={...h},y=!1,g;if(r._optimisticResults){const K=this.hasListeners(),$=!K&&Hk(t,r),z=K&&Vk(t,n,r,i);($||z)&&(m={...m,...t$(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:_,status:w}=m;g=m.data;let A=!1;if(r.placeholderData!==void 0&&g===void 0&&w==="pending"){let K;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(K=a.data,A=!0):K=typeof r.placeholderData=="function"?r.placeholderData((P=Ie(this,Z0))==null?void 0:P.state.data,Ie(this,Z0)):r.placeholderData,K!==void 0&&(w="success",g=aC(a==null?void 0:a.data,K,r),y=!0)}if(r.select&&g!==void 0&&!A)if(a&&g===(s==null?void 0:s.data)&&r.select===Ie(this,fy))g=Ie(this,X0);else try{Tt(this,fy,r.select),g=r.select(g),g=aC(a==null?void 0:a.data,g,r),Tt(this,X0,g),Tt(this,Kd,null)}catch(K){Tt(this,Kd,K)}Ie(this,Kd)&&(S=Ie(this,Kd),g=Ie(this,X0),_=Date.now(),w="error");const E=m.fetchStatus==="fetching",O=w==="pending",I=w==="error",k=O&&E,F=g!==void 0,D={status:w,fetchStatus:m.fetchStatus,isPending:O,isSuccess:w==="success",isError:I,isInitialLoading:k,isLoading:k,data:g,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!O,isLoadingError:I&&!F,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:I&&F,isStale:fO(t,r),refetch:this.refetch,promise:Ie(this,Gd),isEnabled:al(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const K=X=>{D.status==="error"?X.reject(D.error):D.data!==void 0&&X.resolve(D.data)},$=()=>{const X=Tt(this,Gd,D.promise=sC());K(X)},z=Ie(this,Gd);switch(z.status){case"pending":t.queryHash===n.queryHash&&K(z);break;case"fulfilled":(D.status==="error"||D.data!==z.value)&&$();break;case"rejected":(D.status!=="error"||D.error!==z.reason)&&$();break}}return D}updateResult(){const t=Ie(this,Ss),r=this.createResult(Ie(this,sn),this.options);if(Tt(this,Dh,Ie(this,sn).state),Tt(this,Y0,this.options),Ie(this,Dh).data!==void 0&&Tt(this,Z0,Ie(this,sn)),pb(r,t))return;Tt(this,Ss,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!Ie(this,Q0).size)return!0;const s=new Set(a??Ie(this,Q0));return this.options.throwOnError&&s.add("error"),Object.keys(Ie(this,Ss)).some(o=>{const c=o;return Ie(this,Ss)[c]!==t[c]&&s.has(c)})};Vr(this,Cn,n$).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Vr(this,Cn,uC).call(this)}},Hs=new WeakMap,sn=new WeakMap,dy=new WeakMap,Ss=new WeakMap,Dh=new WeakMap,Y0=new WeakMap,Gd=new WeakMap,Kd=new WeakMap,fy=new WeakMap,X0=new WeakMap,Z0=new WeakMap,Lh=new WeakMap,Fh=new WeakMap,Yd=new WeakMap,Q0=new WeakMap,Cn=new WeakSet,lg=function(t){Vr(this,Cn,hC).call(this);let r=Ie(this,sn).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Es)),r},oC=function(){Vr(this,Cn,dC).call(this);const t=gf(this.options.staleTime,Ie(this,sn));if(Zh||Ie(this,Ss).isStale||!nC(t))return;const n=GB(Ie(this,Ss).dataUpdatedAt,t)+1;Tt(this,Lh,setTimeout(()=>{Ie(this,Ss).isStale||this.updateResult()},n))},lC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ie(this,sn)):this.options.refetchInterval)??!1},cC=function(t){Vr(this,Cn,fC).call(this),Tt(this,Yd,t),!(Zh||al(this.options.enabled,Ie(this,sn))===!1||!nC(Ie(this,Yd))||Ie(this,Yd)===0)&&Tt(this,Fh,setInterval(()=>{(this.options.refetchIntervalInBackground||dO.isFocused())&&Vr(this,Cn,lg).call(this)},Ie(this,Yd)))},uC=function(){Vr(this,Cn,oC).call(this),Vr(this,Cn,cC).call(this,Vr(this,Cn,lC).call(this))},dC=function(){Ie(this,Lh)&&(clearTimeout(Ie(this,Lh)),Tt(this,Lh,void 0))},fC=function(){Ie(this,Fh)&&(clearInterval(Ie(this,Fh)),Tt(this,Fh,void 0))},hC=function(){const t=Ie(this,Hs).getQueryCache().build(Ie(this,Hs),this.options);if(t===Ie(this,sn))return;const r=Ie(this,sn);Tt(this,sn,t),Tt(this,dy,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},n$=function(t){ba.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Ie(this,Ss))}),Ie(this,Hs).getQueryCache().notify({query:Ie(this,sn),type:"observerResultsUpdated"})})},u7);function Lne(e,t){return al(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Hk(e,t){return Lne(e,t)||e.state.data!==void 0&&pC(e,t,t.refetchOnMount)}function pC(e,t,r){if(al(t.enabled,e)!==!1&&gf(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&fO(e,t)}return!1}function Vk(e,t,r,n){return(e!==t||al(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&fO(e,r)}function fO(e,t){return al(t.enabled,e)!==!1&&e.isStaleByTime(gf(t.staleTime,e))}function Fne(e,t){return!pb(e.getCurrentResult(),t)}var Xd,Zd,Vs,Iu,Vu,N2,mC,d7,Bne=(d7=class extends t1{constructor(r,n){super();gr(this,Vu);gr(this,Xd);gr(this,Zd);gr(this,Vs);gr(this,Iu);Tt(this,Xd,r),this.setOptions(n),this.bindMethods(),Vr(this,Vu,N2).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=Ie(this,Xd).defaultMutationOptions(r),pb(this.options,n)||Ie(this,Xd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ie(this,Vs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Qh(n.mutationKey)!==Qh(this.options.mutationKey)?this.reset():((i=Ie(this,Vs))==null?void 0:i.state.status)==="pending"&&Ie(this,Vs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Ie(this,Vs))==null||r.removeObserver(this)}onMutationUpdate(r){Vr(this,Vu,N2).call(this),Vr(this,Vu,mC).call(this,r)}getCurrentResult(){return Ie(this,Zd)}reset(){var r;(r=Ie(this,Vs))==null||r.removeObserver(this),Tt(this,Vs,void 0),Vr(this,Vu,N2).call(this),Vr(this,Vu,mC).call(this)}mutate(r,n){var i;return Tt(this,Iu,n),(i=Ie(this,Vs))==null||i.removeObserver(this),Tt(this,Vs,Ie(this,Xd).getMutationCache().build(Ie(this,Xd),this.options)),Ie(this,Vs).addObserver(this),Ie(this,Vs).execute(r)}},Xd=new WeakMap,Zd=new WeakMap,Vs=new WeakMap,Iu=new WeakMap,Vu=new WeakSet,N2=function(){var n;const r=((n=Ie(this,Vs))==null?void 0:n.state)??r$();Tt(this,Zd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},mC=function(r){ba.batch(()=>{var n,i,a,s,o,c,u,h;if(Ie(this,Iu)&&this.hasListeners()){const m=Ie(this,Zd).variables,y=Ie(this,Zd).context;(r==null?void 0:r.type)==="success"?((i=(n=Ie(this,Iu)).onSuccess)==null||i.call(n,r.data,m,y),(s=(a=Ie(this,Iu)).onSettled)==null||s.call(a,r.data,null,m,y)):(r==null?void 0:r.type)==="error"&&((c=(o=Ie(this,Iu)).onError)==null||c.call(o,r.error,m,y),(h=(u=Ie(this,Iu)).onSettled)==null||h.call(u,void 0,r.error,m,y))}this.listeners.forEach(m=>{m(Ie(this,Zd))})})},d7),i$=M.createContext(void 0),Ls=e=>{const t=M.useContext(i$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$ne=({client:e,children:t})=>(M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(i$.Provider,{value:e,children:t})),a$=M.createContext(!1),Une=()=>M.useContext(a$);a$.Provider;function zne(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qne=M.createContext(zne()),Wne=()=>M.useContext(qne),Hne=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Vne=e=>{M.useEffect(()=>{e.clearReset()},[e])},Gne=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||XB(r,[e.error,n])),Kne=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Yne=(e,t)=>e.isLoading&&e.isFetching&&!t,Xne=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Gk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Zne(e,t,r){var m,y,g,S,_;const n=Une(),i=Wne(),a=Ls(),s=a.defaultQueryOptions(e);(y=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,s),s._optimisticResults=n?"isRestoring":"optimistic",Kne(s),Hne(s,i),Vne(i);const o=!a.getQueryCache().get(s.queryHash),[c]=M.useState(()=>new t(a,s)),u=c.getOptimisticResult(s),h=!n&&e.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(w=>{const A=h?c.subscribe(ba.batchCalls(w)):Es;return c.updateResult(),A},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),M.useEffect(()=>{c.setOptions(s)},[s,c]),Xne(s,u))throw Gk(s,c,i);if(Gne({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((S=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||S.call(g,s,u),s.experimental_prefetchInRender&&!Zh&&Yne(u,n)){const w=o?Gk(s,c,i):(_=a.getQueryCache().get(s.queryHash))==null?void 0:_.promise;w==null||w.catch(Es).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function Cr(e,t){return Zne(e,Dne)}function Di(e,t){const r=Ls(),[n]=M.useState(()=>new Bne(r,e));M.useEffect(()=>{n.setOptions(e)},[n,e]);const i=M.useSyncExternalStore(M.useCallback(s=>n.subscribe(ba.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=M.useCallback((s,o)=>{n.mutate(s,o).catch(Es)},[n]);if(i.error&&XB(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}var ef;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ef||(ef={}));const Kk="popstate";function Qne(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return gC("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gb(i)}return eie(t,r,null,e)}function Hi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function s$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jne(){return Math.random().toString(36).substr(2,8)}function Yk(e,t){return{usr:e.state,key:e.key,idx:t}}function gC(e,t,r,n){return r===void 0&&(r=null),ov({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?r1(t):t,{state:r,key:t&&t.key||n||Jne()})}function gb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function r1(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function eie(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=ef.Pop,c=null,u=h();u==null&&(u=0,s.replaceState(ov({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function m(){o=ef.Pop;let w=h(),A=w==null?null:w-u;u=w,c&&c({action:o,location:_.location,delta:A})}function y(w,A){o=ef.Push;let E=gC(_.location,w,A);u=h()+1;let O=Yk(E,u),I=_.createHref(E);try{s.pushState(O,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(I)}a&&c&&c({action:o,location:_.location,delta:1})}function g(w,A){o=ef.Replace;let E=gC(_.location,w,A);u=h();let O=Yk(E,u),I=_.createHref(E);s.replaceState(O,"",I),a&&c&&c({action:o,location:_.location,delta:0})}function S(w){let A=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:gb(w);return E=E.replace(/ $/,"%20"),Hi(A,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,A)}let _={get action(){return o},get location(){return e(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Kk,m),c=w,()=>{i.removeEventListener(Kk,m),c=null}},createHref(w){return t(i,w)},createURL:S,encodeLocation(w){let A=S(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:g,go(w){return s.go(w)}};return _}var Xk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xk||(Xk={}));function tie(e,t,r){return r===void 0&&(r="/"),rie(e,t,r,!1)}function rie(e,t,r,n){let i=typeof t=="string"?r1(t):t,a=hO(i.pathname||"/",r);if(a==null)return null;let s=o$(e);nie(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=pie(a);o=fie(s[c],u,n)}return o}function o$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Hi(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vf([n,c.relativePath]),h=r.concat(c);a.children&&a.children.length>0&&(Hi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),o$(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:uie(u,a.index),routesMeta:h})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let c of l$(a.path))i(a,s,c)}),t}function l$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=l$(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function nie(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:die(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const iie=/^:[\w-]+$/,aie=3,sie=2,oie=1,lie=10,cie=-2,Zk=e=>e==="*";function uie(e,t){let r=e.split("/"),n=r.length;return r.some(Zk)&&(n+=cie),t&&(n+=sie),r.filter(i=>!Zk(i)).reduce((i,a)=>i+(iie.test(a)?aie:a===""?oie:lie),n)}function die(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function fie(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=Qk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),y=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Qk({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:vf([a,m.pathname]),pathnameBase:yie(vf([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=vf([a,m.pathnameBase]))}return s}function Qk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hie(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,h,m)=>{let{paramName:y,isOptional:g}=h;if(y==="*"){let _=o[m]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const S=o[m];return g&&!S?u[y]=void 0:u[y]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function hie(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),s$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function pie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return s$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hO(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function mie(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?r1(e):e;return{pathname:r?r.startsWith("/")?r:gie(r,t):t,search:xie(n),hash:bie(i)}}function gie(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function IS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vie(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pO(e,t){let r=vie(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mO(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=r1(e):(i=ov({},e),Hi(!i.pathname||!i.pathname.includes("?"),IS("?","pathname","search",i)),Hi(!i.pathname||!i.pathname.includes("#"),IS("#","pathname","hash",i)),Hi(!i.search||!i.search.includes("#"),IS("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let m=t.length-1;if(!n&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}o=m>=0?t[m]:"/"}let c=mie(i,o),u=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const vf=e=>e.join("/").replace(/\/\/+/g,"/"),yie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const c$=["post","put","patch","delete"];new Set(c$);const _ie=["get",...c$];new Set(_ie);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(this,arguments)}const gO=M.createContext(null),Sie=M.createContext(null),Df=M.createContext(null),v_=M.createContext(null),Lf=M.createContext({outlet:null,matches:[],isDataRoute:!1}),u$=M.createContext(null);function Aie(e,t){let{relative:r}=t===void 0?{}:t;n1()||Hi(!1);let{basename:n,navigator:i}=M.useContext(Df),{hash:a,pathname:s,search:o}=f$(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:vf([n,s])),i.createHref({pathname:c,search:o,hash:a})}function n1(){return M.useContext(v_)!=null}function gp(){return n1()||Hi(!1),M.useContext(v_).location}function d$(e){M.useContext(Df).static||M.useLayoutEffect(e)}function i1(){let{isDataRoute:e}=M.useContext(Lf);return e?Lie():Eie()}function Eie(){n1()||Hi(!1);let e=M.useContext(gO),{basename:t,future:r,navigator:n}=M.useContext(Df),{matches:i}=M.useContext(Lf),{pathname:a}=gp(),s=JSON.stringify(pO(i,r.v7_relativeSplatPath)),o=M.useRef(!1);return d$(()=>{o.current=!0}),M.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=mO(u,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:vf([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,s,a,e])}function f$(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=M.useContext(Df),{matches:i}=M.useContext(Lf),{pathname:a}=gp(),s=JSON.stringify(pO(i,n.v7_relativeSplatPath));return M.useMemo(()=>mO(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function Cie(e,t){return Nie(e,t)}function Nie(e,t,r,n){n1()||Hi(!1);let{navigator:i}=M.useContext(Df),{matches:a}=M.useContext(Lf),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=gp(),h;if(t){var m;let w=typeof t=="string"?r1(t):t;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||Hi(!1),h=w}else h=u;let y=h.pathname||"/",g=y;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=tie(e,{pathname:g}),_=kie(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:vf([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:vf([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&_?M.createElement(v_.Provider,{value:{location:lv({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ef.Pop}},_):_}function Oie(){let e=Die(),t=wie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:i},r):null,null)}const Tie=M.createElement(Oie,null);class jie extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(Lf.Provider,{value:this.props.routeContext},M.createElement(u$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iie(e){let{routeContext:t,match:r,children:n}=e,i=M.useContext(gO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(Lf.Provider,{value:t},n)}function kie(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);h>=0||Hi(!1),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:y,errors:g}=r,S=m.route.loader&&y[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||S){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,m,y)=>{let g,S=!1,_=null,w=null;r&&(g=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||Tie,c&&(u<0&&y===0?(S=!0,w=null):u===y&&(S=!0,w=m.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,y+1)),E=()=>{let O;return g?O=_:S?O=w:m.route.Component?O=M.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=h,M.createElement(Iie,{match:m,routeContext:{outlet:h,matches:A,isDataRoute:r!=null},children:O})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?M.createElement(jie,{location:r.location,revalidation:r.revalidation,component:_,error:g,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}var h$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(h$||{}),vb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vb||{});function Pie(e){let t=M.useContext(gO);return t||Hi(!1),t}function Mie(e){let t=M.useContext(Sie);return t||Hi(!1),t}function Rie(e){let t=M.useContext(Lf);return t||Hi(!1),t}function p$(e){let t=Rie(),r=t.matches[t.matches.length-1];return r.route.id||Hi(!1),r.route.id}function Die(){var e;let t=M.useContext(u$),r=Mie(vb.UseRouteError),n=p$(vb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Lie(){let{router:e}=Pie(h$.UseNavigateStable),t=p$(vb.UseNavigateStable),r=M.useRef(!1);return d$(()=>{r.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,lv({fromRouteId:t},a)))},[e,t])}function Fie(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bie(e){let{to:t,replace:r,state:n,relative:i}=e;n1()||Hi(!1);let{future:a,static:s}=M.useContext(Df),{matches:o}=M.useContext(Lf),{pathname:c}=gp(),u=i1(),h=mO(t,pO(o,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(h);return M.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:i}),[u,m,i,r,n]),null}function wi(e){Hi(!1)}function $ie(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ef.Pop,navigator:a,static:s=!1,future:o}=e;n1()&&Hi(!1);let c=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:a,static:s,future:lv({v7_relativeSplatPath:!1},o)}),[c,o,a,s]);typeof n=="string"&&(n=r1(n));let{pathname:h="/",search:m="",hash:y="",state:g=null,key:S="default"}=n,_=M.useMemo(()=>{let w=hO(h,c);return w==null?null:{location:{pathname:w,search:m,hash:y,state:g,key:S},navigationType:i}},[c,h,m,y,g,S,i]);return _==null?null:M.createElement(Df.Provider,{value:u},M.createElement(v_.Provider,{children:r,value:_}))}function Uie(e){let{children:t,location:r}=e;return Cie(vC(t),r)}new Promise(()=>{});function vC(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(n,i)=>{if(!M.isValidElement(n))return;let a=[...t,i];if(n.type===M.Fragment){r.push.apply(r,vC(n.props.children,a));return}n.type!==wi&&Hi(!1),!n.props.index||!n.props.children||Hi(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=vC(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yC.apply(this,arguments)}function zie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wie(e,t){return e.button===0&&(!t||t==="_self")&&!qie(e)}const Hie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vie="6";try{window.__reactRouterVersion=Vie}catch{}const Gie="startTransition",Jk=G4[Gie];function Kie(e){let{basename:t,children:r,future:n,window:i}=e,a=M.useRef();a.current==null&&(a.current=Qne({window:i,v5Compat:!0}));let s=a.current,[o,c]=M.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},h=M.useCallback(m=>{u&&Jk?Jk(()=>c(m)):c(m)},[c,u]);return M.useLayoutEffect(()=>s.listen(h),[s,h]),M.useEffect(()=>Fie(n),[n]),M.createElement($ie,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const Yie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zie=M.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:h,viewTransition:m}=t,y=zie(t,Hie),{basename:g}=M.useContext(Df),S,_=!1;if(typeof u=="string"&&Xie.test(u)&&(S=u,Yie))try{let O=new URL(window.location.href),I=u.startsWith("//")?new URL(O.protocol+u):new URL(u),k=hO(I.pathname,g);I.origin===O.origin&&k!=null?u=k+I.search+I.hash:_=!0}catch{}let w=Aie(u,{relative:i}),A=Qie(u,{replace:s,state:o,target:c,preventScrollReset:h,relative:i,viewTransition:m});function E(O){n&&n(O),O.defaultPrevented||A(O)}return M.createElement("a",yC({},y,{href:S||w,onClick:_||a?n:E,ref:r,target:c}))});var eP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eP||(eP={}));var tP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tP||(tP={}));function Qie(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,c=i1(),u=gp(),h=f$(e,{relative:s});return M.useCallback(m=>{if(Wie(m,r)){m.preventDefault();let y=n!==void 0?n:gb(u)===gb(h);c(e,{replace:y,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,c,h,n,i,r,e,a,s,o])}var xC=function(e,t){return xC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xC(e,t)};function m$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xC(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ll=function(){return ll=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ll.apply(this,arguments)};function Ff(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function g$(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function v$(e,t){return function(r,n){t(r,n,e)}}function y$(e,t,r,n,i,a){function s(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,y=!1,g=r.length-1;g>=0;g--){var S={};for(var _ in n)S[_]=_==="access"?{}:n[_];for(var _ in n.access)S.access[_]=n.access[_];S.addInitializer=function(A){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(A||null))};var w=(0,r[g])(o==="accessor"?{get:h.get,set:h.set}:h[c],S);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(m=s(w.get))&&(h.get=m),(m=s(w.set))&&(h.set=m),(m=s(w.init))&&i.unshift(m)}else(m=s(w))&&(o==="field"?i.unshift(m):h[c]=m)}u&&Object.defineProperty(u,n.name,h),y=!0}function x$(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function b$(e){return typeof e=="symbol"?e:"".concat(e)}function w$(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function _$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rr(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}function S$(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var y_=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function A$(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&y_(t,e,r)}function yb(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vO(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function E$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vO(arguments[t]));return e}function C$(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function yO(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function dm(e){return this instanceof dm?(this.v=e,this):new dm(e)}function N$(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(S){return Promise.resolve(S).then(g,m)}}function o(g,S){n[g]&&(i[g]=function(_){return new Promise(function(w,A){a.push([g,_,w,A])>1||c(g,_)})},S&&(i[g]=S(i[g])))}function c(g,S){try{u(n[g](S))}catch(_){y(a[0][3],_)}}function u(g){g.value instanceof dm?Promise.resolve(g.value.v).then(h,m):y(a[0][2],g)}function h(g){c("next",g)}function m(g){c("throw",g)}function y(g,S){g(S),a.shift(),a.length&&c(a[0][0],a[0][1])}}function O$(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:dm(e[i](s)),done:!1}:a?a(s):s}:a}}function T$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof yb=="function"?yb(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,c){s=e[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},s)}}function j$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Jie=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},bC=function(e){return bC=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},bC(e)};function I$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=bC(e),n=0;n<r.length;n++)r[n]!=="default"&&y_(t,e,r[n]);return Jie(t,e),t}function k$(e){return e&&e.__esModule?e:{default:e}}function P$(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function M$(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function R$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function D$(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var eae=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function L$(e){function t(a){e.error=e.hasError?new eae(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function F$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const tae={__extends:m$,__assign:ll,__rest:Ff,__decorate:g$,__param:v$,__esDecorate:y$,__runInitializers:x$,__propKey:b$,__setFunctionName:w$,__metadata:_$,__awaiter:rr,__generator:S$,__createBinding:y_,__exportStar:A$,__values:yb,__read:vO,__spread:E$,__spreadArrays:C$,__spreadArray:yO,__await:dm,__asyncGenerator:N$,__asyncDelegator:O$,__asyncValues:T$,__makeTemplateObject:j$,__importStar:I$,__importDefault:k$,__classPrivateFieldGet:P$,__classPrivateFieldSet:M$,__classPrivateFieldIn:R$,__addDisposableResource:D$,__disposeResources:L$,__rewriteRelativeImportExtension:F$},rae=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:D$,get __assign(){return ll},__asyncDelegator:O$,__asyncGenerator:N$,__asyncValues:T$,__await:dm,__awaiter:rr,__classPrivateFieldGet:P$,__classPrivateFieldIn:R$,__classPrivateFieldSet:M$,__createBinding:y_,__decorate:g$,__disposeResources:L$,__esDecorate:y$,__exportStar:A$,__extends:m$,__generator:S$,__importDefault:k$,__importStar:I$,__makeTemplateObject:j$,__metadata:_$,__param:v$,__propKey:b$,__read:vO,__rest:Ff,__rewriteRelativeImportExtension:F$,__runInitializers:x$,__setFunctionName:w$,__spread:E$,__spreadArray:yO,__spreadArrays:C$,__values:yb,default:tae},Symbol.toStringTag,{value:"Module"})),nae="modulepreload",iae=function(e){return"/dsfp_space/"+e},rP={},Bu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=iae(c),c in rP)return;rP[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":nae,u||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((y,g)=>{m.addEventListener("load",y),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},aae=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>vp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xO extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nP extends xO{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iP extends xO{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aP extends xO{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wC;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wC||(wC={}));class sae{constructor(t,{headers:r={},customFetch:n,region:i=wC.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=aae(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return rr(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:s,body:o,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const m=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let y;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",y=o):typeof o=="string"?(u["Content-Type"]="text/plain",y=o):typeof FormData<"u"&&o instanceof FormData?y=o:(u["Content-Type"]="application/json",y=JSON.stringify(o)):y=o;const g=yield this.fetch(m.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:y,signal:c}).catch(A=>{throw A.name==="AbortError"?A:new nP(A)}),S=g.headers.get("x-relay-error");if(S&&S==="true")throw new iP(g);if(!g.ok)throw new aP(g);let _=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield g.json():_==="application/octet-stream"||_==="application/pdf"?w=yield g.blob():_==="text/event-stream"?w=g:_==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new nP(a)}:{data:null,error:a,response:a instanceof aP||a instanceof iP?a.context:void 0}}})}}var Ys={};const a1=h7(rae);var Nx={},Ox={},Tx={},jx={},Ix={},oae=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fm=oae();const lae=fm.fetch,B$=fm.fetch.bind(fm),$$=fm.Headers,cae=fm.Request,uae=fm.Response,vp=Object.freeze(Object.defineProperty({__proto__:null,Headers:$$,Request:cae,Response:uae,default:B$,fetch:lae},Symbol.toStringTag,{value:"Module"})),dae=h7(vp);var kx={},sP;function U$(){if(sP)return kx;sP=1,Object.defineProperty(kx,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return kx.default=e,kx}var oP;function z$(){if(oP)return Ix;oP=1,Object.defineProperty(Ix,"__esModule",{value:!0});const e=a1,t=e.__importDefault(dae),r=e.__importDefault(U$());class n{constructor(a){var s,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,m,y,g;let S=null,_=null,w=null,A=u.status,E=u.statusText;if(u.ok){if(this.method!=="HEAD"){const F=await u.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=F:_=JSON.parse(F))}const I=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),k=(y=u.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");I&&k&&k.length>1&&(w=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(S={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,w=null,A=406,E="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const I=await u.text();try{S=JSON.parse(I),Array.isArray(S)&&u.status===404&&(_=[],S=null,A=200,E="OK")}catch{u.status===404&&I===""?(A=204,E="No Content"):S={message:I}}if(S&&this.isMaybeSingle&&(!((g=S==null?void 0:S.details)===null||g===void 0)&&g.includes("0 rows"))&&(S=null,A=200,E="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:_,count:w,status:A,statusText:E}});return this.shouldThrowOnError||(c=c.catch(u=>{var h,m,y;return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(m=u==null?void 0:u.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=u==null?void 0:u.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,s)}returns(){return this}overrideTypes(){return this}}return Ix.default=n,Ix}var lP;function q$(){if(lP)return jx;lP=1,Object.defineProperty(jx,"__esModule",{value:!0});const t=a1.__importDefault(z$());class r extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${y}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return jx.default=r,jx}var cP;function bO(){if(cP)return Tx;cP=1,Object.defineProperty(Tx,"__esModule",{value:!0});const t=a1.__importDefault(q$());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const s=Array.from(new Set(a)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:s,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${c}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(i,a,s){return this.url.searchParams.append(i,`not.${a}.${s}`),this}or(i,{foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,a,s){return this.url.searchParams.append(i,`${a}.${s}`),this}}return Tx.default=r,Tx}var uP;function W$(){if(uP)return Ox;uP=1,Object.defineProperty(Ox,"__esModule",{value:!0});const t=a1.__importDefault(bO());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},c=s?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(u.length>0){const h=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ox.default=r,Ox}var dP;function fae(){if(dP)return Nx;dP=1,Object.defineProperty(Nx,"__esModule",{value:!0});const e=a1,t=e.__importDefault(W$()),r=e.__importDefault(bO());class n{constructor(a,{headers:s={},schema:o,fetch:c}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(a){const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:c=!1,count:u}={}){var h;let m;const y=new URL(`${this.url}/rpc/${a}`);let g;o||c?(m=o?"HEAD":"GET",Object.entries(s).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{y.searchParams.append(_,w)})):(m="POST",g=s);const S=new Headers(this.headers);return u&&S.set("Prefer",`count=${u}`),new r.default({method:m,url:y,headers:S,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Nx.default=n,Nx}Object.defineProperty(Ys,"__esModule",{value:!0});Ys.PostgrestError=Ys.PostgrestBuilder=Ys.PostgrestTransformBuilder=Ys.PostgrestFilterBuilder=Ys.PostgrestQueryBuilder=Ys.PostgrestClient=void 0;const s1=a1,H$=s1.__importDefault(fae());Ys.PostgrestClient=H$.default;const V$=s1.__importDefault(W$());Ys.PostgrestQueryBuilder=V$.default;const G$=s1.__importDefault(bO());Ys.PostgrestFilterBuilder=G$.default;const K$=s1.__importDefault(q$());Ys.PostgrestTransformBuilder=K$.default;const Y$=s1.__importDefault(z$());Ys.PostgrestBuilder=Y$.default;const X$=s1.__importDefault(U$());Ys.PostgrestError=X$.default;var hae=Ys.default={PostgrestClient:H$.default,PostgrestQueryBuilder:V$.default,PostgrestFilterBuilder:G$.default,PostgrestTransformBuilder:K$.default,PostgrestBuilder:Y$.default,PostgrestError:X$.default};const{PostgrestClient:pae,PostgrestQueryBuilder:M9e,PostgrestFilterBuilder:R9e,PostgrestTransformBuilder:D9e,PostgrestBuilder:L9e,PostgrestError:F9e}=hae;class mae{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const gae="2.76.1",vae=`realtime-js/${gae}`,yae="1.0.0",_C=1e4,xae=1e3,bae=100;var Cg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cg||(Cg={}));var ya;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ya||(ya={}));var Hl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hl||(Hl={}));var SC;(function(e){e.websocket="websocket"})(SC||(SC={}));var ph;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ph||(ph={}));class wae{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const c=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Z${constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Zn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Zn||(Zn={}));const fP=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=_ae(s,e,t,i),a),{}):{}},_ae=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?Q$(a,s):AC(s)},Q$=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Cae(t,r)}switch(e){case Zn.bool:return Sae(t);case Zn.float4:case Zn.float8:case Zn.int2:case Zn.int4:case Zn.int8:case Zn.numeric:case Zn.oid:return Aae(t);case Zn.json:case Zn.jsonb:return Eae(t);case Zn.timestamp:return Nae(t);case Zn.abstime:case Zn.date:case Zn.daterange:case Zn.int4range:case Zn.int8range:case Zn.money:case Zn.reltime:case Zn.text:case Zn.time:case Zn.timestamptz:case Zn.timetz:case Zn.tsrange:case Zn.tstzrange:return AC(t);default:return AC(t)}},AC=e=>e,Sae=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Aae=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Eae=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Cae=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Q$(t,o))}return e},Nae=e=>typeof e=="string"?e.replace(" ","T"):e,J$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kS{constructor(t,r,n={},i=_C){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hP||(hP={}));class Ng{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ng.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Ng.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ng.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(a,(u,h)=>{s[u]||(c[u]=h)}),this.map(s,(u,h)=>{const m=a[u];if(m){const y=h.map(w=>w.presence_ref),g=m.map(w=>w.presence_ref),S=h.filter(w=>g.indexOf(w.presence_ref)<0),_=m.filter(w=>y.indexOf(w.presence_ref)<0);S.length>0&&(o[u]=S),_.length>0&&(c[u]=_)}else o[u]=h}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const h=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),h.length>0){const m=t[o].map(g=>g.presence_ref),y=h.filter(g=>m.indexOf(g.presence_ref)<0);t[o].unshift(...y)}n(o,h,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const h=c.map(m=>m.presence_ref);u=u.filter(m=>h.indexOf(m.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pP||(pP={}));var Og;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Og||(Og={}));var Eu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Eu||(Eu={}));class wO{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ya.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kS(this,Hl.join,this.params,this.timeout),this.rejoinTimer=new Z$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ya.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ya.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ya.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ya.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ya.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hl.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ng(this),this.broadcastEndpointURL=J$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ya.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Og.PRESENCE]&&this.bindings[Og.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},y={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Eu.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Eu.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var S;if(this.socket.setAuth(),g===void 0){t==null||t(Eu.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,w=(S=_==null?void 0:_.length)!==null&&S!==void 0?S:0,A=[];for(let E=0;E<w;E++){const O=_[E],{filter:{event:I,schema:k,table:F,filter:B}}=O,D=g&&g[E];if(D&&D.event===I&&D.schema===k&&D.table===F&&D.filter===B)A.push(Object.assign(Object.assign({},O),{id:D.id}));else{this.unsubscribe(),this.state=ya.errored,t==null||t(Eu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(Eu.SUBSCRIBED);return}}).receive("error",g=>{this.state=ya.errored,t==null||t(Eu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Eu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ya.joined&&t===Og.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ya.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new kS(this,Hl.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ya.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kS(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bae){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:h}=Hl;if(n&&[o,c,u,h].indexOf(s)>=0&&n!==this._joinRef())return;let y=this._onMessage(s,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var S,_,w;return((S=g.filter)===null||S===void 0?void 0:S.event)==="*"||((w=(_=g.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(g=>g.callback(y,n)):(a=this.bindings[s])===null||a===void 0||a.filter(g=>{var S,_,w,A,E,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const I=g.id,k=(S=g.filter)===null||S===void 0?void 0:S.event;return I&&((_=r.ids)===null||_===void 0?void 0:_.includes(I))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const I=(E=(A=g==null?void 0:g.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return I==="*"||I===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:_,table:w,commit_timestamp:A,type:E,errors:O}=S;y=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:A,eventType:E,new:{},old:{},errors:O}),this._getPayloadRecords(S))}g.callback(y,n)})}_isClosed(){return this.state===ya.closed}_isJoined(){return this.state===ya.joined}_isJoining(){return this.state===ya.joining}_isLeaving(){return this.state===ya.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&wO.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hl.close,{},t)}_onError(t){this._on(Hl.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ya.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fP(t.columns,t.old_record)),r}}const PS=()=>{},Px={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Oae=[1e3,2e3,5e3,1e4],Tae=1e4,jae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Iae{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_C,this.transport=null,this.heartbeatIntervalMs=Px.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=PS,this.ref=0,this.reconnectTimer=null,this.logger=PS,this.conn=null,this.sendBuffer=[],this.serializer=new wae,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Bu(async()=>{const{default:o}=await Promise.resolve().then(()=>vp);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${SC.websocket}`,this.httpEndpoint=J$(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mae.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yae}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Cg.connecting:return ph.Connecting;case Cg.open:return ph.Open;case Cg.closing:return ph.Closing;default:return ph.Closed}}isConnected(){return this.connectionState()===ph.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new wO(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(xae,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Px.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hl.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([jae],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:vae};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Hl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Z$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Px.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,c,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:_C,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Px.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:PS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>Oae[m-1]||Tae,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(m,y)=>y(JSON.stringify(m)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class _O extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _i(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kae extends _O{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class EC extends _O{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const SO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>vp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Pae=()=>rr(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bu(()=>Promise.resolve().then(()=>vp),void 0)).Response:Response}),CC=e=>{if(Array.isArray(e))return e.map(r=>CC(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=CC(n)}),t},Mae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},MS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rae=(e,t,r)=>rr(void 0,void 0,void 0,function*(){const n=yield Pae();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new kae(MS(i),a,s))}).catch(i=>{t(new EC(MS(i),i))}):t(new EC(MS(e),e))}),Dae=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Mae(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function _y(e,t,r,n,i,a){return rr(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Dae(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Rae(c,o,n))})})}function cv(e,t,r,n){return rr(this,void 0,void 0,function*(){return _y(e,"GET",t,r,n)})}function Ul(e,t,r,n,i){return rr(this,void 0,void 0,function*(){return _y(e,"POST",t,n,i,r)})}function NC(e,t,r,n,i){return rr(this,void 0,void 0,function*(){return _y(e,"PUT",t,n,i,r)})}function Lae(e,t,r,n){return rr(this,void 0,void 0,function*(){return _y(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function AO(e,t,r,n,i){return rr(this,void 0,void 0,function*(){return _y(e,"DELETE",t,n,i,r)})}class Fae{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return rr(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_i(t))return{data:null,error:t};throw t}})}}var eU;class Bae{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[eU]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fae(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return rr(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_i(t))return{data:null,error:t};throw t}})}}eU=Symbol.toStringTag;const $ae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uae{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=SO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return rr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},mP),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=yield(t=="PUT"?NC:Ul)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_i(a))return{data:null,error:a};throw a}})}upload(t,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return rr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:mP.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const m=yield NC(this.fetch,o.toString(),c,{headers:h});return{data:{path:a,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_i(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ul(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new _O("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}update(t,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return rr(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_i(i))return{data:null,error:i};throw i}})}copy(t,r,n){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ul(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_i(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return rr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ul(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_i(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return rr(this,void 0,void 0,function*(){try{const i=yield Ul(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_i(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),c=()=>cv(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new Bae(c,this.shouldThrowOnError)}info(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield cv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:CC(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}exists(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Lae(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n)&&n instanceof EC){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return rr(this,void 0,void 0,function*(){try{return{data:yield AO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}list(t,r,n){return rr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$ae),r),{prefix:t||""});return{data:yield Ul(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_i(i))return{data:null,error:i};throw i}})}listV2(t,r){return rr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ul(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const tU="2.76.1",rU={"X-Client-Info":`storage-js/${tU}`};class zae{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rU),r),this.fetch=SO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return rr(this,void 0,void 0,function*(){try{return{data:yield cv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_i(t))return{data:null,error:t};throw t}})}getBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield cv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}createBucket(t){return rr(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ul(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_i(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return rr(this,void 0,void 0,function*(){try{return{data:yield NC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}emptyBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield AO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}}class qae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rU),r),this.fetch=SO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}listBuckets(t){return rr(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,a=yield cv(this.fetch,i,{headers:this.headers});return{data:Array.isArray(a)?a.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield AO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}}const EO={"X-Client-Info":`storage-js/${tU}`,"Content-Type":"application/json"};class nU extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jo(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class RS extends nU{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wae extends nU{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var gP;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gP||(gP={}));const CO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>vp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Hae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vP=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vae=(e,t,r)=>rr(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new RS(vP(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new RS(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new RS(o,i,s))}}else t(new Wae(vP(e),e))}),Gae=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Hae(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Kae(e,t,r,n,i,a){return rr(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Gae(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>Vae(c,o,n))})})}function Io(e,t,r,n,i){return rr(this,void 0,void 0,function*(){return Kae(e,"POST",t,n,i,r)})}class Yae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EO),r),this.fetch=CO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield Io(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}getIndex(t,r){return rr(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jo(n))return{data:null,error:n};throw n}})}listIndexes(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return rr(this,void 0,void 0,function*(){try{return{data:(yield Io(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jo(n))return{data:null,error:n};throw n}})}}class Xae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EO),r),this.fetch=CO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Io(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}getVectors(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}listVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Io(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}queryVectors(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}deleteVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Io(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}}class Zae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EO),r),this.fetch=CO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield Io(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}getBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}listBuckets(){return rr(this,arguments,void 0,function*(t={}){try{return{data:yield Io(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield Io(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}})}}class Qae extends Zae{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Jae(this.url,this.headers,t,this.fetch)}}class Jae extends Yae{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return rr(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return rr(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return rr(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return rr(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new ese(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class ese extends Xae{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return rr(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return rr(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return rr(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return rr(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return rr(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class tse extends zae{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new Uae(this.url,this.headers,t,this.fetch)}get vectors(){return new Qae(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qae(this.url+"/iceberg",this.headers,this.fetch)}}const rse="2.76.1";let cg="";typeof Deno<"u"?cg="deno":typeof document<"u"?cg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cg="react-native":cg="node";const nse={"X-Client-Info":`supabase-js-${cg}/${rse}`},ise={headers:nse},ase={schema:"public"},sse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ose={},lse=e=>{let t;return e?t=e:typeof fetch>"u"?t=B$:t=fetch,(...r)=>t(...r)},cse=()=>typeof Headers>"u"?$$:Headers,use=(e,t,r)=>{const n=lse(r),i=cse();return async(a,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:u}))}};function dse(e){return e.endsWith("/")?e:e+"/"}function fse(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:c,auth:u,realtime:h,global:m}=t,y={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),s),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function hse(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dse(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const iU="2.76.1",Kp=30*1e3,OC=3,DS=OC*Kp,pse="http://localhost:9999",mse="supabase.auth.token",gse={"X-Client-Info":`gotrue-js/${iU}`},TC="X-Supabase-Api-Version",aU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vse=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yse=10*60*1e3;class uv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function yr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xse extends uv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bse(e){return yr(e)&&e.name==="AuthApiError"}class mh extends uv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Bf extends uv{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Id extends Bf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wse(e){return yr(e)&&e.name==="AuthSessionMissingError"}class Ip extends Bf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mx extends Bf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rx extends Bf{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _se(e){return yr(e)&&e.name==="AuthImplicitGrantRedirectError"}class yP extends Bf{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jC extends Bf{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function LS(e){return yr(e)&&e.name==="AuthRetryableFetchError"}class xP extends Bf{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class IC extends Bf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bP=` 	
\r=`.split(""),Sse=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bP.length;t+=1)e[bP[t].charCodeAt(0)]=-2;for(let t=0;t<xb.length;t+=1)e[xb[t].charCodeAt(0)]=t;return e})();function wP(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(xb[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(xb[n]),t.queuedBits-=6}}function sU(e,t,r){const n=Sse[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _P(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Cse(s,n,r)};for(let s=0;s<e.length;s+=1)sU(e.charCodeAt(s),i,a);return t.join("")}function Ase(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ese(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Ase(n,t)}}function Cse(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function O0(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)sU(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Nse(e){const t=[];return Ese(e,r=>t.push(r)),new Uint8Array(t)}function wh(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>wP(i,r,n)),wP(null,r,n),t.join("")}function Ose(e){return Math.round(Date.now()/1e3)+e}function Tse(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wo=()=>typeof window<"u"&&typeof document<"u",th={tested:!1,writable:!1},oU=()=>{if(!wo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(th.tested)return th.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),th.tested=!0,th.writable=!0}catch{th.tested=!0,th.writable=!1}return th.writable};function jse(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const lU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>vp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ise=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yp=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ed=async(e,t)=>{await e.removeItem(t)};class x_{constructor(){this.promise=new x_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}x_.promiseConstructor=Promise;function FS(e){const t=e.split(".");if(t.length!==3)throw new IC("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vse.test(t[n]))throw new IC("JWT not in base64url format");return{header:JSON.parse(_P(t[0])),payload:JSON.parse(_P(t[1])),signature:O0(t[2]),raw:{header:t[0],payload:t[1]}}}async function kse(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Pse(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Mse(e){return("0"+e.toString(16)).substr(-2)}function Rse(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Mse).join("")}async function Dse(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Lse(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Dse(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kp(e,t,r=!1){const n=Rse();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Yp(e,`${t}-code-verifier`,i);const a=await Lse(n);return[a,n===a?"plain":"s256"]}const Fse=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bse(e){const t=e.headers.get(TC);if(!t||!t.match(Fse))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $se(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Use(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zse=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pp(e){if(!zse.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function BS(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function SP(e){return JSON.parse(JSON.stringify(e))}const lh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qse=[502,503,504];async function AP(e){var t;if(!Ise(e))throw new jC(lh(e),0);if(qse.includes(e.status))throw new jC(lh(e),e.status);let r;try{r=await e.json()}catch(a){throw new mh(lh(a),a)}let n;const i=Bse(e);if(i&&i.getTime()>=aU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xP(lh(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Id}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new xP(lh(r),e.status,r.weak_password.reasons);throw new xse(lh(r),e.status||500,n)}const Wse=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Pr(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[TC]||(a[TC]=aU["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Hse(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Hse(e,t,r,n,i,a){const s=Wse(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new jC(lh(c),0)}if(o.ok||await AP(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await AP(c)}}function Fl(e){var t;let r=null;Kse(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ose(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function EP(e){const t=Fl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Vse(e){return{data:e,error:null}}function Gse(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Ff(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function CP(e){return e}function Kse(e){return e.access_token&&e.refresh_token&&e.expires_in}const $S=["global","local","others"];class Yse{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=lU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=$S[0]){if($S.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$S.join(", ")}`);try{return await Pr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Pr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bd})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ff(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Pr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Gse,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(yr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Pr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bd})}catch(r){if(yr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Pr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:CP});if(h.error)throw h.error;const m=await h.json(),y=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(c=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);u[`${w}Page`]=_}),u.total=parseInt(y)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(yr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pp(t);try{return await Pr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bd})}catch(r){if(yr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pp(t);try{return await Pr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Bd})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pp(t);try{return await Pr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bd})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pp(t.userId);try{const{data:r,error:n}=await Pr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(yr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pp(t.userId),Pp(t.id);try{return{data:await Pr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Pr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:CP});if(h.error)throw h.error;const m=await h.json(),y=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(c=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);u[`${w}Page`]=_}),u.total=parseInt(y)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(yr(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Pr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Pr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yr(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Pr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Pr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yr(r))return{data:null,error:r};throw r}}}function NP(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Mp={debug:!!(globalThis&&oU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Xse extends cU{}async function Zse(e,t,r){Mp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Mp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Mp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Xse(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mp.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Qse(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uU(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Jse(e){return parseInt(e,16)}function eoe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function toe(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:c,resources:u,scheme:h,uri:m,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=uU(e.address),S=h?`${h}://${n}`:n,_=e.statement?`${e.statement}
`:"",w=`${S} wants you to sign in with your Ethereum account:
${g}

${_}`;let A=`URI: ${m}
Version: ${y}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),o&&(A+=`
Not Before: ${o.toISOString()}`),c&&(A+=`
Request ID: ${c}`),u){let E=`
Resources:`;for(const O of u){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);E+=`
- ${O}`}A+=E}return`${w}
${A}`}class na extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class bb extends na{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function roe({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new na({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new na({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new na({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new na({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new na({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new na({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new na({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new na({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(dU(s)){if(a.rp.id!==s)return new na({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new na({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new na({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new na({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new na({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function noe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new na({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new na({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(dU(n)){if(r.rpId!==n)return new na({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new na({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new na({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new na({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ioe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const aoe=new ioe;function soe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ff(e,["challenge","user","excludeCredentials"]),a=O0(t).buffer,s=Object.assign(Object.assign({},r),{id:O0(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:O0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function ooe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ff(e,["challenge","allowCredentials"]),i=O0(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:O0(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function loe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:wh(new Uint8Array(e.response.attestationObject)),clientDataJSON:wh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function coe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wh(new Uint8Array(i.authenticatorData)),clientDataJSON:wh(new Uint8Array(i.clientDataJSON)),signature:wh(new Uint8Array(i.signature)),userHandle:i.userHandle?wh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dU(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function OP(){var e,t;return!!(wo()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uoe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bb("Browser returned unexpected credential type",t)}:{data:null,error:new bb("Empty credential response",t)}}catch(t){return{data:null,error:roe({error:t,options:e})}}}async function doe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bb("Browser returned unexpected credential type",t)}:{data:null,error:new bb("Empty credential response",t)}}catch(t){return{data:null,error:noe({error:t,options:e})}}}const foe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},hoe={userVerification:"preferred",hints:["security-key"]};function wb(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=wb(o,s):n[a]=wb(s)}else n[a]=s}return n}function poe(e,t){return wb(foe,e,t||{})}function moe(e,t){return wb(hoe,e,t||{})}class goe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=i??aoe.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=poe(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:m}=await uoe({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const u=moe(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:m}=await doe(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(s){return yr(s)?{data:null,error:s}:{data:null,error:new mh("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new uv("rpId is required for WebAuthn authentication")};try{if(!OP())return{data:null,error:new mh("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return yr(s)?{data:null,error:s}:{data:null,error:new mh("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new uv("rpId is required for WebAuthn registration")};try{if(!OP())return{data:null,error:new mh("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return yr(s)?{data:null,error:s}:{data:null,error:new mh("Unexpected error in register",s)}}}}Qse();const voe={url:pse,storageKey:mse,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gse,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function TP(e,t,r){return await r()}const Rp={};class dv{get jwks(){var t,r;return(r=(t=Rp[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Rp[this.storageKey]=Object.assign(Object.assign({},Rp[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Rp[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rp[this.storageKey]=Object.assign(Object.assign({},Rp[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dv.nextInstanceID,dv.nextInstanceID+=1,this.instanceID>0&&wo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},voe),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Yse({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lU(i.fetch),this.lock=i.lock||TP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:wo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Zse:this.lock=TP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new goe(this)},this.persistSession?(i.storage?this.storage=i.storage:oU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NP(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=NP(this.memoryStorage)),wo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iU}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=jse(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),wo()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_se(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return yr(r)?{error:r}:{error:new mh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fl}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(yr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:h,password:m,options:y}=t;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await kp(this.storage,this.storageKey)),a=await Pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:g,code_challenge_method:S},xform:Fl})}else if("phone"in t){const{phone:h,password:m,options:y}=t;a=await Pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Fl})}else throw new Mx("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(yr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:EP})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:EP})}else throw new Mx("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ip}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(yr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,c,u,h,m,y;let g,S;if("message"in t)g=t.message,S=t.signature;else{const{chain:_,wallet:w,statement:A,options:E}=t;let O;if(wo())if(typeof w=="object")O=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")O=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=w}const I=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),k=await O.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=uU(k[0]);let B=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!B){const P=await O.request({method:"eth_chainId"});B=Jse(P)}const D={domain:I.host,address:F,statement:A,uri:I.href,version:"1",chainId:B,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=E==null?void 0:E.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.resources};g=toe(D),S=await O.request({method:"personal_sign",params:[eoe(g),F]})}try{const{data:_,error:w}=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:S},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Fl});if(w)throw w;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Ip}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:w})}catch(_){if(yr(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var r,n,i,a,s,o,c,u,h,m,y,g;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:w,wallet:A,statement:E,options:O}=t;let I;if(wo())if(typeof A=="object")I=A;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))I=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=A}const k=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in I&&I.signIn){const F=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),E?{statement:E}:null));let B;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")B=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)B=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)S=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),_=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(n=O==null?void 0:O.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((s=O==null?void 0:O.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((o=O==null?void 0:O.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((m=(h=O==null?void 0:O.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...O.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const F=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=F}}try{const{data:w,error:A}=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:wh(_)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Fl});if(A)throw A;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ip}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:A})}catch(w){if(yr(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await rh(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Fl});if(await Ed(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ip}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(yr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Fl}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ip}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(yr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await kp(this.storage,this.storageKey));const{error:m}=await Pr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:h}=await Pr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Mx("You must provide either an email or phone number.")}catch(o){if(yr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Pr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Fl});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(yr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await kp(this.storage,this.storageKey)),await Pr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Vse})}catch(a){if(yr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Id;const{error:i}=await Pr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Pr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await Pr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new Mx("You must provide either an email or phone number and a type")}catch(r){if(yr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<DS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await rh(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=BS()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Pr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bd}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Id}:await Pr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Bd})})}catch(r){if(yr(r))return wse(r)&&(await this._removeSession(),await Ed(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Id;const s=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await kp(this.storage,this.storageKey));const{data:u,error:h}=await Pr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Bd});if(h)throw h;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Id;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=FS(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(yr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Id;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(yr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!wo())throw new Rx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rx("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yP("No code detected.");const{data:E,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!s||!u)throw new Rx("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(o);let y=h+m;c&&(y=parseInt(c));const g=y-h;g*1e3<=Kp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const S=y-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:_,error:w}=await this._getUser(a);if(w)throw w;const A={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:y,refresh_token:s,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:t.type},error:null}}catch(n){if(yr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(bse(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ed(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Tse(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await kp(this.storage,this.storageKey,!0));try{return await Pr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,c,u,h;const{data:m,error:y}=a;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Pr(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return wo()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(yr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:c,access_token:u,nonce:h}=t,m=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Fl}),{data:y,error:g}=m;return g?{data:{user:null,session:null},error:g}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ip}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:g})}catch(i){if(yr(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Pr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(yr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Pse(async i=>(i>0&&await kse(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Pr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fl})),(i,a)=>{const s=200*Math.pow(2,i);return a&&LS(a)&&Date.now()+s-n<Kp})}catch(n){if(this._debug(r,"error",n),yr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await rh(this.storage,this.storageKey);if(i&&this.userStorage){let s=await rh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Yp(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:BS()}else if(i&&!i.user&&!i.user){const s=await rh(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Ed(this.storage,this.storageKey+"-user"),await Yp(this.storage,this.storageKey,i)):i.user=BS()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<DS;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${DS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),LS(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Id;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new x_;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Id;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),yr(a)){const s={data:null,error:a};return LS(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Yp(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=SP(i);await Yp(this.storage,this.storageKey,a)}else{const i=SP(r);await Yp(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ed(this.storage,this.storageKey),await Ed(this.storage,this.storageKey+"-code-verifier"),await Ed(this.storage,this.storageKey+"-user"),this.userStorage&&await Ed(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kp);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Kp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Kp}ms, refresh threshold is ${OC} ticks`),i<=OC&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await kp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Pr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(yr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Pr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(yr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?loe(t.webauthn.credential_response):coe(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await Pr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(r){if(yr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const s=await Pr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:soe(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:ooe(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(yr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=FS(i.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+yse>i)return n;const{data:a,error:s}=await Pr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:S}=await this.getSession();if(S||!g.session)return{data:null,error:S};n=g.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:c}}=FS(n);r!=null&&r.allowExpired||$se(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:s},error:null}}const h=Use(i.alg),m=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,s,Nse(`${o}.${c}`)))throw new IC("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}}}dv.nextInstanceID=0;const yoe=dv;class xoe extends yoe{constructor(t){super(t)}}class boe{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=hse(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:ase,realtime:ose,auth:Object.assign(Object.assign({},sse),{storageKey:c}),global:ise},h=fse(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=use(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new pae(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new tse(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new sae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:c,debug:u},h,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xoe({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:c,debug:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Iae(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const woe=(e,t,r)=>new boe(e,t,r);function _oe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}_oe()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Soe="https://pjcfncnydhxrlnaowbae.supabase.co",Aoe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBqY2ZuY255ZGh4cmxuYW93YmFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNDM5MjAsImV4cCI6MjA3NjYxOTkyMH0.TUK35RTVDRfu2kmV8V8rArWebgBA2IMe1-iYSfISLAI",Ge=woe(Soe,Aoe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),At=M.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Mt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));At.displayName="Card";const Xt=M.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Mt("flex flex-col space-y-1.5 p-6",e),...t}));Xt.displayName="CardHeader";const fr=M.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:Mt("text-2xl font-semibold leading-none tracking-tight",e),...t}));fr.displayName="CardTitle";const Vl=M.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:Mt("text-sm text-muted-foreground",e),...t}));Vl.displayName="CardDescription";const Pt=M.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Mt("p-6 pt-0",e),...t}));Pt.displayName="CardContent";const Eoe=M.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Mt("flex items-center p-6 pt-0",e),...t}));Eoe.displayName="CardFooter";const NO=by("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ot=M.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const s=n?aJ:"button";return d.jsx(s,{className:Mt(NO({variant:t,size:r,className:e})),ref:a,...i})});ot.displayName="Button";var Coe="Separator",jP="horizontal",Noe=["horizontal","vertical"],fU=M.forwardRef((e,t)=>{const{decorative:r,orientation:n=jP,...i}=e,a=Ooe(n)?n:jP,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(br.div,{"data-orientation":a,...o,...i,ref:t})});fU.displayName=Coe;function Ooe(e){return Noe.includes(e)}var hU=fU;const o1=M.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>d.jsx(hU,{ref:i,decorative:r,orientation:t,className:Mt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));o1.displayName=hU.displayName;const Toe=[{title:"General",items:[{name:"Dashboard",href:"/",icon:lee},{name:"Punto de Venta",href:"/pos",icon:mp}]},{title:"Ventas & Clientes",items:[{name:"Ventas",href:"/sales",icon:sm},{name:"Presupuestos",href:"/quotations",icon:see},{name:"Remitos",href:"/delivery-notes",icon:hee},{name:"Devoluciones",href:"/returns",icon:XE},{name:"Clientes",href:"/customers",icon:GN},{name:"Cuentas Corrientes",href:"/customer-account",icon:WN}]},{title:"Inventario & Compras",items:[{name:"Productos",href:"/products",icon:mf},{name:"Alertas de Inventario",href:"/inventory-alerts",icon:GE},{name:"Compras",href:"/purchases",icon:vee},{name:"Proveedores",href:"/suppliers",icon:E0}]},{title:"Gestión",items:[{name:"Servicios Técnicos",href:"/technical-services",icon:sB},{name:"Promociones",href:"/promotions",icon:nB},{name:"Gestión de Caja",href:"/cash-register",icon:aB},{name:"Usuarios",href:"/employees",icon:xee}]},{title:"Reportes & Admin",items:[{name:"Reportes",href:"/reports",icon:tee},{name:"Auditoría",href:"/audit-logs",icon:rB},{name:"Logs de Acceso",href:"/access-logs",icon:GE},{name:"Configuración",href:"/settings",icon:gee}]}];function joe(){const e=gp(),t=i1(),r=async()=>{const{error:n}=await Ge.auth.signOut();n?ut.error("Error al cerrar sesión"):(t("/auth"),ut.success("Sesión cerrada exitosamente"))};return d.jsxs("div",{className:"flex h-screen w-64 flex-col bg-sidebar border-r border-sidebar-border",children:[d.jsxs("div",{className:"flex h-16 items-center gap-2 px-6 border-b border-sidebar-border",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center",children:d.jsx(mp,{className:"w-5 h-5 text-primary-foreground"})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-bold text-sidebar-foreground",children:"RetailSnap"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Sistema POS"})]})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-6 sidebar-scroll",children:Toe.map((n,i)=>d.jsxs("div",{children:[i>0&&d.jsx(o1,{className:"mb-4 bg-sidebar-border"}),d.jsx("div",{className:"mb-2 px-3",children:d.jsx("h3",{className:"text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:n.title})}),d.jsx("div",{className:"space-y-1",children:n.items.map(a=>{const s=e.pathname===a.href;return d.jsxs(Zie,{to:a.href,className:Mt("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all",s?"bg-sidebar-accent text-sidebar-accent-foreground shadow-sm":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[d.jsx(a.icon,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:a.name})]},a.name)})})]},n.title))}),d.jsx("div",{className:"p-4 border-t border-sidebar-border",children:d.jsxs(ot,{variant:"ghost",className:"w-full justify-start gap-3 text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/50",onClick:r,children:[d.jsx(cee,{className:"h-5 w-5"}),"Cerrar Sesión"]})})]})}var Ioe=M.createContext(void 0);function b_(e){const t=M.useContext(Ioe);return e||t||"ltr"}var US=0;function OO(){M.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??IP()),document.body.insertAdjacentElement("beforeend",e[1]??IP()),US++,()=>{US===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),US--}},[])}function IP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zS="focusScope.autoFocusOnMount",qS="focusScope.autoFocusOnUnmount",kP={bubbles:!1,cancelable:!0},koe="FocusScope",w_=M.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[o,c]=M.useState(null),u=io(i),h=io(a),m=M.useRef(null),y=Qr(t,_=>c(_)),g=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let _=function(O){if(g.paused||!o)return;const I=O.target;o.contains(I)?m.current=I:kd(m.current,{select:!0})},w=function(O){if(g.paused||!o)return;const I=O.relatedTarget;I!==null&&(o.contains(I)||kd(m.current,{select:!0}))},A=function(O){if(document.activeElement===document.body)for(const k of O)k.removedNodes.length>0&&kd(o)};document.addEventListener("focusin",_),document.addEventListener("focusout",w);const E=new MutationObserver(A);return o&&E.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",w),E.disconnect()}}},[n,o,g.paused]),M.useEffect(()=>{if(o){MP.add(g);const _=document.activeElement;if(!o.contains(_)){const A=new CustomEvent(zS,kP);o.addEventListener(zS,u),o.dispatchEvent(A),A.defaultPrevented||(Poe(Foe(pU(o)),{select:!0}),document.activeElement===_&&kd(o))}return()=>{o.removeEventListener(zS,u),setTimeout(()=>{const A=new CustomEvent(qS,kP);o.addEventListener(qS,h),o.dispatchEvent(A),A.defaultPrevented||kd(_??document.body,{select:!0}),o.removeEventListener(qS,h),MP.remove(g)},0)}}},[o,u,h,g]);const S=M.useCallback(_=>{if(!r&&!n||g.paused)return;const w=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,A=document.activeElement;if(w&&A){const E=_.currentTarget,[O,I]=Moe(E);O&&I?!_.shiftKey&&A===I?(_.preventDefault(),r&&kd(O,{select:!0})):_.shiftKey&&A===O&&(_.preventDefault(),r&&kd(I,{select:!0})):A===E&&_.preventDefault()}},[r,n,g.paused]);return d.jsx(br.div,{tabIndex:-1,...s,ref:y,onKeyDown:S})});w_.displayName=koe;function Poe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(kd(n,{select:t}),document.activeElement!==r)return}function Moe(e){const t=pU(e),r=PP(t,e),n=PP(t.reverse(),e);return[r,n]}function pU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PP(e,t){for(const r of e)if(!Roe(r,{upTo:t}))return r}function Roe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Doe(e){return e instanceof HTMLInputElement&&"select"in e}function kd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Doe(e)&&t&&e.select()}}var MP=Loe();function Loe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=RP(e,t),e.unshift(t)},remove(t){var r;e=RP(e,t),(r=e[0])==null||r.resume()}}}function RP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Foe(e){return e.filter(t=>t.tagName!=="A")}var WS="rovingFocusGroup.onEntryFocus",Boe={bubbles:!1,cancelable:!0},Sy="RovingFocusGroup",[kC,mU,$oe]=o_(Sy),[Uoe,__]=Ho(Sy,[$oe]),[zoe,qoe]=Uoe(Sy),gU=M.forwardRef((e,t)=>d.jsx(kC.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(kC.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Woe,{...e,ref:t})})}));gU.displayName=Sy;var Woe=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=e,y=M.useRef(null),g=Qr(t,y),S=b_(a),[_,w]=Zu({prop:s,defaultProp:o??null,onChange:c,caller:Sy}),[A,E]=M.useState(!1),O=io(u),I=mU(r),k=M.useRef(!1),[F,B]=M.useState(0);return M.useEffect(()=>{const D=y.current;if(D)return D.addEventListener(WS,O),()=>D.removeEventListener(WS,O)},[O]),d.jsx(zoe,{scope:r,orientation:n,dir:S,loop:i,currentTabStopId:_,onItemFocus:M.useCallback(D=>w(D),[w]),onItemShiftTab:M.useCallback(()=>E(!0),[]),onFocusableItemAdd:M.useCallback(()=>B(D=>D+1),[]),onFocusableItemRemove:M.useCallback(()=>B(D=>D-1),[]),children:d.jsx(br.div,{tabIndex:A||F===0?-1:0,"data-orientation":n,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:wt(e.onMouseDown,()=>{k.current=!0}),onFocus:wt(e.onFocus,D=>{const P=!k.current;if(D.target===D.currentTarget&&P&&!A){const K=new CustomEvent(WS,Boe);if(D.currentTarget.dispatchEvent(K),!K.defaultPrevented){const $=I().filter(Q=>Q.focusable),z=$.find(Q=>Q.active),X=$.find(Q=>Q.id===_),V=[z,X,...$].filter(Boolean).map(Q=>Q.ref.current);xU(V,h)}}k.current=!1}),onBlur:wt(e.onBlur,()=>E(!1))})})}),vU="RovingFocusGroupItem",yU=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...o}=e,c=Mc(),u=a||c,h=qoe(vU,r),m=h.currentTabStopId===u,y=mU(r),{onFocusableItemAdd:g,onFocusableItemRemove:S,currentTabStopId:_}=h;return M.useEffect(()=>{if(n)return g(),()=>S()},[n,g,S]),d.jsx(kC.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:d.jsx(br.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...o,ref:t,onMouseDown:wt(e.onMouseDown,w=>{n?h.onItemFocus(u):w.preventDefault()}),onFocus:wt(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:wt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const A=Goe(w,h.orientation,h.dir);if(A!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let O=y().filter(I=>I.focusable).map(I=>I.ref.current);if(A==="last")O.reverse();else if(A==="prev"||A==="next"){A==="prev"&&O.reverse();const I=O.indexOf(w.currentTarget);O=h.loop?Koe(O,I+1):O.slice(I+1)}setTimeout(()=>xU(O))}}),children:typeof s=="function"?s({isCurrentTabStop:m,hasTabStop:_!=null}):s})})});yU.displayName=vU;var Hoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Voe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Goe(e,t,r){const n=Voe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Hoe[n]}function xU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Koe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var bU=gU,wU=yU,Yoe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dp=new WeakMap,Dx=new WeakMap,Lx={},HS=0,_U=function(e){return e&&(e.host||_U(e.parentNode))},Xoe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=_U(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Zoe=function(e,t,r,n){var i=Xoe(t,Array.isArray(e)?e:[e]);Lx[r]||(Lx[r]=new WeakMap);var a=Lx[r],s=[],o=new Set,c=new Set(i),u=function(m){!m||o.has(m)||(o.add(m),u(m.parentNode))};i.forEach(u);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(y){if(o.has(y))h(y);else try{var g=y.getAttribute(n),S=g!==null&&g!=="false",_=(Dp.get(y)||0)+1,w=(a.get(y)||0)+1;Dp.set(y,_),a.set(y,w),s.push(y),_===1&&S&&Dx.set(y,!0),w===1&&y.setAttribute(r,"true"),S||y.setAttribute(n,"true")}catch(A){console.error("aria-hidden: cannot operate on ",y,A)}})};return h(t),o.clear(),HS++,function(){s.forEach(function(m){var y=Dp.get(m)-1,g=a.get(m)-1;Dp.set(m,y),a.set(m,g),y||(Dx.has(m)||m.removeAttribute(n),Dx.delete(m)),g||m.removeAttribute(r)}),HS--,HS||(Dp=new WeakMap,Dp=new WeakMap,Dx=new WeakMap,Lx={})}},TO=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Yoe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Zoe(n,i,r,"aria-hidden")):function(){return null}},O2="right-scroll-bar-position",T2="width-before-scroll-bar",Qoe="with-scroll-bars-hidden",Joe="--removed-body-scroll-bar-size";function VS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ele(e,t){var r=M.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var tle=typeof window<"u"?M.useLayoutEffect:M.useEffect,DP=new WeakMap;function rle(e,t){var r=ele(null,function(n){return e.forEach(function(i){return VS(i,n)})});return tle(function(){var n=DP.get(r);if(n){var i=new Set(n),a=new Set(e),s=r.current;i.forEach(function(o){a.has(o)||VS(o,null)}),a.forEach(function(o){i.has(o)||VS(o,s)})}DP.set(r,e)},[e]),r}function nle(e){return e}function ile(e,t){t===void 0&&(t=nle);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var s=t(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var c=function(){var h=s;s=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){s.push(h),u()},filter:function(h){return s=s.filter(h),r}}}};return i}function ale(e){e===void 0&&(e={});var t=ile(null);return t.options=ll({async:!0,ssr:!1},e),t}var SU=function(e){var t=e.sideCar,r=Ff(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,ll({},r))};SU.isSideCarExport=!0;function sle(e,t){return e.useMedium(t),SU}var AU=ale(),GS=function(){},S_=M.forwardRef(function(e,t){var r=M.useRef(null),n=M.useState({onScrollCapture:GS,onWheelCapture:GS,onTouchMoveCapture:GS}),i=n[0],a=n[1],s=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,m=e.shards,y=e.sideCar,g=e.noRelative,S=e.noIsolation,_=e.inert,w=e.allowPinchZoom,A=e.as,E=A===void 0?"div":A,O=e.gapMode,I=Ff(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=y,F=rle([r,t]),B=ll(ll({},I),i);return M.createElement(M.Fragment,null,h&&M.createElement(k,{sideCar:AU,removeScrollBar:u,shards:m,noRelative:g,noIsolation:S,inert:_,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:O}),s?M.cloneElement(M.Children.only(o),ll(ll({},B),{ref:F})):M.createElement(E,ll({},B,{className:c,ref:F}),o))});S_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};S_.classNames={fullWidth:T2,zeroRight:O2};var ole=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lle(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ole();return t&&e.setAttribute("nonce",t),e}function cle(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ule(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dle=function(){var e=0,t=null;return{add:function(r){e==0&&(t=lle())&&(cle(t,r),ule(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fle=function(){var e=dle();return function(t,r){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},EU=function(){var e=fle(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},hle={left:0,top:0,right:0,gap:0},KS=function(e){return parseInt(e||"",10)||0},ple=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[KS(r),KS(n),KS(i)]},mle=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hle;var t=ple(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},gle=EU(),T0="data-scroll-locked",vle=function(e,t,r,n){var i=e.left,a=e.top,s=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Qoe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(T0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(O2,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(T2,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(O2," .").concat(O2,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(T2," .").concat(T2,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(T0,`] {
    `).concat(Joe,": ").concat(o,`px;
  }
`)},LP=function(){var e=parseInt(document.body.getAttribute(T0)||"0",10);return isFinite(e)?e:0},yle=function(){M.useEffect(function(){return document.body.setAttribute(T0,(LP()+1).toString()),function(){var e=LP()-1;e<=0?document.body.removeAttribute(T0):document.body.setAttribute(T0,e.toString())}},[])},xle=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;yle();var a=M.useMemo(function(){return mle(i)},[i]);return M.createElement(gle,{styles:vle(a,!t,i,r?"":"!important")})},PC=!1;if(typeof window<"u")try{var Fx=Object.defineProperty({},"passive",{get:function(){return PC=!0,!0}});window.addEventListener("test",Fx,Fx),window.removeEventListener("test",Fx,Fx)}catch{PC=!1}var Lp=PC?{passive:!1}:!1,ble=function(e){return e.tagName==="TEXTAREA"},CU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ble(e)&&r[t]==="visible")},wle=function(e){return CU(e,"overflowY")},_le=function(e){return CU(e,"overflowX")},FP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=NU(e,n);if(i){var a=OU(e,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Sle=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Ale=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},NU=function(e,t){return e==="v"?wle(t):_le(t)},OU=function(e,t){return e==="v"?Sle(t):Ale(t)},Ele=function(e,t){return e==="h"&&t==="rtl"?-1:1},Cle=function(e,t,r,n,i){var a=Ele(e,window.getComputedStyle(t).direction),s=a*n,o=r.target,c=t.contains(o),u=!1,h=s>0,m=0,y=0;do{if(!o)break;var g=OU(e,o),S=g[0],_=g[1],w=g[2],A=_-w-a*S;(S||A)&&NU(e,o)&&(m+=A,y+=S);var E=o.parentNode;o=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(h&&(Math.abs(m)<1||!i)||!h&&(Math.abs(y)<1||!i))&&(u=!0),u},Bx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BP=function(e){return[e.deltaX,e.deltaY]},$P=function(e){return e&&"current"in e?e.current:e},Nle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ole=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Tle=0,Fp=[];function jle(e){var t=M.useRef([]),r=M.useRef([0,0]),n=M.useRef(),i=M.useState(Tle++)[0],a=M.useState(EU)[0],s=M.useRef(e);M.useEffect(function(){s.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=yO([e.lockRef.current],(e.shards||[]).map($P),!0).filter(Boolean);return _.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=M.useCallback(function(_,w){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!s.current.allowPinchZoom;var A=Bx(_),E=r.current,O="deltaX"in _?_.deltaX:E[0]-A[0],I="deltaY"in _?_.deltaY:E[1]-A[1],k,F=_.target,B=Math.abs(O)>Math.abs(I)?"h":"v";if("touches"in _&&B==="h"&&F.type==="range")return!1;var D=FP(B,F);if(!D)return!0;if(D?k=B:(k=B==="v"?"h":"v",D=FP(B,F)),!D)return!1;if(!n.current&&"changedTouches"in _&&(O||I)&&(n.current=k),!k)return!0;var P=n.current||k;return Cle(P,w,_,P==="h"?O:I,!0)},[]),c=M.useCallback(function(_){var w=_;if(!(!Fp.length||Fp[Fp.length-1]!==a)){var A="deltaY"in w?BP(w):Bx(w),E=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&Nle(k.delta,A)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var O=(s.current.shards||[]).map($P).filter(Boolean).filter(function(k){return k.contains(w.target)}),I=O.length>0?o(w,O[0]):!s.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),u=M.useCallback(function(_,w,A,E){var O={name:_,delta:w,target:A,should:E,shadowParent:Ile(A)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(I){return I!==O})},1)},[]),h=M.useCallback(function(_){r.current=Bx(_),n.current=void 0},[]),m=M.useCallback(function(_){u(_.type,BP(_),_.target,o(_,e.lockRef.current))},[]),y=M.useCallback(function(_){u(_.type,Bx(_),_.target,o(_,e.lockRef.current))},[]);M.useEffect(function(){return Fp.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",c,Lp),document.addEventListener("touchmove",c,Lp),document.addEventListener("touchstart",h,Lp),function(){Fp=Fp.filter(function(_){return _!==a}),document.removeEventListener("wheel",c,Lp),document.removeEventListener("touchmove",c,Lp),document.removeEventListener("touchstart",h,Lp)}},[]);var g=e.removeScrollBar,S=e.inert;return M.createElement(M.Fragment,null,S?M.createElement(a,{styles:Ole(i)}):null,g?M.createElement(xle,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ile(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kle=sle(AU,jle);var A_=M.forwardRef(function(e,t){return M.createElement(S_,ll({},e,{ref:t,sideCar:kle}))});A_.classNames=S_.classNames;var MC=["Enter"," "],Ple=["ArrowDown","PageUp","Home"],TU=["ArrowUp","PageDown","End"],Mle=[...Ple,...TU],Rle={ltr:[...MC,"ArrowRight"],rtl:[...MC,"ArrowLeft"]},Dle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ay="Menu",[fv,Lle,Fle]=o_(Ay),[yp,jU]=Ho(Ay,[Fle,e1,__]),E_=e1(),IU=__(),[Ble,xp]=yp(Ay),[$le,Ey]=yp(Ay),kU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:s=!0}=e,o=E_(t),[c,u]=M.useState(null),h=M.useRef(!1),m=io(a),y=b_(i);return M.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),d.jsx(FB,{...o,children:d.jsx(Ble,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:u,children:d.jsx($le,{scope:t,onClose:M.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:y,modal:s,children:n})})})};kU.displayName=Ay;var Ule="MenuAnchor",jO=M.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=E_(r);return d.jsx(aO,{...i,...n,ref:t})});jO.displayName=Ule;var IO="MenuPortal",[zle,PU]=yp(IO,{forceMount:void 0}),MU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=xp(IO,t);return d.jsx(zle,{scope:t,forceMount:r,children:d.jsx(bl,{present:r||a.open,children:d.jsx(yy,{asChild:!0,container:i,children:n})})})};MU.displayName=IO;var pl="MenuContent",[qle,kO]=yp(pl),RU=M.forwardRef((e,t)=>{const r=PU(pl,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=xp(pl,e.__scopeMenu),s=Ey(pl,e.__scopeMenu);return d.jsx(fv.Provider,{scope:e.__scopeMenu,children:d.jsx(bl,{present:n||a.open,children:d.jsx(fv.Slot,{scope:e.__scopeMenu,children:s.modal?d.jsx(Wle,{...i,ref:t}):d.jsx(Hle,{...i,ref:t})})})})}),Wle=M.forwardRef((e,t)=>{const r=xp(pl,e.__scopeMenu),n=M.useRef(null),i=Qr(t,n);return M.useEffect(()=>{const a=n.current;if(a)return TO(a)},[]),d.jsx(PO,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:wt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Hle=M.forwardRef((e,t)=>{const r=xp(pl,e.__scopeMenu);return d.jsx(PO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Vle=Yh("MenuContent.ScrollLock"),PO=M.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:y,onDismiss:g,disableOutsideScroll:S,..._}=e,w=xp(pl,r),A=Ey(pl,r),E=E_(r),O=IU(r),I=Lle(r),[k,F]=M.useState(null),B=M.useRef(null),D=Qr(t,B,w.onContentChange),P=M.useRef(0),K=M.useRef(""),$=M.useRef(0),z=M.useRef(null),X=M.useRef("right"),W=M.useRef(0),V=S?A_:M.Fragment,Q=S?{as:Vle,allowPinchZoom:!0}:void 0,ne=H=>{var Se,Ae;const le=K.current+H,fe=I().filter(ye=>!ye.disabled),q=document.activeElement,Z=(Se=fe.find(ye=>ye.ref.current===q))==null?void 0:Se.textValue,ae=fe.map(ye=>ye.textValue),ge=ice(ae,le,Z),he=(Ae=fe.find(ye=>ye.textValue===ge))==null?void 0:Ae.ref.current;(function ye(Ne){K.current=Ne,window.clearTimeout(P.current),Ne!==""&&(P.current=window.setTimeout(()=>ye(""),1e3))})(le),he&&setTimeout(()=>he.focus())};M.useEffect(()=>()=>window.clearTimeout(P.current),[]),OO();const te=M.useCallback(H=>{var fe,q;return X.current===((fe=z.current)==null?void 0:fe.side)&&sce(H,(q=z.current)==null?void 0:q.area)},[]);return d.jsx(qle,{scope:r,searchRef:K,onItemEnter:M.useCallback(H=>{te(H)&&H.preventDefault()},[te]),onItemLeave:M.useCallback(H=>{var le;te(H)||((le=B.current)==null||le.focus(),F(null))},[te]),onTriggerLeave:M.useCallback(H=>{te(H)&&H.preventDefault()},[te]),pointerGraceTimerRef:$,onPointerGraceIntentChange:M.useCallback(H=>{z.current=H},[]),children:d.jsx(V,{...Q,children:d.jsx(w_,{asChild:!0,trapped:i,onMountAutoFocus:wt(a,H=>{var le;H.preventDefault(),(le=B.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:d.jsx(Xm,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:y,onDismiss:g,children:d.jsx(bU,{asChild:!0,...O,dir:A.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:F,onEntryFocus:wt(c,H=>{A.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(sO,{role:"menu","aria-orientation":"vertical","data-state":ZU(w.open),"data-radix-menu-content":"",dir:A.dir,...E,..._,ref:D,style:{outline:"none",..._.style},onKeyDown:wt(_.onKeyDown,H=>{const fe=H.target.closest("[data-radix-menu-content]")===H.currentTarget,q=H.ctrlKey||H.altKey||H.metaKey,Z=H.key.length===1;fe&&(H.key==="Tab"&&H.preventDefault(),!q&&Z&&ne(H.key));const ae=B.current;if(H.target!==ae||!Mle.includes(H.key))return;H.preventDefault();const he=I().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);TU.includes(H.key)&&he.reverse(),rce(he)}),onBlur:wt(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(P.current),K.current="")}),onPointerMove:wt(e.onPointerMove,hv(H=>{const le=H.target,fe=W.current!==H.clientX;if(H.currentTarget.contains(le)&&fe){const q=H.clientX>W.current?"right":"left";X.current=q,W.current=H.clientX}}))})})})})})})});RU.displayName=pl;var Gle="MenuGroup",MO=M.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(br.div,{role:"group",...n,ref:t})});MO.displayName=Gle;var Kle="MenuLabel",DU=M.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(br.div,{...n,ref:t})});DU.displayName=Kle;var _b="MenuItem",UP="menu.itemSelect",C_=M.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=M.useRef(null),s=Ey(_b,e.__scopeMenu),o=kO(_b,e.__scopeMenu),c=Qr(t,a),u=M.useRef(!1),h=()=>{const m=a.current;if(!r&&m){const y=new CustomEvent(UP,{bubbles:!0,cancelable:!0});m.addEventListener(UP,g=>n==null?void 0:n(g),{once:!0}),FN(m,y),y.defaultPrevented?u.current=!1:s.onClose()}};return d.jsx(LU,{...i,ref:c,disabled:r,onClick:wt(e.onClick,h),onPointerDown:m=>{var y;(y=e.onPointerDown)==null||y.call(e,m),u.current=!0},onPointerUp:wt(e.onPointerUp,m=>{var y;u.current||(y=m.currentTarget)==null||y.click()}),onKeyDown:wt(e.onKeyDown,m=>{const y=o.searchRef.current!=="";r||y&&m.key===" "||MC.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});C_.displayName=_b;var LU=M.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,s=kO(_b,r),o=IU(r),c=M.useRef(null),u=Qr(t,c),[h,m]=M.useState(!1),[y,g]=M.useState("");return M.useEffect(()=>{const S=c.current;S&&g((S.textContent??"").trim())},[a.children]),d.jsx(fv.ItemSlot,{scope:r,disabled:n,textValue:i??y,children:d.jsx(wU,{asChild:!0,...o,focusable:!n,children:d.jsx(br.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:wt(e.onPointerMove,hv(S=>{n?s.onItemLeave(S):(s.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:wt(e.onPointerLeave,hv(S=>s.onItemLeave(S))),onFocus:wt(e.onFocus,()=>m(!0)),onBlur:wt(e.onBlur,()=>m(!1))})})})}),Yle="MenuCheckboxItem",FU=M.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return d.jsx(qU,{scope:e.__scopeMenu,checked:r,children:d.jsx(C_,{role:"menuitemcheckbox","aria-checked":Sb(r)?"mixed":r,...i,ref:t,"data-state":DO(r),onSelect:wt(i.onSelect,()=>n==null?void 0:n(Sb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});FU.displayName=Yle;var BU="MenuRadioGroup",[Xle,Zle]=yp(BU,{value:void 0,onValueChange:()=>{}}),$U=M.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=io(n);return d.jsx(Xle,{scope:e.__scopeMenu,value:r,onValueChange:a,children:d.jsx(MO,{...i,ref:t})})});$U.displayName=BU;var UU="MenuRadioItem",zU=M.forwardRef((e,t)=>{const{value:r,...n}=e,i=Zle(UU,e.__scopeMenu),a=r===i.value;return d.jsx(qU,{scope:e.__scopeMenu,checked:a,children:d.jsx(C_,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":DO(a),onSelect:wt(n.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,r)},{checkForDefaultPrevented:!1})})})});zU.displayName=UU;var RO="MenuItemIndicator",[qU,Qle]=yp(RO,{checked:!1}),WU=M.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=Qle(RO,r);return d.jsx(bl,{present:n||Sb(a.checked)||a.checked===!0,children:d.jsx(br.span,{...i,ref:t,"data-state":DO(a.checked)})})});WU.displayName=RO;var Jle="MenuSeparator",HU=M.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(br.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});HU.displayName=Jle;var ece="MenuArrow",VU=M.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=E_(r);return d.jsx(oO,{...i,...n,ref:t})});VU.displayName=ece;var tce="MenuSub",[B9e,GU]=yp(tce),ug="MenuSubTrigger",KU=M.forwardRef((e,t)=>{const r=xp(ug,e.__scopeMenu),n=Ey(ug,e.__scopeMenu),i=GU(ug,e.__scopeMenu),a=kO(ug,e.__scopeMenu),s=M.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},h=M.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return M.useEffect(()=>h,[h]),M.useEffect(()=>{const m=o.current;return()=>{window.clearTimeout(m),c(null)}},[o,c]),d.jsx(jO,{asChild:!0,...u,children:d.jsx(LU,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":ZU(r.open),...e,ref:s_(t,i.onTriggerChange),onClick:m=>{var y;(y=e.onClick)==null||y.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:wt(e.onPointerMove,hv(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:wt(e.onPointerLeave,hv(m=>{var g,S;h();const y=(g=r.content)==null?void 0:g.getBoundingClientRect();if(y){const _=(S=r.content)==null?void 0:S.dataset.side,w=_==="right",A=w?-5:5,E=y[w?"left":"right"],O=y[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+A,y:m.clientY},{x:E,y:y.top},{x:O,y:y.top},{x:O,y:y.bottom},{x:E,y:y.bottom}],side:_}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:wt(e.onKeyDown,m=>{var g;const y=a.searchRef.current!=="";e.disabled||y&&m.key===" "||Rle[n.dir].includes(m.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),m.preventDefault())})})})});KU.displayName=ug;var YU="MenuSubContent",XU=M.forwardRef((e,t)=>{const r=PU(pl,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=xp(pl,e.__scopeMenu),s=Ey(pl,e.__scopeMenu),o=GU(YU,e.__scopeMenu),c=M.useRef(null),u=Qr(t,c);return d.jsx(fv.Provider,{scope:e.__scopeMenu,children:d.jsx(bl,{present:n||a.open,children:d.jsx(fv.Slot,{scope:e.__scopeMenu,children:d.jsx(PO,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;s.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:wt(e.onFocusOutside,h=>{h.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:wt(e.onEscapeKeyDown,h=>{s.onClose(),h.preventDefault()}),onKeyDown:wt(e.onKeyDown,h=>{var g;const m=h.currentTarget.contains(h.target),y=Dle[s.dir].includes(h.key);m&&y&&(a.onOpenChange(!1),(g=o.trigger)==null||g.focus(),h.preventDefault())})})})})})});XU.displayName=YU;function ZU(e){return e?"open":"closed"}function Sb(e){return e==="indeterminate"}function DO(e){return Sb(e)?"indeterminate":e?"checked":"unchecked"}function rce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function nce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function ice(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=nce(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function ace(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const o=t[a],c=t[s],u=o.x,h=o.y,m=c.x,y=c.y;h>n!=y>n&&r<(m-u)*(n-h)/(y-h)+u&&(i=!i)}return i}function sce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ace(r,t)}function hv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var oce=kU,lce=jO,cce=MU,uce=RU,dce=MO,fce=DU,hce=C_,pce=FU,mce=$U,gce=zU,vce=WU,yce=HU,xce=VU,bce=KU,wce=XU,N_="DropdownMenu",[_ce,$9e]=Ho(N_,[jU]),Fs=jU(),[Sce,QU]=_ce(N_),JU=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,c=Fs(t),u=M.useRef(null),[h,m]=Zu({prop:i,defaultProp:a??!1,onChange:s,caller:N_});return d.jsx(Sce,{scope:t,triggerId:Mc(),triggerRef:u,contentId:Mc(),open:h,onOpenChange:m,onOpenToggle:M.useCallback(()=>m(y=>!y),[m]),modal:o,children:d.jsx(oce,{...c,open:h,onOpenChange:m,dir:n,modal:o,children:r})})};JU.displayName=N_;var ez="DropdownMenuTrigger",tz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=QU(ez,r),s=Fs(r);return d.jsx(lce,{asChild:!0,...s,children:d.jsx(br.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:s_(t,a.triggerRef),onPointerDown:wt(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:wt(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});tz.displayName=ez;var Ace="DropdownMenuPortal",rz=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Fs(t);return d.jsx(cce,{...n,...r})};rz.displayName=Ace;var nz="DropdownMenuContent",iz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=QU(nz,r),a=Fs(r),s=M.useRef(!1);return d.jsx(uce,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:wt(e.onCloseAutoFocus,o=>{var c;s.current||(c=i.triggerRef.current)==null||c.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:wt(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!i.modal||h)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iz.displayName=nz;var Ece="DropdownMenuGroup",Cce=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(dce,{...i,...n,ref:t})});Cce.displayName=Ece;var Nce="DropdownMenuLabel",az=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(fce,{...i,...n,ref:t})});az.displayName=Nce;var Oce="DropdownMenuItem",sz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(hce,{...i,...n,ref:t})});sz.displayName=Oce;var Tce="DropdownMenuCheckboxItem",oz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(pce,{...i,...n,ref:t})});oz.displayName=Tce;var jce="DropdownMenuRadioGroup",Ice=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(mce,{...i,...n,ref:t})});Ice.displayName=jce;var kce="DropdownMenuRadioItem",lz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(gce,{...i,...n,ref:t})});lz.displayName=kce;var Pce="DropdownMenuItemIndicator",cz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(vce,{...i,...n,ref:t})});cz.displayName=Pce;var Mce="DropdownMenuSeparator",uz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(yce,{...i,...n,ref:t})});uz.displayName=Mce;var Rce="DropdownMenuArrow",Dce=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(xce,{...i,...n,ref:t})});Dce.displayName=Rce;var Lce="DropdownMenuSubTrigger",dz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(bce,{...i,...n,ref:t})});dz.displayName=Lce;var Fce="DropdownMenuSubContent",fz=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fs(r);return d.jsx(wce,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fz.displayName=Fce;var Bce=JU,$ce=tz,Uce=rz,hz=iz,pz=az,mz=sz,gz=oz,vz=lz,yz=cz,xz=uz,bz=dz,wz=fz;const zce=Bce,qce=$ce,Wce=M.forwardRef(({className:e,inset:t,children:r,...n},i)=>d.jsxs(bz,{ref:i,className:Mt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,d.jsx(ree,{className:"ml-auto h-4 w-4"})]}));Wce.displayName=bz.displayName;const Hce=M.forwardRef(({className:e,...t},r)=>d.jsx(wz,{ref:r,className:Mt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Hce.displayName=wz.displayName;const _z=M.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(Uce,{children:d.jsx(hz,{ref:n,sideOffset:t,className:Mt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));_z.displayName=hz.displayName;const RC=M.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(mz,{ref:n,className:Mt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));RC.displayName=mz.displayName;const Vce=M.forwardRef(({className:e,children:t,checked:r,...n},i)=>d.jsxs(gz,{ref:i,className:Mt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(yz,{children:d.jsx(qN,{className:"h-4 w-4"})})}),t]}));Vce.displayName=gz.displayName;const Gce=M.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(vz,{ref:n,className:Mt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(yz,{children:d.jsx(aee,{className:"h-2 w-2 fill-current"})})}),t]}));Gce.displayName=vz.displayName;const Sz=M.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(pz,{ref:n,className:Mt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Sz.displayName=pz.displayName;const DC=M.forwardRef(({className:e,...t},r)=>d.jsx(xz,{ref:r,className:Mt("-mx-1 my-1 h-px bg-muted",e),...t}));DC.displayName=xz.displayName;const Kce=by("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yr({className:e,variant:t,...r}){return d.jsx("div",{className:Mt(Kce({variant:t}),e),...r})}function zn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ed(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Yce(e,t){const r=zn(e);return isNaN(t)?ed(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const Az=6048e5,Xce=864e5,$x=43200,zP=1440;let Zce={};function Cy(){return Zce}function pv(e,t){var o,c,u,h;const r=Cy(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=zn(e),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Ab(e){return pv(e,{weekStartsOn:1})}function Ez(e){const t=zn(e),r=t.getFullYear(),n=ed(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Ab(n),a=ed(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Ab(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function mv(e){const t=zn(e);return t.setHours(0,0,0,0),t}function Eb(e){const t=zn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Qce(e,t){const r=mv(e),n=mv(t),i=+r-Eb(r),a=+n-Eb(n);return Math.round((i-a)/Xce)}function Jce(e){const t=Ez(e),r=ed(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ab(r)}function j2(e,t){const r=zn(e),n=zn(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function eue(e){return ed(e,Date.now())}function tue(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rue(e){if(!tue(e)&&typeof e!="number")return!1;const t=zn(e);return!isNaN(Number(t))}function nue(e,t){const r=zn(e),n=zn(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function iue(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function aue(e,t){return+zn(e)-+zn(t)}function Cz(e){const t=zn(e);return t.setHours(23,59,59,999),t}function sue(e){const t=zn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function oue(e){const t=zn(e);return+Cz(t)==+sue(t)}function lue(e,t){const r=zn(e),n=zn(t),i=j2(r,n),a=Math.abs(nue(r,n));let s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let o=j2(r,n)===-i;oue(zn(e))&&a===1&&j2(e,n)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function cue(e,t,r){const n=aue(e,t)/1e3;return iue(r==null?void 0:r.roundingMethod)(n)}function uue(e){const t=zn(e),r=ed(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const due={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fue=(e,t,r)=>{let n;const i=due[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function j0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const hue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gue={date:j0({formats:hue,defaultWidth:"full"}),time:j0({formats:pue,defaultWidth:"full"}),dateTime:j0({formats:mue,defaultWidth:"full"})},vue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yue=(e,t,r,n)=>vue[e];function Cc(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[o]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const xue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_ue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Aue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Eue=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cue={ordinalNumber:Eue,era:Cc({values:xue,defaultWidth:"wide"}),quarter:Cc({values:bue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cc({values:wue,defaultWidth:"wide"}),day:Cc({values:_ue,defaultWidth:"wide"}),dayPeriod:Cc({values:Sue,defaultWidth:"wide",formattingValues:Aue,defaultFormattingWidth:"wide"})};function Nc(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?Oue(o,m=>m.test(s)):Nue(o,m=>m.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(s.length);return{value:u,rest:h}}}function Nue(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Oue(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Nz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(i.length);return{value:s,rest:o}}}const Tue=/^(\d+)(th|st|nd|rd)?/i,jue=/\d+/i,Iue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kue={any:[/^b/i,/^(a|c)/i]},Pue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mue={any:[/1/i,/2/i,/3/i,/4/i]},Rue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Due={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$ue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Uue={ordinalNumber:Nz({matchPattern:Tue,parsePattern:jue,valueCallback:e=>parseInt(e,10)}),era:Nc({matchPatterns:Iue,defaultMatchWidth:"wide",parsePatterns:kue,defaultParseWidth:"any"}),quarter:Nc({matchPatterns:Pue,defaultMatchWidth:"wide",parsePatterns:Mue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Nc({matchPatterns:Rue,defaultMatchWidth:"wide",parsePatterns:Due,defaultParseWidth:"any"}),day:Nc({matchPatterns:Lue,defaultMatchWidth:"wide",parsePatterns:Fue,defaultParseWidth:"any"}),dayPeriod:Nc({matchPatterns:Bue,defaultMatchWidth:"any",parsePatterns:$ue,defaultParseWidth:"any"})},Oz={code:"en-US",formatDistance:fue,formatLong:gue,formatRelative:yue,localize:Cue,match:Uue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zue(e){const t=zn(e);return Qce(t,uue(t))+1}function que(e){const t=zn(e),r=+Ab(t)-+Jce(t);return Math.round(r/Az)+1}function Tz(e,t){var h,m,y,g;const r=zn(e),n=r.getFullYear(),i=Cy(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(y=i.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,s=ed(e,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=pv(s,t),c=ed(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=pv(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Wue(e,t){var o,c,u,h;const r=Cy(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=Tz(e,t),a=ed(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),pv(a,t)}function Hue(e,t){const r=zn(e),n=+pv(r,t)-+Wue(r,t);return Math.round(n/Az)+1}function Pn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Cd={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Pn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Pn(r+1,2)},d(e,t){return Pn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Pn(e.getHours()%12||12,t.length)},H(e,t){return Pn(e.getHours(),t.length)},m(e,t){return Pn(e.getMinutes(),t.length)},s(e,t){return Pn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Pn(i,t.length)}},Bp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Cd.y(e,t)},Y:function(e,t,r,n){const i=Tz(e,n),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return Pn(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Pn(a,t.length)},R:function(e,t){const r=Ez(e);return Pn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Pn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Pn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Pn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Cd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Pn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=Hue(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Pn(i,t.length)},I:function(e,t,r){const n=que(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Pn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Cd.d(e,t)},D:function(e,t,r){const n=zue(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Pn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Pn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Pn(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Pn(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Bp.noon:n===0?i=Bp.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Bp.evening:n>=12?i=Bp.afternoon:n>=4?i=Bp.morning:i=Bp.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Cd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Cd.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Pn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Pn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Cd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Cd.s(e,t)},S:function(e,t){return Cd.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return HP(n);case"XXXX":case"XX":return ch(n);case"XXXXX":case"XXX":default:return ch(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return HP(n);case"xxxx":case"xx":return ch(n);case"xxxxx":case"xxx":default:return ch(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+WP(n,":");case"OOOO":default:return"GMT"+ch(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+WP(n,":");case"zzzz":default:return"GMT"+ch(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Pn(n,t.length)},T:function(e,t,r){const n=e.getTime();return Pn(n,t.length)}};function WP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Pn(a,2)}function HP(e,t){return e%60===0?(e>0?"-":"+")+Pn(Math.abs(e)/60,2):ch(e,t)}function ch(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Pn(Math.trunc(n/60),2),a=Pn(n%60,2);return r+i+t+a}const VP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Vue=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return VP(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",VP(n,t)).replace("{{time}}",jz(i,t))},Gue={p:jz,P:Vue},Kue=/^D+$/,Yue=/^Y+$/,Xue=["D","DD","YY","YYYY"];function Zue(e){return Kue.test(e)}function Que(e){return Yue.test(e)}function Jue(e,t,r){const n=ede(e,t,r);if(console.warn(n),Xue.includes(e))throw new RangeError(n)}function ede(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nde=/^'([^]*?)'?$/,ide=/''/g,ade=/[a-zA-Z]/;function Yi(e,t,r){var h,m,y,g,S,_,w,A;const n=Cy(),i=(r==null?void 0:r.locale)??n.locale??Oz,a=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(y=n.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((_=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((A=(w=n.locale)==null?void 0:w.options)==null?void 0:A.weekStartsOn)??0,o=zn(e);if(!rue(o))throw new RangeError("Invalid time value");let c=t.match(rde).map(E=>{const O=E[0];if(O==="p"||O==="P"){const I=Gue[O];return I(E,i.formatLong)}return E}).join("").match(tde).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const O=E[0];if(O==="'")return{isToken:!1,value:sde(E)};if(qP[O])return{isToken:!0,value:E};if(O.match(ade))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(E=>{if(!E.isToken)return E.value;const O=E.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Que(O)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Zue(O))&&Jue(O,t,String(e));const I=qP[O[0]];return I(o,O,i.localize,u)}).join("")}function sde(e){const t=e.match(nde);return t?t[1].replace(ide,"'"):e}function ode(e,t,r){const n=Cy(),i=(r==null?void 0:r.locale)??n.locale??Oz,a=2520,s=j2(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let c,u;s>0?(c=zn(t),u=zn(e)):(c=zn(e),u=zn(t));const h=cue(u,c),m=(Eb(u)-Eb(c))/1e3,y=Math.round((h-m)/60);let g;if(y<2)return r!=null&&r.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,o):h<10?i.formatDistance("lessThanXSeconds",10,o):h<20?i.formatDistance("lessThanXSeconds",20,o):h<40?i.formatDistance("halfAMinute",0,o):h<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):y===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",y,o);if(y<45)return i.formatDistance("xMinutes",y,o);if(y<90)return i.formatDistance("aboutXHours",1,o);if(y<zP){const S=Math.round(y/60);return i.formatDistance("aboutXHours",S,o)}else{if(y<a)return i.formatDistance("xDays",1,o);if(y<$x){const S=Math.round(y/zP);return i.formatDistance("xDays",S,o)}else if(y<$x*2)return g=Math.round(y/$x),i.formatDistance("aboutXMonths",g,o)}if(g=lue(u,c),g<12){const S=Math.round(y/$x);return i.formatDistance("xMonths",S,o)}else{const S=g%12,_=Math.trunc(g/12);return S<3?i.formatDistance("aboutXYears",_,o):S<9?i.formatDistance("overXYears",_,o):i.formatDistance("almostXYears",_+1,o)}}function LC(e,t){return ode(e,eue(e),t)}function Iz(e,t){return Yce(e,-t)}const lde={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},cde=(e,t,r)=>{let n;const i=lde[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},ude={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},dde={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fde={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hde={date:j0({formats:ude,defaultWidth:"full"}),time:j0({formats:dde,defaultWidth:"full"}),dateTime:j0({formats:fde,defaultWidth:"full"})},pde={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},mde={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},gde=(e,t,r,n)=>t.getHours()!==1?mde[e]:pde[e],vde={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},yde={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},xde={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},bde={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},wde={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},_de={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Sde=(e,t)=>Number(e)+"º",Ade={ordinalNumber:Sde,era:Cc({values:vde,defaultWidth:"wide"}),quarter:Cc({values:yde,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Cc({values:xde,defaultWidth:"wide"}),day:Cc({values:bde,defaultWidth:"wide"}),dayPeriod:Cc({values:wde,defaultWidth:"wide",formattingValues:_de,defaultFormattingWidth:"wide"})},Ede=/^(\d+)(º)?/i,Cde=/\d+/i,Nde={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},Ode={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},Tde={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},jde={any:[/1/i,/2/i,/3/i,/4/i]},Ide={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},kde={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Pde={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Mde={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Rde={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Dde={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Lde={ordinalNumber:Nz({matchPattern:Ede,parsePattern:Cde,valueCallback:function(e){return parseInt(e,10)}}),era:Nc({matchPatterns:Nde,defaultMatchWidth:"wide",parsePatterns:Ode,defaultParseWidth:"any"}),quarter:Nc({matchPatterns:Tde,defaultMatchWidth:"wide",parsePatterns:jde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Nc({matchPatterns:Ide,defaultMatchWidth:"wide",parsePatterns:kde,defaultParseWidth:"any"}),day:Nc({matchPatterns:Pde,defaultMatchWidth:"wide",parsePatterns:Mde,defaultParseWidth:"any"}),dayPeriod:Nc({matchPatterns:Rde,defaultMatchWidth:"any",parsePatterns:Dde,defaultParseWidth:"any"})},Xi={code:"es",formatDistance:cde,formatLong:hde,formatRelative:gde,localize:Ade,match:Lde,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Fde(){const e=i1(),{data:t,refetch:r}=Cr({queryKey:["notifications"],queryFn:async()=>{const{data:{user:a}}=await Ge.auth.getUser();if(!a)return[];const{data:s,error:o}=await Ge.from("notifications").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(10);if(o)throw o;return s}}),n=(t==null?void 0:t.filter(a=>!a.read).length)||0,i=async a=>{const{error:s}=await Ge.from("notifications").update({read:!0}).eq("id",a);if(s){ut.error("Error al marcar como leída");return}r()};return d.jsxs(zce,{children:[d.jsx(qce,{asChild:!0,children:d.jsxs(ot,{variant:"outline",size:"icon",className:"relative",children:[d.jsx(QJ,{className:"h-5 w-5"}),n>0&&d.jsx(Yr,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:n>9?"9+":n})]})}),d.jsxs(_z,{align:"end",className:"w-80",children:[d.jsx(Sz,{children:"Notificaciones"}),d.jsx(DC,{}),t&&t.length>0?t.map(a=>d.jsxs(RC,{className:`flex flex-col items-start p-3 cursor-pointer ${a.read?"opacity-60":""}`,onClick:()=>{i(a.id),(a.type==="low_stock"||a.type==="expiring_product")&&e("/inventory-alerts")},children:[d.jsxs("div",{className:"flex justify-between w-full mb-1",children:[d.jsx("span",{className:"font-medium",children:a.title}),d.jsx("span",{className:"text-xs text-muted-foreground",children:LC(new Date(a.created_at),{addSuffix:!0,locale:Xi})})]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:a.message})]},a.id)):d.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No hay notificaciones"}),d.jsx(DC,{}),d.jsx(RC,{className:"text-center cursor-pointer",onClick:()=>e("/inventory-alerts"),children:"Ver todas las notificaciones"})]})]})}function Li({children:e}){return d.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[d.jsx(joe,{}),d.jsxs("main",{className:"flex-1 overflow-y-auto",children:[d.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:d.jsx("div",{className:"container mx-auto px-8 py-4 flex justify-end",children:d.jsx(Fde,{})})}),d.jsx("div",{className:"container mx-auto p-8",children:e})]})]})}var Bde=Array.isArray,ao=Bde,$de=typeof Ac=="object"&&Ac&&Ac.Object===Object&&Ac,kz=$de,Ude=kz,zde=typeof self=="object"&&self&&self.Object===Object&&self,qde=Ude||zde||Function("return this")(),Yc=qde,Wde=Yc,Hde=Wde.Symbol,Ny=Hde,GP=Ny,Pz=Object.prototype,Vde=Pz.hasOwnProperty,Gde=Pz.toString,W1=GP?GP.toStringTag:void 0;function Kde(e){var t=Vde.call(e,W1),r=e[W1];try{e[W1]=void 0;var n=!0}catch{}var i=Gde.call(e);return n&&(t?e[W1]=r:delete e[W1]),i}var Yde=Kde,Xde=Object.prototype,Zde=Xde.toString;function Qde(e){return Zde.call(e)}var Jde=Qde,KP=Ny,efe=Yde,tfe=Jde,rfe="[object Null]",nfe="[object Undefined]",YP=KP?KP.toStringTag:void 0;function ife(e){return e==null?e===void 0?nfe:rfe:YP&&YP in Object(e)?efe(e):tfe(e)}var ad=ife;function afe(e){return e!=null&&typeof e=="object"}var sd=afe,sfe=ad,ofe=sd,lfe="[object Symbol]";function cfe(e){return typeof e=="symbol"||ofe(e)&&sfe(e)==lfe}var l1=cfe,ufe=ao,dfe=l1,ffe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hfe=/^\w*$/;function pfe(e,t){if(ufe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||dfe(e)?!0:hfe.test(e)||!ffe.test(e)||t!=null&&e in Object(t)}var LO=pfe;function mfe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $f=mfe;const c1=yn($f);var gfe=ad,vfe=$f,yfe="[object AsyncFunction]",xfe="[object Function]",bfe="[object GeneratorFunction]",wfe="[object Proxy]";function _fe(e){if(!vfe(e))return!1;var t=gfe(e);return t==xfe||t==bfe||t==yfe||t==wfe}var FO=_fe;const jr=yn(FO);var Sfe=Yc,Afe=Sfe["__core-js_shared__"],Efe=Afe,YS=Efe,XP=function(){var e=/[^.]+$/.exec(YS&&YS.keys&&YS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Cfe(e){return!!XP&&XP in e}var Nfe=Cfe,Ofe=Function.prototype,Tfe=Ofe.toString;function jfe(e){if(e!=null){try{return Tfe.call(e)}catch{}try{return e+""}catch{}}return""}var Mz=jfe,Ife=FO,kfe=Nfe,Pfe=$f,Mfe=Mz,Rfe=/[\\^$.*+?()[\]{}|]/g,Dfe=/^\[object .+?Constructor\]$/,Lfe=Function.prototype,Ffe=Object.prototype,Bfe=Lfe.toString,$fe=Ffe.hasOwnProperty,Ufe=RegExp("^"+Bfe.call($fe).replace(Rfe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zfe(e){if(!Pfe(e)||kfe(e))return!1;var t=Ife(e)?Ufe:Dfe;return t.test(Mfe(e))}var qfe=zfe;function Wfe(e,t){return e==null?void 0:e[t]}var Hfe=Wfe,Vfe=qfe,Gfe=Hfe;function Kfe(e,t){var r=Gfe(e,t);return Vfe(r)?r:void 0}var bp=Kfe,Yfe=bp,Xfe=Yfe(Object,"create"),O_=Xfe,ZP=O_;function Zfe(){this.__data__=ZP?ZP(null):{},this.size=0}var Qfe=Zfe;function Jfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ehe=Jfe,the=O_,rhe="__lodash_hash_undefined__",nhe=Object.prototype,ihe=nhe.hasOwnProperty;function ahe(e){var t=this.__data__;if(the){var r=t[e];return r===rhe?void 0:r}return ihe.call(t,e)?t[e]:void 0}var she=ahe,ohe=O_,lhe=Object.prototype,che=lhe.hasOwnProperty;function uhe(e){var t=this.__data__;return ohe?t[e]!==void 0:che.call(t,e)}var dhe=uhe,fhe=O_,hhe="__lodash_hash_undefined__";function phe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fhe&&t===void 0?hhe:t,this}var mhe=phe,ghe=Qfe,vhe=ehe,yhe=she,xhe=dhe,bhe=mhe;function u1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u1.prototype.clear=ghe;u1.prototype.delete=vhe;u1.prototype.get=yhe;u1.prototype.has=xhe;u1.prototype.set=bhe;var whe=u1;function _he(){this.__data__=[],this.size=0}var She=_he;function Ahe(e,t){return e===t||e!==e&&t!==t}var BO=Ahe,Ehe=BO;function Che(e,t){for(var r=e.length;r--;)if(Ehe(e[r][0],t))return r;return-1}var T_=Che,Nhe=T_,Ohe=Array.prototype,The=Ohe.splice;function jhe(e){var t=this.__data__,r=Nhe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():The.call(t,r,1),--this.size,!0}var Ihe=jhe,khe=T_;function Phe(e){var t=this.__data__,r=khe(t,e);return r<0?void 0:t[r][1]}var Mhe=Phe,Rhe=T_;function Dhe(e){return Rhe(this.__data__,e)>-1}var Lhe=Dhe,Fhe=T_;function Bhe(e,t){var r=this.__data__,n=Fhe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var $he=Bhe,Uhe=She,zhe=Ihe,qhe=Mhe,Whe=Lhe,Hhe=$he;function d1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}d1.prototype.clear=Uhe;d1.prototype.delete=zhe;d1.prototype.get=qhe;d1.prototype.has=Whe;d1.prototype.set=Hhe;var j_=d1,Vhe=bp,Ghe=Yc,Khe=Vhe(Ghe,"Map"),$O=Khe,QP=whe,Yhe=j_,Xhe=$O;function Zhe(){this.size=0,this.__data__={hash:new QP,map:new(Xhe||Yhe),string:new QP}}var Qhe=Zhe;function Jhe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var epe=Jhe,tpe=epe;function rpe(e,t){var r=e.__data__;return tpe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var I_=rpe,npe=I_;function ipe(e){var t=npe(this,e).delete(e);return this.size-=t?1:0,t}var ape=ipe,spe=I_;function ope(e){return spe(this,e).get(e)}var lpe=ope,cpe=I_;function upe(e){return cpe(this,e).has(e)}var dpe=upe,fpe=I_;function hpe(e,t){var r=fpe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ppe=hpe,mpe=Qhe,gpe=ape,vpe=lpe,ype=dpe,xpe=ppe;function f1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}f1.prototype.clear=mpe;f1.prototype.delete=gpe;f1.prototype.get=vpe;f1.prototype.has=ype;f1.prototype.set=xpe;var UO=f1,Rz=UO,bpe="Expected a function";function zO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(bpe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(zO.Cache||Rz),r}zO.Cache=Rz;var Dz=zO;const wpe=yn(Dz);var _pe=Dz,Spe=500;function Ape(e){var t=_pe(e,function(n){return r.size===Spe&&r.clear(),n}),r=t.cache;return t}var Epe=Ape,Cpe=Epe,Npe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ope=/\\(\\)?/g,Tpe=Cpe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Npe,function(r,n,i,a){t.push(i?a.replace(Ope,"$1"):n||r)}),t}),jpe=Tpe;function Ipe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var qO=Ipe,JP=Ny,kpe=qO,Ppe=ao,Mpe=l1,Rpe=1/0,e8=JP?JP.prototype:void 0,t8=e8?e8.toString:void 0;function Lz(e){if(typeof e=="string")return e;if(Ppe(e))return kpe(e,Lz)+"";if(Mpe(e))return t8?t8.call(e):"";var t=e+"";return t=="0"&&1/e==-Rpe?"-0":t}var Dpe=Lz,Lpe=Dpe;function Fpe(e){return e==null?"":Lpe(e)}var Fz=Fpe,Bpe=ao,$pe=LO,Upe=jpe,zpe=Fz;function qpe(e,t){return Bpe(e)?e:$pe(e,t)?[e]:Upe(zpe(e))}var Bz=qpe,Wpe=l1,Hpe=1/0;function Vpe(e){if(typeof e=="string"||Wpe(e))return e;var t=e+"";return t=="0"&&1/e==-Hpe?"-0":t}var k_=Vpe,Gpe=Bz,Kpe=k_;function Ype(e,t){t=Gpe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Kpe(t[r++])];return r&&r==n?e:void 0}var WO=Ype,Xpe=WO;function Zpe(e,t,r){var n=e==null?void 0:Xpe(e,t);return n===void 0?r:n}var $z=Zpe;const Bo=yn($z);function Qpe(e){return e==null}var Jpe=Qpe;const Dr=yn(Jpe);var e0e=ad,t0e=ao,r0e=sd,n0e="[object String]";function i0e(e){return typeof e=="string"||!t0e(e)&&r0e(e)&&e0e(e)==n0e}var a0e=i0e;const Jh=yn(a0e);var Uz={exports:{}},Fn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO=Symbol.for("react.element"),VO=Symbol.for("react.portal"),P_=Symbol.for("react.fragment"),M_=Symbol.for("react.strict_mode"),R_=Symbol.for("react.profiler"),D_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),s0e=Symbol.for("react.server_context"),F_=Symbol.for("react.forward_ref"),B_=Symbol.for("react.suspense"),$_=Symbol.for("react.suspense_list"),U_=Symbol.for("react.memo"),z_=Symbol.for("react.lazy"),o0e=Symbol.for("react.offscreen"),zz;zz=Symbol.for("react.module.reference");function wl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case HO:switch(e=e.type,e){case P_:case R_:case M_:case B_:case $_:return e;default:switch(e=e&&e.$$typeof,e){case s0e:case L_:case F_:case z_:case U_:case D_:return e;default:return t}}case VO:return t}}}Fn.ContextConsumer=L_;Fn.ContextProvider=D_;Fn.Element=HO;Fn.ForwardRef=F_;Fn.Fragment=P_;Fn.Lazy=z_;Fn.Memo=U_;Fn.Portal=VO;Fn.Profiler=R_;Fn.StrictMode=M_;Fn.Suspense=B_;Fn.SuspenseList=$_;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return wl(e)===L_};Fn.isContextProvider=function(e){return wl(e)===D_};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===HO};Fn.isForwardRef=function(e){return wl(e)===F_};Fn.isFragment=function(e){return wl(e)===P_};Fn.isLazy=function(e){return wl(e)===z_};Fn.isMemo=function(e){return wl(e)===U_};Fn.isPortal=function(e){return wl(e)===VO};Fn.isProfiler=function(e){return wl(e)===R_};Fn.isStrictMode=function(e){return wl(e)===M_};Fn.isSuspense=function(e){return wl(e)===B_};Fn.isSuspenseList=function(e){return wl(e)===$_};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===P_||e===R_||e===M_||e===B_||e===$_||e===o0e||typeof e=="object"&&e!==null&&(e.$$typeof===z_||e.$$typeof===U_||e.$$typeof===D_||e.$$typeof===L_||e.$$typeof===F_||e.$$typeof===zz||e.getModuleId!==void 0)};Fn.typeOf=wl;Uz.exports=Fn;var l0e=Uz.exports,c0e=ad,u0e=sd,d0e="[object Number]";function f0e(e){return typeof e=="number"||u0e(e)&&c0e(e)==d0e}var qz=f0e;const h0e=yn(qz);var p0e=qz;function m0e(e){return p0e(e)&&e!=+e}var g0e=m0e;const Oy=yn(g0e);var Ns=function(t){return t===0?0:t>0?1:-1},_h=function(t){return Jh(t)&&t.indexOf("%")===t.length-1},yt=function(t){return h0e(t)&&!Oy(t)},v0e=function(t){return Dr(t)},Sa=function(t){return yt(t)||Jh(t)},y0e=0,h1=function(t){var r=++y0e;return"".concat(t||"").concat(r)},Os=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(t)&&!Jh(t))return n;var a;if(_h(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Oy(a)&&(a=n),i&&a>r&&(a=r),a},$d=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},x0e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},To=function(t,r){return yt(t)&&yt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Cb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bo(n,t))===r})}var b0e=function(t,r){return yt(t)&&yt(r)?t-r:Jh(t)&&Jh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function I0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function FC(e){"@babel/helpers - typeof";return FC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FC(e)}var w0e=["viewBox","children"],_0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r8=["points","pathLength"],XS={svg:w0e,polygon:r8,polyline:r8},GO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(M.isValidElement(t)&&(n=t.props),!c1(n))return null;var i={};return Object.keys(n).forEach(function(a){GO.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},S0e=function(t,r,n){return function(i){return t(r,n,i),null}},ep=function(t,r,n){if(!c1(t)||FC(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];GO.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=S0e(s,r,n))}),i},A0e=["children"],E0e=["children"];function n8(e,t){if(e==null)return{};var r=C0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BC(e){"@babel/helpers - typeof";return BC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BC(e)}var i8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$u=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},a8=null,ZS=null,KO=function e(t){if(t===a8&&Array.isArray(ZS))return ZS;var r=[];return M.Children.forEach(t,function(n){Dr(n)||(l0e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ZS=r,a8=t,r};function $o(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return $u(i)}):n=[$u(t)],KO(e).forEach(function(i){var a=Bo(i,"type.displayName")||Bo(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function No(e,t){var r=$o(e,t);return r&&r[0]}var s8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!yt(n)||n<=0||!yt(i)||i<=0)},N0e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],O0e=function(t){return t&&t.type&&Jh(t.type)&&N0e.indexOf(t.type)>=0},T0e=function(t){return t&&BC(t)==="object"&&"clipDot"in t},j0e=function(t,r,n,i){var a,s=(a=XS==null?void 0:XS[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!jr(t)&&(i&&s.includes(r)||_0e.includes(r))||n&&GO.includes(r)},xr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(M.isValidElement(t)&&(i=t.props),!c1(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;j0e((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},$C=function e(t,r){if(t===r)return!0;var n=M.Children.count(t);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return o8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!o8(a,s))return!1}return!0},o8=function(t,r){if(Dr(t)&&Dr(r))return!0;if(!Dr(t)&&!Dr(r)){var n=t.props||{},i=n.children,a=n8(n,A0e),s=r.props||{},o=s.children,c=n8(s,E0e);return i&&o?I0(a,c)&&$C(i,o):!i&&!o?I0(a,c):!1}return!1},l8=function(t,r){var n=[],i={};return KO(t).forEach(function(a,s){if(O0e(a))n.push(a);else if(a){var o=$u(a.type),c=r[o]||{},u=c.handler,h=c.once;if(u&&(!h||!i[o])){var m=u(a,o,s);n.push(m),i[o]=!0}}}),n},I0e=function(t){var r=t&&t.type;return r&&i8[r]?i8[r]:null},k0e=function(t,r){return KO(r).indexOf(t)},P0e=["children","width","height","viewBox","className","style","title","desc"];function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UC.apply(this,arguments)}function M0e(e,t){if(e==null)return{};var r=R0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zC(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,c=e.desc,u=M0e(e,P0e),h=i||{width:r,height:n,x:0,y:0},m=$r("recharts-surface",a);return me.createElement("svg",UC({},xr(u,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),me.createElement("title",null,o),me.createElement("desc",null,c),t)}var D0e=["children","className"];function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qC.apply(this,arguments)}function L0e(e,t){if(e==null)return{};var r=F0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gn=me.forwardRef(function(e,t){var r=e.children,n=e.className,i=L0e(e,D0e),a=$r("recharts-layer",n);return me.createElement("g",qC({className:a},xr(i,!0),{ref:t}),r)}),ec=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function B0e(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var $0e=B0e,U0e=$0e;function z0e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:U0e(e,t,r)}var q0e=z0e,W0e="\\ud800-\\udfff",H0e="\\u0300-\\u036f",V0e="\\ufe20-\\ufe2f",G0e="\\u20d0-\\u20ff",K0e=H0e+V0e+G0e,Y0e="\\ufe0e\\ufe0f",X0e="\\u200d",Z0e=RegExp("["+X0e+W0e+K0e+Y0e+"]");function Q0e(e){return Z0e.test(e)}var Wz=Q0e;function J0e(e){return e.split("")}var eme=J0e,Hz="\\ud800-\\udfff",tme="\\u0300-\\u036f",rme="\\ufe20-\\ufe2f",nme="\\u20d0-\\u20ff",ime=tme+rme+nme,ame="\\ufe0e\\ufe0f",sme="["+Hz+"]",WC="["+ime+"]",HC="\\ud83c[\\udffb-\\udfff]",ome="(?:"+WC+"|"+HC+")",Vz="[^"+Hz+"]",Gz="(?:\\ud83c[\\udde6-\\uddff]){2}",Kz="[\\ud800-\\udbff][\\udc00-\\udfff]",lme="\\u200d",Yz=ome+"?",Xz="["+ame+"]?",cme="(?:"+lme+"(?:"+[Vz,Gz,Kz].join("|")+")"+Xz+Yz+")*",ume=Xz+Yz+cme,dme="(?:"+[Vz+WC+"?",WC,Gz,Kz,sme].join("|")+")",fme=RegExp(HC+"(?="+HC+")|"+dme+ume,"g");function hme(e){return e.match(fme)||[]}var pme=hme,mme=eme,gme=Wz,vme=pme;function yme(e){return gme(e)?vme(e):mme(e)}var xme=yme,bme=q0e,wme=Wz,_me=xme,Sme=Fz;function Ame(e){return function(t){t=Sme(t);var r=wme(t)?_me(t):void 0,n=r?r[0]:t.charAt(0),i=r?bme(r,1).join(""):t.slice(1);return n[e]()+i}}var Eme=Ame,Cme=Eme,Nme=Cme("toUpperCase"),Ome=Nme;const q_=yn(Ome);function Jn(e){return function(){return e}}const Zz=Math.cos,Ob=Math.sin,ac=Math.sqrt,Tb=Math.PI,W_=2*Tb,VC=Math.PI,GC=2*VC,uh=1e-6,Tme=GC-uh;function Qz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function jme(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Qz;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Ime{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Qz:jme(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,h=s-t,m=o-r,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>uh)if(!(Math.abs(m*c-u*h)>uh)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-s,S=i-o,_=c*c+u*u,w=g*g+S*S,A=Math.sqrt(_),E=Math.sqrt(y),O=a*Math.tan((VC-Math.acos((_+y-w)/(2*A*E)))/2),I=O/E,k=O/A;Math.abs(I-1)>uh&&this._append`L${t+I*h},${r+I*m}`,this._append`A${a},${a},0,0,${+(m*g>h*S)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,h=r+c,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>uh||Math.abs(this._y1-h)>uh)&&this._append`L${u},${h}`,n&&(y<0&&(y=y%GC+GC),y>Tme?this._append`A${n},${n},0,1,${m},${t-o},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=h}`:y>uh&&this._append`A${n},${n},0,${+(y>=VC)},${m},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function YO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Ime(t)}function XO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Jz(e){this._context=e}Jz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function H_(e){return new Jz(e)}function eq(e){return e[0]}function tq(e){return e[1]}function rq(e,t){var r=Jn(!0),n=null,i=H_,a=null,s=YO(o);e=typeof e=="function"?e:e===void 0?eq:Jn(e),t=typeof t=="function"?t:t===void 0?tq:Jn(t);function o(c){var u,h=(c=XO(c)).length,m,y=!1,g;for(n==null&&(a=i(g=s())),u=0;u<=h;++u)!(u<h&&r(m=c[u],u,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(m,u,c),+t(m,u,c));if(g)return a=null,g+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Jn(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Jn(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Jn(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Ux(e,t,r){var n=null,i=Jn(!0),a=null,s=H_,o=null,c=YO(u);e=typeof e=="function"?e:e===void 0?eq:Jn(+e),t=typeof t=="function"?t:Jn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tq:Jn(+r);function u(m){var y,g,S,_=(m=XO(m)).length,w,A=!1,E,O=new Array(_),I=new Array(_);for(a==null&&(o=s(E=c())),y=0;y<=_;++y){if(!(y<_&&i(w=m[y],y,m))===A)if(A=!A)g=y,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),S=y-1;S>=g;--S)o.point(O[S],I[S]);o.lineEnd(),o.areaEnd()}A&&(O[y]=+e(w,y,m),I[y]=+t(w,y,m),o.point(n?+n(w,y,m):O[y],r?+r(w,y,m):I[y]))}if(E)return o=null,E+""||null}function h(){return rq().defined(i).curve(s).context(a)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Jn(+m),n=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Jn(+m),u):e},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Jn(+m),u):n},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Jn(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Jn(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Jn(+m),u):r},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(r)},u.lineX1=function(){return h().x(n).y(t)},u.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Jn(!!m),u):i},u.curve=function(m){return arguments.length?(s=m,a!=null&&(o=s(a)),u):s},u.context=function(m){return arguments.length?(m==null?a=o=null:o=s(a=m),u):a},u}class nq{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function kme(e){return new nq(e,!0)}function Pme(e){return new nq(e,!1)}const ZO={draw(e,t){const r=ac(t/Tb);e.moveTo(r,0),e.arc(0,0,r,0,W_)}},Mme={draw(e,t){const r=ac(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},iq=ac(1/3),Rme=iq*2,Dme={draw(e,t){const r=ac(t/Rme),n=r*iq;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Lme={draw(e,t){const r=ac(t),n=-r/2;e.rect(n,n,r,r)}},Fme=.8908130915292852,aq=Ob(Tb/10)/Ob(7*Tb/10),Bme=Ob(W_/10)*aq,$me=-Zz(W_/10)*aq,Ume={draw(e,t){const r=ac(t*Fme),n=Bme*r,i=$me*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=W_*a/5,o=Zz(s),c=Ob(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},QS=ac(3),zme={draw(e,t){const r=-ac(t/(QS*3));e.moveTo(0,r*2),e.lineTo(-QS*r,-r),e.lineTo(QS*r,-r),e.closePath()}},tl=-.5,rl=ac(3)/2,KC=1/ac(12),qme=(KC/2+1)*3,Wme={draw(e,t){const r=ac(t/qme),n=r/2,i=r*KC,a=n,s=r*KC+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(tl*n-rl*i,rl*n+tl*i),e.lineTo(tl*a-rl*s,rl*a+tl*s),e.lineTo(tl*o-rl*c,rl*o+tl*c),e.lineTo(tl*n+rl*i,tl*i-rl*n),e.lineTo(tl*a+rl*s,tl*s-rl*a),e.lineTo(tl*o+rl*c,tl*c-rl*o),e.closePath()}};function Hme(e,t){let r=null,n=YO(i);e=typeof e=="function"?e:Jn(e||ZO),t=typeof t=="function"?t:Jn(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Jn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Jn(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function jb(){}function Ib(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function sq(e){this._context=e}sq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ib(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vme(e){return new sq(e)}function oq(e){this._context=e}oq.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gme(e){return new oq(e)}function lq(e){this._context=e}lq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kme(e){return new lq(e)}function cq(e){this._context=e}cq.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Yme(e){return new cq(e)}function c8(e){return e<0?-1:1}function u8(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(c8(a)+c8(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function d8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function JS(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function kb(e){this._context=e}kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:JS(this,this._t0,d8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,JS(this,d8(this,r=u8(this,e,t)),r);break;default:JS(this,this._t0,r=u8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function uq(e){this._context=new dq(e)}(uq.prototype=Object.create(kb.prototype)).point=function(e,t){kb.prototype.point.call(this,t,e)};function dq(e){this._context=e}dq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Xme(e){return new kb(e)}function Zme(e){return new uq(e)}function fq(e){this._context=e}fq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=f8(e),i=f8(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function f8(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Qme(e){return new fq(e)}function V_(e,t){this._context=e,this._t=t}V_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Jme(e){return new V_(e,.5)}function e1e(e){return new V_(e,0)}function t1e(e){return new V_(e,1)}function hm(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function YC(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function r1e(e,t){return e[t]}function n1e(e){const t=[];return t.key=e,t}function i1e(){var e=Jn([]),t=YC,r=hm,n=r1e;function i(a){var s=Array.from(e.apply(this,arguments),n1e),o,c=s.length,u=-1,h;for(const m of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(m,s[o].key,u,a)]).data=m;for(o=0,h=XO(t(s));o<c;++o)s[h[o]].index=o;return r(s,h),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Jn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Jn(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?YC:typeof a=="function"?a:Jn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??hm,i):r},i}function a1e(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}hm(e,t)}}function s1e(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}hm(e,t)}}function o1e(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var h=e[t[o]],m=h[n][1]||0,y=h[n-1][1]||0,g=(m-y)/2,S=0;S<o;++S){var _=e[t[S]],w=_[n][1]||0,A=_[n-1][1]||0;g+=w-A}c+=m,u+=g*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,hm(e,t)}}function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}var l1e=["type","size","sizeType"];function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XC.apply(this,arguments)}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){c1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c1e(e,t,r){return t=u1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u1e(e){var t=d1e(e,"string");return gv(t)=="symbol"?t:t+""}function d1e(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f1e(e,t){if(e==null)return{};var r=h1e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hq={symbolCircle:ZO,symbolCross:Mme,symbolDiamond:Dme,symbolSquare:Lme,symbolStar:Ume,symbolTriangle:zme,symbolWye:Wme},p1e=Math.PI/180,m1e=function(t){var r="symbol".concat(q_(t));return hq[r]||ZO},g1e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*p1e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},v1e=function(t,r){hq["symbol".concat(q_(t))]=r},QO=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,o=s===void 0?"area":s,c=f1e(t,l1e),u=p8(p8({},c),{},{type:n,size:a,sizeType:o}),h=function(){var w=m1e(n),A=Hme().type(w).size(g1e(a,o,n));return A()},m=u.className,y=u.cx,g=u.cy,S=xr(u,!0);return y===+y&&g===+g&&a===+a?me.createElement("path",XC({},S,{className:$r("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(g,")"),d:h()})):null};QO.registerSymbol=v1e;function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZC.apply(this,arguments)}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){vv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mq(n.key),n)}}function w1e(e,t,r){return t&&b1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _1e(e,t,r){return t=Pb(t),S1e(e,pq()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function S1e(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(e)}function A1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function E1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QC(e,t)}function QC(e,t){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QC(e,t)}function vv(e,t,r){return t=mq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=C1e(e,"string");return pm(t)=="symbol"?t:t+""}function C1e(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nl=32,JO=function(e){function t(){return x1e(this,t),_1e(this,t,arguments)}return E1e(t,e),w1e(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=nl/2,s=nl/6,o=nl/3,c=n.inactive?i:n.color;if(n.type==="plainline")return me.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:nl,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return me.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(nl,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return me.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(nl/8,"h").concat(nl,"v").concat(nl*3/4,"h").concat(-nl,"z"),className:"recharts-legend-icon"});if(me.isValidElement(n.legendIcon)){var u=y1e({},n);return delete u.legendIcon,me.cloneElement(n.legendIcon,u)}return me.createElement(QO,{fill:c,cx:a,cy:a,size:nl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:nl,height:nl},m={display:o==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,S){var _=g.formatter||c,w=$r(vv(vv({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",g.inactive));if(g.type==="none")return null;var A=jr(g.value)?null:g.value;ec(!jr(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=g.inactive?u:g.color;return me.createElement("li",ZC({className:w,style:m,key:"legend-item-".concat(S)},ep(n.props,g,S)),me.createElement(zC,{width:s,height:s,viewBox:h,style:y},n.renderIcon(g)),me.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},_?_(A,g,S):A))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return me.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(M.PureComponent);vv(JO,"displayName","Legend");vv(JO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var N1e=j_;function O1e(){this.__data__=new N1e,this.size=0}var T1e=O1e;function j1e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var I1e=j1e;function k1e(e){return this.__data__.get(e)}var P1e=k1e;function M1e(e){return this.__data__.has(e)}var R1e=M1e,D1e=j_,L1e=$O,F1e=UO,B1e=200;function $1e(e,t){var r=this.__data__;if(r instanceof D1e){var n=r.__data__;if(!L1e||n.length<B1e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new F1e(n)}return r.set(e,t),this.size=r.size,this}var U1e=$1e,z1e=j_,q1e=T1e,W1e=I1e,H1e=P1e,V1e=R1e,G1e=U1e;function p1(e){var t=this.__data__=new z1e(e);this.size=t.size}p1.prototype.clear=q1e;p1.prototype.delete=W1e;p1.prototype.get=H1e;p1.prototype.has=V1e;p1.prototype.set=G1e;var gq=p1,K1e="__lodash_hash_undefined__";function Y1e(e){return this.__data__.set(e,K1e),this}var X1e=Y1e;function Z1e(e){return this.__data__.has(e)}var Q1e=Z1e,J1e=UO,ege=X1e,tge=Q1e;function Mb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new J1e;++t<r;)this.add(e[t])}Mb.prototype.add=Mb.prototype.push=ege;Mb.prototype.has=tge;var vq=Mb;function rge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var yq=rge;function nge(e,t){return e.has(t)}var xq=nge,ige=vq,age=yq,sge=xq,oge=1,lge=2;function cge(e,t,r,n,i,a){var s=r&oge,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=a.get(e),h=a.get(t);if(u&&h)return u==t&&h==e;var m=-1,y=!0,g=r&lge?new ige:void 0;for(a.set(e,t),a.set(t,e);++m<o;){var S=e[m],_=t[m];if(n)var w=s?n(_,S,m,t,e,a):n(S,_,m,e,t,a);if(w!==void 0){if(w)continue;y=!1;break}if(g){if(!age(t,function(A,E){if(!sge(g,E)&&(S===A||i(S,A,r,n,a)))return g.push(E)})){y=!1;break}}else if(!(S===_||i(S,_,r,n,a))){y=!1;break}}return a.delete(e),a.delete(t),y}var bq=cge,uge=Yc,dge=uge.Uint8Array,fge=dge;function hge(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var pge=hge;function mge(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var eT=mge,g8=Ny,v8=fge,gge=BO,vge=bq,yge=pge,xge=eT,bge=1,wge=2,_ge="[object Boolean]",Sge="[object Date]",Age="[object Error]",Ege="[object Map]",Cge="[object Number]",Nge="[object RegExp]",Oge="[object Set]",Tge="[object String]",jge="[object Symbol]",Ige="[object ArrayBuffer]",kge="[object DataView]",y8=g8?g8.prototype:void 0,eA=y8?y8.valueOf:void 0;function Pge(e,t,r,n,i,a,s){switch(r){case kge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ige:return!(e.byteLength!=t.byteLength||!a(new v8(e),new v8(t)));case _ge:case Sge:case Cge:return gge(+e,+t);case Age:return e.name==t.name&&e.message==t.message;case Nge:case Tge:return e==t+"";case Ege:var o=yge;case Oge:var c=n&bge;if(o||(o=xge),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=wge,s.set(e,t);var h=vge(o(e),o(t),n,i,a,s);return s.delete(e),h;case jge:if(eA)return eA.call(e)==eA.call(t)}return!1}var Mge=Pge;function Rge(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var wq=Rge,Dge=wq,Lge=ao;function Fge(e,t,r){var n=t(e);return Lge(e)?n:Dge(n,r(e))}var Bge=Fge;function $ge(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var Uge=$ge;function zge(){return[]}var qge=zge,Wge=Uge,Hge=qge,Vge=Object.prototype,Gge=Vge.propertyIsEnumerable,x8=Object.getOwnPropertySymbols,Kge=x8?function(e){return e==null?[]:(e=Object(e),Wge(x8(e),function(t){return Gge.call(e,t)}))}:Hge,Yge=Kge;function Xge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Zge=Xge,Qge=ad,Jge=sd,eve="[object Arguments]";function tve(e){return Jge(e)&&Qge(e)==eve}var rve=tve,b8=rve,nve=sd,_q=Object.prototype,ive=_q.hasOwnProperty,ave=_q.propertyIsEnumerable,sve=b8(function(){return arguments}())?b8:function(e){return nve(e)&&ive.call(e,"callee")&&!ave.call(e,"callee")},tT=sve,Rb={exports:{}};function ove(){return!1}var lve=ove;Rb.exports;(function(e,t){var r=Yc,n=lve,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u})(Rb,Rb.exports);var Sq=Rb.exports,cve=9007199254740991,uve=/^(?:0|[1-9]\d*)$/;function dve(e,t){var r=typeof e;return t=t??cve,!!t&&(r=="number"||r!="symbol"&&uve.test(e))&&e>-1&&e%1==0&&e<t}var rT=dve,fve=9007199254740991;function hve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fve}var nT=hve,pve=ad,mve=nT,gve=sd,vve="[object Arguments]",yve="[object Array]",xve="[object Boolean]",bve="[object Date]",wve="[object Error]",_ve="[object Function]",Sve="[object Map]",Ave="[object Number]",Eve="[object Object]",Cve="[object RegExp]",Nve="[object Set]",Ove="[object String]",Tve="[object WeakMap]",jve="[object ArrayBuffer]",Ive="[object DataView]",kve="[object Float32Array]",Pve="[object Float64Array]",Mve="[object Int8Array]",Rve="[object Int16Array]",Dve="[object Int32Array]",Lve="[object Uint8Array]",Fve="[object Uint8ClampedArray]",Bve="[object Uint16Array]",$ve="[object Uint32Array]",ci={};ci[kve]=ci[Pve]=ci[Mve]=ci[Rve]=ci[Dve]=ci[Lve]=ci[Fve]=ci[Bve]=ci[$ve]=!0;ci[vve]=ci[yve]=ci[jve]=ci[xve]=ci[Ive]=ci[bve]=ci[wve]=ci[_ve]=ci[Sve]=ci[Ave]=ci[Eve]=ci[Cve]=ci[Nve]=ci[Ove]=ci[Tve]=!1;function Uve(e){return gve(e)&&mve(e.length)&&!!ci[pve(e)]}var zve=Uve;function qve(e){return function(t){return e(t)}}var Aq=qve,Db={exports:{}};Db.exports;(function(e,t){var r=kz,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Db,Db.exports);var Wve=Db.exports,Hve=zve,Vve=Aq,w8=Wve,_8=w8&&w8.isTypedArray,Gve=_8?Vve(_8):Hve,Eq=Gve,Kve=Zge,Yve=tT,Xve=ao,Zve=Sq,Qve=rT,Jve=Eq,eye=Object.prototype,tye=eye.hasOwnProperty;function rye(e,t){var r=Xve(e),n=!r&&Yve(e),i=!r&&!n&&Zve(e),a=!r&&!n&&!i&&Jve(e),s=r||n||i||a,o=s?Kve(e.length,String):[],c=o.length;for(var u in e)(t||tye.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Qve(u,c)))&&o.push(u);return o}var nye=rye,iye=Object.prototype;function aye(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||iye;return e===r}var sye=aye;function oye(e,t){return function(r){return e(t(r))}}var Cq=oye,lye=Cq,cye=lye(Object.keys,Object),uye=cye,dye=sye,fye=uye,hye=Object.prototype,pye=hye.hasOwnProperty;function mye(e){if(!dye(e))return fye(e);var t=[];for(var r in Object(e))pye.call(e,r)&&r!="constructor"&&t.push(r);return t}var gye=mye,vye=FO,yye=nT;function xye(e){return e!=null&&yye(e.length)&&!vye(e)}var Ty=xye,bye=nye,wye=gye,_ye=Ty;function Sye(e){return _ye(e)?bye(e):wye(e)}var G_=Sye,Aye=Bge,Eye=Yge,Cye=G_;function Nye(e){return Aye(e,Cye,Eye)}var Oye=Nye,S8=Oye,Tye=1,jye=Object.prototype,Iye=jye.hasOwnProperty;function kye(e,t,r,n,i,a){var s=r&Tye,o=S8(e),c=o.length,u=S8(t),h=u.length;if(c!=h&&!s)return!1;for(var m=c;m--;){var y=o[m];if(!(s?y in t:Iye.call(t,y)))return!1}var g=a.get(e),S=a.get(t);if(g&&S)return g==t&&S==e;var _=!0;a.set(e,t),a.set(t,e);for(var w=s;++m<c;){y=o[m];var A=e[y],E=t[y];if(n)var O=s?n(E,A,y,t,e,a):n(A,E,y,e,t,a);if(!(O===void 0?A===E||i(A,E,r,n,a):O)){_=!1;break}w||(w=y=="constructor")}if(_&&!w){var I=e.constructor,k=t.constructor;I!=k&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof k=="function"&&k instanceof k)&&(_=!1)}return a.delete(e),a.delete(t),_}var Pye=kye,Mye=bp,Rye=Yc,Dye=Mye(Rye,"DataView"),Lye=Dye,Fye=bp,Bye=Yc,$ye=Fye(Bye,"Promise"),Uye=$ye,zye=bp,qye=Yc,Wye=zye(qye,"Set"),Nq=Wye,Hye=bp,Vye=Yc,Gye=Hye(Vye,"WeakMap"),Kye=Gye,JC=Lye,e3=$O,t3=Uye,r3=Nq,n3=Kye,Oq=ad,m1=Mz,A8="[object Map]",Yye="[object Object]",E8="[object Promise]",C8="[object Set]",N8="[object WeakMap]",O8="[object DataView]",Xye=m1(JC),Zye=m1(e3),Qye=m1(t3),Jye=m1(r3),exe=m1(n3),dh=Oq;(JC&&dh(new JC(new ArrayBuffer(1)))!=O8||e3&&dh(new e3)!=A8||t3&&dh(t3.resolve())!=E8||r3&&dh(new r3)!=C8||n3&&dh(new n3)!=N8)&&(dh=function(e){var t=Oq(e),r=t==Yye?e.constructor:void 0,n=r?m1(r):"";if(n)switch(n){case Xye:return O8;case Zye:return A8;case Qye:return E8;case Jye:return C8;case exe:return N8}return t});var txe=dh,tA=gq,rxe=bq,nxe=Mge,ixe=Pye,T8=txe,j8=ao,I8=Sq,axe=Eq,sxe=1,k8="[object Arguments]",P8="[object Array]",zx="[object Object]",oxe=Object.prototype,M8=oxe.hasOwnProperty;function lxe(e,t,r,n,i,a){var s=j8(e),o=j8(t),c=s?P8:T8(e),u=o?P8:T8(t);c=c==k8?zx:c,u=u==k8?zx:u;var h=c==zx,m=u==zx,y=c==u;if(y&&I8(e)){if(!I8(t))return!1;s=!0,h=!1}if(y&&!h)return a||(a=new tA),s||axe(e)?rxe(e,t,r,n,i,a):nxe(e,t,c,r,n,i,a);if(!(r&sxe)){var g=h&&M8.call(e,"__wrapped__"),S=m&&M8.call(t,"__wrapped__");if(g||S){var _=g?e.value():e,w=S?t.value():t;return a||(a=new tA),i(_,w,r,n,a)}}return y?(a||(a=new tA),ixe(e,t,r,n,i,a)):!1}var cxe=lxe,uxe=cxe,R8=sd;function Tq(e,t,r,n,i){return e===t?!0:e==null||t==null||!R8(e)&&!R8(t)?e!==e&&t!==t:uxe(e,t,r,n,Tq,i)}var iT=Tq,dxe=gq,fxe=iT,hxe=1,pxe=2;function mxe(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var c=o[0],u=e[c],h=o[1];if(s&&o[2]){if(u===void 0&&!(c in e))return!1}else{var m=new dxe;if(n)var y=n(u,h,c,e,t,m);if(!(y===void 0?fxe(h,u,hxe|pxe,n,m):y))return!1}}return!0}var gxe=mxe,vxe=$f;function yxe(e){return e===e&&!vxe(e)}var jq=yxe,xxe=jq,bxe=G_;function wxe(e){for(var t=bxe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xxe(i)]}return t}var _xe=wxe;function Sxe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Iq=Sxe,Axe=gxe,Exe=_xe,Cxe=Iq;function Nxe(e){var t=Exe(e);return t.length==1&&t[0][2]?Cxe(t[0][0],t[0][1]):function(r){return r===e||Axe(r,e,t)}}var Oxe=Nxe;function Txe(e,t){return e!=null&&t in Object(e)}var jxe=Txe,Ixe=Bz,kxe=tT,Pxe=ao,Mxe=rT,Rxe=nT,Dxe=k_;function Lxe(e,t,r){t=Ixe(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=Dxe(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Rxe(i)&&Mxe(s,i)&&(Pxe(e)||kxe(e)))}var Fxe=Lxe,Bxe=jxe,$xe=Fxe;function Uxe(e,t){return e!=null&&$xe(e,t,Bxe)}var zxe=Uxe,qxe=iT,Wxe=$z,Hxe=zxe,Vxe=LO,Gxe=jq,Kxe=Iq,Yxe=k_,Xxe=1,Zxe=2;function Qxe(e,t){return Vxe(e)&&Gxe(t)?Kxe(Yxe(e),t):function(r){var n=Wxe(r,e);return n===void 0&&n===t?Hxe(r,e):qxe(t,n,Xxe|Zxe)}}var Jxe=Qxe;function e2e(e){return e}var g1=e2e;function t2e(e){return function(t){return t==null?void 0:t[e]}}var r2e=t2e,n2e=WO;function i2e(e){return function(t){return n2e(t,e)}}var a2e=i2e,s2e=r2e,o2e=a2e,l2e=LO,c2e=k_;function u2e(e){return l2e(e)?s2e(c2e(e)):o2e(e)}var d2e=u2e,f2e=Oxe,h2e=Jxe,p2e=g1,m2e=ao,g2e=d2e;function v2e(e){return typeof e=="function"?e:e==null?p2e:typeof e=="object"?m2e(e)?h2e(e[0],e[1]):f2e(e):g2e(e)}var Xc=v2e;function y2e(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var kq=y2e;function x2e(e){return e!==e}var b2e=x2e;function w2e(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var _2e=w2e,S2e=kq,A2e=b2e,E2e=_2e;function C2e(e,t,r){return t===t?E2e(e,t,r):S2e(e,A2e,r)}var N2e=C2e,O2e=N2e;function T2e(e,t){var r=e==null?0:e.length;return!!r&&O2e(e,t,0)>-1}var j2e=T2e;function I2e(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var k2e=I2e;function P2e(){}var M2e=P2e,rA=Nq,R2e=M2e,D2e=eT,L2e=1/0,F2e=rA&&1/D2e(new rA([,-0]))[1]==L2e?function(e){return new rA(e)}:R2e,B2e=F2e,$2e=vq,U2e=j2e,z2e=k2e,q2e=xq,W2e=B2e,H2e=eT,V2e=200;function G2e(e,t,r){var n=-1,i=U2e,a=e.length,s=!0,o=[],c=o;if(r)s=!1,i=z2e;else if(a>=V2e){var u=t?null:W2e(e);if(u)return H2e(u);s=!1,i=q2e,c=new $2e}else c=t?[]:o;e:for(;++n<a;){var h=e[n],m=t?t(h):h;if(h=r||h!==0?h:0,s&&m===m){for(var y=c.length;y--;)if(c[y]===m)continue e;t&&c.push(m),o.push(h)}else i(c,m,r)||(c!==o&&c.push(m),o.push(h))}return o}var K2e=G2e,Y2e=Xc,X2e=K2e;function Z2e(e,t){return e&&e.length?X2e(e,Y2e(t)):[]}var Q2e=Z2e;const D8=yn(Q2e);function Pq(e,t,r){return t===!0?D8(e,r):jr(t)?D8(e,t):e}function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}var J2e=["ref"];function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){K_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rq(n.key),n)}}function tbe(e,t,r){return t&&F8(e.prototype,t),r&&F8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rbe(e,t,r){return t=Lb(t),nbe(e,Mq()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function nbe(e,t){if(t&&(mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ibe(e)}function ibe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function abe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i3(e,t)}function K_(e,t,r){return t=Rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=sbe(e,"string");return mm(t)=="symbol"?t:t+""}function sbe(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function obe(e,t){if(e==null)return{};var r=lbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cbe(e){return e.value}function ube(e,t){if(me.isValidElement(e))return me.cloneElement(e,t);if(typeof e=="function")return me.createElement(e,t);t.ref;var r=obe(t,J2e);return me.createElement(JO,r)}var B8=1,Uu=function(e){function t(){var r;ebe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rbe(this,t,[].concat(i)),K_(r,"lastBoundingBox",{width:-1,height:-1}),r}return abe(t,e),tbe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>B8||Math.abs(i.height-this.lastBoundingBox.height)>B8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,h=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();m={left:((u||0)-g.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bu(bu({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,m=bu(bu({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return me.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(g){n.wrapperNode=g}},ube(a,bu(bu({},this.props),{},{payload:Pq(h,u,cbe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=bu(bu({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&yt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(M.PureComponent);K_(Uu,"displayName","Legend");K_(Uu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $8=Ny,dbe=tT,fbe=ao,U8=$8?$8.isConcatSpreadable:void 0;function hbe(e){return fbe(e)||dbe(e)||!!(U8&&e&&e[U8])}var pbe=hbe,mbe=wq,gbe=pbe;function Dq(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=gbe),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?Dq(o,t-1,r,n,i):mbe(i,o):n||(i[i.length]=o)}return i}var Lq=Dq;function vbe(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++i];if(r(a[c],c,a)===!1)break}return t}}var ybe=vbe,xbe=ybe,bbe=xbe(),wbe=bbe,_be=wbe,Sbe=G_;function Abe(e,t){return e&&_be(e,t,Sbe)}var Fq=Abe,Ebe=Ty;function Cbe(e,t){return function(r,n){if(r==null)return r;if(!Ebe(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Nbe=Cbe,Obe=Fq,Tbe=Nbe,jbe=Tbe(Obe),aT=jbe,Ibe=aT,kbe=Ty;function Pbe(e,t){var r=-1,n=kbe(e)?Array(e.length):[];return Ibe(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var Bq=Pbe;function Mbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Rbe=Mbe,z8=l1;function Dbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=z8(e),s=t!==void 0,o=t===null,c=t===t,u=z8(t);if(!o&&!u&&!a&&e>t||a&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!c)return-1}return 0}var Lbe=Dbe,Fbe=Lbe;function Bbe(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var c=Fbe(i[n],a[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var $be=Bbe,nA=qO,Ube=WO,zbe=Xc,qbe=Bq,Wbe=Rbe,Hbe=Aq,Vbe=$be,Gbe=g1,Kbe=ao;function Ybe(e,t,r){t.length?t=nA(t,function(a){return Kbe(a)?function(s){return Ube(s,a.length===1?a[0]:a)}:a}):t=[Gbe];var n=-1;t=nA(t,Hbe(zbe));var i=qbe(e,function(a,s,o){var c=nA(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Wbe(i,function(a,s){return Vbe(a,s,r)})}var Xbe=Ybe;function Zbe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Qbe=Zbe,Jbe=Qbe,q8=Math.max;function ewe(e,t,r){return t=q8(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=q8(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),Jbe(e,this,o)}}var twe=ewe;function rwe(e){return function(){return e}}var nwe=rwe,iwe=bp,awe=function(){try{var e=iwe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),$q=awe,swe=nwe,W8=$q,owe=g1,lwe=W8?function(e,t){return W8(e,"toString",{configurable:!0,enumerable:!1,value:swe(t),writable:!0})}:owe,cwe=lwe,uwe=800,dwe=16,fwe=Date.now;function hwe(e){var t=0,r=0;return function(){var n=fwe(),i=dwe-(n-r);if(r=n,i>0){if(++t>=uwe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pwe=hwe,mwe=cwe,gwe=pwe,vwe=gwe(mwe),ywe=vwe,xwe=g1,bwe=twe,wwe=ywe;function _we(e,t){return wwe(bwe(e,t,xwe),e+"")}var Swe=_we,Awe=BO,Ewe=Ty,Cwe=rT,Nwe=$f;function Owe(e,t,r){if(!Nwe(r))return!1;var n=typeof t;return(n=="number"?Ewe(r)&&Cwe(t,r.length):n=="string"&&t in r)?Awe(r[t],e):!1}var Y_=Owe,Twe=Lq,jwe=Xbe,Iwe=Swe,H8=Y_,kwe=Iwe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&H8(e,t[0],t[1])?t=[]:r>2&&H8(t[0],t[1],t[2])&&(t=[t[0]]),jwe(e,Twe(t,1),[])}),Pwe=kwe;const sT=yn(Pwe);function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a3.apply(this,arguments)}function Mwe(e,t){return Fwe(e)||Lwe(e,t)||Dwe(e,t)||Rwe()}function Rwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dwe(e,t){if(e){if(typeof e=="string")return V8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V8(e,t)}}function V8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Fwe(e){if(Array.isArray(e))return e}function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(n){Bwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bwe(e,t,r){return t=$we(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $we(e){var t=Uwe(e,"string");return yv(t)=="symbol"?t:t+""}function Uwe(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zwe(e){return Array.isArray(e)&&Sa(e[0])&&Sa(e[1])?e.join(" ~ "):e}var qwe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,h=t.payload,m=t.formatter,y=t.itemSorter,g=t.wrapperClassName,S=t.labelClassName,_=t.label,w=t.labelFormatter,A=t.accessibilityLayer,E=A===void 0?!1:A,O=function(){if(h&&h.length){var z={padding:0,margin:0},X=(y?sT(h,y):h).map(function(W,V){if(W.type==="none")return null;var Q=iA({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},o),ne=W.formatter||m||zwe,te=W.value,H=W.name,le=te,fe=H;if(ne&&le!=null&&fe!=null){var q=ne(te,H,W,V,h);if(Array.isArray(q)){var Z=Mwe(q,2);le=Z[0],fe=Z[1]}else le=q}return me.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:Q},Sa(fe)?me.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,Sa(fe)?me.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,me.createElement("span",{className:"recharts-tooltip-item-value"},le),me.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return me.createElement("ul",{className:"recharts-tooltip-item-list",style:z},X)}return null},I=iA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=iA({margin:0},u),F=!Dr(_),B=F?_:"",D=$r("recharts-default-tooltip",g),P=$r("recharts-tooltip-label",S);F&&w&&h!==void 0&&h!==null&&(B=w(_,h));var K=E?{role:"status","aria-live":"assertive"}:{};return me.createElement("div",a3({className:D,style:I},K),me.createElement("p",{className:P,style:k},me.isValidElement(B)?B:"".concat(B)),O())};function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function qx(e,t,r){return t=Wwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wwe(e){var t=Hwe(e,"string");return xv(t)=="symbol"?t:t+""}function Hwe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H1="recharts-tooltip-wrapper",Vwe={visibility:"hidden"};function Gwe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return $r(H1,qx(qx(qx(qx({},"".concat(H1,"-right"),yt(r)&&t&&yt(t.x)&&r>=t.x),"".concat(H1,"-left"),yt(r)&&t&&yt(t.x)&&r<t.x),"".concat(H1,"-bottom"),yt(n)&&t&&yt(t.y)&&n>=t.y),"".concat(H1,"-top"),yt(n)&&t&&yt(t.y)&&n<t.y))}function K8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&yt(a[n]))return a[n];var h=r[n]-o-i,m=r[n]+i;if(t[n])return s[n]?h:m;if(s[n]){var y=h,g=c[n];return y<g?Math.max(m,c[n]):Math.max(h,c[n])}var S=m+o,_=c[n]+u;return S>_?Math.max(h,c[n]):Math.max(m,c[n])}function Kwe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ywe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,h,m;return s.height>0&&s.width>0&&r?(h=K8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=K8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Kwe({translateX:h,translateY:m,useTranslate3d:o})):u=Vwe,{cssProperties:u,cssClasses:Gwe({translateX:h,translateY:m,coordinate:r})}}function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function Y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(r),!0).forEach(function(n){o3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zq(n.key),n)}}function Qwe(e,t,r){return t&&Zwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jwe(e,t,r){return t=Fb(t),e_e(e,Uq()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function e_e(e,t){if(t&&(gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t_e(e)}function t_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function r_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s3(e,t)}function o3(e,t,r){return t=zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=n_e(e,"string");return gm(t)=="symbol"?t:t+""}function n_e(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z8=1,i_e=function(e){function t(){var r;Xwe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Jwe(this,t,[].concat(i)),o3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),o3(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),r}return r_e(t,e),Qwe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Z8||Math.abs(n.height-this.state.lastBoundingBox.height)>Z8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,h=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,g=i.offset,S=i.position,_=i.reverseDirection,w=i.useTranslate3d,A=i.viewBox,E=i.wrapperStyle,O=Ywe({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:g,position:S,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:A}),I=O.cssClasses,k=O.cssProperties,F=X8(X8({transition:y&&a?"transform ".concat(o,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return me.createElement("div",{tabIndex:-1,className:I,style:F,ref:function(D){n.wrapperNode=D}},u)}}])}(M.PureComponent),a_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Dc={isSsr:a_e(),get:function(t){return Dc[t]},set:function(t,r){if(typeof t=="string")Dc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){Dc[i]=t[i]})}}};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function Q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(r),!0).forEach(function(n){oT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wq(n.key),n)}}function l_e(e,t,r){return t&&o_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c_e(e,t,r){return t=Bb(t),u_e(e,qq()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function u_e(e,t){if(t&&(vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d_e(e)}function d_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function f_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l3(e,t)}function l3(e,t){return l3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l3(e,t)}function oT(e,t,r){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=h_e(e,"string");return vm(t)=="symbol"?t:t+""}function h_e(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p_e(e){return e.dataKey}function m_e(e,t){return me.isValidElement(e)?me.cloneElement(e,t):typeof e=="function"?me.createElement(e,t):me.createElement(qwe,t)}var Cs=function(e){function t(){return s_e(this,t),c_e(this,t,arguments)}return f_e(t,e),l_e(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,h=i.coordinate,m=i.filterNull,y=i.isAnimationActive,g=i.offset,S=i.payload,_=i.payloadUniqBy,w=i.position,A=i.reverseDirection,E=i.useTranslate3d,O=i.viewBox,I=i.wrapperStyle,k=S??[];m&&k.length&&(k=Pq(S.filter(function(B){return B.value!=null&&(B.hide!==!0||n.props.includeHidden)}),_,p_e));var F=k.length>0;return me.createElement(i_e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:y,active:a,coordinate:h,hasPayload:F,offset:g,position:w,reverseDirection:A,useTranslate3d:E,viewBox:O,wrapperStyle:I},m_e(u,J8(J8({},this.props),{},{payload:k})))}}])}(M.PureComponent);oT(Cs,"displayName","Tooltip");oT(Cs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Dc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var g_e=Yc,v_e=function(){return g_e.Date.now()},y_e=v_e,x_e=/\s/;function b_e(e){for(var t=e.length;t--&&x_e.test(e.charAt(t)););return t}var w_e=b_e,__e=w_e,S_e=/^\s+/;function A_e(e){return e&&e.slice(0,__e(e)+1).replace(S_e,"")}var E_e=A_e,C_e=E_e,e6=$f,N_e=l1,t6=NaN,O_e=/^[-+]0x[0-9a-f]+$/i,T_e=/^0b[01]+$/i,j_e=/^0o[0-7]+$/i,I_e=parseInt;function k_e(e){if(typeof e=="number")return e;if(N_e(e))return t6;if(e6(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=e6(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=C_e(e);var r=T_e.test(e);return r||j_e.test(e)?I_e(e.slice(2),r?2:8):O_e.test(e)?t6:+e}var Hq=k_e,P_e=$f,aA=y_e,r6=Hq,M_e="Expected a function",R_e=Math.max,D_e=Math.min;function L_e(e,t,r){var n,i,a,s,o,c,u=0,h=!1,m=!1,y=!0;if(typeof e!="function")throw new TypeError(M_e);t=r6(t)||0,P_e(r)&&(h=!!r.leading,m="maxWait"in r,a=m?R_e(r6(r.maxWait)||0,t):a,y="trailing"in r?!!r.trailing:y);function g(F){var B=n,D=i;return n=i=void 0,u=F,s=e.apply(D,B),s}function S(F){return u=F,o=setTimeout(A,t),h?g(F):s}function _(F){var B=F-c,D=F-u,P=t-B;return m?D_e(P,a-D):P}function w(F){var B=F-c,D=F-u;return c===void 0||B>=t||B<0||m&&D>=a}function A(){var F=aA();if(w(F))return E(F);o=setTimeout(A,_(F))}function E(F){return o=void 0,y&&n?g(F):(n=i=void 0,s)}function O(){o!==void 0&&clearTimeout(o),u=0,n=c=i=o=void 0}function I(){return o===void 0?s:E(aA())}function k(){var F=aA(),B=w(F);if(n=arguments,i=this,c=F,B){if(o===void 0)return S(c);if(m)return clearTimeout(o),o=setTimeout(A,t),g(c)}return o===void 0&&(o=setTimeout(A,t)),s}return k.cancel=O,k.flush=I,k}var F_e=L_e,B_e=F_e,$_e=$f,U_e="Expected a function";function z_e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(U_e);return $_e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),B_e(e,t,{leading:n,maxWait:t,trailing:i})}var q_e=z_e;const Vq=yn(q_e);function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(n){W_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W_e(e,t,r){return t=H_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_e(e){var t=V_e(e,"string");return bv(t)=="symbol"?t:t+""}function V_e(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G_e(e,t){return Z_e(e)||X_e(e,t)||Y_e(e,t)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(e,t){if(e){if(typeof e=="string")return i6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i6(e,t)}}function i6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Z_e(e){if(Array.isArray(e))return e}var d0=M.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,h=u===void 0?0:u,m=e.minHeight,y=e.maxHeight,g=e.children,S=e.debounce,_=S===void 0?0:S,w=e.id,A=e.className,E=e.onResize,O=e.style,I=O===void 0?{}:O,k=M.useRef(null),F=M.useRef();F.current=E,M.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var B=M.useState({containerWidth:i.width,containerHeight:i.height}),D=G_e(B,2),P=D[0],K=D[1],$=M.useCallback(function(X,W){K(function(V){var Q=Math.round(X),ne=Math.round(W);return V.containerWidth===Q&&V.containerHeight===ne?V:{containerWidth:Q,containerHeight:ne}})},[]);M.useEffect(function(){var X=function(H){var le,fe=H[0].contentRect,q=fe.width,Z=fe.height;$(q,Z),(le=F.current)===null||le===void 0||le.call(F,q,Z)};_>0&&(X=Vq(X,_,{trailing:!0,leading:!1}));var W=new ResizeObserver(X),V=k.current.getBoundingClientRect(),Q=V.width,ne=V.height;return $(Q,ne),W.observe(k.current),function(){W.disconnect()}},[$,_]);var z=M.useMemo(function(){var X=P.containerWidth,W=P.containerHeight;if(X<0||W<0)return null;ec(_h(s)||_h(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ec(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=_h(s)?X:s,Q=_h(c)?W:c;r&&r>0&&(V?Q=V/r:Q&&(V=Q*r),y&&Q>y&&(Q=y)),ec(V>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,Q,s,c,h,m,r);var ne=!Array.isArray(g)&&$u(g.type).endsWith("Chart");return me.Children.map(g,function(te){return me.isValidElement(te)?M.cloneElement(te,Wx({width:V,height:Q},ne?{style:Wx({height:"100%",width:"100%",maxHeight:Q,maxWidth:V},te.props.style)}:{})):te})},[r,g,c,y,m,h,P,s]);return me.createElement("div",{id:w?"".concat(w):void 0,className:$r("recharts-responsive-container",A),style:Wx(Wx({},I),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:y}),ref:k},z)}),X_=function(t){return null};X_.displayName="Cell";function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function a6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(r),!0).forEach(function(n){Q_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q_e(e,t,r){return t=J_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J_e(e){var t=e5e(e,"string");return wv(t)=="symbol"?t:t+""}function e5e(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p={widthCache:{},cacheCount:0},t5e=2e3,r5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},s6="recharts_measurement_span";function n5e(e){var t=c3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Tg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Dc.isSsr)return{width:0,height:0};var n=n5e(r),i=JSON.stringify({text:t,copyStyle:n});if($p.widthCache[i])return $p.widthCache[i];try{var a=document.getElementById(s6);a||(a=document.createElement("span"),a.setAttribute("id",s6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=c3(c3({},r5e),n);Object.assign(a.style,s),a.textContent="".concat(t);var o=a.getBoundingClientRect(),c={width:o.width,height:o.height};return $p.widthCache[i]=c,++$p.cacheCount>t5e&&($p.cacheCount=0,$p.widthCache={}),c}catch{return{width:0,height:0}}},i5e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function $b(e,t){return l5e(e)||o5e(e,t)||s5e(e,t)||a5e()}function a5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5e(e,t){if(e){if(typeof e=="string")return o6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o6(e,t)}}function o6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function l5e(e){if(Array.isArray(e))return e}function c5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d5e(n.key),n)}}function u5e(e,t,r){return t&&l6(e.prototype,t),r&&l6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d5e(e){var t=f5e(e,"string");return _v(t)=="symbol"?t:t+""}function f5e(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,p5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Gq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},m5e=Object.keys(Gq),f0="NaN";function g5e(e,t){return e*Gq[t]}var Hx=function(){function e(t,r){c5e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!h5e.test(r)&&(this.num=NaN,this.unit=""),m5e.includes(r)&&(this.num=g5e(t,r),this.unit="px")}return u5e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=p5e.exec(r))!==null&&n!==void 0?n:[],a=$b(i,3),s=a[1],o=a[2];return new e(parseFloat(s),o??"")}}])}();function Kq(e){if(e.includes(f0))return f0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=c6.exec(t))!==null&&r!==void 0?r:[],i=$b(n,4),a=i[1],s=i[2],o=i[3],c=Hx.parse(a??""),u=Hx.parse(o??""),h=s==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return f0;t=t.replace(c6,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,y=(m=u6.exec(t))!==null&&m!==void 0?m:[],g=$b(y,4),S=g[1],_=g[2],w=g[3],A=Hx.parse(S??""),E=Hx.parse(w??""),O=_==="+"?A.add(E):A.subtract(E);if(O.isNaN())return f0;t=t.replace(u6,O.toString())}return t}var d6=/\(([^()]*)\)/;function v5e(e){for(var t=e;t.includes("(");){var r=d6.exec(t),n=$b(r,2),i=n[1];t=t.replace(d6,Kq(i))}return t}function y5e(e){var t=e.replace(/\s+/g,"");return t=v5e(t),t=Kq(t),t}function x5e(e){try{return y5e(e)}catch{return f0}}function sA(e){var t=x5e(e.slice(5,-1));return t===f0?"":t}var b5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],w5e=["dx","dy","angle","className","breakAll"];function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u3.apply(this,arguments)}function f6(e,t){if(e==null)return{};var r=_5e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h6(e,t){return C5e(e)||E5e(e,t)||A5e(e,t)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(e,t){if(e){if(typeof e=="string")return p6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p6(e,t)}}function p6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function C5e(e){if(Array.isArray(e))return e}var Yq=/[ \f\n\r\t\v\u2028\u2029]+/,Xq=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Dr(r)||(n?a=r.toString().split(""):a=r.toString().split(Yq));var s=a.map(function(c){return{word:c,width:Tg(c,i).width}}),o=n?0:Tg(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},N5e=function(t,r,n,i,a){var s=t.maxLines,o=t.children,c=t.style,u=t.breakAll,h=yt(s),m=o,y=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(Q,ne){var te=ne.word,H=ne.width,le=Q[Q.length-1];if(le&&(i==null||a||le.width+H+n<Number(i)))le.words.push(te),le.width+=H+n;else{var fe={words:[te],width:H};Q.push(fe)}return Q},[])},g=y(r),S=function(V){return V.reduce(function(Q,ne){return Q.width>ne.width?Q:ne})};if(!h)return g;for(var _="…",w=function(V){var Q=m.slice(0,V),ne=Xq({breakAll:u,style:c,children:Q+_}).wordsWithComputedWidth,te=y(ne),H=te.length>s||S(te).width>Number(i);return[H,te]},A=0,E=m.length-1,O=0,I;A<=E&&O<=m.length-1;){var k=Math.floor((A+E)/2),F=k-1,B=w(F),D=h6(B,2),P=D[0],K=D[1],$=w(k),z=h6($,1),X=z[0];if(!P&&!X&&(A=k+1),P&&X&&(E=k-1),!P&&X){I=K;break}O++}return I||g},m6=function(t){var r=Dr(t)?[]:t.toString().split(Yq);return[{words:r}]},O5e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Dc.isSsr){var c,u,h=Xq({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;c=m,u=y}else return m6(i);return N5e({breakAll:s,children:i,maxLines:o,style:a},c,u,r,n)}return m6(i)},g6="#808080",tp=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,h=t.scaleToFit,m=h===void 0?!1:h,y=t.textAnchor,g=y===void 0?"start":y,S=t.verticalAnchor,_=S===void 0?"end":S,w=t.fill,A=w===void 0?g6:w,E=f6(t,b5e),O=M.useMemo(function(){return O5e({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),I=E.dx,k=E.dy,F=E.angle,B=E.className,D=E.breakAll,P=f6(E,w5e);if(!Sa(n)||!Sa(a))return null;var K=n+(yt(I)?I:0),$=a+(yt(k)?k:0),z;switch(_){case"start":z=sA("calc(".concat(u,")"));break;case"middle":z=sA("calc(".concat((O.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:z=sA("calc(".concat(O.length-1," * -").concat(o,")"));break}var X=[];if(m){var W=O[0].width,V=E.width;X.push("scale(".concat((yt(V)?V/W:1)/W,")"))}return F&&X.push("rotate(".concat(F,", ").concat(K,", ").concat($,")")),X.length&&(P.transform=X.join(" ")),me.createElement("text",u3({},xr(P,!0),{x:K,y:$,className:$r("recharts-text",B),textAnchor:g,fill:A.includes("url")?g6:A}),O.map(function(Q,ne){var te=Q.words.join(D?"":" ");return me.createElement("tspan",{x:K,dy:ne===0?z:o,key:"".concat(te,"-").concat(ne)},te)}))};function yf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function T5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lT(e){let t,r,n;e.length!==2?(t=yf,r=(o,c)=>yf(e(o),c),n=(o,c)=>e(o)-c):(t=e===yf||e===T5e?e:j5e,r=e,n=e);function i(o,c,u=0,h=o.length){if(u<h){if(t(c,c)!==0)return h;do{const m=u+h>>>1;r(o[m],c)<0?u=m+1:h=m}while(u<h)}return u}function a(o,c,u=0,h=o.length){if(u<h){if(t(c,c)!==0)return h;do{const m=u+h>>>1;r(o[m],c)<=0?u=m+1:h=m}while(u<h)}return u}function s(o,c,u=0,h=o.length){const m=i(o,c,u,h-1);return m>u&&n(o[m-1],c)>-n(o[m],c)?m-1:m}return{left:i,center:s,right:a}}function j5e(){return 0}function Zq(e){return e===null?NaN:+e}function*I5e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const k5e=lT(yf),jy=k5e.right;lT(Zq).center;class v6 extends Map{constructor(t,r=R5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(y6(this,t))}has(t){return super.has(y6(this,t))}set(t,r){return super.set(P5e(this,t),r)}delete(t){return super.delete(M5e(this,t))}}function y6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function P5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function M5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function R5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function D5e(e=yf){if(e===yf)return Qq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Qq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const L5e=Math.sqrt(50),F5e=Math.sqrt(10),B5e=Math.sqrt(2);function Ub(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=L5e?10:a>=F5e?5:a>=B5e?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Ub(e,t,r*2):[o,c,u]}function d3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Ub(t,e,r):Ub(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function f3(e,t,r){return t=+t,e=+e,r=+r,Ub(e,t,r)[2]}function h3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?f3(t,e,r):f3(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function x6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Jq(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Qq:D5e(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*m/c+y)),S=Math.min(n,Math.floor(t+(c-u)*m/c+y));Jq(e,t,g,S,i)}const a=e[t];let s=r,o=n;for(V1(e,r,t),i(e[n],a)>0&&V1(e,r,n);s<o;){for(V1(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?V1(e,r,o):(++o,V1(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function V1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $5e(e,t,r){if(e=Float64Array.from(I5e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b6(e);if(t>=1)return x6(e);var n,i=(n-1)*t,a=Math.floor(i),s=x6(Jq(e,a).subarray(0,a+1)),o=b6(e.subarray(a+1));return s+(o-s)*(i-a)}}function U5e(e,t,r=Zq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function z5e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function _l(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function od(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const p3=Symbol("implicit");function cT(){var e=new v6,t=[],r=[],n=p3;function i(a){let s=e.get(a);if(s===void 0){if(n!==p3)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new v6;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return cT(t,r).unknown(n)},_l.apply(i,arguments),i}function Sv(){var e=cT().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,h=.5;delete e.unknown;function m(){var y=t().length,g=i<n,S=g?i:n,_=g?n:i;a=(_-S)/Math.max(1,y-c+u*2),o&&(a=Math.floor(a)),S+=(_-S-a*(y-c))*h,s=a*(1-c),o&&(S=Math.round(S),s=Math.round(s));var w=z5e(y).map(function(A){return S+a*A});return r(g?w.reverse():w)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},e.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,o=!0,m()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(o=!!y,m()):o},e.padding=function(y){return arguments.length?(c=Math.min(1,u=+y),m()):c},e.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},e.paddingOuter=function(y){return arguments.length?(u=+y,m()):u},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},e.copy=function(){return Sv(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(h)},_l.apply(m(),arguments)}function eW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return eW(t())},e}function jg(){return eW(Sv.apply(null,arguments).paddingInner(1))}function uT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function tW(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Iy(){}var Av=.7,zb=1/Av,k0="\\s*([+-]?\\d+)\\s*",Ev="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q5e=/^#([0-9a-f]{3,8})$/,W5e=new RegExp(`^rgb\\(${k0},${k0},${k0}\\)$`),H5e=new RegExp(`^rgb\\(${Lc},${Lc},${Lc}\\)$`),V5e=new RegExp(`^rgba\\(${k0},${k0},${k0},${Ev}\\)$`),G5e=new RegExp(`^rgba\\(${Lc},${Lc},${Lc},${Ev}\\)$`),K5e=new RegExp(`^hsl\\(${Ev},${Lc},${Lc}\\)$`),Y5e=new RegExp(`^hsla\\(${Ev},${Lc},${Lc},${Ev}\\)$`),w6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uT(Iy,Cv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_6,formatHex:_6,formatHex8:X5e,formatHsl:Z5e,formatRgb:S6,toString:S6});function _6(){return this.rgb().formatHex()}function X5e(){return this.rgb().formatHex8()}function Z5e(){return rW(this).formatHsl()}function S6(){return this.rgb().formatRgb()}function Cv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=q5e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?A6(t):r===3?new Zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=W5e.exec(e))?new Zs(t[1],t[2],t[3],1):(t=H5e.exec(e))?new Zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=V5e.exec(e))?Vx(t[1],t[2],t[3],t[4]):(t=G5e.exec(e))?Vx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=K5e.exec(e))?N6(t[1],t[2]/100,t[3]/100,1):(t=Y5e.exec(e))?N6(t[1],t[2]/100,t[3]/100,t[4]):w6.hasOwnProperty(e)?A6(w6[e]):e==="transparent"?new Zs(NaN,NaN,NaN,0):null}function A6(e){return new Zs(e>>16&255,e>>8&255,e&255,1)}function Vx(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zs(e,t,r,n)}function Q5e(e){return e instanceof Iy||(e=Cv(e)),e?(e=e.rgb(),new Zs(e.r,e.g,e.b,e.opacity)):new Zs}function m3(e,t,r,n){return arguments.length===1?Q5e(e):new Zs(e,t,r,n??1)}function Zs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uT(Zs,m3,tW(Iy,{brighter(e){return e=e==null?zb:Math.pow(zb,e),new Zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Av:Math.pow(Av,e),new Zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zs(Uh(this.r),Uh(this.g),Uh(this.b),qb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E6,formatHex:E6,formatHex8:J5e,formatRgb:C6,toString:C6}));function E6(){return`#${Sh(this.r)}${Sh(this.g)}${Sh(this.b)}`}function J5e(){return`#${Sh(this.r)}${Sh(this.g)}${Sh(this.b)}${Sh((isNaN(this.opacity)?1:this.opacity)*255)}`}function C6(){const e=qb(this.opacity);return`${e===1?"rgb(":"rgba("}${Uh(this.r)}, ${Uh(this.g)}, ${Uh(this.b)}${e===1?")":`, ${e})`}`}function qb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sh(e){return e=Uh(e),(e<16?"0":"")+e.toString(16)}function N6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zl(e,t,r,n)}function rW(e){if(e instanceof Zl)return new Zl(e.h,e.s,e.l,e.opacity);if(e instanceof Iy||(e=Cv(e)),!e)return new Zl;if(e instanceof Zl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Zl(s,o,c,e.opacity)}function eSe(e,t,r,n){return arguments.length===1?rW(e):new Zl(e,t,r,n??1)}function Zl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uT(Zl,eSe,tW(Iy,{brighter(e){return e=e==null?zb:Math.pow(zb,e),new Zl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Av:Math.pow(Av,e),new Zl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Zs(oA(e>=240?e-240:e+120,i,n),oA(e,i,n),oA(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Zl(O6(this.h),Gx(this.s),Gx(this.l),qb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qb(this.opacity);return`${e===1?"hsl(":"hsla("}${O6(this.h)}, ${Gx(this.s)*100}%, ${Gx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O6(e){return e=(e||0)%360,e<0?e+360:e}function Gx(e){return Math.max(0,Math.min(1,e||0))}function oA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dT=e=>()=>e;function tSe(e,t){return function(r){return e+r*t}}function rSe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nSe(e){return(e=+e)==1?nW:function(t,r){return r-t?rSe(t,r,e):dT(isNaN(t)?r:t)}}function nW(e,t){var r=t-e;return r?tSe(e,r):dT(isNaN(e)?t:e)}const T6=function e(t){var r=nSe(t);function n(i,a){var s=r((i=m3(i)).r,(a=m3(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=nW(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=c(h),i.opacity=u(h),i+""}}return n.gamma=e,n}(1);function iSe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function aSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sSe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=v1(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function oSe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lSe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=v1(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var g3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lA=new RegExp(g3.source,"g");function cSe(e){return function(){return e}}function uSe(e){return function(t){return e(t)+""}}function dSe(e,t){var r=g3.lastIndex=lA.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=g3.exec(e))&&(i=lA.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Wb(n,i)})),r=lA.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?uSe(c[0].x):cSe(t):(t=c.length,function(u){for(var h=0,m;h<t;++h)o[(m=c[h]).i]=m.x(u);return o.join("")})}function v1(e,t){var r=typeof t,n;return t==null||r==="boolean"?dT(t):(r==="number"?Wb:r==="string"?(n=Cv(t))?(t=n,T6):dSe:t instanceof Cv?T6:t instanceof Date?oSe:aSe(t)?iSe:Array.isArray(t)?sSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lSe:Wb)(e,t)}function fT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fSe(e,t){t===void 0&&(t=e,e=v1);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function hSe(e){return function(){return e}}function Hb(e){return+e}var j6=[0,1];function Ts(e){return e}function v3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hSe(isNaN(t)?NaN:.5)}function pSe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mSe(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=v3(i,n),a=r(s,a)):(n=v3(n,i),a=r(a,s)),function(o){return a(n(o))}}function gSe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=v3(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=jy(e,o,1,n)-1;return a[c](i[c](o))}}function ky(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Z_(){var e=j6,t=j6,r=v1,n,i,a,s=Ts,o,c,u;function h(){var y=Math.min(e.length,t.length);return s!==Ts&&(s=pSe(e[0],e[y-1])),o=y>2?gSe:mSe,c=u=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=o(e.map(n),t,r)))(n(s(y)))}return m.invert=function(y){return s(i((u||(u=o(t,e.map(n),Wb)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,Hb),h()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),r=fT,h()},m.clamp=function(y){return arguments.length?(s=y?!0:Ts,h()):s!==Ts},m.interpolate=function(y){return arguments.length?(r=y,h()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,g){return n=y,i=g,h()}}function hT(){return Z_()(Ts,Ts)}function vSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ym(e){return e=Vb(Math.abs(e)),e?e[1]:NaN}function ySe(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function xSe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nv(e){if(!(t=bSe.exec(e)))throw new Error("invalid format: "+e);var t;return new pT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nv.prototype=pT.prototype;function pT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wSe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var iW;function _Se(e,t){var r=Vb(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(iW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Vb(e,Math.max(0,t+a-1))[0]}function I6(e,t){var r=Vb(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const k6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I6(e*100,t),r:I6,s:_Se,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function P6(e){return e}var M6=Array.prototype.map,R6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function SSe(e){var t=e.grouping===void 0||e.thousands===void 0?P6:ySe(M6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?P6:xSe(M6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=Nv(m);var y=m.fill,g=m.align,S=m.sign,_=m.symbol,w=m.zero,A=m.width,E=m.comma,O=m.precision,I=m.trim,k=m.type;k==="n"?(E=!0,k="g"):k6[k]||(O===void 0&&(O=12),I=!0,k="g"),(w||y==="0"&&g==="=")&&(w=!0,y="0",g="=");var F=_==="$"?r:_==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",B=_==="$"?n:/[%p]/.test(k)?s:"",D=k6[k],P=/[defgprs%]/.test(k);O=O===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function K($){var z=F,X=B,W,V,Q;if(k==="c")X=D($)+X,$="";else{$=+$;var ne=$<0||1/$<0;if($=isNaN($)?c:D(Math.abs($),O),I&&($=wSe($)),ne&&+$==0&&S!=="+"&&(ne=!1),z=(ne?S==="("?S:o:S==="-"||S==="("?"":S)+z,X=(k==="s"?R6[8+iW/3]:"")+X+(ne&&S==="("?")":""),P){for(W=-1,V=$.length;++W<V;)if(Q=$.charCodeAt(W),48>Q||Q>57){X=(Q===46?i+$.slice(W+1):$.slice(W))+X,$=$.slice(0,W);break}}}E&&!w&&($=t($,1/0));var te=z.length+$.length+X.length,H=te<A?new Array(A-te+1).join(y):"";switch(E&&w&&($=t(H+$,H.length?A-X.length:1/0),H=""),g){case"<":$=z+$+X+H;break;case"=":$=z+H+$+X;break;case"^":$=H.slice(0,te=H.length>>1)+z+$+X+H.slice(te);break;default:$=H+z+$+X;break}return a($)}return K.toString=function(){return m+""},K}function h(m,y){var g=u((m=Nv(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(ym(y)/3)))*3,_=Math.pow(10,-S),w=R6[8+S/3];return function(A){return g(_*A)+w}}return{format:u,formatPrefix:h}}var Kx,mT,aW;ASe({thousands:",",grouping:[3],currency:["$",""]});function ASe(e){return Kx=SSe(e),mT=Kx.format,aW=Kx.formatPrefix,Kx}function ESe(e){return Math.max(0,-ym(Math.abs(e)))}function CSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ym(t)/3)))*3-ym(Math.abs(e)))}function NSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ym(t)-ym(e))+1}function sW(e,t,r,n){var i=h3(e,t,r),a;switch(n=Nv(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=CSe(i,s))&&(n.precision=a),aW(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=NSe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=ESe(i))&&(n.precision=a-(n.type==="%")*2);break}}return mT(n)}function Uf(e){var t=e.domain;return e.ticks=function(r){var n=t();return d3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return sW(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,h=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);h-- >0;){if(u=f3(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Gb(){var e=hT();return e.copy=function(){return ky(e,Gb())},_l.apply(e,arguments),Uf(e)}function oW(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return oW(e).unknown(t)},e=arguments.length?Array.from(e,Hb):[0,1],Uf(r)}function lW(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function D6(e){return Math.log(e)}function L6(e){return Math.exp(e)}function OSe(e){return-Math.log(-e)}function TSe(e){return-Math.exp(-e)}function jSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ISe(e){return e===10?jSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function F6(e){return(t,r)=>-e(-t,r)}function gT(e){const t=e(D6,L6),r=t.domain;let n=10,i,a;function s(){return i=kSe(n),a=ISe(n),r()[0]<0?(i=F6(i),a=F6(a),e(OSe,TSe)):e(D6,L6),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],h=c[c.length-1];const m=h<u;m&&([u,h]=[h,u]);let y=i(u),g=i(h),S,_;const w=o==null?10:+o;let A=[];if(!(n%1)&&g-y<w){if(y=Math.floor(y),g=Math.ceil(g),u>0){for(;y<=g;++y)for(S=1;S<n;++S)if(_=y<0?S/a(-y):S*a(y),!(_<u)){if(_>h)break;A.push(_)}}else for(;y<=g;++y)for(S=n-1;S>=1;--S)if(_=y>0?S/a(-y):S*a(y),!(_<u)){if(_>h)break;A.push(_)}A.length*2<w&&(A=d3(u,h,w))}else A=d3(y,g,Math.min(g-y,w)).map(a);return m?A.reverse():A},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Nv(c)).precision==null&&(c.trim=!0),c=mT(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=u?c(h):""}},t.nice=()=>r(lW(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function cW(){const e=gT(Z_()).domain([1,10]);return e.copy=()=>ky(e,cW()).base(e.base()),_l.apply(e,arguments),e}function B6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vT(e){var t=1,r=e(B6(t),$6(t));return r.constant=function(n){return arguments.length?e(B6(t=+n),$6(t)):t},Uf(r)}function uW(){var e=vT(Z_());return e.copy=function(){return ky(e,uW()).constant(e.constant())},_l.apply(e,arguments)}function U6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MSe(e){return e<0?-e*e:e*e}function yT(e){var t=e(Ts,Ts),r=1;function n(){return r===1?e(Ts,Ts):r===.5?e(PSe,MSe):e(U6(r),U6(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Uf(t)}function xT(){var e=yT(Z_());return e.copy=function(){return ky(e,xT()).exponent(e.exponent())},_l.apply(e,arguments),e}function RSe(){return xT.apply(null,arguments).exponent(.5)}function z6(e){return Math.sign(e)*e*e}function DSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dW(){var e=hT(),t=[0,1],r=!1,n;function i(a){var s=DSe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(z6(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Hb)).map(z6)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return dW(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},_l.apply(i,arguments),Uf(i)}function fW(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=U5e(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[jy(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(yf),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return fW().domain(e).range(t).unknown(n)},_l.apply(a,arguments)}function hW(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[jy(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return hW().domain([e,t]).range(i).unknown(a)},_l.apply(Uf(s),arguments)}function pW(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[jy(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pW().domain(e).range(t).unknown(r)},_l.apply(i,arguments)}const cA=new Date,uA=new Date;function Ea(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>Ea(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(cA.setTime(+a),uA.setTime(+s),e(cA),e(uA),Math.floor(r(cA,uA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Kb=Ea(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ea(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kb);Kb.range;const Mu=1e3,fl=Mu*60,Ru=fl*60,td=Ru*24,bT=td*7,q6=td*30,dA=td*365,Ah=Ea(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mu)},(e,t)=>(t-e)/Mu,e=>e.getUTCSeconds());Ah.range;const wT=Ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mu)},(e,t)=>{e.setTime(+e+t*fl)},(e,t)=>(t-e)/fl,e=>e.getMinutes());wT.range;const _T=Ea(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fl)},(e,t)=>(t-e)/fl,e=>e.getUTCMinutes());_T.range;const ST=Ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mu-e.getMinutes()*fl)},(e,t)=>{e.setTime(+e+t*Ru)},(e,t)=>(t-e)/Ru,e=>e.getHours());ST.range;const AT=Ea(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ru)},(e,t)=>(t-e)/Ru,e=>e.getUTCHours());AT.range;const Py=Ea(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fl)/td,e=>e.getDate()-1);Py.range;const Q_=Ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/td,e=>e.getUTCDate()-1);Q_.range;const mW=Ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/td,e=>Math.floor(e/td));mW.range;function wp(e){return Ea(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*fl)/bT)}const J_=wp(0),Yb=wp(1),LSe=wp(2),FSe=wp(3),xm=wp(4),BSe=wp(5),$Se=wp(6);J_.range;Yb.range;LSe.range;FSe.range;xm.range;BSe.range;$Se.range;function _p(e){return Ea(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bT)}const e5=_p(0),Xb=_p(1),USe=_p(2),zSe=_p(3),bm=_p(4),qSe=_p(5),WSe=_p(6);e5.range;Xb.range;USe.range;zSe.range;bm.range;qSe.range;WSe.range;const ET=Ea(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ET.range;const CT=Ea(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());CT.range;const rd=Ea(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());rd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ea(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});rd.range;const nd=Ea(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());nd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ea(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});nd.range;function gW(e,t,r,n,i,a){const s=[[Ah,1,Mu],[Ah,5,5*Mu],[Ah,15,15*Mu],[Ah,30,30*Mu],[a,1,fl],[a,5,5*fl],[a,15,15*fl],[a,30,30*fl],[i,1,Ru],[i,3,3*Ru],[i,6,6*Ru],[i,12,12*Ru],[n,1,td],[n,2,2*td],[r,1,bT],[t,1,q6],[t,3,3*q6],[e,1,dA]];function o(u,h,m){const y=h<u;y&&([u,h]=[h,u]);const g=m&&typeof m.range=="function"?m:c(u,h,m),S=g?g.range(u,+h+1):[];return y?S.reverse():S}function c(u,h,m){const y=Math.abs(h-u)/m,g=lT(([,,w])=>w).right(s,y);if(g===s.length)return e.every(h3(u/dA,h/dA,m));if(g===0)return Kb.every(Math.max(h3(u,h,m),1));const[S,_]=s[y/s[g-1][2]<s[g][2]/y?g-1:g];return S.every(_)}return[o,c]}const[HSe,VSe]=gW(nd,CT,e5,mW,AT,_T),[GSe,KSe]=gW(rd,ET,J_,Py,ST,wT);function fA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function G1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YSe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=K1(i),h=Y1(i),m=K1(a),y=Y1(a),g=K1(s),S=Y1(s),_=K1(o),w=Y1(o),A=K1(c),E=Y1(c),O={a:ne,A:te,b:H,B:le,c:null,d:Y6,e:Y6,f:yAe,g:OAe,G:jAe,H:mAe,I:gAe,j:vAe,L:vW,m:xAe,M:bAe,p:fe,q,Q:Q6,s:J6,S:wAe,u:_Ae,U:SAe,V:AAe,w:EAe,W:CAe,x:null,X:null,y:NAe,Y:TAe,Z:IAe,"%":Z6},I={a:Z,A:ae,b:ge,B:he,c:null,d:X6,e:X6,f:RAe,g:HAe,G:GAe,H:kAe,I:PAe,j:MAe,L:xW,m:DAe,M:LAe,p:Se,q:Ae,Q:Q6,s:J6,S:FAe,u:BAe,U:$Ae,V:UAe,w:zAe,W:qAe,x:null,X:null,y:WAe,Y:VAe,Z:KAe,"%":Z6},k={a:K,A:$,b:z,B:X,c:W,d:G6,e:G6,f:dAe,g:V6,G:H6,H:K6,I:K6,j:oAe,L:uAe,m:sAe,M:lAe,p:P,q:aAe,Q:hAe,s:pAe,S:cAe,u:eAe,U:tAe,V:rAe,w:JSe,W:nAe,x:V,X:Q,y:V6,Y:H6,Z:iAe,"%":fAe};O.x=F(r,O),O.X=F(n,O),O.c=F(t,O),I.x=F(r,I),I.X=F(n,I),I.c=F(t,I);function F(ye,Ne){return function(Ee){var Ce=[],Re=-1,je=0,de=ye.length,it,ft,Ye;for(Ee instanceof Date||(Ee=new Date(+Ee));++Re<de;)ye.charCodeAt(Re)===37&&(Ce.push(ye.slice(je,Re)),(ft=W6[it=ye.charAt(++Re)])!=null?it=ye.charAt(++Re):ft=it==="e"?" ":"0",(Ye=Ne[it])&&(it=Ye(Ee,ft)),Ce.push(it),je=Re+1);return Ce.push(ye.slice(je,Re)),Ce.join("")}}function B(ye,Ne){return function(Ee){var Ce=G1(1900,void 0,1),Re=D(Ce,ye,Ee+="",0),je,de;if(Re!=Ee.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(Ce.s*1e3+("L"in Ce?Ce.L:0));if(Ne&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+Ce.p*12),Ce.m===void 0&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(je=hA(G1(Ce.y,0,1)),de=je.getUTCDay(),je=de>4||de===0?Xb.ceil(je):Xb(je),je=Q_.offset(je,(Ce.V-1)*7),Ce.y=je.getUTCFullYear(),Ce.m=je.getUTCMonth(),Ce.d=je.getUTCDate()+(Ce.w+6)%7):(je=fA(G1(Ce.y,0,1)),de=je.getDay(),je=de>4||de===0?Yb.ceil(je):Yb(je),je=Py.offset(je,(Ce.V-1)*7),Ce.y=je.getFullYear(),Ce.m=je.getMonth(),Ce.d=je.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),de="Z"in Ce?hA(G1(Ce.y,0,1)).getUTCDay():fA(G1(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+Ce.W*7-(de+5)%7:Ce.w+Ce.U*7-(de+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,hA(Ce)):fA(Ce)}}function D(ye,Ne,Ee,Ce){for(var Re=0,je=Ne.length,de=Ee.length,it,ft;Re<je;){if(Ce>=de)return-1;if(it=Ne.charCodeAt(Re++),it===37){if(it=Ne.charAt(Re++),ft=k[it in W6?Ne.charAt(Re++):it],!ft||(Ce=ft(ye,Ee,Ce))<0)return-1}else if(it!=Ee.charCodeAt(Ce++))return-1}return Ce}function P(ye,Ne,Ee){var Ce=u.exec(Ne.slice(Ee));return Ce?(ye.p=h.get(Ce[0].toLowerCase()),Ee+Ce[0].length):-1}function K(ye,Ne,Ee){var Ce=g.exec(Ne.slice(Ee));return Ce?(ye.w=S.get(Ce[0].toLowerCase()),Ee+Ce[0].length):-1}function $(ye,Ne,Ee){var Ce=m.exec(Ne.slice(Ee));return Ce?(ye.w=y.get(Ce[0].toLowerCase()),Ee+Ce[0].length):-1}function z(ye,Ne,Ee){var Ce=A.exec(Ne.slice(Ee));return Ce?(ye.m=E.get(Ce[0].toLowerCase()),Ee+Ce[0].length):-1}function X(ye,Ne,Ee){var Ce=_.exec(Ne.slice(Ee));return Ce?(ye.m=w.get(Ce[0].toLowerCase()),Ee+Ce[0].length):-1}function W(ye,Ne,Ee){return D(ye,t,Ne,Ee)}function V(ye,Ne,Ee){return D(ye,r,Ne,Ee)}function Q(ye,Ne,Ee){return D(ye,n,Ne,Ee)}function ne(ye){return s[ye.getDay()]}function te(ye){return a[ye.getDay()]}function H(ye){return c[ye.getMonth()]}function le(ye){return o[ye.getMonth()]}function fe(ye){return i[+(ye.getHours()>=12)]}function q(ye){return 1+~~(ye.getMonth()/3)}function Z(ye){return s[ye.getUTCDay()]}function ae(ye){return a[ye.getUTCDay()]}function ge(ye){return c[ye.getUTCMonth()]}function he(ye){return o[ye.getUTCMonth()]}function Se(ye){return i[+(ye.getUTCHours()>=12)]}function Ae(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Ne=F(ye+="",O);return Ne.toString=function(){return ye},Ne},parse:function(ye){var Ne=B(ye+="",!1);return Ne.toString=function(){return ye},Ne},utcFormat:function(ye){var Ne=F(ye+="",I);return Ne.toString=function(){return ye},Ne},utcParse:function(ye){var Ne=B(ye+="",!0);return Ne.toString=function(){return ye},Ne}}}var W6={"-":"",_:" ",0:"0"},Fa=/^\s*\d+/,XSe=/^%/,ZSe=/[\\^$*+?|[\]().{}]/g;function vn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function QSe(e){return e.replace(ZSe,"\\$&")}function K1(e){return new RegExp("^(?:"+e.map(QSe).join("|")+")","i")}function Y1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function JSe(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eAe(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tAe(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rAe(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nAe(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function H6(e,t,r){var n=Fa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function V6(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iAe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aAe(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function sAe(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G6(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function oAe(e,t,r){var n=Fa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function K6(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lAe(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cAe(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uAe(e,t,r){var n=Fa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dAe(e,t,r){var n=Fa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fAe(e,t,r){var n=XSe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hAe(e,t,r){var n=Fa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pAe(e,t,r){var n=Fa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Y6(e,t){return vn(e.getDate(),t,2)}function mAe(e,t){return vn(e.getHours(),t,2)}function gAe(e,t){return vn(e.getHours()%12||12,t,2)}function vAe(e,t){return vn(1+Py.count(rd(e),e),t,3)}function vW(e,t){return vn(e.getMilliseconds(),t,3)}function yAe(e,t){return vW(e,t)+"000"}function xAe(e,t){return vn(e.getMonth()+1,t,2)}function bAe(e,t){return vn(e.getMinutes(),t,2)}function wAe(e,t){return vn(e.getSeconds(),t,2)}function _Ae(e){var t=e.getDay();return t===0?7:t}function SAe(e,t){return vn(J_.count(rd(e)-1,e),t,2)}function yW(e){var t=e.getDay();return t>=4||t===0?xm(e):xm.ceil(e)}function AAe(e,t){return e=yW(e),vn(xm.count(rd(e),e)+(rd(e).getDay()===4),t,2)}function EAe(e){return e.getDay()}function CAe(e,t){return vn(Yb.count(rd(e)-1,e),t,2)}function NAe(e,t){return vn(e.getFullYear()%100,t,2)}function OAe(e,t){return e=yW(e),vn(e.getFullYear()%100,t,2)}function TAe(e,t){return vn(e.getFullYear()%1e4,t,4)}function jAe(e,t){var r=e.getDay();return e=r>=4||r===0?xm(e):xm.ceil(e),vn(e.getFullYear()%1e4,t,4)}function IAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vn(t/60|0,"0",2)+vn(t%60,"0",2)}function X6(e,t){return vn(e.getUTCDate(),t,2)}function kAe(e,t){return vn(e.getUTCHours(),t,2)}function PAe(e,t){return vn(e.getUTCHours()%12||12,t,2)}function MAe(e,t){return vn(1+Q_.count(nd(e),e),t,3)}function xW(e,t){return vn(e.getUTCMilliseconds(),t,3)}function RAe(e,t){return xW(e,t)+"000"}function DAe(e,t){return vn(e.getUTCMonth()+1,t,2)}function LAe(e,t){return vn(e.getUTCMinutes(),t,2)}function FAe(e,t){return vn(e.getUTCSeconds(),t,2)}function BAe(e){var t=e.getUTCDay();return t===0?7:t}function $Ae(e,t){return vn(e5.count(nd(e)-1,e),t,2)}function bW(e){var t=e.getUTCDay();return t>=4||t===0?bm(e):bm.ceil(e)}function UAe(e,t){return e=bW(e),vn(bm.count(nd(e),e)+(nd(e).getUTCDay()===4),t,2)}function zAe(e){return e.getUTCDay()}function qAe(e,t){return vn(Xb.count(nd(e)-1,e),t,2)}function WAe(e,t){return vn(e.getUTCFullYear()%100,t,2)}function HAe(e,t){return e=bW(e),vn(e.getUTCFullYear()%100,t,2)}function VAe(e,t){return vn(e.getUTCFullYear()%1e4,t,4)}function GAe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?bm(e):bm.ceil(e),vn(e.getUTCFullYear()%1e4,t,4)}function KAe(){return"+0000"}function Z6(){return"%"}function Q6(e){return+e}function J6(e){return Math.floor(+e/1e3)}var Up,wW,_W;YAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YAe(e){return Up=YSe(e),wW=Up.format,Up.parse,_W=Up.utcFormat,Up.utcParse,Up}function XAe(e){return new Date(e)}function ZAe(e){return e instanceof Date?+e:+new Date(+e)}function NT(e,t,r,n,i,a,s,o,c,u){var h=hT(),m=h.invert,y=h.domain,g=u(".%L"),S=u(":%S"),_=u("%I:%M"),w=u("%I %p"),A=u("%a %d"),E=u("%b %d"),O=u("%B"),I=u("%Y");function k(F){return(c(F)<F?g:o(F)<F?S:s(F)<F?_:a(F)<F?w:n(F)<F?i(F)<F?A:E:r(F)<F?O:I)(F)}return h.invert=function(F){return new Date(m(F))},h.domain=function(F){return arguments.length?y(Array.from(F,ZAe)):y().map(XAe)},h.ticks=function(F){var B=y();return e(B[0],B[B.length-1],F??10)},h.tickFormat=function(F,B){return B==null?k:u(B)},h.nice=function(F){var B=y();return(!F||typeof F.range!="function")&&(F=t(B[0],B[B.length-1],F??10)),F?y(lW(B,F)):h},h.copy=function(){return ky(h,NT(e,t,r,n,i,a,s,o,c,u))},h}function QAe(){return _l.apply(NT(GSe,KSe,rd,ET,J_,Py,ST,wT,Ah,wW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JAe(){return _l.apply(NT(HSe,VSe,nd,CT,e5,Q_,AT,_T,Ah,_W).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function t5(){var e=0,t=1,r,n,i,a,s=Ts,o=!1,c;function u(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-r)*i,o?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(m){return arguments.length?(o=!!m,u):o},u.interpolator=function(m){return arguments.length?(s=m,u):s};function h(m){return function(y){var g,S;return arguments.length?([g,S]=y,s=m(g,S),u):[s(0),s(1)]}}return u.range=h(v1),u.rangeRound=h(fT),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return a=m,r=m(e),n=m(t),i=r===n?0:1/(n-r),u}}function zf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SW(){var e=Uf(t5()(Ts));return e.copy=function(){return zf(e,SW())},od.apply(e,arguments)}function AW(){var e=gT(t5()).domain([1,10]);return e.copy=function(){return zf(e,AW()).base(e.base())},od.apply(e,arguments)}function EW(){var e=vT(t5());return e.copy=function(){return zf(e,EW()).constant(e.constant())},od.apply(e,arguments)}function OT(){var e=yT(t5());return e.copy=function(){return zf(e,OT()).exponent(e.exponent())},od.apply(e,arguments)}function eEe(){return OT.apply(null,arguments).exponent(.5)}function CW(){var e=[],t=Ts;function r(n){if(n!=null&&!isNaN(n=+n))return t((jy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(yf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>$5e(e,a/n))},r.copy=function(){return CW(t).domain(e)},od.apply(r,arguments)}function r5(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=Ts,h,m=!1,y;function g(_){return isNaN(_=+_)?y:(_=.5+((_=+h(_))-a)*(n*_<n*a?o:c),u(m?Math.max(0,Math.min(1,_)):_))}g.domain=function(_){return arguments.length?([e,t,r]=_,i=h(e=+e),a=h(t=+t),s=h(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g):[e,t,r]},g.clamp=function(_){return arguments.length?(m=!!_,g):m},g.interpolator=function(_){return arguments.length?(u=_,g):u};function S(_){return function(w){var A,E,O;return arguments.length?([A,E,O]=w,u=fSe(_,[A,E,O]),g):[u(0),u(.5),u(1)]}}return g.range=S(v1),g.rangeRound=S(fT),g.unknown=function(_){return arguments.length?(y=_,g):y},function(_){return h=_,i=_(e),a=_(t),s=_(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g}}function NW(){var e=Uf(r5()(Ts));return e.copy=function(){return zf(e,NW())},od.apply(e,arguments)}function OW(){var e=gT(r5()).domain([.1,1,10]);return e.copy=function(){return zf(e,OW()).base(e.base())},od.apply(e,arguments)}function TW(){var e=vT(r5());return e.copy=function(){return zf(e,TW()).constant(e.constant())},od.apply(e,arguments)}function TT(){var e=yT(r5());return e.copy=function(){return zf(e,TT()).exponent(e.exponent())},od.apply(e,arguments)}function tEe(){return TT.apply(null,arguments).exponent(.5)}const eM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sv,scaleDiverging:NW,scaleDivergingLog:OW,scaleDivergingPow:TT,scaleDivergingSqrt:tEe,scaleDivergingSymlog:TW,scaleIdentity:oW,scaleImplicit:p3,scaleLinear:Gb,scaleLog:cW,scaleOrdinal:cT,scalePoint:jg,scalePow:xT,scaleQuantile:fW,scaleQuantize:hW,scaleRadial:dW,scaleSequential:SW,scaleSequentialLog:AW,scaleSequentialPow:OT,scaleSequentialQuantile:CW,scaleSequentialSqrt:eEe,scaleSequentialSymlog:EW,scaleSqrt:RSe,scaleSymlog:uW,scaleThreshold:pW,scaleTime:QAe,scaleUtc:JAe,tickFormat:sW},Symbol.toStringTag,{value:"Module"}));var rEe=l1;function nEe(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s===s&&!rEe(s):r(s,o)))var o=s,c=a}return c}var n5=nEe;function iEe(e,t){return e>t}var jW=iEe,aEe=n5,sEe=jW,oEe=g1;function lEe(e){return e&&e.length?aEe(e,oEe,sEe):void 0}var cEe=lEe;const i5=yn(cEe);function uEe(e,t){return e<t}var IW=uEe,dEe=n5,fEe=IW,hEe=g1;function pEe(e){return e&&e.length?dEe(e,hEe,fEe):void 0}var mEe=pEe;const a5=yn(mEe);var gEe=qO,vEe=Xc,yEe=Bq,xEe=ao;function bEe(e,t){var r=xEe(e)?gEe:yEe;return r(e,vEe(t))}var wEe=bEe,_Ee=Lq,SEe=wEe;function AEe(e,t){return _Ee(SEe(e,t),1)}var EEe=AEe;const CEe=yn(EEe);var NEe=iT;function OEe(e,t){return NEe(e,t)}var TEe=OEe;const My=yn(TEe);var y1=1e9,jEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IT,vi=!0,yl="[DecimalError] ",zh=yl+"Invalid argument: ",jT=yl+"Exponent out of range: ",x1=Math.floor,fh=Math.pow,IEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ko,Ia=1e7,ui=7,kW=9007199254740991,Zb=x1(kW/ui),zt={};zt.absoluteValue=zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};zt.comparedTo=zt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ui;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};zt.dividedBy=zt.div=function(e){return zu(this,new this.constructor(e))};zt.dividedToIntegerBy=zt.idiv=function(e){var t=this,r=t.constructor;return Kn(zu(t,new r(e),0,1),r.precision)};zt.equals=zt.eq=function(e){return!this.cmp(e)};zt.exponent=function(){return aa(this)};zt.greaterThan=zt.gt=function(e){return this.cmp(e)>0};zt.greaterThanOrEqualTo=zt.gte=function(e){return this.cmp(e)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(e){return this.cmp(e)<0};zt.lessThanOrEqualTo=zt.lte=function(e){return this.cmp(e)<1};zt.logarithm=zt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ko))throw Error(yl+"NaN");if(r.s<1)throw Error(yl+(r.s?"NaN":"-Infinity"));return r.eq(ko)?new n(0):(vi=!1,t=zu(Ov(r,a),Ov(e,a),a),vi=!0,Kn(t,i))};zt.minus=zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RW(t,e):PW(t,(e.s=-e.s,e))};zt.modulo=zt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(yl+"NaN");return r.s?(vi=!1,t=zu(r,e,0,1).times(e),vi=!0,r.minus(t)):Kn(new n(r),i)};zt.naturalExponential=zt.exp=function(){return MW(this)};zt.naturalLogarithm=zt.ln=function(){return Ov(this)};zt.negated=zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};zt.plus=zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PW(t,e):RW(t,(e.s=-e.s,e))};zt.precision=zt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zh+e);if(t=aa(i)+1,n=i.d.length-1,r=n*ui+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};zt.squareRoot=zt.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(yl+"NaN")}for(e=aa(o),vi=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=jc(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=x1((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(zu(o,a,s+2)).times(.5),jc(a.d).slice(0,s)===(t=jc(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Kn(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return vi=!0,Kn(n,r)};zt.times=zt.mul=function(e){var t,r,n,i,a,s,o,c,u,h=this,m=h.constructor,y=h.d,g=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,c=y.length,u=g.length,c<u&&(a=y,y=g,g=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+g[n]*y[i-n-1]+t,a[i--]=o%Ia|0,t=o/Ia|0;a[i]=(a[i]+t)%Ia|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,vi?Kn(e,m.precision):e};zt.toDecimalPlaces=zt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Vc(e,0,y1),t===void 0?t=n.rounding:Vc(t,0,8),Kn(r,e+aa(r)+1,t))};zt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=rp(n,!0):(Vc(e,0,y1),t===void 0?t=i.rounding:Vc(t,0,8),n=Kn(new i(n),e+1,t),r=rp(n,!0,e+1)),r};zt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?rp(i):(Vc(e,0,y1),t===void 0?t=a.rounding:Vc(t,0,8),n=Kn(new a(i),e+aa(i)+1,t),r=rp(n.abs(),!1,e+aa(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};zt.toInteger=zt.toint=function(){var e=this,t=e.constructor;return Kn(new t(e),aa(e)+1,t.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,h=+(e=new c(e));if(!e.s)return new c(ko);if(o=new c(o),!o.s){if(e.s<1)throw Error(yl+"Infinity");return o}if(o.eq(ko))return o;if(n=c.precision,e.eq(ko))return Kn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=h<0?-h:h)<=kW){for(i=new c(ko),t=Math.ceil(n/ui+4),vi=!1;r%2&&(i=i.times(o),rM(i.d,t)),r=x1(r/2),r!==0;)o=o.times(o),rM(o.d,t);return vi=!0,e.s<0?new c(ko).div(i):Kn(i,n)}}else if(a<0)throw Error(yl+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,vi=!1,i=e.times(Ov(o,n+u)),vi=!0,i=MW(i),i.s=a,i};zt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=aa(i),n=rp(i,r<=a.toExpNeg||r>=a.toExpPos)):(Vc(e,1,y1),t===void 0?t=a.rounding:Vc(t,0,8),i=Kn(new a(i),e,t),r=aa(i),n=rp(i,e<=r||r<=a.toExpNeg,e)),n};zt.toSignificantDigits=zt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Vc(e,1,y1),t===void 0?t=n.rounding:Vc(t,0,8)),Kn(new n(r),e,t)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=aa(e),r=e.constructor;return rp(e,t<=r.toExpNeg||t>=r.toExpPos)};function PW(e,t){var r,n,i,a,s,o,c,u,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),vi?Kn(t,m):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(m/ui),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ia|0,c[a]%=Ia;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,vi?Kn(t,m):t}function Vc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zh+e)}function jc(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=ui-n.length,r&&(a+=Rd(r)),a+=n;s=e[t],n=s+"",r=ui-n.length,r&&(a+=Rd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var zu=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ia|0,s=a/Ia|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ia+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,h,m,y,g,S,_,w,A,E,O,I,k,F,B,D,P=n.constructor,K=n.s==i.s?1:-1,$=n.d,z=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(yl+"Division by zero");for(c=n.e-i.e,B=z.length,k=$.length,g=new P(K),S=g.d=[],u=0;z[u]==($[u]||0);)++u;if(z[u]>($[u]||0)&&--c,a==null?E=a=P.precision:s?E=a+(aa(n)-aa(i))+1:E=a,E<0)return new P(0);if(E=E/ui+2|0,u=0,B==1)for(h=0,z=z[0],E++;(u<k||h)&&E--;u++)O=h*Ia+($[u]||0),S[u]=O/z|0,h=O%z|0;else{for(h=Ia/(z[0]+1)|0,h>1&&(z=e(z,h),$=e($,h),B=z.length,k=$.length),I=B,_=$.slice(0,B),w=_.length;w<B;)_[w++]=0;D=z.slice(),D.unshift(0),F=z[0],z[1]>=Ia/2&&++F;do h=0,o=t(z,_,B,w),o<0?(A=_[0],B!=w&&(A=A*Ia+(_[1]||0)),h=A/F|0,h>1?(h>=Ia&&(h=Ia-1),m=e(z,h),y=m.length,w=_.length,o=t(m,_,y,w),o==1&&(h--,r(m,B<y?D:z,y))):(h==0&&(o=h=1),m=z.slice()),y=m.length,y<w&&m.unshift(0),r(_,m,w),o==-1&&(w=_.length,o=t(z,_,B,w),o<1&&(h++,r(_,B<w?D:z,w))),w=_.length):o===0&&(h++,_=[0]),S[u++]=h,o&&_[0]?_[w++]=$[I]||0:(_=[$[I]],w=1);while((I++<k||_[0]!==void 0)&&E--)}return S[0]||S.shift(),g.e=c,Kn(g,s?a+aa(g)+1:a)}}();function MW(e,t){var r,n,i,a,s,o,c=0,u=0,h=e.constructor,m=h.precision;if(aa(e)>16)throw Error(jT+aa(e));if(!e.s)return new h(ko);for(t==null?(vi=!1,o=m):o=t,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(fh(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new h(ko),h.precision=o;;){if(i=Kn(i.times(e),o),r=r.times(++c),s=a.plus(zu(i,r,o)),jc(s.d).slice(0,o)===jc(a.d).slice(0,o)){for(;u--;)a=Kn(a.times(a),o);return h.precision=m,t==null?(vi=!0,Kn(a,m)):a}a=s}}function aa(e){for(var t=e.e*ui,r=e.d[0];r>=10;r/=10)t++;return t}function pA(e,t,r){if(t>e.LN10.sd())throw vi=!0,r&&(e.precision=r),Error(yl+"LN10 precision limit exceeded");return Kn(new e(e.LN10),t)}function Rd(e){for(var t="";e--;)t+="0";return t}function Ov(e,t){var r,n,i,a,s,o,c,u,h,m=1,y=10,g=e,S=g.d,_=g.constructor,w=_.precision;if(g.s<1)throw Error(yl+(g.s?"NaN":"-Infinity"));if(g.eq(ko))return new _(0);if(t==null?(vi=!1,u=w):u=t,g.eq(10))return t==null&&(vi=!0),pA(_,u);if(u+=y,_.precision=u,r=jc(S),n=r.charAt(0),a=aa(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=jc(g.d),n=r.charAt(0),m++;a=aa(g),n>1?(g=new _("0."+r),a++):g=new _(n+"."+r.slice(1))}else return c=pA(_,u+2,w).times(a+""),g=Ov(new _(n+"."+r.slice(1)),u-y).plus(c),_.precision=w,t==null?(vi=!0,Kn(g,w)):g;for(o=s=g=zu(g.minus(ko),g.plus(ko),u),h=Kn(g.times(g),u),i=3;;){if(s=Kn(s.times(h),u),c=o.plus(zu(s,new _(i),u)),jc(c.d).slice(0,u)===jc(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(pA(_,u+2,w).times(a+""))),o=zu(o,new _(m),u),_.precision=w,t==null?(vi=!0,Kn(o,w)):o;o=c,i+=2}}function tM(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=x1(r/ui),e.d=[],n=(r+1)%ui,r<0&&(n+=ui),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ui;n<i;)e.d.push(+t.slice(n,n+=ui));t=t.slice(n),n=ui-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),vi&&(e.e>Zb||e.e<-Zb))throw Error(jT+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kn(e,t,r){var n,i,a,s,o,c,u,h,m=e.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=ui,i=t,u=m[h=0];else{if(h=Math.ceil((n+1)/ui),a=m.length,h>=a)return e;for(u=a=m[h],s=1;a>=10;a/=10)s++;n%=ui,i=n-ui+s}if(r!==void 0&&(a=fh(10,s-i-1),o=u/a%10|0,c=t<0||m[h+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/fh(10,s-i):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(a=aa(e),m.length=1,t=t-a-1,m[0]=fh(10,(ui-t%ui)%ui),e.e=x1(-t/ui)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,a=1,h--):(m.length=h+1,a=fh(10,ui-n),m[h]=i>0?(u/fh(10,s-i)%fh(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Ia&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=Ia)break;m[h--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(vi&&(e.e>Zb||e.e<-Zb))throw Error(jT+aa(e));return e}function RW(e,t){var r,n,i,a,s,o,c,u,h,m,y=e.constructor,g=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),vi?Kn(t,g):t;if(c=e.d,m=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(h=s<0,h?(r=c,s=-s,o=m.length):(r=m,n=u,o=c.length),i=Math.max(Math.ceil(g/ui),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=m.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(r=c,c=m,m=r,t.s=-t.s),o=c.length,i=m.length-o;i>0;--i)c[o++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Ia-1;--c[a],c[i]+=Ia}c[i]-=m[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,vi?Kn(t,g):t):new y(0)}function rp(e,t,r){var n,i=aa(e),a=jc(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Rd(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Rd(-i-1)+a,r&&(n=r-s)>0&&(a+=Rd(n))):i>=s?(a+=Rd(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Rd(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Rd(n))),e.s<0?"-"+a:a}function rM(e,t){if(e.length>t)return e.length=t,!0}function DW(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return tM(s,a.toString())}else if(typeof a!="string")throw Error(zh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,IEe.test(a))tM(s,a);else throw Error(zh+a)}if(i.prototype=zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=DW,i.config=i.set=kEe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function kEe(e){if(!e||typeof e!="object")throw Error(yl+"Object expected");var t,r,n,i=["precision",1,y1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(x1(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(zh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zh+r+": "+n);return this}var IT=DW(jEe);ko=new IT(1);const Un=IT;function PEe(e){return LEe(e)||DEe(e)||REe(e)||MEe()}function MEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function REe(e,t){if(e){if(typeof e=="string")return y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y3(e,t)}}function DEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function LEe(e){if(Array.isArray(e))return y3(e)}function y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FEe=function(t){return t},LW={"@@functional/placeholder":!0},FW=function(t){return t===LW},nM=function(t){return function r(){return arguments.length===0||arguments.length===1&&FW(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},BEe=function e(t,r){return t===1?r:nM(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==LW}).length;return s>=t?r.apply(void 0,i):e(t-s,nM(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var h=i.map(function(m){return FW(m)?c.shift():m});return r.apply(void 0,PEe(h).concat(c))}))})},s5=function(t){return BEe(t.length,t)},x3=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},$Ee=s5(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),UEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return FEe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,c){return c(o)},a.apply(void 0,arguments))}},b3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},BW=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,c){return o===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function zEe(e){var t;return e===0?t=1:t=Math.floor(new Un(e).abs().log(10).toNumber())+1,t}function qEe(e,t,r){for(var n=new Un(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var WEe=s5(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),HEe=s5(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),VEe=s5(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const o5={rangeStep:qEe,getDigitCount:zEe,interpolateNumber:WEe,uninterpolateNumber:HEe,uninterpolateTruncation:VEe};function w3(e){return YEe(e)||KEe(e)||$W(e)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function YEe(e){if(Array.isArray(e))return _3(e)}function Tv(e,t){return QEe(e)||ZEe(e,t)||$W(e,t)||XEe()}function XEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $W(e,t){if(e){if(typeof e=="string")return _3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _3(e,t)}}function _3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZEe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function QEe(e){if(Array.isArray(e))return e}function UW(e){var t=Tv(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function zW(e,t,r){if(e.lte(0))return new Un(0);var n=o5.getDigitCount(e.toNumber()),i=new Un(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Un(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?c:new Un(Math.ceil(c))}function JEe(e,t,r){var n=1,i=new Un(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Un(10).pow(o5.getDigitCount(e)-1),i=new Un(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Un(Math.floor(e)))}else e===0?i=new Un(Math.floor((t-1)/2)):r||(i=new Un(Math.floor(e)));var s=Math.floor((t-1)/2),o=UEe($Ee(function(c){return i.add(new Un(c-s).mul(n)).toNumber()}),x3);return o(0,t)}function qW(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Un(0),tickMin:new Un(0),tickMax:new Un(0)};var a=zW(new Un(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new Un(0):(s=new Un(e).add(t).div(2),s=s.sub(new Un(s).mod(a)));var o=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new Un(t).sub(s).div(a).toNumber()),u=o+c+1;return u>r?qW(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Un(o).mul(a)),tickMax:s.add(new Un(c).mul(a))})}function eCe(e){var t=Tv(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=UW([r,n]),c=Tv(o,2),u=c[0],h=c[1];if(u===-1/0||h===1/0){var m=h===1/0?[u].concat(w3(x3(0,i-1).map(function(){return 1/0}))):[].concat(w3(x3(0,i-1).map(function(){return-1/0})),[h]);return r>n?b3(m):m}if(u===h)return JEe(u,i,a);var y=qW(u,h,s,a),g=y.step,S=y.tickMin,_=y.tickMax,w=o5.rangeStep(S,_.add(new Un(.1).mul(g)),g);return r>n?b3(w):w}function tCe(e,t){var r=Tv(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=UW([n,i]),o=Tv(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var h=Math.max(t,2),m=zW(new Un(u).sub(c).div(h-1),a,0),y=[].concat(w3(o5.rangeStep(new Un(c),new Un(u).sub(new Un(.99).mul(m)),m)),[u]);return n>i?b3(y):y}var rCe=BW(eCe),nCe=BW(tCe),iCe="Invariant failed";function np(e,t){throw new Error(iCe)}var aCe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(this,arguments)}function sCe(e,t){return uCe(e)||cCe(e,t)||lCe(e,t)||oCe()}function oCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lCe(e,t){if(e){if(typeof e=="string")return iM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iM(e,t)}}function iM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function uCe(e){if(Array.isArray(e))return e}function dCe(e,t){if(e==null)return{};var r=fCe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VW(n.key),n)}}function mCe(e,t,r){return t&&pCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gCe(e,t,r){return t=Jb(t),vCe(e,WW()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function vCe(e,t){if(t&&(wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yCe(e)}function yCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function xCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S3(e,t)}function S3(e,t){return S3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S3(e,t)}function HW(e,t,r){return t=VW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=bCe(e,"string");return wm(t)=="symbol"?t:t+""}function bCe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ry=function(e){function t(){return hCe(this,t),gCe(this,t,arguments)}return xCe(t,e),mCe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,y=dCe(n,aCe),g=xr(y,!1);this.props.direction==="x"&&h.type!=="number"&&np();var S=c.map(function(_){var w=u(_,o),A=w.x,E=w.y,O=w.value,I=w.errorVal;if(!I)return null;var k=[],F,B;if(Array.isArray(I)){var D=sCe(I,2);F=D[0],B=D[1]}else F=B=I;if(a==="vertical"){var P=h.scale,K=E+i,$=K+s,z=K-s,X=P(O-F),W=P(O+B);k.push({x1:W,y1:$,x2:W,y2:z}),k.push({x1:X,y1:K,x2:W,y2:K}),k.push({x1:X,y1:$,x2:X,y2:z})}else if(a==="horizontal"){var V=m.scale,Q=A+i,ne=Q-s,te=Q+s,H=V(O-F),le=V(O+B);k.push({x1:ne,y1:le,x2:te,y2:le}),k.push({x1:Q,y1:H,x2:Q,y2:le}),k.push({x1:ne,y1:H,x2:te,y2:H})}return me.createElement(gn,Qb({className:"recharts-errorBar",key:"bar-".concat(k.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},g),k.map(function(fe){return me.createElement("line",Qb({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return me.createElement(gn,{className:"recharts-errorBars"},S)}}])}(me.Component);HW(Ry,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});HW(Ry,"displayName","ErrorBar");function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(n){wCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wCe(e,t,r){return t=_Ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ce(e){var t=SCe(e,"string");return jv(t)=="symbol"?t:t+""}function SCe(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GW=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=No(r,Uu);if(!s)return null;var o=Uu.defaultProps,c=o!==void 0?nh(nh({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(h,m){var y=m.item,g=m.props,S=g.sectors||g.data||[];return h.concat(S.map(function(_){return{type:s.props.iconType||y.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):u=(n||[]).map(function(h){var m=h.item,y=m.type.defaultProps,g=y!==void 0?nh(nh({},y),m.props):{},S=g.dataKey,_=g.name,w=g.legendType,A=g.hide;return{inactive:A,dataKey:S,type:c.iconType||w||"square",color:kT(m),value:_||S,payload:g}}),nh(nh(nh({},c),Uu.getWithHeight(s,i)),{},{payload:u,item:s})};function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function sM(e){return NCe(e)||CCe(e)||ECe(e)||ACe()}function ACe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ECe(e,t){if(e){if(typeof e=="string")return A3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A3(e,t)}}function CCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NCe(e){if(Array.isArray(e))return A3(e)}function A3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){P0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0(e,t,r){return t=OCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OCe(e){var t=TCe(e,"string");return Iv(t)=="symbol"?t:t+""}function TCe(e,t){if(Iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wa(e,t,r){return Dr(e)||Dr(t)?r:Sa(t)?Bo(e,t,r):jr(t)?t(e):r}function Ig(e,t,r,n){var i=CEe(e,function(o){return wa(o,t)});if(r==="number"){var a=i.filter(function(o){return yt(o)||parseFloat(o)});return a.length?[a5(a),i5(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Dr(o)}):i;return s.map(function(o){return Sa(o)||o instanceof Date?o:""})}var jCe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<o;u++){var h=u>0?i[u-1].coordinate:i[o-1].coordinate,m=i[u].coordinate,y=u>=o-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Ns(m-h)!==Ns(y-m)){var S=[];if(Ns(y-m)===Ns(c[1]-c[0])){g=y;var _=m+c[1]-c[0];S[0]=Math.min(_,(_+h)/2),S[1]=Math.max(_,(_+h)/2)}else{g=h;var w=y+c[1]-c[0];S[0]=Math.min(m,(w+m)/2),S[1]=Math.max(m,(w+m)/2)}var A=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(t>A[0]&&t<=A[1]||t>=S[0]&&t<=S[1]){s=i[u].index;break}}else{var E=Math.min(h,y),O=Math.max(h,y);if(t>(E+m)/2&&t<=(O+m)/2){s=i[u].index;break}}}else for(var I=0;I<o;I++)if(I===0&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<o-1&&t>(n[I].coordinate+n[I-1].coordinate)/2&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I===o-1&&t>(n[I].coordinate+n[I-1].coordinate)/2){s=n[I].index;break}return s},kT=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ri(Ri({},t.type.defaultProps),t.props):t.props,s=a.stroke,o=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},ICe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),c=0,u=o.length;c<u;c++)for(var h=a[o[c]].stackGroups,m=Object.keys(h),y=0,g=m.length;y<g;y++){var S=h[m[y]],_=S.items,w=S.cateAxisId,A=_.filter(function(B){return $u(B.type).indexOf("Bar")>=0});if(A&&A.length){var E=A[0].type.defaultProps,O=E!==void 0?Ri(Ri({},E),A[0].props):A[0].props,I=O.barSize,k=O[w];s[k]||(s[k]=[]);var F=Dr(I)?r:I;s[k].push({item:A[0],stackList:A.slice(1),barSize:Dr(F)?void 0:Os(F,n,0)})}}return s},kCe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,o=t.maxBarSize,c=s.length;if(c<1)return null;var u=Os(r,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,g=i/c,S=s.reduce(function(I,k){return I+k.barSize||0},0);S+=(c-1)*u,S>=i&&(S-=(c-1)*u,u=0),S>=i&&g>0&&(y=!0,g*=.9,S=c*g);var _=(i-S)/2>>0,w={offset:_-u,size:0};h=s.reduce(function(I,k){var F={item:k.item,position:{offset:w.offset+w.size+u,size:y?g:k.barSize}},B=[].concat(sM(I),[F]);return w=B[B.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(D){B.push({item:D,position:w})}),B},m)}else{var A=Os(n,i,0,!0);i-2*A-(c-1)*u<=0&&(u=0);var E=(i-2*A-(c-1)*u)/c;E>1&&(E>>=0);var O=o===+o?Math.min(E,o):E;h=s.reduce(function(I,k,F){var B=[].concat(sM(I),[{item:k.item,position:{offset:A+(E+u)*F+(E-O)/2,size:O}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(D){B.push({item:D,position:B[B.length-1].position})}),B},m)}return h},PCe=function(t,r,n,i){var a=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=GW({children:a,legendWidth:c});if(u){var h=i||{},m=h.width,y=h.height,g=u.align,S=u.verticalAlign,_=u.layout;if((_==="vertical"||_==="horizontal"&&S==="middle")&&g!=="center"&&yt(t[g]))return Ri(Ri({},t),{},P0({},g,t[g]+(m||0)));if((_==="horizontal"||_==="vertical"&&g==="center")&&S!=="middle"&&yt(t[S]))return Ri(Ri({},t),{},P0({},S,t[S]+(y||0)))}return t},MCe=function(t,r,n){return Dr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},KW=function(t,r,n,i,a){var s=r.props.children,o=$o(s,Ry).filter(function(u){return MCe(i,a,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,h){var m=wa(h,n);if(Dr(m))return u;var y=Array.isArray(m)?[a5(m),i5(m)]:[m,m],g=c.reduce(function(S,_){var w=wa(h,_,0),A=y[0]-Math.abs(Array.isArray(w)?w[0]:w),E=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(A,S[0]),Math.max(E,S[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},RCe=function(t,r,n,i,a){var s=r.map(function(o){return KW(t,o,n,a,i)}).filter(function(o){return!Dr(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},YW=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&KW(t,c,u,i)||Ig(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var h=0,m=u.length;h<m;h++)o[u[h]]||(o[u[h]]=!0,c.push(u[h]));return c},[])},XW=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},ZW=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,s,o=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||o.push(r),s||o.push(n),o},Du=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ns(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+u,value:m,offset:u}});return h.filter(function(m){return!Oy(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,y){return{coordinate:i(m)+u,value:m,index:y,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+u,value:m,offset:u}}):i.domain().map(function(m,y){return{coordinate:i(m)+u,value:a?a[m]:m,index:y,offset:u}})},mA=new WeakMap,Yx=function(t,r){if(typeof r!="function")return t;mA.has(t)||mA.set(t,new WeakMap);var n=mA.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},QW=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,o=t.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Sv(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Gb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:jg(),realScaleType:"point"}:a==="category"?{scale:Sv(),realScaleType:"band"}:{scale:Gb(),realScaleType:"linear"};if(Jh(i)){var c="scale".concat(q_(i));return{scale:(eM[c]||jg)(),realScaleType:eM[c]?c:"point"}}return jr(i)?{scale:i}:{scale:jg(),realScaleType:"point"}},lM=1e-4,JW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-lM,s=Math.max(i[0],i[1])+lM,o=t(r[0]),c=t(r[n-1]);(o<a||o>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},DCe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},LCe=function(t,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!yt(t[0])||t[0]<n)&&(a[0]=n),(!yt(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},FCe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var c=Oy(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=a,t[o][n][1]=a+c,a=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},BCe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Oy(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},$Ce={sign:FCe,expand:a1e,none:hm,silhouette:s1e,wiggle:o1e,positive:BCe},UCe=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),a=$Ce[n],s=i1e().keys(i).value(function(o,c){return+wa(o,c,0)}).order(YC).offset(a);return s(t)},zCe=function(t,r,n,i,a,s){if(!t)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(m,y){var g,S=(g=y.type)!==null&&g!==void 0&&g.defaultProps?Ri(Ri({},y.type.defaultProps),y.props):y.props,_=S.stackId,w=S.hide;if(w)return m;var A=S[n],E=m[A]||{hasStack:!1,stackGroups:{}};if(Sa(_)){var O=E.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(y),E.hasStack=!0,E.stackGroups[_]=O}else E.stackGroups[h1("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Ri(Ri({},m),{},P0({},A,E))},c),h={};return Object.keys(u).reduce(function(m,y){var g=u[y];if(g.hasStack){var S={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(_,w){var A=g.stackGroups[w];return Ri(Ri({},_),{},P0({},w,{numericAxisId:n,cateAxisId:i,items:A.items,stackedData:UCe(t,A.items,a)}))},S)}return Ri(Ri({},m),{},P0({},y,g))},h)},eH=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var h=rCe(u,a,o);return t.domain([a5(h),i5(h)]),{niceTicks:h}}if(a&&i==="number"){var m=t.domain(),y=nCe(m,a,o);return{niceTicks:y}}return null};function cM(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dr(i[t.dataKey])){var o=Cb(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=wa(i,Dr(s)?t.dataKey:s);return Dr(c)?null:t.scale(c)}var uM=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var c=wa(s,r.dataKey,r.domain[o]);return Dr(c)?null:r.scale(c)-a/2+i},qCe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},WCe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ri(Ri({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Sa(a)){var s=r[a];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},HCe=function(t){return t.reduce(function(r,n){return[a5(n.concat([r[0]]).filter(yt)),i5(n.concat([r[1]]).filter(yt))]},[1/0,-1/0])},tH=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],o=s.stackedData,c=o.reduce(function(u,h){var m=HCe(h.slice(r,n+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},dM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E3=function(t,r,n){if(jr(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(yt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(dM.test(t[0])){var a=+dM.exec(t[0])[1];i[0]=r[0]-a}else jr(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(yt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(fM.test(t[1])){var s=+fM.exec(t[1])[1];i[1]=r[1]+s}else jr(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},ew=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=sT(r,function(m){return m.coordinate}),s=1/0,o=1,c=a.length;o<c;o++){var u=a[o],h=a[o-1];s=Math.min((u.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},hM=function(t,r,n){return!t||!t.length||My(t,Bo(n,"type.defaultProps.domain"))?r:t},rH=function(t,r){var n=t.type.defaultProps?Ri(Ri({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,h=n.hide;return Ri(Ri({},xr(t,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:kT(t),value:wa(r,i),type:c,payload:r,chartType:u,hide:h})};function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return t=VCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VCe(e){var t=GCe(e,"string");return kv(t)=="symbol"?t:t+""}function GCe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KCe(e,t){return QCe(e)||ZCe(e,t)||XCe(e,t)||YCe()}function YCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XCe(e,t){if(e){if(typeof e=="string")return mM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(e,t)}}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function QCe(e){if(Array.isArray(e))return e}var tw=Math.PI/180,JCe=function(t){return t*180/Math.PI},ti=function(t,r,n,i){return{x:t+Math.cos(-tw*i)*n,y:r+Math.sin(-tw*i)*n}},iH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},e3e=function(t,r,n,i,a){var s=t.width,o=t.height,c=t.startAngle,u=t.endAngle,h=Os(t.cx,s,s/2),m=Os(t.cy,o,o/2),y=iH(s,o,n),g=Os(t.innerRadius,y,0),S=Os(t.outerRadius,y,y*.8),_=Object.keys(r);return _.reduce(function(w,A){var E=r[A],O=E.domain,I=E.reversed,k;if(Dr(E.range))i==="angleAxis"?k=[c,u]:i==="radiusAxis"&&(k=[g,S]),I&&(k=[k[1],k[0]]);else{k=E.range;var F=k,B=KCe(F,2);c=B[0],u=B[1]}var D=QW(E,a),P=D.realScaleType,K=D.scale;K.domain(O).range(k),JW(K);var $=eH(K,Cu(Cu({},E),{},{realScaleType:P})),z=Cu(Cu(Cu({},E),$),{},{range:k,radius:S,realScaleType:P,scale:K,cx:h,cy:m,innerRadius:g,outerRadius:S,startAngle:c,endAngle:u});return Cu(Cu({},w),{},nH({},A,z))},{})},t3e=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},r3e=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,o=t3e({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var c=(n-a)/o,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:o,angle:JCe(u),angleInRadian:u}},n3e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},i3e=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},gM=function(t,r){var n=t.x,i=t.y,a=r3e({x:n,y:i},r),s=a.radius,o=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var h=n3e(r),m=h.startAngle,y=h.endAngle,g=o,S;if(m<=y){for(;g>y;)g-=360;for(;g<m;)g+=360;S=g>=m&&g<=y}else{for(;g>m;)g-=360;for(;g<y;)g+=360;S=g>=y&&g<=m}return S?Cu(Cu({},r),{},{radius:s,angle:i3e(g,r)}):null},aH=function(t){return!M.isValidElement(t)&&!jr(t)&&typeof t!="boolean"?t.className:""};function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}var a3e=["offset"];function s3e(e){return u3e(e)||c3e(e)||l3e(e)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(e,t){if(e){if(typeof e=="string")return C3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C3(e,t)}}function c3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u3e(e){if(Array.isArray(e))return C3(e)}function C3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d3e(e,t){if(e==null)return{};var r=f3e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){h3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3e(e,t,r){return t=p3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3e(e){var t=m3e(e,"string");return Pv(t)=="symbol"?t:t+""}function m3e(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(this,arguments)}var g3e=function(t){var r=t.value,n=t.formatter,i=Dr(t.children)?r:t.children;return jr(n)?n(i):i},v3e=function(t,r){var n=Ns(r-t),i=Math.min(Math.abs(r-t),360);return n*i},y3e=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,o=t.className,c=a,u=c.cx,h=c.cy,m=c.innerRadius,y=c.outerRadius,g=c.startAngle,S=c.endAngle,_=c.clockWise,w=(m+y)/2,A=v3e(g,S),E=A>=0?1:-1,O,I;i==="insideStart"?(O=g+E*s,I=_):i==="insideEnd"?(O=S-E*s,I=!_):i==="end"&&(O=S+E*s,I=_),I=A<=0?I:!I;var k=ti(u,h,w,O),F=ti(u,h,w,O+(I?1:-1)*359),B="M".concat(k.x,",").concat(k.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(F.x,",").concat(F.y),D=Dr(t.id)?h1("recharts-radial-line-"):t.id;return me.createElement("text",Mv({},n,{dominantBaseline:"central",className:$r("recharts-radial-bar-label",o)}),me.createElement("defs",null,me.createElement("path",{id:D,d:B})),me.createElement("textPath",{xlinkHref:"#".concat(D)},r))},x3e=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,o=a.cy,c=a.innerRadius,u=a.outerRadius,h=a.startAngle,m=a.endAngle,y=(h+m)/2;if(i==="outside"){var g=ti(s,o,u+n,y),S=g.x,_=g.y;return{x:S,y:_,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,A=ti(s,o,w,y),E=A.x,O=A.y;return{x:E,y:O,textAnchor:"middle",verticalAnchor:"middle"}},b3e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,o=s.x,c=s.y,u=s.width,h=s.height,m=h>=0?1:-1,y=m*i,g=m>0?"end":"start",S=m>0?"start":"end",_=u>=0?1:-1,w=_*i,A=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var O={x:o+u/2,y:c-m*i,textAnchor:"middle",verticalAnchor:g};return va(va({},O),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var I={x:o+u/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return va(va({},I),n?{height:Math.max(n.y+n.height-(c+h),0),width:u}:{})}if(a==="left"){var k={x:o-w,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return va(va({},k),n?{width:Math.max(k.x-n.x,0),height:h}:{})}if(a==="right"){var F={x:o+u+w,y:c+h/2,textAnchor:E,verticalAnchor:"middle"};return va(va({},F),n?{width:Math.max(n.x+n.width-F.x,0),height:h}:{})}var B=n?{width:u,height:h}:{};return a==="insideLeft"?va({x:o+w,y:c+h/2,textAnchor:E,verticalAnchor:"middle"},B):a==="insideRight"?va({x:o+u-w,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},B):a==="insideTop"?va({x:o+u/2,y:c+y,textAnchor:"middle",verticalAnchor:S},B):a==="insideBottom"?va({x:o+u/2,y:c+h-y,textAnchor:"middle",verticalAnchor:g},B):a==="insideTopLeft"?va({x:o+w,y:c+y,textAnchor:E,verticalAnchor:S},B):a==="insideTopRight"?va({x:o+u-w,y:c+y,textAnchor:A,verticalAnchor:S},B):a==="insideBottomLeft"?va({x:o+w,y:c+h-y,textAnchor:E,verticalAnchor:g},B):a==="insideBottomRight"?va({x:o+u-w,y:c+h-y,textAnchor:A,verticalAnchor:g},B):c1(a)&&(yt(a.x)||_h(a.x))&&(yt(a.y)||_h(a.y))?va({x:o+Os(a.x,u),y:c+Os(a.y,h),textAnchor:"end",verticalAnchor:"end"},B):va({x:o+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},w3e=function(t){return"cx"in t&&yt(t.cx)};function Ma(e){var t=e.offset,r=t===void 0?5:t,n=d3e(e,a3e),i=va({offset:r},n),a=i.viewBox,s=i.position,o=i.value,c=i.children,u=i.content,h=i.className,m=h===void 0?"":h,y=i.textBreakAll;if(!a||Dr(o)&&Dr(c)&&!M.isValidElement(u)&&!jr(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var g;if(jr(u)){if(g=M.createElement(u,i),M.isValidElement(g))return g}else g=g3e(i);var S=w3e(a),_=xr(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return y3e(i,g,_);var w=S?x3e(i):b3e(i);return me.createElement(tp,Mv({className:$r("recharts-label",m)},_,w,{breakAll:y}),g)}Ma.displayName="Label";var sH=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,h=t.outerRadius,m=t.x,y=t.y,g=t.top,S=t.left,_=t.width,w=t.height,A=t.clockWise,E=t.labelViewBox;if(E)return E;if(yt(_)&&yt(w)){if(yt(m)&&yt(y))return{x:m,y,width:_,height:w};if(yt(g)&&yt(S))return{x:g,y:S,width:_,height:w}}return yt(m)&&yt(y)?{x:m,y,width:0,height:0}:yt(r)&&yt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:h||c||o||0,clockWise:A}:t.viewBox?t.viewBox:{}},_3e=function(t,r){return t?t===!0?me.createElement(Ma,{key:"label-implicit",viewBox:r}):Sa(t)?me.createElement(Ma,{key:"label-implicit",viewBox:r,value:t}):M.isValidElement(t)?t.type===Ma?M.cloneElement(t,{key:"label-implicit",viewBox:r}):me.createElement(Ma,{key:"label-implicit",content:t,viewBox:r}):jr(t)?me.createElement(Ma,{key:"label-implicit",content:t,viewBox:r}):c1(t)?me.createElement(Ma,Mv({viewBox:r},t,{key:"label-implicit"})):null:null},S3e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=sH(t),s=$o(i,Ma).map(function(c,u){return M.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=_3e(t.label,r||a);return[o].concat(s3e(s))};Ma.parseViewBox=sH;Ma.renderCallByParent=S3e;function A3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var E3e=A3e;const C3e=yn(E3e);function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}var N3e=["valueAccessor"],O3e=["data","dataKey","clockWise","id","textBreakAll"];function T3e(e){return P3e(e)||k3e(e)||I3e(e)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3e(e,t){if(e){if(typeof e=="string")return N3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N3(e,t)}}function k3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P3e(e){if(Array.isArray(e))return N3(e)}function N3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(n){M3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M3e(e,t,r){return t=R3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R3e(e){var t=D3e(e,"string");return Rv(t)=="symbol"?t:t+""}function D3e(e,t){if(Rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bM(e,t){if(e==null)return{};var r=L3e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var F3e=function(t){return Array.isArray(t.value)?C3e(t.value):t.value};function qu(e){var t=e.valueAccessor,r=t===void 0?F3e:t,n=bM(e,N3e),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=bM(n,O3e);return!i||!i.length?null:me.createElement(gn,{className:"recharts-label-list"},i.map(function(h,m){var y=Dr(a)?r(h,m):wa(h&&h.payload,a),g=Dr(o)?{}:{id:"".concat(o,"-").concat(m)};return me.createElement(Ma,rw({},xr(h,!0),u,g,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:Ma.parseViewBox(Dr(s)?h:xM(xM({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}qu.displayName="LabelList";function B3e(e,t){return e?e===!0?me.createElement(qu,{key:"labelList-implicit",data:t}):me.isValidElement(e)||jr(e)?me.createElement(qu,{key:"labelList-implicit",data:t,content:e}):c1(e)?me.createElement(qu,rw({data:t},e,{key:"labelList-implicit"})):null:null}function $3e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=$o(n,qu).map(function(s,o){return M.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return i;var a=B3e(e.label,t);return[a].concat(T3e(i))}qu.renderCallByParent=$3e;function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function O3(){return O3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O3.apply(this,arguments)}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){U3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U3e(e,t,r){return t=z3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3e(e){var t=q3e(e,"string");return Dv(t)=="symbol"?t:t+""}function q3e(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W3e=function(t,r){var n=Ns(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Xx=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,h=c*(o?1:-1)+i,m=Math.asin(c/h)/tw,y=u?a:a+s*m,g=ti(r,n,h,y),S=ti(r,n,i,y),_=u?a-s*m:a,w=ti(r,n,h*Math.cos(m*tw),_);return{center:g,circleTangency:S,lineTangency:w,theta:m}},oH=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,o=t.endAngle,c=W3e(s,o),u=s+c,h=ti(r,n,a,s),m=ti(r,n,a,u),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var g=ti(r,n,i,s),S=ti(r,n,i,u);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},H3e=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,h=t.endAngle,m=Ns(h-u),y=Xx({cx:r,cy:n,radius:a,angle:u,sign:m,cornerRadius:s,cornerIsExternal:c}),g=y.circleTangency,S=y.lineTangency,_=y.theta,w=Xx({cx:r,cy:n,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),A=w.circleTangency,E=w.lineTangency,O=w.theta,I=c?Math.abs(u-h):Math.abs(u-h)-_-O;if(I<0)return o?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):oH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:h});var k="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var F=Xx({cx:r,cy:n,radius:i,angle:u,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),B=F.circleTangency,D=F.lineTangency,P=F.theta,K=Xx({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=K.circleTangency,z=K.lineTangency,X=K.theta,W=c?Math.abs(u-h):Math.abs(u-h)-P-X;if(W<0&&s===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(m>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},V3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lH=function(t){var r=_M(_M({},V3e),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,y=r.className;if(s<a||h===m)return null;var g=$r("recharts-sector",y),S=s-a,_=Os(o,S,0,!0),w;return _>0&&Math.abs(h-m)<360?w=H3e({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(_,S/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:m}):w=oH({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),me.createElement("path",O3({},xr(r,!0),{className:g,d:w,role:"img"}))};function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T3.apply(this,arguments)}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){G3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G3e(e,t,r){return t=K3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K3e(e){var t=Y3e(e,"string");return Lv(t)=="symbol"?t:t+""}function Y3e(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EM={curveBasisClosed:Gme,curveBasisOpen:Kme,curveBasis:Vme,curveBumpX:kme,curveBumpY:Pme,curveLinearClosed:Yme,curveLinear:H_,curveMonotoneX:Xme,curveMonotoneY:Zme,curveNatural:Qme,curveStep:Jme,curveStepAfter:t1e,curveStepBefore:e1e},Zx=function(t){return t.x===+t.x&&t.y===+t.y},X1=function(t){return t.x},Z1=function(t){return t.y},X3e=function(t,r){if(jr(t))return t;var n="curve".concat(q_(t));return(n==="curveMonotone"||n==="curveBump")&&r?EM["".concat(n).concat(r==="vertical"?"Y":"X")]:EM[n]||H_},Z3e=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,h=X3e(n,o),m=u?a.filter(function(_){return Zx(_)}):a,y;if(Array.isArray(s)){var g=u?s.filter(function(_){return Zx(_)}):s,S=m.map(function(_,w){return AM(AM({},_),{},{base:g[w]})});return o==="vertical"?y=Ux().y(Z1).x1(X1).x0(function(_){return _.base.x}):y=Ux().x(X1).y1(Z1).y0(function(_){return _.base.y}),y.defined(Zx).curve(h),y(S)}return o==="vertical"&&yt(s)?y=Ux().y(Z1).x1(X1).x0(s):yt(s)?y=Ux().x(X1).y1(Z1).y0(s):y=rq().x(X1).y(Z1),y.defined(Zx).curve(h),y(m)},nw=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Z3e(t):i;return M.createElement("path",T3({},xr(t,!1),Nb(t),{className:$r("recharts-curve",r),d:s,ref:a}))},cH={exports:{}},Q3e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",J3e=Q3e,e4e=J3e;function uH(){}function dH(){}dH.resetWarningCache=uH;var t4e=function(){function e(n,i,a,s,o,c){if(c!==e4e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:dH,resetWarningCache:uH};return r.PropTypes=r,r};cH.exports=t4e();var r4e=cH.exports;const En=yn(r4e);var n4e=Object.getOwnPropertyNames,i4e=Object.getOwnPropertySymbols,a4e=Object.prototype.hasOwnProperty;function CM(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Qx(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function NM(e){return n4e(e).concat(i4e(e))}var s4e=Object.hasOwn||function(e,t){return a4e.call(e,t)};function Sp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var o4e="__v",l4e="__o",c4e="_owner",OM=Object.getOwnPropertyDescriptor,TM=Object.keys;function u4e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function d4e(e,t){return Sp(e.getTime(),t.getTime())}function f4e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function h4e(e,t){return e===t}function jM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,o,c=0;(s=a.next())&&!s.done;){for(var u=t.entries(),h=!1,m=0;(o=u.next())&&!o.done;){if(i[m]){m++;continue}var y=s.value,g=o.value;if(r.equals(y[0],g[0],c,m,e,t,r)&&r.equals(y[1],g[1],y[0],g[0],e,t,r)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}var p4e=Sp;function m4e(e,t,r){var n=TM(e),i=n.length;if(TM(t).length!==i)return!1;for(;i-- >0;)if(!fH(e,t,r,n[i]))return!1;return!0}function Q1(e,t,r){var n=NM(e),i=n.length;if(NM(t).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!fH(e,t,r,a)||(s=OM(e,a),o=OM(t,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function g4e(e,t){return Sp(e.valueOf(),t.valueOf())}function v4e(e,t){return e.source===t.source&&e.flags===t.flags}function IM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,o;(s=a.next())&&!s.done;){for(var c=t.values(),u=!1,h=0;(o=c.next())&&!o.done;){if(!i[h]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=i[h]=!0;break}h++}if(!u)return!1}return!0}function y4e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function x4e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function fH(e,t,r,n){return(n===c4e||n===l4e||n===o4e)&&(e.$$typeof||t.$$typeof)?!0:s4e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var b4e="[object Arguments]",w4e="[object Boolean]",_4e="[object Date]",S4e="[object Error]",A4e="[object Map]",E4e="[object Number]",C4e="[object Object]",N4e="[object RegExp]",O4e="[object Set]",T4e="[object String]",j4e="[object URL]",I4e=Array.isArray,kM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,PM=Object.assign,k4e=Object.prototype.toString.call.bind(Object.prototype.toString);function P4e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,y=e.areUrlsEqual;return function(S,_,w){if(S===_)return!0;if(S==null||_==null)return!1;var A=typeof S;if(A!==typeof _)return!1;if(A!=="object")return A==="number"?s(S,_,w):A==="function"?i(S,_,w):!1;var E=S.constructor;if(E!==_.constructor)return!1;if(E===Object)return o(S,_,w);if(I4e(S))return t(S,_,w);if(kM!=null&&kM(S))return m(S,_,w);if(E===Date)return r(S,_,w);if(E===RegExp)return u(S,_,w);if(E===Map)return a(S,_,w);if(E===Set)return h(S,_,w);var O=k4e(S);return O===_4e?r(S,_,w):O===N4e?u(S,_,w):O===A4e?a(S,_,w):O===O4e?h(S,_,w):O===C4e?typeof S.then!="function"&&typeof _.then!="function"&&o(S,_,w):O===j4e?y(S,_,w):O===S4e?n(S,_,w):O===b4e?o(S,_,w):O===w4e||O===E4e||O===T4e?c(S,_,w):!1}}function M4e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Q1:u4e,areDatesEqual:d4e,areErrorsEqual:f4e,areFunctionsEqual:h4e,areMapsEqual:n?CM(jM,Q1):jM,areNumbersEqual:p4e,areObjectsEqual:n?Q1:m4e,arePrimitiveWrappersEqual:g4e,areRegExpsEqual:v4e,areSetsEqual:n?CM(IM,Q1):IM,areTypedArraysEqual:n?Q1:y4e,areUrlsEqual:x4e};if(r&&(i=PM({},i,r(i))),t){var a=Qx(i.areArraysEqual),s=Qx(i.areMapsEqual),o=Qx(i.areObjectsEqual),c=Qx(i.areSetsEqual);i=PM({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return i}function R4e(e){return function(t,r,n,i,a,s,o){return e(t,r,o)}}function D4e(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var h=n(),m=h.cache,y=m===void 0?t?new WeakMap:void 0:m,g=h.meta;return r(c,u,{cache:y,equals:i,meta:g,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,s)}}var L4e=qf();qf({strict:!0});qf({circular:!0});qf({circular:!0,strict:!0});qf({createInternalComparator:function(){return Sp}});qf({strict:!0,createInternalComparator:function(){return Sp}});qf({circular:!0,createInternalComparator:function(){return Sp}});qf({circular:!0,createInternalComparator:function(){return Sp},strict:!0});function qf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,o=M4e(e),c=P4e(o),u=n?n(c):R4e(c);return D4e({circular:r,comparator:c,createState:i,equals:u,strict:s})}function F4e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function MM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):F4e(i)};requestAnimationFrame(n)}function j3(e){"@babel/helpers - typeof";return j3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j3(e)}function B4e(e){return q4e(e)||z4e(e)||U4e(e)||$4e()}function $4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4e(e,t){if(e){if(typeof e=="string")return RM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RM(e,t)}}function RM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q4e(e){if(Array.isArray(e))return e}function W4e(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=B4e(s),c=o[0],u=o.slice(1);if(typeof c=="number"){MM(i.bind(null,u),c);return}i(c),MM(i.bind(null,u));return}j3(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return t=H4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H4e(e){var t=V4e(e,"string");return Fv(t)==="symbol"?t:String(t)}function V4e(e,t){if(Fv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G4e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},K4e=function(t){return t},Y4e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},kg=function(t,r){return Object.keys(r).reduce(function(n,i){return LM(LM({},n),{},hH({},i,t(i,r[i])))},{})},FM=function(t,r,n){return t.map(function(i){return"".concat(Y4e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function X4e(e,t){return J4e(e)||Q4e(e,t)||pH(e,t)||Z4e()}function Z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function J4e(e){if(Array.isArray(e))return e}function eNe(e){return nNe(e)||rNe(e)||pH(e)||tNe()}function tNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(e,t){if(e){if(typeof e=="string")return I3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I3(e,t)}}function rNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nNe(e){if(Array.isArray(e))return I3(e)}function I3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iw=1e-4,mH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},gH=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},BM=function(t,r){return function(n){var i=mH(t,r);return gH(i,n)}},iNe=function(t,r){return function(n){var i=mH(t,r),a=[].concat(eNe(i.map(function(s,o){return s*o}).slice(1)),[0]);return gH(a,n)}},$M=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=X4e(u,4);i=h[0],a=h[1],s=h[2],o=h[3]}}}var m=BM(i,s),y=BM(a,o),g=iNe(i,s),S=function(A){return A>1?1:A<0?0:A},_=function(A){for(var E=A>1?1:A,O=E,I=0;I<8;++I){var k=m(O)-E,F=g(O);if(Math.abs(k-E)<iw||F<iw)return y(O);O=S(O-k/F)}return y(O)};return _.isStepper=!1,_},aNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,o=s===void 0?17:s,c=function(h,m,y){var g=-(h-m)*n,S=y*a,_=y+(g-S)*o/1e3,w=y*o/1e3+h;return Math.abs(w-m)<iw&&Math.abs(_)<iw?[m,0]:[w,_]};return c.isStepper=!0,c.dt=o,c},sNe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $M(i);case"spring":return aNe();default:if(i.split("(")[0]==="cubic-bezier")return $M(i)}return typeof i=="function"?i:null};function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function UM(e){return cNe(e)||lNe(e)||vH(e)||oNe()}function oNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cNe(e){if(Array.isArray(e))return P3(e)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){k3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k3(e,t,r){return t=uNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uNe(e){var t=dNe(e,"string");return Bv(t)==="symbol"?t:String(t)}function dNe(e,t){if(Bv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fNe(e,t){return mNe(e)||pNe(e,t)||vH(e,t)||hNe()}function hNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(e,t){if(e){if(typeof e=="string")return P3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P3(e,t)}}function P3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function mNe(e){if(Array.isArray(e))return e}var aw=function(t,r,n){return t+(r-t)*n},M3=function(t){var r=t.from,n=t.to;return r!==n},gNe=function e(t,r,n){var i=kg(function(a,s){if(M3(s)){var o=t(s.from,s.to,s.velocity),c=fNe(o,2),u=c[0],h=c[1];return Va(Va({},s),{},{from:u,velocity:h})}return s},r);return n<1?kg(function(a,s){return M3(s)?Va(Va({},s),{},{velocity:aw(s.velocity,i[a].velocity,n),from:aw(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const vNe=function(e,t,r,n,i){var a=G4e(e,t),s=a.reduce(function(w,A){return Va(Va({},w),{},k3({},A,[e[A],t[A]]))},{}),o=a.reduce(function(w,A){return Va(Va({},w),{},k3({},A,{from:e[A],velocity:0,to:t[A]}))},{}),c=-1,u,h,m=function(){return null},y=function(){return kg(function(A,E){return E.from},o)},g=function(){return!Object.values(o).filter(M3).length},S=function(A){u||(u=A);var E=A-u,O=E/r.dt;o=gNe(r,o,O),i(Va(Va(Va({},e),t),y())),u=A,g()||(c=requestAnimationFrame(m))},_=function(A){h||(h=A);var E=(A-h)/n,O=kg(function(k,F){return aw.apply(void 0,UM(F).concat([r(E)]))},s);if(i(Va(Va(Va({},e),t),O)),E<1)c=requestAnimationFrame(m);else{var I=kg(function(k,F){return aw.apply(void 0,UM(F).concat([r(1)]))},s);i(Va(Va(Va({},e),t),I))}};return m=r.isStepper?S:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}var yNe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xNe(e,t){if(e==null)return{};var r=bNe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bNe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function gA(e){return ANe(e)||SNe(e)||_Ne(e)||wNe()}function wNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ne(e,t){if(e){if(typeof e=="string")return R3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R3(e,t)}}function SNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ANe(e){if(Array.isArray(e))return R3(e)}function R3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){dg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dg(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ENe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yH(n.key),n)}}function NNe(e,t,r){return t&&CNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yH(e){var t=ONe(e,"string");return _m(t)==="symbol"?t:String(t)}function ONe(e,t){if(_m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D3(e,t)}function D3(e,t){return D3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D3(e,t)}function jNe(e){var t=INe();return function(){var n=sw(e),i;if(t){var a=sw(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return L3(this,i)}}function L3(e,t){if(t&&(_m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F3(e)}function F3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function INe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sw(e){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(e)}var Gc=function(e){TNe(r,e);var t=jNe(r);function r(n,i){var a;ENe(this,r),a=t.call(this,n,i);var s=a.props,o=s.isActive,c=s.attributeName,u=s.from,h=s.to,m=s.steps,y=s.children,g=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(F3(a)),a.changeStyle=a.changeStyle.bind(F3(a)),!o||g<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:h}),L3(a);if(m&&m.length)a.state={style:m[0].style};else if(u){if(typeof y=="function")return a.state={style:u},L3(a);a.state={style:c?dg({},c,u):u}}else a.state={style:{}};return a}return NNe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,h=a.to,m=a.from,y=this.state.style;if(o){if(!s){var g={style:c?dg({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(g);return}if(!(L4e(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=S||u?m:i.to;if(this.state&&y){var w={style:c?dg({},c,_):_};(c&&y[c]!==_||!c&&y!==_)&&this.setState(w)}this.runAnimation(Dl(Dl({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,c=i.duration,u=i.easing,h=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,g=vNe(s,o,sNe(u),c,this.changeStyle),S=function(){a.stopJSAnimation=g()};this.manager.start([y,h,S,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,c=i.onAnimationStart,u=s[0],h=u.style,m=u.duration,y=m===void 0?0:m,g=function(_,w,A){if(A===0)return _;var E=w.duration,O=w.easing,I=O===void 0?"ease":O,k=w.style,F=w.properties,B=w.onAnimationEnd,D=A>0?s[A-1]:w,P=F||Object.keys(k);if(typeof I=="function"||I==="spring")return[].concat(gA(_),[a.runJSAnimation.bind(a,{from:D.style,to:k,duration:E,easing:I}),E]);var K=FM(P,E,I),$=Dl(Dl(Dl({},D.style),k),{},{transition:K});return[].concat(gA(_),[$,E,B]).filter(K4e)};return this.manager.start([c].concat(gA(s.reduce(g,[h,Math.max(y,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=W4e());var a=i.begin,s=i.duration,o=i.attributeName,c=i.to,u=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,g=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var _=o?dg({},o,c):c,w=FM(Object.keys(_),s,u);S.start([h,a,Dl(Dl({},_),{},{transition:w}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=xNe(i,yNe),u=M.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!o||u===0||s<=0)return a;var m=function(g){var S=g.props,_=S.style,w=_===void 0?{}:_,A=S.className,E=M.cloneElement(g,Dl(Dl({},c),{},{style:Dl(Dl({},w),h),className:A}));return E};return u===1?m(M.Children.only(a)):me.createElement("div",null,M.Children.map(a,function(y){return m(y)}))}}]),r}(M.PureComponent);Gc.displayName="Animate";Gc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gc.propTypes={from:En.oneOfType([En.object,En.string]),to:En.oneOfType([En.object,En.string]),attributeName:En.string,duration:En.number,begin:En.number,easing:En.oneOfType([En.string,En.func]),steps:En.arrayOf(En.shape({duration:En.number.isRequired,style:En.object.isRequired,easing:En.oneOfType([En.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),En.func]),properties:En.arrayOf("string"),onAnimationEnd:En.func})),children:En.oneOfType([En.node,En.func]),isActive:En.bool,canBegin:En.bool,onAnimationEnd:En.func,shouldReAnimate:En.bool,onAnimationStart:En.func,onAnimationReStart:En.func};function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(this,arguments)}function kNe(e,t){return DNe(e)||RNe(e,t)||MNe(e,t)||PNe()}function PNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MNe(e,t){if(e){if(typeof e=="string")return WM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WM(e,t)}}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function DNe(e){if(Array.isArray(e))return e}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){LNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LNe(e,t,r){return t=FNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FNe(e){var t=BNe(e,"string");return $v(t)=="symbol"?t:t+""}function BNe(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GM=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,g=4;y<g;y++)m[y]=a[y]>s?s:a[y];h="M".concat(t,",").concat(r+o*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(t+c*m[0],",").concat(r)),h+="L ".concat(t+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*m[1])),h+="L ".concat(t+n,",").concat(r+i-o*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(t+n-c*m[2],",").concat(r+i)),h+="L ".concat(t+c*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-o*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var S=Math.min(s,a);h="M ".concat(t,",").concat(r+o*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(t+c*S,",").concat(r,`
            L `).concat(t+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*S,`
            L `).concat(t+n,",").concat(r+i-o*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(t+n-c*S,",").concat(r+i,`
            L `).concat(t+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(t,",").concat(r+i-o*S," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},$Ne=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(a,a+o),h=Math.max(a,a+o),m=Math.min(s,s+c),y=Math.max(s,s+c);return n>=u&&n<=h&&i>=m&&i<=y}return!1},UNe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PT=function(t){var r=VM(VM({},UNe),t),n=M.useRef(),i=M.useState(-1),a=kNe(i,2),s=a[0],o=a[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&o(I)}catch{}},[]);var c=r.x,u=r.y,h=r.width,m=r.height,y=r.radius,g=r.className,S=r.animationEasing,_=r.animationDuration,w=r.animationBegin,A=r.isAnimationActive,E=r.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||m!==+m||h===0||m===0)return null;var O=$r("recharts-rectangle",g);return E?me.createElement(Gc,{canBegin:s>0,from:{width:h,height:m,x:c,y:u},to:{width:h,height:m,x:c,y:u},duration:_,animationEasing:S,isActive:E},function(I){var k=I.width,F=I.height,B=I.x,D=I.y;return me.createElement(Gc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,isActive:A,easing:S},me.createElement("path",ow({},xr(r,!0),{className:O,d:GM(B,D,k,F,y),ref:n})))}):me.createElement("path",ow({},xr(r,!0),{className:O,d:GM(c,u,h,m,y)}))},zNe=["points","className","baseLinePoints","connectNulls"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}function qNe(e,t){if(e==null)return{};var r=WNe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KM(e){return KNe(e)||GNe(e)||VNe(e)||HNe()}function HNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VNe(e,t){if(e){if(typeof e=="string")return B3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B3(e,t)}}function GNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KNe(e){if(Array.isArray(e))return B3(e)}function B3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YM=function(t){return t&&t.x===+t.x&&t.y===+t.y},YNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){YM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),YM(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Pg=function(t,r){var n=YNe(t);r&&(n=[n.reduce(function(a,s){return[].concat(KM(a),KM(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},XNe=function(t,r,n){var i=Pg(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Pg(r.reverse(),n).slice(1))},ZNe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=qNe(t,zNe);if(!r||!r.length)return null;var o=$r("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=XNe(r,i,a);return me.createElement("g",{className:o},me.createElement("path",h0({},xr(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?me.createElement("path",h0({},xr(s,!0),{fill:"none",d:Pg(r,a)})):null,c?me.createElement("path",h0({},xr(s,!0),{fill:"none",d:Pg(i,a)})):null)}var h=Pg(r,a);return me.createElement("path",h0({},xr(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:o,d:h}))};function $3(){return $3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$3.apply(this,arguments)}var l5=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=$r("recharts-dot",a);return r===+r&&n===+n&&i===+i?M.createElement("circle",$3({},xr(t,!1),Nb(t),{className:s,cx:r,cy:n,r:i})):null};function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}var QNe=["x","y","top","left","width","height","className"];function U3(){return U3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U3.apply(this,arguments)}function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){eOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eOe(e,t,r){return t=tOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tOe(e){var t=rOe(e,"string");return Uv(t)=="symbol"?t:t+""}function rOe(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nOe(e,t){if(e==null)return{};var r=iOe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aOe=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},sOe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,o=s===void 0?0:s,c=t.left,u=c===void 0?0:c,h=t.width,m=h===void 0?0:h,y=t.height,g=y===void 0?0:y,S=t.className,_=nOe(t,QNe),w=JNe({x:n,y:a,top:o,left:u,width:m,height:g},_);return!yt(n)||!yt(a)||!yt(m)||!yt(g)||!yt(o)||!yt(u)?null:me.createElement("path",U3({},xr(w,!0),{className:$r("recharts-cross",S),d:aOe(n,a,m,g,o,u)}))},oOe=n5,lOe=jW,cOe=Xc;function uOe(e,t){return e&&e.length?oOe(e,cOe(t),lOe):void 0}var dOe=uOe;const fOe=yn(dOe);var hOe=n5,pOe=Xc,mOe=IW;function gOe(e,t){return e&&e.length?hOe(e,pOe(t),mOe):void 0}var vOe=gOe;const yOe=yn(vOe);var xOe=["cx","cy","angle","ticks","axisLine"],bOe=["ticks","tick","angle","tickFormatter","stroke"];function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){c5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QM(e,t){if(e==null)return{};var r=wOe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bH(n.key),n)}}function SOe(e,t,r){return t&&JM(e.prototype,t),r&&JM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AOe(e,t,r){return t=lw(t),EOe(e,xH()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function EOe(e,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return COe(e)}function COe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function NOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z3(e,t)}function z3(e,t){return z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z3(e,t)}function c5(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=OOe(e,"string");return Sm(t)=="symbol"?t:t+""}function OOe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u5=function(e){function t(){return _Oe(this,t),AOe(this,t,arguments)}return NOe(t,e),SOe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,c=a.cy;return ti(o,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=fOe(o,function(h){return h.coordinate||0}),u=yOe(o,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=QM(n,xOe),h=o.reduce(function(S,_){return[Math.min(S[0],_.coordinate),Math.max(S[1],_.coordinate)]},[1/0,-1/0]),m=ti(i,a,h[0],s),y=ti(i,a,h[1],s),g=ih(ih(ih({},xr(u,!1)),{},{fill:"none"},xr(c,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return me.createElement("line",Mg({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,c=i.tickFormatter,u=i.stroke,h=QM(i,bOe),m=this.getTickTextAnchor(),y=xr(h,!1),g=xr(s,!1),S=a.map(function(_,w){var A=n.getTickValueCoord(_),E=ih(ih(ih(ih({textAnchor:m,transform:"rotate(".concat(90-o,", ").concat(A.x,", ").concat(A.y,")")},y),{},{stroke:"none",fill:u},g),{},{index:w},A),{},{payload:_});return me.createElement(gn,Mg({className:$r("recharts-polar-radius-axis-tick",aH(s)),key:"tick-".concat(_.coordinate)},ep(n.props,_,w)),t.renderTickItem(s,E,c?c(_.value,w):_.value))});return me.createElement(gn,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:me.createElement(gn,{className:$r("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Ma.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return me.isValidElement(n)?s=me.cloneElement(n,i):jr(n)?s=n(i):s=me.createElement(tp,Mg({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(M.PureComponent);c5(u5,"displayName","PolarRadiusAxis");c5(u5,"axisType","radiusAxis");c5(u5,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){d5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_H(n.key),n)}}function jOe(e,t,r){return t&&tR(e.prototype,t),r&&tR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IOe(e,t,r){return t=cw(t),kOe(e,wH()?Reflect.construct(t,r||[],cw(e).constructor):t.apply(e,r))}function kOe(e,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return POe(e)}function POe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wH=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}function MOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q3(e,t)}function q3(e,t){return q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q3(e,t)}function d5(e,t,r){return t=_H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=ROe(e,"string");return Am(t)=="symbol"?t:t+""}function ROe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DOe=Math.PI/180,rR=1e-5,f5=function(e){function t(){return TOe(this,t),IOe(this,t,arguments)}return MOe(t,e),jOe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,c=i.orientation,u=i.tickSize,h=u||8,m=ti(a,s,o,n.coordinate),y=ti(a,s,o+(c==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*DOe),s;return a>rR?s=i==="outer"?"start":"end":a<-rR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=ah(ah({},xr(this.props,!1)),{},{fill:"none"},xr(o,!1));if(c==="circle")return me.createElement(l5,gh({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var h=this.props.ticks,m=h.map(function(y){return ti(i,a,s,y.coordinate)});return me.createElement(ZNe,gh({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,c=i.tickFormatter,u=i.stroke,h=xr(this.props,!1),m=xr(s,!1),y=ah(ah({},h),{},{fill:"none"},xr(o,!1)),g=a.map(function(S,_){var w=n.getTickLineCoord(S),A=n.getTickTextAnchor(S),E=ah(ah(ah({textAnchor:A},h),{},{stroke:"none",fill:u},m),{},{index:_,payload:S,x:w.x2,y:w.y2});return me.createElement(gn,gh({className:$r("recharts-polar-angle-axis-tick",aH(s)),key:"tick-".concat(S.coordinate)},ep(n.props,S,_)),o&&me.createElement("line",gh({className:"recharts-polar-angle-axis-tick-line"},y,w)),s&&t.renderTickItem(s,E,c?c(S.value,_):S.value))});return me.createElement(gn,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:me.createElement(gn,{className:$r("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return me.isValidElement(n)?s=me.cloneElement(n,i):jr(n)?s=n(i):s=me.createElement(tp,gh({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(M.PureComponent);d5(f5,"displayName","PolarAngleAxis");d5(f5,"axisType","angleAxis");d5(f5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var LOe=Cq,FOe=LOe(Object.getPrototypeOf,Object),BOe=FOe,$Oe=ad,UOe=BOe,zOe=sd,qOe="[object Object]",WOe=Function.prototype,HOe=Object.prototype,SH=WOe.toString,VOe=HOe.hasOwnProperty,GOe=SH.call(Object);function KOe(e){if(!zOe(e)||$Oe(e)!=qOe)return!1;var t=UOe(e);if(t===null)return!0;var r=VOe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&SH.call(r)==GOe}var YOe=KOe;const XOe=yn(YOe);var ZOe=ad,QOe=sd,JOe="[object Boolean]";function eTe(e){return e===!0||e===!1||QOe(e)&&ZOe(e)==JOe}var tTe=eTe;const rTe=yn(tTe);function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function nTe(e,t){return oTe(e)||sTe(e,t)||aTe(e,t)||iTe()}function iTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aTe(e,t){if(e){if(typeof e=="string")return nR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(e,t)}}function nR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function oTe(e){if(Array.isArray(e))return e}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){lTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lTe(e,t,r){return t=cTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cTe(e){var t=uTe(e,"string");return zv(t)=="symbol"?t:t+""}function uTe(e,t){if(zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sR=function(t,r,n,i,a){var s=n-i,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+a),o+="L ".concat(t+n-s/2-i,",").concat(r+a),o+="L ".concat(t,",").concat(r," Z"),o},dTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fTe=function(t){var r=aR(aR({},dTe),t),n=M.useRef(),i=M.useState(-1),a=nTe(i,2),s=a[0],o=a[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var c=r.x,u=r.y,h=r.upperWidth,m=r.lowerWidth,y=r.height,g=r.className,S=r.animationEasing,_=r.animationDuration,w=r.animationBegin,A=r.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var E=$r("recharts-trapezoid",g);return A?me.createElement(Gc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:u},to:{upperWidth:h,lowerWidth:m,height:y,x:c,y:u},duration:_,animationEasing:S,isActive:A},function(O){var I=O.upperWidth,k=O.lowerWidth,F=O.height,B=O.x,D=O.y;return me.createElement(Gc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,easing:S},me.createElement("path",uw({},xr(r,!0),{className:E,d:sR(B,D,I,k,F),ref:n})))}):me.createElement("g",null,me.createElement("path",uw({},xr(r,!0),{className:E,d:sR(c,u,h,m,y)})))},hTe=["option","shapeType","propTransformer","activeClassName","isActive"];function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function pTe(e,t){if(e==null)return{};var r=mTe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){gTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gTe(e,t,r){return t=vTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vTe(e){var t=yTe(e,"string");return qv(t)=="symbol"?t:t+""}function yTe(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xTe(e,t){return dw(dw({},t),e)}function bTe(e,t){return e==="symbols"}function lR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return me.createElement(PT,r);case"trapezoid":return me.createElement(fTe,r);case"sector":return me.createElement(lH,r);case"symbols":if(bTe(t))return me.createElement(QO,r);break;default:return null}}function wTe(e){return M.isValidElement(e)?e.props:e}function AH(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?xTe:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,o=e.isActive,c=pTe(e,hTe),u;if(M.isValidElement(t))u=M.cloneElement(t,dw(dw({},c),wTe(t)));else if(jr(t))u=t(c);else if(XOe(t)&&!rTe(t)){var h=i(t,c);u=me.createElement(lR,{shapeType:r,elementProps:h})}else{var m=c;u=me.createElement(lR,{shapeType:r,elementProps:m})}return o?me.createElement(gn,{className:s},u):u}function h5(e,t){return t!=null&&"trapezoids"in e.props}function p5(e,t){return t!=null&&"sectors"in e.props}function Wv(e,t){return t!=null&&"points"in e.props}function _Te(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function STe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ATe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function ETe(e,t){var r;return h5(e,t)?r=_Te:p5(e,t)?r=STe:Wv(e,t)&&(r=ATe),r}function CTe(e,t){var r;return h5(e,t)?r="trapezoids":p5(e,t)?r="sectors":Wv(e,t)&&(r="points"),r}function NTe(e,t){if(h5(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(p5(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wv(e,t)?t.payload:{}}function OTe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=CTe(r,t),a=NTe(r,t),s=n.filter(function(c,u){var h=My(a,c),m=r.props[i].filter(function(S){var _=ETe(r,t);return _(S,t)}),y=r.props[i].indexOf(m[m.length-1]),g=u===y;return h&&g}),o=n.indexOf(s[s.length-1]);return o}var I2;function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(this,arguments)}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CH(n.key),n)}}function jTe(e,t,r){return t&&uR(e.prototype,t),r&&uR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ITe(e,t,r){return t=fw(t),kTe(e,EH()?Reflect.construct(t,r||[],fw(e).constructor):t.apply(e,r))}function kTe(e,t){if(t&&(Em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PTe(e)}function PTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}function MTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W3(e,t)}function W3(e,t){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W3(e,t)}function cl(e,t,r){return t=CH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=RTe(e,"string");return Em(t)=="symbol"?t:t+""}function RTe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ld=function(e){function t(r){var n;return TTe(this,t),n=ITe(this,t,[r]),cl(n,"pieRef",null),cl(n,"sectorRefs",[]),cl(n,"id",h1("recharts-pie-")),cl(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),jr(i)&&i()}),cl(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),jr(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return MTe(t,e),jTe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,c=a.dataKey,u=a.valueKey,h=xr(this.props,!1),m=xr(s,!1),y=xr(o,!1),g=s&&s.offsetRadius||20,S=n.map(function(_,w){var A=(_.startAngle+_.endAngle)/2,E=ti(_.cx,_.cy,_.outerRadius+g,A),O=Qn(Qn(Qn(Qn({},h),_),{},{stroke:"none"},m),{},{index:w,textAnchor:t.getTextAnchor(E.x,_.cx)},E),I=Qn(Qn(Qn(Qn({},h),_),{},{fill:"none",stroke:_.fill},y),{},{index:w,points:[ti(_.cx,_.cy,_.outerRadius,A),E]}),k=c;return Dr(c)&&Dr(u)?k="value":Dr(c)&&(k=u),me.createElement(gn,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(w)},o&&t.renderLabelLineItem(o,I,"line"),t.renderLabelItem(s,O,wa(_,k)))});return me.createElement(gn,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,c=a.inactiveShape;return n.map(function(u,h){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var m=i.isActiveIndex(h),y=c&&i.hasActiveIndex()?c:null,g=m?s:y,S=Qn(Qn({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return me.createElement(gn,p0({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},ep(i.props,u,h),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(h)}),me.createElement(AH,p0({option:g,isActive:m,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,m=this.state,y=m.prevSectors,g=m.prevIsAnimationActive;return me.createElement(Gc,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var _=S.t,w=[],A=a&&a[0],E=A.startAngle;return a.forEach(function(O,I){var k=y&&y[I],F=I>0?Bo(O,"paddingAngle",0):0;if(k){var B=To(k.endAngle-k.startAngle,O.endAngle-O.startAngle),D=Qn(Qn({},O),{},{startAngle:E+F,endAngle:E+B(_)+F});w.push(D),E=D.endAngle}else{var P=O.endAngle,K=O.startAngle,$=To(0,P-K),z=$(_),X=Qn(Qn({},O),{},{startAngle:E+F,endAngle:E+z+F});w.push(X),E=X.endAngle}}),me.createElement(gn,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!My(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,c=i.label,u=i.cx,h=i.cy,m=i.innerRadius,y=i.outerRadius,g=i.isAnimationActive,S=this.state.isAnimationFinished;if(a||!s||!s.length||!yt(u)||!yt(h)||!yt(m)||!yt(y))return null;var _=$r("recharts-pie",o);return me.createElement(gn,{tabIndex:this.props.rootTabIndex,className:_,ref:function(A){n.pieRef=A}},this.renderSectors(),c&&this.renderLabels(s),Ma.renderCallByParent(this.props,null,!1),(!g||S)&&qu.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(me.isValidElement(n))return me.cloneElement(n,i);if(jr(n))return n(i);var s=$r("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return me.createElement(nw,p0({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(me.isValidElement(n))return me.cloneElement(n,i);var s=a;if(jr(n)&&(s=n(i),me.isValidElement(s)))return s;var o=$r("recharts-pie-label-text",typeof n!="boolean"&&!jr(n)?n.className:"");return me.createElement(tp,p0({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(M.PureComponent);I2=ld;cl(ld,"displayName","Pie");cl(ld,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Dc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});cl(ld,"parseDeltaAngle",function(e,t){var r=Ns(t-e),n=Math.min(Math.abs(t-e),360);return r*n});cl(ld,"getRealPieData",function(e){var t=e.data,r=e.children,n=xr(e,!1),i=$o(r,X_);return t&&t.length?t.map(function(a,s){return Qn(Qn(Qn({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Qn(Qn({},n),a.props)}):[]});cl(ld,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=iH(i,a),o=n+Os(e.cx,i,i/2),c=r+Os(e.cy,a,a/2),u=Os(e.innerRadius,s,0),h=Os(e.outerRadius,s,s*.8),m=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:h,maxRadius:m}});cl(ld,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Qn(Qn({},t.type.defaultProps),t.props):t.props,i=I2.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,h=n.nameKey,m=n.valueKey,y=n.tooltipType,g=Math.abs(n.minAngle),S=I2.parseCoordinateOfPie(n,r),_=I2.parseDeltaAngle(s,o),w=Math.abs(_),A=u;Dr(u)&&Dr(m)?(ec(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):Dr(u)&&(ec(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=m);var E=i.filter(function(D){return wa(D,A,0)!==0}).length,O=(w>=360?E:E-1)*c,I=w-E*g-O,k=i.reduce(function(D,P){var K=wa(P,A,0);return D+(yt(K)?K:0)},0),F;if(k>0){var B;F=i.map(function(D,P){var K=wa(D,A,0),$=wa(D,h,P),z=(yt(K)?K:0)/k,X;P?X=B.endAngle+Ns(_)*c*(K!==0?1:0):X=s;var W=X+Ns(_)*((K!==0?g:0)+z*I),V=(X+W)/2,Q=(S.innerRadius+S.outerRadius)/2,ne=[{name:$,value:K,payload:D,dataKey:A,type:y}],te=ti(S.cx,S.cy,Q,V);return B=Qn(Qn(Qn({percent:z,cornerRadius:a,name:$,tooltipPayload:ne,midAngle:V,middleRadius:Q,tooltipPosition:te},D),S),{},{value:wa(D,A),startAngle:X,endAngle:W,payload:D,paddingAngle:Ns(_)*c}),B})}return Qn(Qn({},S),{},{sectors:F,data:i})});var DTe=Math.ceil,LTe=Math.max;function FTe(e,t,r,n){for(var i=-1,a=LTe(DTe((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var BTe=FTe,$Te=Hq,dR=1/0,UTe=17976931348623157e292;function zTe(e){if(!e)return e===0?e:0;if(e=$Te(e),e===dR||e===-dR){var t=e<0?-1:1;return t*UTe}return e===e?e:0}var NH=zTe,qTe=BTe,WTe=Y_,vA=NH;function HTe(e){return function(t,r,n){return n&&typeof n!="number"&&WTe(t,r,n)&&(r=n=void 0),t=vA(t),r===void 0?(r=t,t=0):r=vA(r),n=n===void 0?t<r?1:-1:vA(n),qTe(t,r,n,e)}}var VTe=HTe,GTe=VTe,KTe=GTe(),YTe=KTe;const hw=yn(YTe);function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return t=XTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XTe(e){var t=ZTe(e,"string");return Hv(t)=="symbol"?t:t+""}function ZTe(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QTe=["Webkit","Moz","O","ms"],JTe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=QTe.reduce(function(a,s){return hR(hR({},a),{},OH({},s+n,r))},{});return i[t]=r,i};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jH(n.key),n)}}function tje(e,t,r){return t&&mR(e.prototype,t),r&&mR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rje(e,t,r){return t=mw(t),nje(e,TH()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function nje(e,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ije(e)}function ije(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TH=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function aje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H3(e,t)}function H3(e,t){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H3(e,t)}function Ao(e,t,r){return t=jH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=sje(e,"string");return Cm(t)=="symbol"?t:t+""}function sje(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oje=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=jg().domain(hw(0,c)).range([a,a+s-o]),h=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:h}},gR=function(t){return t.changedTouches&&!!t.changedTouches.length},Nm=function(e){function t(r){var n;return eje(this,t),n=rje(this,t,[r]),Ao(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ao(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ao(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Ao(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ao(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ao(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ao(n,"handleSlideDragStart",function(i){var a=gR(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return aje(t,e),tje(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,h=u.length-1,m=Math.min(i,a),y=Math.max(i,a),g=t.getIndexInRange(s,m),S=t.getIndexInRange(s,y);return{startIndex:g-g%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,c=wa(a[n],o,n);return jr(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,c=this.props,u=c.x,h=c.width,m=c.travellerWidth,y=c.startIndex,g=c.endIndex,S=c.onChange,_=n.pageX-a;_>0?_=Math.min(_,u+h-m-o,u+h-m-s):_<0&&(_=Math.max(_,u-s,u-o));var w=this.getIndex({startX:s+_,endX:o+_});(w.startIndex!==y||w.endIndex!==g)&&S&&S(w),this.setState({startX:s+_,endX:o+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=gR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[s],h=this.props,m=h.x,y=h.width,g=h.travellerWidth,S=h.onChange,_=h.gap,w=h.data,A={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,m+y-g-u):E<0&&(E=Math.max(E,m-u)),A[s]=u+E;var O=this.getIndex(A),I=O.startIndex,k=O.endIndex,F=function(){var D=w.length-1;return s==="startX"&&(o>c?I%_===0:k%_===0)||o<c&&k===D||s==="endX"&&(o>c?k%_===0:I%_===0)||o>c&&k===D};this.setState(Ao(Ao({},s,u+E),"brushMoveStartX",n.pageX),function(){S&&F()&&S(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,h=this.state[i],m=o.indexOf(h);if(m!==-1){var y=m+n;if(!(y===-1||y>=o.length)){var g=o[y];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(Ao({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return me.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.data,u=n.children,h=n.padding,m=M.Children.only(u);return m?me.cloneElement(m,{x:i,y:a,width:s,height:o,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,c=this.props,u=c.y,h=c.travellerWidth,m=c.height,y=c.traveller,g=c.ariaLabel,S=c.data,_=c.startIndex,w=c.endIndex,A=Math.max(n,this.props.x),E=yA(yA({},xr(this.props,!1)),{},{x:A,y:u,width:h,height:m}),O=g||"Min value: ".concat((a=S[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=S[w])===null||s===void 0?void 0:s.name);return me.createElement(gn,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),o.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(y,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,c=a.stroke,u=a.travellerWidth,h=Math.min(n,i)+u,m=Math.max(Math.abs(i-n)-u,0);return me.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,h=this.state,m=h.startX,y=h.endX,g=5,S={pointerEvents:"none",fill:u};return me.createElement(gn,{className:"recharts-brush-texts"},me.createElement(tp,pw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-g,y:s+o/2},S),this.getTextOfTick(i)),me.createElement(tp,pw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+g,y:s+o/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,c=n.y,u=n.width,h=n.height,m=n.alwaysShowText,y=this.state,g=y.startX,S=y.endX,_=y.isTextActive,w=y.isSlideMoving,A=y.isTravellerMoving,E=y.isTravellerFocused;if(!i||!i.length||!yt(o)||!yt(c)||!yt(u)||!yt(h)||u<=0||h<=0)return null;var O=$r("recharts-brush",a),I=me.Children.count(s)===1,k=JTe("userSelect","none");return me.createElement(gn,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(g,S),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(S,"endX"),(_||w||A||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(a+o/2)-1;return me.createElement(me.Fragment,null,me.createElement("rect",{x:i,y:a,width:s,height:o,fill:c,stroke:"none"}),me.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),me.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return me.isValidElement(n)?a=me.cloneElement(n,i):jr(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,h=n.startIndex,m=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return yA({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?oje({data:a,width:s,x:o,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+s-c]);var y=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>i?o=c:s=c}return i>=n[o]?o:s}}])}(M.PureComponent);Ao(Nm,"displayName","Brush");Ao(Nm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lje=aT;function cje(e,t){var r;return lje(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var uje=cje,dje=yq,fje=Xc,hje=uje,pje=ao,mje=Y_;function gje(e,t,r){var n=pje(e)?dje:hje;return r&&mje(e,t,r)&&(t=void 0),n(e,fje(t))}var vje=gje;const yje=yn(vje);var Fc=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},vR=$q;function xje(e,t,r){t=="__proto__"&&vR?vR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var bje=xje,wje=bje,_je=Fq,Sje=Xc;function Aje(e,t){var r={};return t=Sje(t),_je(e,function(n,i,a){wje(r,i,t(n,i,a))}),r}var Eje=Aje;const Cje=yn(Eje);function Nje(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Oje=Nje,Tje=aT;function jje(e,t){var r=!0;return Tje(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var Ije=jje,kje=Oje,Pje=Ije,Mje=Xc,Rje=ao,Dje=Y_;function Lje(e,t,r){var n=Rje(e)?kje:Pje;return r&&Dje(e,t,r)&&(t=void 0),n(e,Mje(t))}var Fje=Lje;const IH=yn(Fje);var Bje=["x","y"];function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){$je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $je(e,t,r){return t=Uje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uje(e){var t=zje(e,"string");return Vv(t)=="symbol"?t:t+""}function zje(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qje(e,t){if(e==null)return{};var r=Wje(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hje(e,t){var r=e.x,n=e.y,i=qje(e,Bje),a="".concat(r),s=parseInt(a,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||i.height),h=parseInt(u,10),m="".concat(t.width||i.width),y=parseInt(m,10);return J1(J1(J1(J1(J1({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:t.name,radius:t.radius})}function xR(e){return me.createElement(AH,V3({shapeType:"rectangle",propTransformer:Hje,activeClassName:"recharts-active-bar"},e))}var Vje=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=yt(n)||v0e(n);return a?t(n,i):(a||np(),r)}},Gje=["value","background"],kH;function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Kje(e,t){if(e==null)return{};var r=Yje(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){tf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MH(n.key),n)}}function Zje(e,t,r){return t&&wR(e.prototype,t),r&&wR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qje(e,t,r){return t=vw(t),Jje(e,PH()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function Jje(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eIe(e)}function eIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PH=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function tIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G3(e,t)}function G3(e,t){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G3(e,t)}function tf(e,t,r){return t=MH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=rIe(e,"string");return Om(t)=="symbol"?t:t+""}function rIe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bc=function(e){function t(){var r;Xje(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qje(this,t,[].concat(i)),tf(r,"state",{isAnimationFinished:!1}),tf(r,"id",h1("recharts-bar-")),tf(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),tf(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return tIe(t,e),Zje(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,c=a.activeIndex,u=a.activeBar,h=xr(this.props,!1);return n&&n.map(function(m,y){var g=y===c,S=g?u:s,_=ra(ra(ra({},h),m),{},{isActive:g,option:S,index:y,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return me.createElement(gn,gw({className:"recharts-bar-rectangle"},ep(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),me.createElement(xR,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,h=i.animationEasing,m=i.animationId,y=this.state.prevData;return me.createElement(Gc,{begin:c,duration:u,isActive:o,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var S=g.t,_=a.map(function(w,A){var E=y&&y[A];if(E){var O=To(E.x,w.x),I=To(E.y,w.y),k=To(E.width,w.width),F=To(E.height,w.height);return ra(ra({},w),{},{x:O(S),y:I(S),width:k(S),height:F(S)})}if(s==="horizontal"){var B=To(0,w.height),D=B(S);return ra(ra({},w),{},{y:w.y+w.height-D,height:D})}var P=To(0,w.width),K=P(S);return ra(ra({},w),{},{width:K})});return me.createElement(gn,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!My(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,c=xr(this.props.background,!1);return a.map(function(u,h){u.value;var m=u.background,y=Kje(u,Gje);if(!m)return null;var g=ra(ra(ra(ra(ra({},y),{},{fill:"#eee"},m),c),ep(n.props,u,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return me.createElement(xR,gw({key:"background-bar-".concat(h),option:n.props.background,isActive:h===o},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,c=a.yAxis,u=a.layout,h=a.children,m=$o(h,Ry);if(!m)return null;var y=u==="vertical"?s[0].height/2:s[0].width/2,g=function(w,A){var E=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:E,errorVal:wa(w,A)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return me.createElement(gn,S,m.map(function(_){return me.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:y,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,h=n.top,m=n.width,y=n.height,g=n.isAnimationActive,S=n.background,_=n.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,A=$r("recharts-bar",s),E=o&&o.allowDataOverflow,O=c&&c.allowDataOverflow,I=E||O,k=Dr(_)?this.id:_;return me.createElement(gn,{className:A},E||O?me.createElement("defs",null,me.createElement("clipPath",{id:"clipPath-".concat(k)},me.createElement("rect",{x:E?u:u-m/2,y:O?h:h-y/2,width:E?m:m*2,height:O?y:y*2}))):null,me.createElement(gn,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(k,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,k),(!g||w)&&qu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(M.PureComponent);kH=Bc;tf(Bc,"displayName","Bar");tf(Bc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Dc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});tf(Bc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,h=e.dataStartIndex,m=e.displayedData,y=e.offset,g=DCe(n,r);if(!g)return null;var S=t.layout,_=r.type.defaultProps,w=_!==void 0?ra(ra({},_),r.props):r.props,A=w.dataKey,E=w.children,O=w.minPointSize,I=S==="horizontal"?s:a,k=u?I.scale.domain():null,F=qCe({numericAxis:I}),B=$o(E,X_),D=m.map(function(P,K){var $,z,X,W,V,Q;u?$=LCe(u[h+K],k):($=wa(P,A),Array.isArray($)||($=[F,$]));var ne=Vje(O,kH.defaultProps.minPointSize)($[1],K);if(S==="horizontal"){var te,H=[s.scale($[0]),s.scale($[1])],le=H[0],fe=H[1];z=uM({axis:a,ticks:o,bandSize:i,offset:g.offset,entry:P,index:K}),X=(te=fe??le)!==null&&te!==void 0?te:void 0,W=g.size;var q=le-fe;if(V=Number.isNaN(q)?0:q,Q={x:z,y:s.y,width:W,height:s.height},Math.abs(ne)>0&&Math.abs(V)<Math.abs(ne)){var Z=Ns(V||ne)*(Math.abs(ne)-Math.abs(V));X-=Z,V+=Z}}else{var ae=[a.scale($[0]),a.scale($[1])],ge=ae[0],he=ae[1];if(z=ge,X=uM({axis:s,ticks:c,bandSize:i,offset:g.offset,entry:P,index:K}),W=he-ge,V=g.size,Q={x:a.x,y:X,width:a.width,height:V},Math.abs(ne)>0&&Math.abs(W)<Math.abs(ne)){var Se=Ns(W||ne)*(Math.abs(ne)-Math.abs(W));W+=Se}}return ra(ra(ra({},P),{},{x:z,y:X,width:W,height:V,value:u?$:$[1],payload:P,background:Q},B&&B[K]&&B[K].props),{},{tooltipPayload:[rH(r,P)],tooltipPosition:{x:z+W/2,y:X+V/2}})});return ra({data:D,layout:S},y)});function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function nIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RH(n.key),n)}}function iIe(e,t,r){return t&&_R(e.prototype,t),r&&_R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){m5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m5(e,t,r){return t=RH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=aIe(e,"string");return Gv(t)=="symbol"?t:t+""}function aIe(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DH=function(t,r,n,i,a){var s=t.width,o=t.height,c=t.layout,u=t.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},y=!!No(u,Bc);return h.reduce(function(g,S){var _=r[S],w=_.orientation,A=_.domain,E=_.padding,O=E===void 0?{}:E,I=_.mirror,k=_.reversed,F="".concat(w).concat(I?"Mirror":""),B,D,P,K,$;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var z=A[1]-A[0],X=1/0,W=_.categoricalDomain.sort(b0e);if(W.forEach(function(ae,ge){ge>0&&(X=Math.min((ae||0)-(W[ge-1]||0),X))}),Number.isFinite(X)){var V=X/z,Q=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(B=V*Q/2),_.padding==="no-gap"){var ne=Os(t.barCategoryGap,V*Q),te=V*Q/2;B=te-ne-(te-ne)/Q*ne}}}i==="xAxis"?D=[n.left+(O.left||0)+(B||0),n.left+n.width-(O.right||0)-(B||0)]:i==="yAxis"?D=c==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(B||0),n.top+n.height-(O.bottom||0)-(B||0)]:D=_.range,k&&(D=[D[1],D[0]]);var H=QW(_,a,y),le=H.scale,fe=H.realScaleType;le.domain(A).range(D),JW(le);var q=eH(le,Gl(Gl({},_),{},{realScaleType:fe}));i==="xAxis"?($=w==="top"&&!I||w==="bottom"&&I,P=n.left,K=m[F]-$*_.height):i==="yAxis"&&($=w==="left"&&!I||w==="right"&&I,P=m[F]-$*_.width,K=n.top);var Z=Gl(Gl(Gl({},_),q),{},{realScaleType:fe,x:P,y:K,scale:le,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return Z.bandSize=ew(Z,q),!_.hide&&i==="xAxis"?m[F]+=($?-1:1)*Z.height:_.hide||(m[F]+=($?-1:1)*Z.width),Gl(Gl({},g),{},m5({},S,Z))},{})},LH=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},sIe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return LH({x:r,y:n},{x:i,y:a})},FH=function(){function e(t){nIe(this,e),this.scale=t}return iIe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();m5(FH,"EPS",1e-4);var MT=function(t){var r=Object.keys(t).reduce(function(n,i){return Gl(Gl({},n),{},m5({},i,FH.create(t[i])))},{});return Gl(Gl({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Cje(i,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(i){return IH(i,function(a,s){return r[s].isInRange(a)})}})};function oIe(e){return(e%180+180)%180}var lIe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=oIe(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},cIe=Xc,uIe=Ty,dIe=G_;function fIe(e){return function(t,r,n){var i=Object(t);if(!uIe(t)){var a=cIe(r);t=dIe(t),r=function(o){return a(i[o],o,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var hIe=fIe,pIe=NH;function mIe(e){var t=pIe(e),r=t%1;return t===t?r?t-r:t:0}var gIe=mIe,vIe=kq,yIe=Xc,xIe=gIe,bIe=Math.max;function wIe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:xIe(r);return i<0&&(i=bIe(n+i,0)),vIe(e,yIe(t),i)}var _Ie=wIe,SIe=hIe,AIe=_Ie,EIe=SIe(AIe),CIe=EIe;const NIe=yn(CIe);var OIe=wpe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),RT=M.createContext(void 0),DT=M.createContext(void 0),BH=M.createContext(void 0),$H=M.createContext({}),UH=M.createContext(void 0),zH=M.createContext(0),qH=M.createContext(0),AR=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,o=t.children,c=t.width,u=t.height,h=OIe(a);return me.createElement(RT.Provider,{value:n},me.createElement(DT.Provider,{value:i},me.createElement($H.Provider,{value:a},me.createElement(BH.Provider,{value:h},me.createElement(UH.Provider,{value:s},me.createElement(zH.Provider,{value:u},me.createElement(qH.Provider,{value:c},o)))))))},TIe=function(){return M.useContext(UH)},WH=function(t){var r=M.useContext(RT);r==null&&np();var n=r[t];return n==null&&np(),n},jIe=function(){var t=M.useContext(RT);return $d(t)},IIe=function(){var t=M.useContext(DT),r=NIe(t,function(n){return IH(n.domain,Number.isFinite)});return r||$d(t)},HH=function(t){var r=M.useContext(DT);r==null&&np();var n=r[t];return n==null&&np(),n},kIe=function(){var t=M.useContext(BH);return t},PIe=function(){return M.useContext($H)},LT=function(){return M.useContext(qH)},FT=function(){return M.useContext(zH)};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function MIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GH(n.key),n)}}function DIe(e,t,r){return t&&RIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LIe(e,t,r){return t=yw(t),FIe(e,VH()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function FIe(e,t){if(t&&(Tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BIe(e)}function BIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VH=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function $Ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K3(e,t)}function K3(e,t){return K3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K3(e,t)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){BT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BT(e,t,r){return t=GH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=UIe(e,"string");return Tm(t)=="symbol"?t:t+""}function UIe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zIe(e,t){return VIe(e)||HIe(e,t)||WIe(e,t)||qIe()}function qIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WIe(e,t){if(e){if(typeof e=="string")return NR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NR(e,t)}}function NR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function VIe(e){if(Array.isArray(e))return e}function Y3(){return Y3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y3.apply(this,arguments)}var GIe=function(t,r){var n;return me.isValidElement(t)?n=me.cloneElement(t,r):jr(t)?n=t(r):n=me.createElement("line",Y3({},r,{className:"recharts-reference-line-line"})),n},KIe=function(t,r,n,i,a,s,o,c,u){var h=a.x,m=a.y,y=a.width,g=a.height;if(n){var S=u.y,_=t.y.apply(S,{position:s});if(Fc(u,"discard")&&!t.y.isInRange(_))return null;var w=[{x:h+y,y:_},{x:h,y:_}];return c==="left"?w.reverse():w}if(r){var A=u.x,E=t.x.apply(A,{position:s});if(Fc(u,"discard")&&!t.x.isInRange(E))return null;var O=[{x:E,y:m+g},{x:E,y:m}];return o==="top"?O.reverse():O}if(i){var I=u.segment,k=I.map(function(F){return t.apply(F,{position:s})});return Fc(u,"discard")&&yje(k,function(F){return!t.isInRange(F)})?null:k}return null};function YIe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,u=TIe(),h=WH(i),m=HH(a),y=kIe();if(!u||!y)return null;ec(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=MT({x:h.scale,y:m.scale}),S=Sa(t),_=Sa(r),w=n&&n.length===2,A=KIe(g,S,_,w,y,e.position,h.orientation,m.orientation,e);if(!A)return null;var E=zIe(A,2),O=E[0],I=O.x,k=O.y,F=E[1],B=F.x,D=F.y,P=Fc(e,"hidden")?"url(#".concat(u,")"):void 0,K=CR(CR({clipPath:P},xr(e,!0)),{},{x1:I,y1:k,x2:B,y2:D});return me.createElement(gn,{className:$r("recharts-reference-line",o)},GIe(s,K),Ma.renderCallByParent(e,sIe({x1:I,y1:k,x2:B,y2:D})))}var $T=function(e){function t(){return MIe(this,t),LIe(this,t,arguments)}return $Ie(t,e),DIe(t,[{key:"render",value:function(){return me.createElement(YIe,this.props)}}])}(me.Component);BT($T,"displayName","ReferenceLine");BT($T,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function X3(){return X3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X3.apply(this,arguments)}function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){g5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YH(n.key),n)}}function QIe(e,t,r){return t&&ZIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JIe(e,t,r){return t=xw(t),eke(e,KH()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function eke(e,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tke(e)}function tke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KH=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function rke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z3(e,t)}function Z3(e,t){return Z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z3(e,t)}function g5(e,t,r){return t=YH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=nke(e,"string");return jm(t)=="symbol"?t:t+""}function nke(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ike=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=MT({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Fc(t,"discard")&&!s.isInRange(o)?null:o},v5=function(e){function t(){return XIe(this,t),JIe(this,t,arguments)}return rke(t,e),QIe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=Sa(i),h=Sa(a);if(ec(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var m=ike(this.props);if(!m)return null;var y=m.x,g=m.y,S=this.props,_=S.shape,w=S.className,A=Fc(this.props,"hidden")?"url(#".concat(c,")"):void 0,E=TR(TR({clipPath:A},xr(this.props,!0)),{},{cx:y,cy:g});return me.createElement(gn,{className:$r("recharts-reference-dot",w)},t.renderDot(_,E),Ma.renderCallByParent(this.props,{x:y-s,y:g-s,width:2*s,height:2*s}))}}])}(me.Component);g5(v5,"displayName","ReferenceDot");g5(v5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});g5(v5,"renderDot",function(e,t){var r;return me.isValidElement(e)?r=me.cloneElement(e,t):jr(e)?r=e(t):r=me.createElement(l5,X3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Q3(){return Q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q3.apply(this,arguments)}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){y5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ake(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ske(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZH(n.key),n)}}function oke(e,t,r){return t&&ske(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lke(e,t,r){return t=bw(t),cke(e,XH()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function cke(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uke(e)}function uke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function dke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J3(e,t)}function J3(e,t){return J3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J3(e,t)}function y5(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=fke(e,"string");return Im(t)=="symbol"?t:t+""}function fke(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hke=function(t,r,n,i,a){var s=a.x1,o=a.x2,c=a.y1,u=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var y=MT({x:h.scale,y:m.scale}),g={x:t?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(o,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(u,{position:"end"}):y.y.rangeMax};return Fc(a,"discard")&&(!y.isInRange(g)||!y.isInRange(S))?null:LH(g,S)},x5=function(e){function t(){return ake(this,t),lke(this,t,arguments)}return dke(t,e),oke(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,h=n.clipPathId;ec(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Sa(i),y=Sa(a),g=Sa(s),S=Sa(o),_=this.props.shape;if(!m&&!y&&!g&&!S&&!_)return null;var w=hke(m,y,g,S,this.props);if(!w&&!_)return null;var A=Fc(this.props,"hidden")?"url(#".concat(h,")"):void 0;return me.createElement(gn,{className:$r("recharts-reference-area",c)},t.renderRect(_,IR(IR({clipPath:A},xr(this.props,!0)),w)),Ma.renderCallByParent(this.props,w))}}])}(me.Component);y5(x5,"displayName","ReferenceArea");y5(x5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});y5(x5,"renderRect",function(e,t){var r;return me.isValidElement(e)?r=me.cloneElement(e,t):jr(e)?r=e(t):r=me.createElement(PT,Q3({},t,{className:"recharts-reference-area-rect"})),r});function QH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function pke(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return lIe(n,r)}function mke(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,o=e.height;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function ww(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function gke(e,t){return QH(e,t+1)}function vke(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,o=t.end,c=0,u=1,h=s,m=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:QH(n,u)};var _=c,w,A=function(){return w===void 0&&(w=r(S,_)),w},E=S.coordinate,O=c===0||ww(e,E,A,h,o);O||(c=0,h=s,u+=1),O&&(h=E+e*(A()/2+i),c+=u)},y;u<=a.length;)if(y=m(),y)return y.v;return[]}function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){yke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yke(e,t,r){return t=xke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xke(e){var t=bke(e,"string");return Kv(t)=="symbol"?t:t+""}function bke(e,t){if(Kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wke(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=t.start,c=t.end,u=function(y){var g=a[y],S,_=function(){return S===void 0&&(S=r(g,y)),S};if(y===s-1){var w=e*(g.coordinate+e*_()/2-c);a[y]=g=us(us({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate})}else a[y]=g=us(us({},g),{},{tickCoord:g.coordinate});var A=ww(e,g.tickCoord,_,o,c);A&&(c=g.tickCoord-e*(_()/2+i),a[y]=us(us({},g),{},{isShow:!0}))},h=s-1;h>=0;h--)u(h);return a}function _ke(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,c=t.start,u=t.end;if(a){var h=n[o-1],m=r(h,o-1),y=e*(h.coordinate+e*m/2-u);s[o-1]=h=us(us({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate});var g=ww(e,h.tickCoord,function(){return m},c,u);g&&(u=h.tickCoord-e*(m/2+i),s[o-1]=us(us({},h),{},{isShow:!0}))}for(var S=a?o-1:o,_=function(E){var O=s[E],I,k=function(){return I===void 0&&(I=r(O,E)),I};if(E===0){var F=e*(O.coordinate-e*k()/2-c);s[E]=O=us(us({},O),{},{tickCoord:F<0?O.coordinate-F*e:O.coordinate})}else s[E]=O=us(us({},O),{},{tickCoord:O.coordinate});var B=ww(e,O.tickCoord,k,c,u);B&&(c=O.tickCoord+e*(k()/2+i),s[E]=us(us({},O),{},{isShow:!0}))},w=0;w<S;w++)_(w);return s}function UT(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,h=e.unit,m=e.angle;if(!i||!i.length||!n)return[];if(yt(c)||Dc.isSsr)return gke(i,typeof c=="number"&&yt(c)?c:0);var y=[],g=o==="top"||o==="bottom"?"width":"height",S=h&&g==="width"?Tg(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=function(O,I){var k=jr(u)?u(O.value,I):O.value;return g==="width"?pke(Tg(k,{fontSize:t,letterSpacing:r}),S,m):Tg(k,{fontSize:t,letterSpacing:r})[g]},w=i.length>=2?Ns(i[1].coordinate-i[0].coordinate):1,A=mke(a,w,g);return c==="equidistantPreserveStart"?vke(w,A,_,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=_ke(w,A,_,i,s,c==="preserveStartEnd"):y=wke(w,A,_,i,s),y.filter(function(E){return E.isShow}))}var Ske=["viewBox"],Ake=["viewBox"],Eke=["ticks"];function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(this,arguments)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){zT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xA(e,t){if(e==null)return{};var r=Cke(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eV(n.key),n)}}function Oke(e,t,r){return t&&MR(e.prototype,t),r&&MR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tke(e,t,r){return t=_w(t),jke(e,JH()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function jke(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ike(e)}function Ike(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function kke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e4(e,t)}function e4(e,t){return e4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e4(e,t)}function zT(e,t,r){return t=eV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=Pke(e,"string");return km(t)=="symbol"?t:t+""}function Pke(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b1=function(e){function t(r){var n;return Nke(this,t),n=Tke(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kke(t,e),Oke(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=xA(n,Ske),o=this.props,c=o.viewBox,u=xA(o,Ake);return!I0(a,c)||!I0(s,u)||!I0(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,u=i.orientation,h=i.tickSize,m=i.mirror,y=i.tickMargin,g,S,_,w,A,E,O=m?-1:1,I=n.tickSize||h,k=yt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=S=n.coordinate,w=s+ +!m*c,_=w-O*I,E=_-O*y,A=k;break;case"left":_=w=n.coordinate,S=a+ +!m*o,g=S-O*I,A=g-O*y,E=k;break;case"right":_=w=n.coordinate,S=a+ +m*o,g=S+O*I,A=g+O*y,E=k;break;default:g=S=n.coordinate,w=s+ +m*c,_=w+O*I,E=_+O*y,A=k;break}return{line:{x1:g,y1:_,x2:S,y2:w},tick:{x:A,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,h=n.axisLine,m=ga(ga(ga({},xr(this.props,!1)),xr(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!u||c==="bottom"&&u);m=ga(ga({},m),{},{x1:i,y1:a+y*o,x2:i+s,y2:a+y*o})}else{var g=+(c==="left"&&!u||c==="right"&&u);m=ga(ga({},m),{},{x1:i+g*s,y1:a,x2:i+g*s,y2:a+o})}return me.createElement("line",m0({},m,{className:$r("recharts-cartesian-axis-line",Bo(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,c=o.tickLine,u=o.stroke,h=o.tick,m=o.tickFormatter,y=o.unit,g=UT(ga(ga({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),w=xr(this.props,!1),A=xr(h,!1),E=ga(ga({},w),{},{fill:"none"},xr(c,!1)),O=g.map(function(I,k){var F=s.getTickLineCoord(I),B=F.line,D=F.tick,P=ga(ga(ga(ga({textAnchor:S,verticalAnchor:_},w),{},{stroke:"none",fill:u},A),D),{},{index:k,payload:I,visibleTicksCount:g.length,tickFormatter:m});return me.createElement(gn,m0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},ep(s.props,I,k)),c&&me.createElement("line",m0({},E,B,{className:$r("recharts-cartesian-axis-tick-line",Bo(c,"className"))})),h&&t.renderTickItem(h,P,"".concat(jr(m)?m(I.value,k):I.value).concat(y||"")))});return me.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,c=i.ticksGenerator,u=i.className,h=i.hide;if(h)return null;var m=this.props,y=m.ticks,g=xA(m,Eke),S=y;return jr(c)&&(S=y&&y.length>0?c(this.props):c(g)),s<=0||o<=0||!S||!S.length?null:me.createElement(gn,{className:$r("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Ma.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=$r(i.className,"recharts-cartesian-axis-tick-value");return me.isValidElement(n)?s=me.cloneElement(n,ga(ga({},i),{},{className:o})):jr(n)?s=n(ga(ga({},i),{},{className:o})):s=me.createElement(tp,m0({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(M.Component);zT(b1,"displayName","CartesianAxis");zT(b1,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Mke=["x1","y1","x2","y2","key"],Rke=["offset"];function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){Dke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dke(e,t,r){return t=Lke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lke(e){var t=Fke(e,"string");return ip(t)=="symbol"?t:t+""}function Fke(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(this,arguments)}function DR(e,t){if(e==null)return{};var r=Bke(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $ke=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,o=t.height,c=t.ry;return me.createElement("rect",{x:i,y:a,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tV(e,t){var r;if(me.isValidElement(e))r=me.cloneElement(e,t);else if(jr(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,c=DR(t,Mke),u=xr(c,!1);u.offset;var h=DR(u,Rke);r=me.createElement("line",Eh({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Uke(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=fs(fs({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return tV(i,u)});return me.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function zke(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=fs(fs({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return tV(i,u)});return me.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function qke(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var h=o.map(function(y){return Math.round(y+i-i)}).sort(function(y,g){return y-g});i!==h[0]&&h.unshift(0);var m=h.map(function(y,g){var S=!h[g+1],_=S?i+s-y:h[g+1]-y;if(_<=0)return null;var w=g%t.length;return me.createElement("rect",{key:"react-".concat(g),y,x:n,height:_,width:a,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return me.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Wke(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var h=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,g){return y-g});a!==h[0]&&h.unshift(0);var m=h.map(function(y,g){var S=!h[g+1],_=S?a+o-y:h[g+1]-y;if(_<=0)return null;var w=g%n.length;return me.createElement("rect",{key:"react-".concat(g),x:y,y:s,width:_,height:c,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return me.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Hke=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return ZW(UT(fs(fs(fs({},b1.defaultProps),n),{},{ticks:Du(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Vke=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return ZW(UT(fs(fs(fs({},b1.defaultProps),n),{},{ticks:Du(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},zp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function M0(e){var t,r,n,i,a,s,o=LT(),c=FT(),u=PIe(),h=fs(fs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zp.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zp.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zp.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:zp.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:zp.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:zp.verticalFill,x:yt(e.x)?e.x:u.left,y:yt(e.y)?e.y:u.top,width:yt(e.width)?e.width:u.width,height:yt(e.height)?e.height:u.height}),m=h.x,y=h.y,g=h.width,S=h.height,_=h.syncWithTicks,w=h.horizontalValues,A=h.verticalValues,E=jIe(),O=IIe();if(!yt(g)||g<=0||!yt(S)||S<=0||!yt(m)||m!==+m||!yt(y)||y!==+y)return null;var I=h.verticalCoordinatesGenerator||Hke,k=h.horizontalCoordinatesGenerator||Vke,F=h.horizontalPoints,B=h.verticalPoints;if((!F||!F.length)&&jr(k)){var D=w&&w.length,P=k({yAxis:O?fs(fs({},O),{},{ticks:D?w:O.ticks}):void 0,width:o,height:c,offset:u},D?!0:_);ec(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ip(P),"]")),Array.isArray(P)&&(F=P)}if((!B||!B.length)&&jr(I)){var K=A&&A.length,$=I({xAxis:E?fs(fs({},E),{},{ticks:K?A:E.ticks}):void 0,width:o,height:c,offset:u},K?!0:_);ec(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ip($),"]")),Array.isArray($)&&(B=$)}return me.createElement("g",{className:"recharts-cartesian-grid"},me.createElement($ke,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),me.createElement(Uke,Eh({},h,{offset:u,horizontalPoints:F,xAxis:E,yAxis:O})),me.createElement(zke,Eh({},h,{offset:u,verticalPoints:B,xAxis:E,yAxis:O})),me.createElement(qke,Eh({},h,{horizontalPoints:F})),me.createElement(Wke,Eh({},h,{verticalPoints:B})))}M0.displayName="CartesianGrid";var Gke=["type","layout","connectNulls","ref"],Kke=["key"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function LR(e,t){if(e==null)return{};var r=Yke(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){Kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qp(e){return Jke(e)||Qke(e)||Zke(e)||Xke()}function Xke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(e,t){if(e){if(typeof e=="string")return t4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t4(e,t)}}function Qke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jke(e){if(Array.isArray(e))return t4(e)}function t4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ePe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nV(n.key),n)}}function tPe(e,t,r){return t&&BR(e.prototype,t),r&&BR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rPe(e,t,r){return t=Sw(t),nPe(e,rV()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function nPe(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iPe(e)}function iPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function aPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r4(e,t)}function r4(e,t){return r4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r4(e,t)}function Kl(e,t,r){return t=nV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=sPe(e,"string");return Pm(t)=="symbol"?t:t+""}function sPe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w1=function(e){function t(){var r;ePe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rPe(this,t,[].concat(i)),Kl(r,"state",{isAnimationFinished:!0,totalLength:0}),Kl(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Kl(r,"getStrokeDasharray",function(s,o,c){var u=c.reduce(function(A,E){return A+E});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var h=Math.floor(s/u),m=s%u,y=o-s,g=[],S=0,_=0;S<c.length;_+=c[S],++S)if(_+c[S]>m){g=[].concat(qp(c.slice(0,S)),[m-_]);break}var w=g.length%2===0?[0,y]:[y];return[].concat(qp(t.repeat(c,h)),qp(g),w).map(function(A){return"".concat(A,"px")}).join(", ")}),Kl(r,"id",h1("recharts-line-")),Kl(r,"pathRef",function(s){r.mainCurve=s}),Kl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Kl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return aPe(t,e),tPe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,c=a.yAxis,u=a.layout,h=a.children,m=$o(h,Ry);if(!m)return null;var y=function(_,w){return{x:_.x,y:_.y,value:_.value,errorVal:wa(_.payload,w)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return me.createElement(gn,g,m.map(function(S){return me.cloneElement(S,{key:"bar-".concat(S.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,h=o.dataKey,m=xr(this.props,!1),y=xr(c,!0),g=u.map(function(_,w){var A=bo(bo(bo({key:"dot-".concat(w),r:3},m),y),{},{index:w,cx:_.x,cy:_.y,value:_.value,dataKey:h,payload:_.payload,points:u});return t.renderDotItem(c,A)}),S={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return me.createElement(gn,Rg({className:"recharts-line-dots",key:"dots"},S),g)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,c=o.type,u=o.layout,h=o.connectNulls;o.ref;var m=LR(o,Gke),y=bo(bo(bo({},xr(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:h});return me.createElement(nw,Rg({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,c=s.strokeDasharray,u=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,y=s.animationEasing,g=s.animationId,S=s.animateNewValues,_=s.width,w=s.height,A=this.state,E=A.prevPoints,O=A.totalLength;return me.createElement(Gc,{begin:h,duration:m,isActive:u,easing:y,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var k=I.t;if(E){var F=E.length/o.length,B=o.map(function(z,X){var W=Math.floor(X*F);if(E[W]){var V=E[W],Q=To(V.x,z.x),ne=To(V.y,z.y);return bo(bo({},z),{},{x:Q(k),y:ne(k)})}if(S){var te=To(_*2,z.x),H=To(w/2,z.y);return bo(bo({},z),{},{x:te(k),y:H(k)})}return bo(bo({},z),{},{x:z.x,y:z.y})});return a.renderCurveStatically(B,n,i)}var D=To(0,O),P=D(k),K;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});K=a.getStrokeDasharray(P,O,$)}else K=a.generateSimpleStrokeDasharray(O,P);return a.renderCurveStatically(o,n,i,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,c=this.state,u=c.prevPoints,h=c.totalLength;return o&&s&&s.length&&(!u&&h>0||!My(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,u=i.xAxis,h=i.yAxis,m=i.top,y=i.left,g=i.width,S=i.height,_=i.isAnimationActive,w=i.id;if(a||!o||!o.length)return null;var A=this.state.isAnimationFinished,E=o.length===1,O=$r("recharts-line",c),I=u&&u.allowDataOverflow,k=h&&h.allowDataOverflow,F=I||k,B=Dr(w)?this.id:w,D=(n=xr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=D.r,K=P===void 0?3:P,$=D.strokeWidth,z=$===void 0?2:$,X=T0e(s)?s:{},W=X.clipDot,V=W===void 0?!0:W,Q=K*2+z;return me.createElement(gn,{className:O},I||k?me.createElement("defs",null,me.createElement("clipPath",{id:"clipPath-".concat(B)},me.createElement("rect",{x:I?y:y-g/2,y:k?m:m-S/2,width:I?g:g*2,height:k?S:S*2})),!V&&me.createElement("clipPath",{id:"clipPath-dots-".concat(B)},me.createElement("rect",{x:y-Q/2,y:m-Q/2,width:g+Q,height:S+Q}))):null,!E&&this.renderCurve(F,B),this.renderErrorBar(F,B),(E||s)&&this.renderDots(F,V,B),(!_||A)&&qu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(qp(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(qp(s),qp(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(me.isValidElement(n))a=me.cloneElement(n,i);else if(jr(n))a=n(i);else{var s=i.key,o=LR(i,Kke),c=$r("recharts-line-dot",typeof n!="boolean"?n.className:"");a=me.createElement(l5,Rg({key:s},o,{className:c}))}return a}}])}(M.PureComponent);Kl(w1,"displayName","Line");Kl(w1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Dc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Kl(w1,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,o=e.bandSize,c=e.displayedData,u=e.offset,h=t.layout,m=c.map(function(y,g){var S=wa(y,s);return h==="horizontal"?{x:cM({axis:r,ticks:i,bandSize:o,entry:y,index:g}),y:Dr(S)?null:n.scale(S),value:S,payload:y}:{x:Dr(S)?null:r.scale(S),y:cM({axis:n,ticks:a,bandSize:o,entry:y,index:g}),value:S,payload:y}});return bo({points:m,layout:h},u)});function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function oPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sV(n.key),n)}}function cPe(e,t,r){return t&&lPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uPe(e,t,r){return t=Aw(t),dPe(e,iV()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function dPe(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fPe(e)}function fPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iV=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function hPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n4(e,t)}function n4(e,t){return n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n4(e,t)}function aV(e,t,r){return t=sV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=pPe(e,"string");return Mm(t)=="symbol"?t:t+""}function pPe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i4(){return i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i4.apply(this,arguments)}function mPe(e){var t=e.xAxisId,r=LT(),n=FT(),i=WH(t);return i==null?null:M.createElement(b1,i4({},i,{className:$r("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Du(s,!0)}}))}var Wu=function(e){function t(){return oPe(this,t),uPe(this,t,arguments)}return hPe(t,e),cPe(t,[{key:"render",value:function(){return M.createElement(mPe,this.props)}}])}(M.Component);aV(Wu,"displayName","XAxis");aV(Wu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function gPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cV(n.key),n)}}function yPe(e,t,r){return t&&vPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xPe(e,t,r){return t=Ew(t),bPe(e,oV()?Reflect.construct(t,r||[],Ew(e).constructor):t.apply(e,r))}function bPe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wPe(e)}function wPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!e})()}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(e)}function _Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a4(e,t)}function a4(e,t){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a4(e,t)}function lV(e,t,r){return t=cV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=SPe(e,"string");return Rm(t)=="symbol"?t:t+""}function SPe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s4(){return s4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s4.apply(this,arguments)}var APe=function(t){var r=t.yAxisId,n=LT(),i=FT(),a=HH(r);return a==null?null:M.createElement(b1,s4({},a,{className:$r("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Du(o,!0)}}))},Hu=function(e){function t(){return gPe(this,t),xPe(this,t,arguments)}return _Pe(t,e),yPe(t,[{key:"render",value:function(){return M.createElement(APe,this.props)}}])}(M.Component);lV(Hu,"displayName","YAxis");lV(Hu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $R(e){return OPe(e)||NPe(e)||CPe(e)||EPe()}function EPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CPe(e,t){if(e){if(typeof e=="string")return o4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o4(e,t)}}function NPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OPe(e){if(Array.isArray(e))return o4(e)}function o4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l4=function(t,r,n,i,a){var s=$o(t,$T),o=$o(t,v5),c=[].concat($R(s),$R(o)),u=$o(t,x5),h="".concat(i,"Id"),m=i[0],y=r;if(c.length&&(y=c.reduce(function(_,w){if(w.props[h]===n&&Fc(w.props,"extendDomain")&&yt(w.props[m])){var A=w.props[m];return[Math.min(_[0],A),Math.max(_[1],A)]}return _},y)),u.length){var g="".concat(m,"1"),S="".concat(m,"2");y=u.reduce(function(_,w){if(w.props[h]===n&&Fc(w.props,"extendDomain")&&yt(w.props[g])&&yt(w.props[S])){var A=w.props[g],E=w.props[S];return[Math.min(_[0],A,E),Math.max(_[1],A,E)]}return _},y)}return a&&a.length&&(y=a.reduce(function(_,w){return yt(w)?[Math.min(_[0],w),Math.max(_[1],w)]:_},y)),y},uV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function a(c,u,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,m||c,y),S=r?r+u:u;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],g]:c._events[S].push(g):(c._events[S]=g,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],h,m;if(this._eventsCount===0)return u;for(m in h=this._events)t.call(h,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},o.prototype.listeners=function(u){var h=r?r+u:u,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,g=m.length,S=new Array(g);y<g;y++)S[y]=m[y].fn;return S},o.prototype.listenerCount=function(u){var h=r?r+u:u,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(u,h,m,y,g,S){var _=r?r+u:u;if(!this._events[_])return!1;var w=this._events[_],A=arguments.length,E,O;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,y),!0;case 5:return w.fn.call(w.context,h,m,y,g),!0;case 6:return w.fn.call(w.context,h,m,y,g,S),!0}for(O=1,E=new Array(A-1);O<A;O++)E[O-1]=arguments[O];w.fn.apply(w.context,E)}else{var I=w.length,k;for(O=0;O<I;O++)switch(w[O].once&&this.removeListener(u,w[O].fn,void 0,!0),A){case 1:w[O].fn.call(w[O].context);break;case 2:w[O].fn.call(w[O].context,h);break;case 3:w[O].fn.call(w[O].context,h,m);break;case 4:w[O].fn.call(w[O].context,h,m,y);break;default:if(!E)for(k=1,E=new Array(A-1);k<A;k++)E[k-1]=arguments[k];w[O].fn.apply(w[O].context,E)}}return!0},o.prototype.on=function(u,h,m){return a(this,u,h,m,!1)},o.prototype.once=function(u,h,m){return a(this,u,h,m,!0)},o.prototype.removeListener=function(u,h,m,y){var g=r?r+u:u;if(!this._events[g])return this;if(!h)return s(this,g),this;var S=this._events[g];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&s(this,g);else{for(var _=0,w=[],A=S.length;_<A;_++)(S[_].fn!==h||y&&!S[_].once||m&&S[_].context!==m)&&w.push(S[_]);w.length?this._events[g]=w.length===1?w[0]:w:s(this,g)}return this},o.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(uV);var TPe=uV.exports;const jPe=yn(TPe);var bA=new jPe,wA="recharts.syncMouseEvents";function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function IPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dV(n.key),n)}}function PPe(e,t,r){return t&&kPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _A(e,t,r){return t=dV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dV(e){var t=MPe(e,"string");return Yv(t)=="symbol"?t:t+""}function MPe(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RPe=function(){function e(){IPe(this,e),_A(this,"activeIndex",0),_A(this,"coordinateList",[]),_A(this,"layout","horizontal")}return PPe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,y=r.mouseHandlerCallback,g=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+u,y=s+this.offset.top+o/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function DPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&yt(n)&&yt(i))return!0}return!1}function LPe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function fV(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=ti(t,r,n,i),o=ti(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function FPe(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,h=t.outerRadius,m=t.angle,y=ti(o,c,u,m),g=ti(o,c,h,m);n=y.x,i=y.y,a=g.x,s=g.y}else return fV(t);return[{x:n,y:i},{x:a,y:s}]}function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){BPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BPe(e,t,r){return t=$Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Pe(e){var t=UPe(e,"string");return Xv(t)=="symbol"?t:t+""}function UPe(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zPe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,y=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var S,_=nw;if(y==="ScatterChart")S=s,_=sOe;else if(y==="BarChart")S=LPe(m,s,c,h),_=PT;else if(m==="radial"){var w=fV(s),A=w.cx,E=w.cy,O=w.radius,I=w.startAngle,k=w.endAngle;S={cx:A,cy:E,startAngle:I,endAngle:k,innerRadius:O,outerRadius:O},_=lH}else S={points:FPe(m,s,c)},_=nw;var F=Jx(Jx(Jx(Jx({stroke:"#ccc",pointerEvents:"none"},c),S),xr(g,!1)),{},{payload:o,payloadIndex:u,className:$r("recharts-tooltip-cursor",g.className)});return M.isValidElement(g)?M.cloneElement(g,F):M.createElement(_,F)}var qPe=["item"],WPe=["children","className","width","height","style","compact","title","desc"];function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(this,arguments)}function zR(e,t){return GPe(e)||VPe(e,t)||pV(e,t)||HPe()}function HPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function GPe(e){if(Array.isArray(e))return e}function qR(e,t){if(e==null)return{};var r=KPe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mV(n.key),n)}}function ZPe(e,t,r){return t&&XPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QPe(e,t,r){return t=Cw(t),JPe(e,hV()?Reflect.construct(t,r||[],Cw(e).constructor):t.apply(e,r))}function JPe(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e8e(e)}function e8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cw(e)}function t8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c4(e,t)}function c4(e,t){return c4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c4(e,t)}function Lm(e){return i8e(e)||n8e(e)||pV(e)||r8e()}function r8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pV(e,t){if(e){if(typeof e=="string")return u4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u4(e,t)}}function n8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i8e(e){if(Array.isArray(e))return u4(e)}function u4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){Er(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Er(e,t,r){return t=mV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=a8e(e,"string");return Dm(t)=="symbol"?t:t+""}function a8e(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s8e={xAxis:["bottom","top"],yAxis:["left","right"]},o8e={width:"100%",height:"100%"},gV={x:0,y:0};function e2(e){return e}var l8e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},c8e=function(t,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,o=i.radius;return Ze(Ze(Ze({},i),ti(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,u=i.angle;return Ze(Ze(Ze({},i),ti(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return gV},b5=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(Lm(o),Lm(u)):o},[]);return s.length>0?s:t&&t.length&&yt(i)&&yt(a)?t.slice(i,a+1):[]};function vV(e){return e==="number"?[0,"auto"]:void 0}var d4=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,o=b5(r,t);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(c,u){var h,m=(h=u.props.data)!==null&&h!==void 0?h:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var g=m===void 0?o:m;y=Cb(g,s.dataKey,i)}else y=m&&m[n]||o[n];return y?[].concat(Lm(c),[rH(u,y)]):c},[])},HR=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=l8e(a,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,h=jCe(s,o,u,c);if(h>=0&&u){var m=u[h]&&u[h].value,y=d4(t,r,h,m),g=c8e(n,o,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:g}}return null},u8e=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.layout,m=t.children,y=t.stackOffset,g=XW(h,a);return n.reduce(function(S,_){var w,A=_.type.defaultProps!==void 0?Ze(Ze({},_.type.defaultProps),_.props):_.props,E=A.type,O=A.dataKey,I=A.allowDataOverflow,k=A.allowDuplicatedCategory,F=A.scale,B=A.ticks,D=A.includeHidden,P=A[s];if(S[P])return S;var K=b5(t.data,{graphicalItems:i.filter(function(q){var Z,ae=s in q.props?q.props[s]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[s];return ae===P}),dataStartIndex:c,dataEndIndex:u}),$=K.length,z,X,W;DPe(A.domain,I,E)&&(z=E3(A.domain,null,I),g&&(E==="number"||F!=="auto")&&(W=Ig(K,O,"category")));var V=vV(E);if(!z||z.length===0){var Q,ne=(Q=A.domain)!==null&&Q!==void 0?Q:V;if(O){if(z=Ig(K,O,E),E==="category"&&g){var te=x0e(z);k&&te?(X=z,z=hw(0,$)):k||(z=hM(ne,z,_).reduce(function(q,Z){return q.indexOf(Z)>=0?q:[].concat(Lm(q),[Z])},[]))}else if(E==="category")k?z=z.filter(function(q){return q!==""&&!Dr(q)}):z=hM(ne,z,_).reduce(function(q,Z){return q.indexOf(Z)>=0||Z===""||Dr(Z)?q:[].concat(Lm(q),[Z])},[]);else if(E==="number"){var H=RCe(K,i.filter(function(q){var Z,ae,ge=s in q.props?q.props[s]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[s],he="hide"in q.props?q.props.hide:(ae=q.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ge===P&&(D||!he)}),O,a,h);H&&(z=H)}g&&(E==="number"||F!=="auto")&&(W=Ig(K,O,"category"))}else g?z=hw(0,$):o&&o[P]&&o[P].hasStack&&E==="number"?z=y==="expand"?[0,1]:tH(o[P].stackGroups,c,u):z=YW(K,i.filter(function(q){var Z=s in q.props?q.props[s]:q.type.defaultProps[s],ae="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Z===P&&(D||!ae)}),E,h,!0);if(E==="number")z=l4(m,z,P,a,B),ne&&(z=E3(ne,z,I));else if(E==="category"&&ne){var le=ne,fe=z.every(function(q){return le.indexOf(q)>=0});fe&&(z=le)}}return Ze(Ze({},S),{},Er({},P,Ze(Ze({},A),{},{axisType:a,domain:z,categoricalDomain:W,duplicateDomain:X,originalDomain:(w=A.domain)!==null&&w!==void 0?w:V,isCategorical:g,layout:h})))},{})},d8e=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.layout,m=t.children,y=b5(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=y.length,S=XW(h,a),_=-1;return n.reduce(function(w,A){var E=A.type.defaultProps!==void 0?Ze(Ze({},A.type.defaultProps),A.props):A.props,O=E[s],I=vV("number");if(!w[O]){_++;var k;return S?k=hw(0,g):o&&o[O]&&o[O].hasStack?(k=tH(o[O].stackGroups,c,u),k=l4(m,k,O,a)):(k=E3(I,YW(y,n.filter(function(F){var B,D,P=s in F.props?F.props[s]:(B=F.type.defaultProps)===null||B===void 0?void 0:B[s],K="hide"in F.props?F.props.hide:(D=F.type.defaultProps)===null||D===void 0?void 0:D.hide;return P===O&&!K}),"number",h),i.defaultProps.allowDataOverflow),k=l4(m,k,O,a)),Ze(Ze({},w),{},Er({},O,Ze(Ze({axisType:a},i.defaultProps),{},{hide:!0,orientation:Bo(s8e,"".concat(a,".").concat(_%2),null),domain:k,originalDomain:I,isCategorical:S,layout:h})))}return w},{})},f8e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.children,m="".concat(i,"Id"),y=$o(h,a),g={};return y&&y.length?g=u8e(t,{axes:y,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(g=d8e(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),g},h8e=function(t){var r=$d(t),n=Du(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:sT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ew(r,n)}},VR=function(t){var r=t.children,n=t.defaultShowTooltip,i=No(r,Nm),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},p8e=function(t){return!t||!t.length?!1:t.some(function(r){var n=$u(r&&r.type);return n&&n.indexOf("Bar")>=0})},GR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},m8e=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,h=n.height,m=n.children,y=n.margin||{},g=No(m,Nm),S=No(m,Uu),_=Object.keys(c).reduce(function(k,F){var B=c[F],D=B.orientation;return!B.mirror&&!B.hide?Ze(Ze({},k),{},Er({},D,k[D]+B.width)):k},{left:y.left||0,right:y.right||0}),w=Object.keys(s).reduce(function(k,F){var B=s[F],D=B.orientation;return!B.mirror&&!B.hide?Ze(Ze({},k),{},Er({},D,Bo(k,"".concat(D))+B.height)):k},{top:y.top||0,bottom:y.bottom||0}),A=Ze(Ze({},w),_),E=A.bottom;g&&(A.bottom+=g.props.height||Nm.defaultProps.height),S&&r&&(A=PCe(A,i,n,r));var O=u-A.left-A.right,I=h-A.top-A.bottom;return Ze(Ze({brushBottom:E},A),{},{width:Math.max(O,0),height:Math.max(I,0)})},g8e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},qT=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,y=function(A,E){var O=E.graphicalItems,I=E.stackGroups,k=E.offset,F=E.updateId,B=E.dataStartIndex,D=E.dataEndIndex,P=A.barSize,K=A.layout,$=A.barGap,z=A.barCategoryGap,X=A.maxBarSize,W=GR(K),V=W.numericAxisName,Q=W.cateAxisName,ne=p8e(O),te=[];return O.forEach(function(H,le){var fe=b5(A.data,{graphicalItems:[H],dataStartIndex:B,dataEndIndex:D}),q=H.type.defaultProps!==void 0?Ze(Ze({},H.type.defaultProps),H.props):H.props,Z=q.dataKey,ae=q.maxBarSize,ge=q["".concat(V,"Id")],he=q["".concat(Q,"Id")],Se={},Ae=c.reduce(function(qe,It){var Ct=E["".concat(It.axisType,"Map")],Vt=q["".concat(It.axisType,"Id")];Ct&&Ct[Vt]||It.axisType==="zAxis"||np();var Gt=Ct[Vt];return Ze(Ze({},qe),{},Er(Er({},It.axisType,Gt),"".concat(It.axisType,"Ticks"),Du(Gt)))},Se),ye=Ae[Q],Ne=Ae["".concat(Q,"Ticks")],Ee=I&&I[ge]&&I[ge].hasStack&&WCe(H,I[ge].stackGroups),Ce=$u(H.type).indexOf("Bar")>=0,Re=ew(ye,Ne),je=[],de=ne&&ICe({barSize:P,stackGroups:I,totalSize:g8e(Ae,Q)});if(Ce){var it,ft,Ye=Dr(ae)?X:ae,Be=(it=(ft=ew(ye,Ne,!0))!==null&&ft!==void 0?ft:Ye)!==null&&it!==void 0?it:0;je=kCe({barGap:$,barCategoryGap:z,bandSize:Be!==Re?Be:Re,sizeList:de[he],maxBarSize:Ye}),Be!==Re&&(je=je.map(function(qe){return Ze(Ze({},qe),{},{position:Ze(Ze({},qe.position),{},{offset:qe.position.offset-Be/2})})}))}var _t=H&&H.type&&H.type.getComposedData;_t&&te.push({props:Ze(Ze({},_t(Ze(Ze({},Ae),{},{displayedData:fe,props:A,dataKey:Z,item:H,bandSize:Re,barPosition:je,offset:k,stackedData:Ee,layout:K,dataStartIndex:B,dataEndIndex:D}))),{},Er(Er(Er({key:H.key||"item-".concat(le)},V,Ae[V]),Q,Ae[Q]),"animationId",F)),childIndex:k0e(H,A.children),item:H})}),te},g=function(A,E){var O=A.props,I=A.dataStartIndex,k=A.dataEndIndex,F=A.updateId;if(!s8({props:O}))return null;var B=O.children,D=O.layout,P=O.stackOffset,K=O.data,$=O.reverseStackOrder,z=GR(D),X=z.numericAxisName,W=z.cateAxisName,V=$o(B,n),Q=zCe(K,V,"".concat(X,"Id"),"".concat(W,"Id"),P,$),ne=c.reduce(function(q,Z){var ae="".concat(Z.axisType,"Map");return Ze(Ze({},q),{},Er({},ae,f8e(O,Ze(Ze({},Z),{},{graphicalItems:V,stackGroups:Z.axisType===X&&Q,dataStartIndex:I,dataEndIndex:k}))))},{}),te=m8e(Ze(Ze({},ne),{},{props:O,graphicalItems:V}),E==null?void 0:E.legendBBox);Object.keys(ne).forEach(function(q){ne[q]=h(O,ne[q],te,q.replace("Map",""),r)});var H=ne["".concat(W,"Map")],le=h8e(H),fe=y(O,Ze(Ze({},ne),{},{dataStartIndex:I,dataEndIndex:k,updateId:F,graphicalItems:V,stackGroups:Q,offset:te}));return Ze(Ze({formattedGraphicalItems:fe,graphicalItems:V,offset:te,stackGroups:Q},le),ne)},S=function(w){function A(E){var O,I,k;return YPe(this,A),k=QPe(this,A,[E]),Er(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Er(k,"accessibilityManager",new RPe),Er(k,"handleLegendBBoxUpdate",function(F){if(F){var B=k.state,D=B.dataStartIndex,P=B.dataEndIndex,K=B.updateId;k.setState(Ze({legendBBox:F},g({props:k.props,dataStartIndex:D,dataEndIndex:P,updateId:K},Ze(Ze({},k.state),{},{legendBBox:F}))))}}),Er(k,"handleReceiveSyncEvent",function(F,B,D){if(k.props.syncId===F){if(D===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(B)}}),Er(k,"handleBrushChange",function(F){var B=F.startIndex,D=F.endIndex;if(B!==k.state.dataStartIndex||D!==k.state.dataEndIndex){var P=k.state.updateId;k.setState(function(){return Ze({dataStartIndex:B,dataEndIndex:D},g({props:k.props,dataStartIndex:B,dataEndIndex:D,updateId:P},k.state))}),k.triggerSyncEvent({dataStartIndex:B,dataEndIndex:D})}}),Er(k,"handleMouseEnter",function(F){var B=k.getMouseInfo(F);if(B){var D=Ze(Ze({},B),{},{isTooltipActive:!0});k.setState(D),k.triggerSyncEvent(D);var P=k.props.onMouseEnter;jr(P)&&P(D,F)}}),Er(k,"triggeredAfterMouseMove",function(F){var B=k.getMouseInfo(F),D=B?Ze(Ze({},B),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(D),k.triggerSyncEvent(D);var P=k.props.onMouseMove;jr(P)&&P(D,F)}),Er(k,"handleItemMouseEnter",function(F){k.setState(function(){return{isTooltipActive:!0,activeItem:F,activePayload:F.tooltipPayload,activeCoordinate:F.tooltipPosition||{x:F.cx,y:F.cy}}})}),Er(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Er(k,"handleMouseMove",function(F){F.persist(),k.throttleTriggeredAfterMouseMove(F)}),Er(k,"handleMouseLeave",function(F){k.throttleTriggeredAfterMouseMove.cancel();var B={isTooltipActive:!1};k.setState(B),k.triggerSyncEvent(B);var D=k.props.onMouseLeave;jr(D)&&D(B,F)}),Er(k,"handleOuterEvent",function(F){var B=I0e(F),D=Bo(k.props,"".concat(B));if(B&&jr(D)){var P,K;/.*touch.*/i.test(B)?K=k.getMouseInfo(F.changedTouches[0]):K=k.getMouseInfo(F),D((P=K)!==null&&P!==void 0?P:{},F)}}),Er(k,"handleClick",function(F){var B=k.getMouseInfo(F);if(B){var D=Ze(Ze({},B),{},{isTooltipActive:!0});k.setState(D),k.triggerSyncEvent(D);var P=k.props.onClick;jr(P)&&P(D,F)}}),Er(k,"handleMouseDown",function(F){var B=k.props.onMouseDown;if(jr(B)){var D=k.getMouseInfo(F);B(D,F)}}),Er(k,"handleMouseUp",function(F){var B=k.props.onMouseUp;if(jr(B)){var D=k.getMouseInfo(F);B(D,F)}}),Er(k,"handleTouchMove",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(F.changedTouches[0])}),Er(k,"handleTouchStart",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&k.handleMouseDown(F.changedTouches[0])}),Er(k,"handleTouchEnd",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&k.handleMouseUp(F.changedTouches[0])}),Er(k,"handleDoubleClick",function(F){var B=k.props.onDoubleClick;if(jr(B)){var D=k.getMouseInfo(F);B(D,F)}}),Er(k,"handleContextMenu",function(F){var B=k.props.onContextMenu;if(jr(B)){var D=k.getMouseInfo(F);B(D,F)}}),Er(k,"triggerSyncEvent",function(F){k.props.syncId!==void 0&&bA.emit(wA,k.props.syncId,F,k.eventEmitterSymbol)}),Er(k,"applySyncEvent",function(F){var B=k.props,D=B.layout,P=B.syncMethod,K=k.state.updateId,$=F.dataStartIndex,z=F.dataEndIndex;if(F.dataStartIndex!==void 0||F.dataEndIndex!==void 0)k.setState(Ze({dataStartIndex:$,dataEndIndex:z},g({props:k.props,dataStartIndex:$,dataEndIndex:z,updateId:K},k.state)));else if(F.activeTooltipIndex!==void 0){var X=F.chartX,W=F.chartY,V=F.activeTooltipIndex,Q=k.state,ne=Q.offset,te=Q.tooltipTicks;if(!ne)return;if(typeof P=="function")V=P(te,F);else if(P==="value"){V=-1;for(var H=0;H<te.length;H++)if(te[H].value===F.activeLabel){V=H;break}}var le=Ze(Ze({},ne),{},{x:ne.left,y:ne.top}),fe=Math.min(X,le.x+le.width),q=Math.min(W,le.y+le.height),Z=te[V]&&te[V].value,ae=d4(k.state,k.props.data,V),ge=te[V]?{x:D==="horizontal"?te[V].coordinate:fe,y:D==="horizontal"?q:te[V].coordinate}:gV;k.setState(Ze(Ze({},F),{},{activeLabel:Z,activeCoordinate:ge,activePayload:ae,activeTooltipIndex:V}))}else k.setState(F)}),Er(k,"renderCursor",function(F){var B,D=k.state,P=D.isTooltipActive,K=D.activeCoordinate,$=D.activePayload,z=D.offset,X=D.activeTooltipIndex,W=D.tooltipAxisBandSize,V=k.getTooltipEventType(),Q=(B=F.props.active)!==null&&B!==void 0?B:P,ne=k.props.layout,te=F.key||"_recharts-cursor";return me.createElement(zPe,{key:te,activeCoordinate:K,activePayload:$,activeTooltipIndex:X,chartName:r,element:F,isActive:Q,layout:ne,offset:z,tooltipAxisBandSize:W,tooltipEventType:V})}),Er(k,"renderPolarAxis",function(F,B,D){var P=Bo(F,"type.axisType"),K=Bo(k.state,"".concat(P,"Map")),$=F.type.defaultProps,z=$!==void 0?Ze(Ze({},$),F.props):F.props,X=K&&K[z["".concat(P,"Id")]];return M.cloneElement(F,Ze(Ze({},X),{},{className:$r(P,X.className),key:F.key||"".concat(B,"-").concat(D),ticks:Du(X,!0)}))}),Er(k,"renderPolarGrid",function(F){var B=F.props,D=B.radialLines,P=B.polarAngles,K=B.polarRadius,$=k.state,z=$.radiusAxisMap,X=$.angleAxisMap,W=$d(z),V=$d(X),Q=V.cx,ne=V.cy,te=V.innerRadius,H=V.outerRadius;return M.cloneElement(F,{polarAngles:Array.isArray(P)?P:Du(V,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(K)?K:Du(W,!0).map(function(le){return le.coordinate}),cx:Q,cy:ne,innerRadius:te,outerRadius:H,key:F.key||"polar-grid",radialLines:D})}),Er(k,"renderLegend",function(){var F=k.state.formattedGraphicalItems,B=k.props,D=B.children,P=B.width,K=B.height,$=k.props.margin||{},z=P-($.left||0)-($.right||0),X=GW({children:D,formattedGraphicalItems:F,legendWidth:z,legendContent:u});if(!X)return null;var W=X.item,V=qR(X,qPe);return M.cloneElement(W,Ze(Ze({},V),{},{chartWidth:P,chartHeight:K,margin:$,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Er(k,"renderTooltip",function(){var F,B=k.props,D=B.children,P=B.accessibilityLayer,K=No(D,Cs);if(!K)return null;var $=k.state,z=$.isTooltipActive,X=$.activeCoordinate,W=$.activePayload,V=$.activeLabel,Q=$.offset,ne=(F=K.props.active)!==null&&F!==void 0?F:z;return M.cloneElement(K,{viewBox:Ze(Ze({},Q),{},{x:Q.left,y:Q.top}),active:ne,label:V,payload:ne?W:[],coordinate:X,accessibilityLayer:P})}),Er(k,"renderBrush",function(F){var B=k.props,D=B.margin,P=B.data,K=k.state,$=K.offset,z=K.dataStartIndex,X=K.dataEndIndex,W=K.updateId;return M.cloneElement(F,{key:F.key||"_recharts-brush",onChange:Yx(k.handleBrushChange,F.props.onChange),data:P,x:yt(F.props.x)?F.props.x:$.left,y:yt(F.props.y)?F.props.y:$.top+$.height+$.brushBottom-(D.bottom||0),width:yt(F.props.width)?F.props.width:$.width,startIndex:z,endIndex:X,updateId:"brush-".concat(W)})}),Er(k,"renderReferenceElement",function(F,B,D){if(!F)return null;var P=k,K=P.clipPathId,$=k.state,z=$.xAxisMap,X=$.yAxisMap,W=$.offset,V=F.type.defaultProps||{},Q=F.props,ne=Q.xAxisId,te=ne===void 0?V.xAxisId:ne,H=Q.yAxisId,le=H===void 0?V.yAxisId:H;return M.cloneElement(F,{key:F.key||"".concat(B,"-").concat(D),xAxis:z[te],yAxis:X[le],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:K})}),Er(k,"renderActivePoints",function(F){var B=F.item,D=F.activePoint,P=F.basePoint,K=F.childIndex,$=F.isRange,z=[],X=B.props.key,W=B.item.type.defaultProps!==void 0?Ze(Ze({},B.item.type.defaultProps),B.item.props):B.item.props,V=W.activeDot,Q=W.dataKey,ne=Ze(Ze({index:K,dataKey:Q,cx:D.x,cy:D.y,r:4,fill:kT(B.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},xr(V,!1)),Nb(V));return z.push(A.renderActiveDot(V,ne,"".concat(X,"-activePoint-").concat(K))),P?z.push(A.renderActiveDot(V,Ze(Ze({},ne),{},{cx:P.x,cy:P.y}),"".concat(X,"-basePoint-").concat(K))):$&&z.push(null),z}),Er(k,"renderGraphicChild",function(F,B,D){var P=k.filterFormatItem(F,B,D);if(!P)return null;var K=k.getTooltipEventType(),$=k.state,z=$.isTooltipActive,X=$.tooltipAxis,W=$.activeTooltipIndex,V=$.activeLabel,Q=k.props.children,ne=No(Q,Cs),te=P.props,H=te.points,le=te.isRange,fe=te.baseLine,q=P.item.type.defaultProps!==void 0?Ze(Ze({},P.item.type.defaultProps),P.item.props):P.item.props,Z=q.activeDot,ae=q.hide,ge=q.activeBar,he=q.activeShape,Se=!!(!ae&&z&&ne&&(Z||ge||he)),Ae={};K!=="axis"&&ne&&ne.props.trigger==="click"?Ae={onClick:Yx(k.handleItemMouseEnter,F.props.onClick)}:K!=="axis"&&(Ae={onMouseLeave:Yx(k.handleItemMouseLeave,F.props.onMouseLeave),onMouseEnter:Yx(k.handleItemMouseEnter,F.props.onMouseEnter)});var ye=M.cloneElement(F,Ze(Ze({},P.props),Ae));function Ne(It){return typeof X.dataKey=="function"?X.dataKey(It.payload):null}if(Se)if(W>=0){var Ee,Ce;if(X.dataKey&&!X.allowDuplicatedCategory){var Re=typeof X.dataKey=="function"?Ne:"payload.".concat(X.dataKey.toString());Ee=Cb(H,Re,V),Ce=le&&fe&&Cb(fe,Re,V)}else Ee=H==null?void 0:H[W],Ce=le&&fe&&fe[W];if(he||ge){var je=F.props.activeIndex!==void 0?F.props.activeIndex:W;return[M.cloneElement(F,Ze(Ze(Ze({},P.props),Ae),{},{activeIndex:je})),null,null]}if(!Dr(Ee))return[ye].concat(Lm(k.renderActivePoints({item:P,activePoint:Ee,basePoint:Ce,childIndex:W,isRange:le})))}else{var de,it=(de=k.getItemByXY(k.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:ye},ft=it.graphicalItem,Ye=ft.item,Be=Ye===void 0?F:Ye,_t=ft.childIndex,qe=Ze(Ze(Ze({},P.props),Ae),{},{activeIndex:_t});return[M.cloneElement(Be,qe),null,null]}return le?[ye,null,null]:[ye,null]}),Er(k,"renderCustomized",function(F,B,D){return M.cloneElement(F,Ze(Ze({key:"recharts-customized-".concat(D)},k.props),k.state))}),Er(k,"renderMap",{CartesianGrid:{handler:e2,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:e2},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:e2},YAxis:{handler:e2},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((O=E.id)!==null&&O!==void 0?O:h1("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=Vq(k.triggeredAfterMouseMove,(I=E.throttleDelay)!==null&&I!==void 0?I:1e3/60),k.state={},k}return t8e(A,w),ZPe(A,[{key:"componentDidMount",value:function(){var O,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,I=O.children,k=O.data,F=O.height,B=O.layout,D=No(I,Cs);if(D){var P=D.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,$=d4(this.state,k,P,K),z=this.state.tooltipTicks[P].coordinate,X=(this.state.offset.top+F)/2,W=B==="horizontal",V=W?{x:z,y:X}:{y:z,x:X},Q=this.state.formattedGraphicalItems.find(function(te){var H=te.item;return H.type.name==="Scatter"});Q&&(V=Ze(Ze({},V),Q.props.points[P].tooltipPosition),$=Q.props.points[P].tooltipPayload);var ne={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:K,activePayload:$,activeCoordinate:V};this.setState(ne),this.renderCursor(D),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var k,F;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0}})}return null}},{key:"componentDidUpdate",value:function(O){$C([No(O.children,Cs)],[No(this.props.children,Cs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=No(this.props.children,Cs);if(O&&typeof O.props.shared=="boolean"){var I=O.props.shared?"axis":"item";return o.indexOf(I)>=0?I:a}return a}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var I=this.container,k=I.getBoundingClientRect(),F=i5e(k),B={chartX:Math.round(O.pageX-F.left),chartY:Math.round(O.pageY-F.top)},D=k.width/I.offsetWidth||1,P=this.inRange(B.chartX,B.chartY,D);if(!P)return null;var K=this.state,$=K.xAxisMap,z=K.yAxisMap,X=this.getTooltipEventType(),W=HR(this.state,this.props.data,this.props.layout,P);if(X!=="axis"&&$&&z){var V=$d($).scale,Q=$d(z).scale,ne=V&&V.invert?V.invert(B.chartX):null,te=Q&&Q.invert?Q.invert(B.chartY):null;return Ze(Ze({},B),{},{xValue:ne,yValue:te},W)}return W?Ze(Ze({},B),W):null}},{key:"inRange",value:function(O,I){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=this.props.layout,B=O/k,D=I/k;if(F==="horizontal"||F==="vertical"){var P=this.state.offset,K=B>=P.left&&B<=P.left+P.width&&D>=P.top&&D<=P.top+P.height;return K?{x:B,y:D}:null}var $=this.state,z=$.angleAxisMap,X=$.radiusAxisMap;if(z&&X){var W=$d(z);return gM({x:B,y:D},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,I=this.getTooltipEventType(),k=No(O,Cs),F={};k&&I==="axis"&&(k.props.trigger==="click"?F={onClick:this.handleClick}:F={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var B=Nb(this.props,this.handleOuterEvent);return Ze(Ze({},B),F)}},{key:"addListener",value:function(){bA.on(wA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bA.removeListener(wA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,I,k){for(var F=this.state.formattedGraphicalItems,B=0,D=F.length;B<D;B++){var P=F[B];if(P.item===O||P.props.key===O.key||I===$u(P.item.type)&&k===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,I=this.state.offset,k=I.left,F=I.top,B=I.height,D=I.width;return me.createElement("defs",null,me.createElement("clipPath",{id:O},me.createElement("rect",{x:k,y:F,height:B,width:D})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(I,k){var F=zR(k,2),B=F[0],D=F[1];return Ze(Ze({},I),{},Er({},B,D.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(I,k){var F=zR(k,2),B=F[0],D=F[1];return Ze(Ze({},I),{},Er({},B,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[O])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(O){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[O])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(O){var I=this.state,k=I.formattedGraphicalItems,F=I.activeItem;if(k&&k.length)for(var B=0,D=k.length;B<D;B++){var P=k[B],K=P.props,$=P.item,z=$.type.defaultProps!==void 0?Ze(Ze({},$.type.defaultProps),$.props):$.props,X=$u($.type);if(X==="Bar"){var W=(K.data||[]).find(function(te){return $Ne(O,te)});if(W)return{graphicalItem:P,payload:W}}else if(X==="RadialBar"){var V=(K.data||[]).find(function(te){return gM(O,te)});if(V)return{graphicalItem:P,payload:V}}else if(h5(P,F)||p5(P,F)||Wv(P,F)){var Q=OTe({graphicalItem:P,activeTooltipItem:F,itemData:z.data}),ne=z.activeIndex===void 0?Q:z.activeIndex;return{graphicalItem:Ze(Ze({},P),{},{childIndex:ne}),payload:Wv(P,F)?z.data[Q]:P.props.data[Q]}}}return null}},{key:"render",value:function(){var O=this;if(!s8(this))return null;var I=this.props,k=I.children,F=I.className,B=I.width,D=I.height,P=I.style,K=I.compact,$=I.title,z=I.desc,X=qR(I,WPe),W=xr(X,!1);if(K)return me.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},me.createElement(zC,g0({},W,{width:B,height:D,title:$,desc:z}),this.renderClipPath(),l8(k,this.renderMap)));if(this.props.accessibilityLayer){var V,Q;W.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,W.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",W.onKeyDown=function(te){O.accessibilityManager.keyboardEvent(te)},W.onFocus=function(){O.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return me.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},me.createElement("div",g0({className:$r("recharts-wrapper",F),style:Ze({position:"relative",cursor:"default",width:B,height:D},P)},ne,{ref:function(H){O.container=H}}),me.createElement(zC,g0({},W,{width:B,height:D,title:$,desc:z,style:o8e}),this.renderClipPath(),l8(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);Er(S,"displayName",r),Er(S,"defaultProps",Ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Er(S,"getDerivedStateFromProps",function(w,A){var E=w.dataKey,O=w.data,I=w.children,k=w.width,F=w.height,B=w.layout,D=w.stackOffset,P=w.margin,K=A.dataStartIndex,$=A.dataEndIndex;if(A.updateId===void 0){var z=VR(w);return Ze(Ze(Ze({},z),{},{updateId:0},g(Ze(Ze({props:w},z),{},{updateId:0}),A)),{},{prevDataKey:E,prevData:O,prevWidth:k,prevHeight:F,prevLayout:B,prevStackOffset:D,prevMargin:P,prevChildren:I})}if(E!==A.prevDataKey||O!==A.prevData||k!==A.prevWidth||F!==A.prevHeight||B!==A.prevLayout||D!==A.prevStackOffset||!I0(P,A.prevMargin)){var X=VR(w),W={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},V=Ze(Ze({},HR(A,O,B)),{},{updateId:A.updateId+1}),Q=Ze(Ze(Ze({},X),W),V);return Ze(Ze(Ze({},Q),g(Ze({props:w},Q),A)),{},{prevDataKey:E,prevData:O,prevWidth:k,prevHeight:F,prevLayout:B,prevStackOffset:D,prevMargin:P,prevChildren:I})}if(!$C(I,A.prevChildren)){var ne,te,H,le,fe=No(I,Nm),q=fe&&(ne=(te=fe.props)===null||te===void 0?void 0:te.startIndex)!==null&&ne!==void 0?ne:K,Z=fe&&(H=(le=fe.props)===null||le===void 0?void 0:le.endIndex)!==null&&H!==void 0?H:$,ae=q!==K||Z!==$,ge=!Dr(O),he=ge&&!ae?A.updateId:A.updateId+1;return Ze(Ze({updateId:he},g(Ze(Ze({props:w},A),{},{updateId:he,dataStartIndex:q,dataEndIndex:Z}),A)),{},{prevChildren:I,dataStartIndex:q,dataEndIndex:Z})}return null}),Er(S,"renderActiveDot",function(w,A,E){var O;return M.isValidElement(w)?O=M.cloneElement(w,A):jr(w)?O=w(A):O=me.createElement(l5,A),me.createElement(gn,{className:"recharts-active-dot",key:E},O)});var _=M.forwardRef(function(A,E){return me.createElement(S,g0({},A,{ref:E}))});return _.displayName=S.displayName,_},yV=qT({chartName:"LineChart",GraphicalChild:w1,axisComponents:[{axisType:"xAxis",AxisComp:Wu},{axisType:"yAxis",AxisComp:Hu}],formatAxisMap:DH}),f4=qT({chartName:"BarChart",GraphicalChild:Bc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wu},{axisType:"yAxis",AxisComp:Hu}],formatAxisMap:DH}),v8e=qT({chartName:"PieChart",GraphicalChild:ld,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:f5},{axisType:"radiusAxis",AxisComp:u5}],formatAxisMap:e3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function y8e(){const{data:e}=Cr({queryKey:["sales-stats"],queryFn:async()=>{const{data:c,error:u}=await Ge.from("sales").select("total, created_at").order("created_at",{ascending:!1});if(u)throw u;const h=(c==null?void 0:c.reduce((y,g)=>y+Number(g.total),0))||0,m=(c==null?void 0:c.filter(y=>{const g=new Date(y.created_at),S=new Date;return g.toDateString()===S.toDateString()}).reduce((y,g)=>y+Number(g.total),0))||0;return{total:h,today:m,count:(c==null?void 0:c.length)||0}}}),{data:t}=Cr({queryKey:["products-count"],queryFn:async()=>{const{count:c,error:u}=await Ge.from("products").select("*",{count:"exact",head:!0});if(u)throw u;return c||0}}),{data:r}=Cr({queryKey:["customers-count"],queryFn:async()=>{const{count:c,error:u}=await Ge.from("customers").select("*",{count:"exact",head:!0});if(u)throw u;return c||0}}),{data:n}=Cr({queryKey:["low-stock"],queryFn:async()=>{const{count:c,error:u}=await Ge.from("products").select("*",{count:"exact",head:!0}).lte("stock",10);if(u)throw u;return c||0}}),{data:i}=Cr({queryKey:["sales-chart"],queryFn:async()=>{const c=Array.from({length:7},(m,y)=>{const g=Iz(new Date,6-y);return mv(g)}),{data:u,error:h}=await Ge.from("sales").select("total, created_at").gte("created_at",c[0].toISOString());if(h)throw h;return c.map(m=>{const y=(u==null?void 0:u.filter(g=>mv(new Date(g.created_at)).getTime()===m.getTime()).reduce((g,S)=>g+Number(S.total),0))||0;return{date:Yi(m,"dd/MM",{locale:Xi}),ventas:y}})}}),{data:a}=Cr({queryKey:["top-products"],queryFn:async()=>{const{data:c,error:u}=await Ge.from("sale_items").select("product_name, quantity");if(u)throw u;const h=new Map;return c==null||c.forEach(m=>{const y=h.get(m.product_name)||0;h.set(m.product_name,y+m.quantity)}),Array.from(h.entries()).map(([m,y])=>({producto:m,vendidos:y})).sort((m,y)=>y.vendidos-m.vendidos).slice(0,5)}}),{data:s}=Cr({queryKey:["critical-stock-list"],queryFn:async()=>{const{data:c,error:u}=await Ge.from("products").select("name, stock, min_stock").lte("stock",10).order("stock",{ascending:!0}).limit(5);if(u)throw u;return c}}),o=[{title:"Ventas de Hoy",value:`$${(e==null?void 0:e.today.toFixed(2))||"0.00"}`,icon:Cf,description:"Ingresos del día actual",color:"text-primary",bgColor:"bg-primary/10"},{title:"Ventas Totales",value:(e==null?void 0:e.count)||0,icon:mp,description:"Transacciones registradas",color:"text-accent",bgColor:"bg-accent/10"},{title:"Productos",value:t||0,icon:mf,description:`${n||0} con stock bajo`,color:"text-success",bgColor:"bg-success/10"},{title:"Clientes",value:r||0,icon:GN,description:"Clientes registrados",color:"text-muted-foreground",bgColor:"bg-muted"}];return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),d.jsx("p",{className:"text-muted-foreground",children:"Vista general del negocio"})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:o.map(c=>d.jsxs(At,{className:"shadow-soft hover:shadow-medium transition-all overflow-hidden",children:[d.jsx("div",{className:`h-1 w-full ${c.bgColor}`}),d.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[d.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:c.title}),d.jsx("div",{className:`p-2 rounded-lg ${c.bgColor}`,children:d.jsx(c.icon,{className:`h-5 w-5 ${c.color}`})})]}),d.jsxs(Pt,{children:[d.jsx("div",{className:"text-3xl font-bold text-foreground",children:c.value}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:c.description})]})]},c.title))}),d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(lm,{className:"h-5 w-5 text-primary"}),"Resumen de Ventas"]})}),d.jsx(Pt,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total Acumulado"}),d.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",(e==null?void 0:e.total.toFixed(2))||"0.00"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Promedio por Venta"}),d.jsxs("span",{className:"text-lg font-semibold",children:["$",e!=null&&e.count?(e.total/e.count).toFixed(2):"0.00"]})]})]})})]}),d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(lm,{className:"h-5 w-5 text-primary"}),"Ventas de los Últimos 7 Días"]})}),d.jsx(Pt,{children:d.jsx(d0,{width:"100%",height:300,children:d.jsxs(yV,{data:i,children:[d.jsx(M0,{strokeDasharray:"3 3",className:"stroke-muted"}),d.jsx(Wu,{dataKey:"date",className:"text-sm"}),d.jsx(Hu,{className:"text-sm"}),d.jsx(Cs,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:c=>[`$${c.toFixed(2)}`,"Ventas"]}),d.jsx(w1,{type:"monotone",dataKey:"ventas",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4},activeDot:{r:6}})]})})})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(mf,{className:"h-5 w-5 text-success"}),"Top 5 Productos Más Vendidos"]})}),d.jsx(Pt,{children:d.jsx(d0,{width:"100%",height:300,children:d.jsxs(f4,{data:a,layout:"vertical",children:[d.jsx(M0,{strokeDasharray:"3 3",className:"stroke-muted"}),d.jsx(Wu,{type:"number",className:"text-sm"}),d.jsx(Hu,{dataKey:"producto",type:"category",width:100,className:"text-xs"}),d.jsx(Cs,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:c=>[c,"Unidades"]}),d.jsx(Bc,{dataKey:"vendidos",fill:"hsl(var(--success))",radius:[0,8,8,0]})]})})})]}),d.jsxs(At,{className:"shadow-soft border-l-4 border-warning",children:[d.jsx(Xt,{children:d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(cb,{className:"h-5 w-5 text-warning"}),"Alertas de Stock Bajo"]})}),d.jsx(Pt,{children:d.jsx("div",{className:"space-y-3",children:(s==null?void 0:s.length)===0?d.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"✅ No hay productos con stock crítico"}):s==null?void 0:s.map((c,u)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-warning/5 border border-warning/20",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-sm text-foreground",children:c.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Stock mínimo: ",c.min_stock]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-2xl font-bold text-warning",children:c.stock}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"unidades"})]})]},u))})})]})]})]})})}const pt=M.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:Mt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));pt.displayName="Input";var x8e="Label",xV=M.forwardRef((e,t)=>d.jsx(br.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xV.displayName=x8e;var bV=xV;const b8e=by("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dt=M.forwardRef(({className:e,...t},r)=>d.jsx(bV,{ref:r,className:Mt(b8e(),e),...t}));dt.displayName=bV.displayName;var w5="Tabs",[w8e,U9e]=Ho(w5,[__]),wV=__(),[_8e,WT]=w8e(w5),_V=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:c="automatic",...u}=e,h=b_(o),[m,y]=Zu({prop:n,onChange:i,defaultProp:a??"",caller:w5});return d.jsx(_8e,{scope:r,baseId:Mc(),value:m,onValueChange:y,orientation:s,dir:h,activationMode:c,children:d.jsx(br.div,{dir:h,"data-orientation":s,...u,ref:t})})});_V.displayName=w5;var SV="TabsList",AV=M.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=WT(SV,r),s=wV(r);return d.jsx(bU,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:d.jsx(br.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});AV.displayName=SV;var EV="TabsTrigger",CV=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,s=WT(EV,r),o=wV(r),c=TV(s.baseId,n),u=jV(s.baseId,n),h=n===s.value;return d.jsx(wU,{asChild:!0,...o,focusable:!i,active:h,children:d.jsx(br.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:wt(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?s.onValueChange(n):m.preventDefault()}),onKeyDown:wt(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&s.onValueChange(n)}),onFocus:wt(e.onFocus,()=>{const m=s.activationMode!=="manual";!h&&!i&&m&&s.onValueChange(n)})})})});CV.displayName=EV;var NV="TabsContent",OV=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=e,o=WT(NV,r),c=TV(o.baseId,n),u=jV(o.baseId,n),h=n===o.value,m=M.useRef(h);return M.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),d.jsx(bl,{present:i||h,children:({present:y})=>d.jsx(br.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!y,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:y&&a})})});OV.displayName=NV;function TV(e,t){return`${e}-trigger-${t}`}function jV(e,t){return`${e}-content-${t}`}var S8e=_V,IV=AV,kV=CV,PV=OV;const Dy=S8e,_1=M.forwardRef(({className:e,...t},r)=>d.jsx(IV,{ref:r,className:Mt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_1.displayName=IV.displayName;const Ra=M.forwardRef(({className:e,...t},r)=>d.jsx(kV,{ref:r,className:Mt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ra.displayName=kV.displayName;const Da=M.forwardRef(({className:e,...t},r)=>d.jsx(PV,{ref:r,className:Mt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Da.displayName=PV.displayName;var mn;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(mn||(mn={}));var KR;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(KR||(KR={}));const Jt=mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dd=e=>{switch(typeof e){case"undefined":return Jt.undefined;case"string":return Jt.string;case"number":return Number.isNaN(e)?Jt.nan:Jt.number;case"boolean":return Jt.boolean;case"function":return Jt.function;case"bigint":return Jt.bigint;case"symbol":return Jt.symbol;case"object":return Array.isArray(e)?Jt.array:e===null?Jt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Jt.promise:typeof Map<"u"&&e instanceof Map?Jt.map:typeof Set<"u"&&e instanceof Set?Jt.set:typeof Date<"u"&&e instanceof Date?Jt.date:Jt.object;default:return Jt.unknown}},gt=mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ms extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Ms))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ms.create=e=>new Ms(e);const h4=(e,t)=>{let r;switch(e.code){case gt.invalid_type:e.received===Jt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case gt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,mn.jsonStringifyReplacer)}`;break;case gt.unrecognized_keys:r=`Unrecognized key(s) in object: ${mn.joinValues(e.keys,", ")}`;break;case gt.invalid_union:r="Invalid input";break;case gt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mn.joinValues(e.options)}`;break;case gt.invalid_enum_value:r=`Invalid enum value. Expected ${mn.joinValues(e.options)}, received '${e.received}'`;break;case gt.invalid_arguments:r="Invalid function arguments";break;case gt.invalid_return_type:r="Invalid function return type";break;case gt.invalid_date:r="Invalid date";break;case gt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:mn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case gt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case gt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case gt.custom:r="Invalid input";break;case gt.invalid_intersection_types:r="Intersection results could not be merged";break;case gt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case gt.not_finite:r="Number must be finite";break;default:r=t.defaultError,mn.assertNever(e)}return{message:r}};let A8e=h4;function E8e(){return A8e}const C8e=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function jt(e,t){const r=E8e(),n=C8e({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===h4?void 0:h4].filter(i=>!!i)});e.common.issues.push(n)}class zo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Mr;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return zo.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Mr;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const Mr=Object.freeze({status:"aborted"}),fg=e=>({status:"dirty",value:e}),Sl=e=>({status:"valid",value:e}),YR=e=>e.status==="aborted",XR=e=>e.status==="dirty",Fm=e=>e.status==="valid",Nw=e=>typeof Promise<"u"&&e instanceof Promise;var nr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(nr||(nr={}));class Tf{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZR=(e,t)=>{if(Fm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ms(e.common.issues);return this._error=r,this._error}}};function Xr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:i}}class fn{get description(){return this._def.description}_getType(t){return Dd(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Dd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new zo,ctx:{common:t.parent.common,data:t.data,parsedType:Dd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Nw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dd(t)},i=this._parseSync({data:t,path:n.path,parent:n});return ZR(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dd(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Fm(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Fm(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dd(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Nw(i)?i:Promise.resolve(i));return ZR(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),o=()=>a.addIssue({code:gt.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Um({schema:this,typeName:Rr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return xf.create(this,this._def)}nullable(){return zm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $c.create(this)}promise(){return Iw.create(this,this._def)}or(t){return Tw.create([this,t],this._def)}and(t){return jw.create(this,t,this._def)}transform(t){return new Um({...Xr(this._def),schema:this,typeName:Rr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new g4({...Xr(this._def),innerType:this,defaultValue:r,typeName:Rr.ZodDefault})}brand(){return new Y8e({typeName:Rr.ZodBranded,type:this,...Xr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new v4({...Xr(this._def),innerType:this,catchValue:r,typeName:Rr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return HT.create(this,t)}readonly(){return y4.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const N8e=/^c[^\s-]{8,}$/i,O8e=/^[0-9a-z]+$/,T8e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,j8e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,I8e=/^[a-z0-9_-]{21}$/i,k8e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,P8e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M8e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,R8e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let SA;const D8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,L8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,F8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,B8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$8e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,U8e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",z8e=new RegExp(`^${MV}$`);function RV(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function q8e(e){return new RegExp(`^${RV(e)}$`)}function W8e(e){let t=`${MV}T${RV(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function H8e(e,t){return!!((t==="v4"||!t)&&D8e.test(e)||(t==="v6"||!t)&&F8e.test(e))}function V8e(e,t){if(!k8e.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function G8e(e,t){return!!((t==="v4"||!t)&&L8e.test(e)||(t==="v6"||!t)&&B8e.test(e))}class rf extends fn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Jt.string){const a=this._getOrReturnCtx(t);return jt(a,{code:gt.invalid_type,expected:Jt.string,received:a.parsedType}),Mr}const n=new zo;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,o=t.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(t,i),s?jt(i,{code:gt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&jt(i,{code:gt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")M8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"email",code:gt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")SA||(SA=new RegExp(R8e,"u")),SA.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"emoji",code:gt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")j8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"uuid",code:gt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")I8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"nanoid",code:gt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")N8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"cuid",code:gt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")O8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"cuid2",code:gt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")T8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"ulid",code:gt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),jt(i,{validation:"url",code:gt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"regex",code:gt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?W8e(a).test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?z8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?q8e(a).test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?P8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"duration",code:gt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?H8e(t.data,a.version)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"ip",code:gt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?V8e(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"jwt",code:gt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?G8e(t.data,a.version)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"cidr",code:gt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?$8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"base64",code:gt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?U8e.test(t.data)||(i=this._getOrReturnCtx(t,i),jt(i,{validation:"base64url",code:gt.invalid_string,message:a.message}),n.dirty()):mn.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:gt.invalid_string,...nr.errToObj(n)})}_addCheck(t){return new rf({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...nr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...nr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...nr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...nr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...nr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...nr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...nr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...nr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...nr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...nr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...nr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...nr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...nr.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...nr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...nr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...nr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...nr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...nr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...nr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...nr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...nr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...nr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...nr.errToObj(r)})}nonempty(t){return this.min(1,nr.errToObj(t))}trim(){return new rf({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rf({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rf({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}rf.create=e=>new rf({checks:[],typeName:Rr.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Xr(e)});function K8e(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class Bm extends fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Jt.number){const a=this._getOrReturnCtx(t);return jt(a,{code:gt.invalid_type,expected:Jt.number,received:a.parsedType}),Mr}let n;const i=new zo;for(const a of this._def.checks)a.kind==="int"?mn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{code:gt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),jt(n,{code:gt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),jt(n,{code:gt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?K8e(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),jt(n,{code:gt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{code:gt.not_finite,message:a.message}),i.dirty()):mn.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,nr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,nr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,nr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,nr.toString(r))}setLimit(t,r,n,i){return new Bm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:nr.toString(i)}]})}_addCheck(t){return new Bm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:nr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:nr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:nr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&mn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Bm.create=e=>new Bm({checks:[],typeName:Rr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Xr(e)});class Zv extends fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Jt.bigint)return this._getInvalidInput(t);let n;const i=new zo;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),jt(n,{code:gt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),jt(n,{code:gt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),jt(n,{code:gt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):mn.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return jt(r,{code:gt.invalid_type,expected:Jt.bigint,received:r.parsedType}),Mr}gte(t,r){return this.setLimit("min",t,!0,nr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,nr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,nr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,nr.toString(r))}setLimit(t,r,n,i){return new Zv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:nr.toString(i)}]})}_addCheck(t){return new Zv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:nr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zv.create=e=>new Zv({checks:[],typeName:Rr.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Xr(e)});class p4 extends fn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Jt.boolean){const n=this._getOrReturnCtx(t);return jt(n,{code:gt.invalid_type,expected:Jt.boolean,received:n.parsedType}),Mr}return Sl(t.data)}}p4.create=e=>new p4({typeName:Rr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Xr(e)});class Ow extends fn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Jt.date){const a=this._getOrReturnCtx(t);return jt(a,{code:gt.invalid_type,expected:Jt.date,received:a.parsedType}),Mr}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return jt(a,{code:gt.invalid_date}),Mr}const n=new zo;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),jt(i,{code:gt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):mn.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ow({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:nr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:nr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ow.create=e=>new Ow({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Rr.ZodDate,...Xr(e)});class QR extends fn{_parse(t){if(this._getType(t)!==Jt.symbol){const n=this._getOrReturnCtx(t);return jt(n,{code:gt.invalid_type,expected:Jt.symbol,received:n.parsedType}),Mr}return Sl(t.data)}}QR.create=e=>new QR({typeName:Rr.ZodSymbol,...Xr(e)});class JR extends fn{_parse(t){if(this._getType(t)!==Jt.undefined){const n=this._getOrReturnCtx(t);return jt(n,{code:gt.invalid_type,expected:Jt.undefined,received:n.parsedType}),Mr}return Sl(t.data)}}JR.create=e=>new JR({typeName:Rr.ZodUndefined,...Xr(e)});class eD extends fn{_parse(t){if(this._getType(t)!==Jt.null){const n=this._getOrReturnCtx(t);return jt(n,{code:gt.invalid_type,expected:Jt.null,received:n.parsedType}),Mr}return Sl(t.data)}}eD.create=e=>new eD({typeName:Rr.ZodNull,...Xr(e)});class tD extends fn{constructor(){super(...arguments),this._any=!0}_parse(t){return Sl(t.data)}}tD.create=e=>new tD({typeName:Rr.ZodAny,...Xr(e)});class rD extends fn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Sl(t.data)}}rD.create=e=>new rD({typeName:Rr.ZodUnknown,...Xr(e)});class jf extends fn{_parse(t){const r=this._getOrReturnCtx(t);return jt(r,{code:gt.invalid_type,expected:Jt.never,received:r.parsedType}),Mr}}jf.create=e=>new jf({typeName:Rr.ZodNever,...Xr(e)});class nD extends fn{_parse(t){if(this._getType(t)!==Jt.undefined){const n=this._getOrReturnCtx(t);return jt(n,{code:gt.invalid_type,expected:Jt.void,received:n.parsedType}),Mr}return Sl(t.data)}}nD.create=e=>new nD({typeName:Rr.ZodVoid,...Xr(e)});class $c extends fn{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Jt.array)return jt(r,{code:gt.invalid_type,expected:Jt.array,received:r.parsedType}),Mr;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(jt(r,{code:s?gt.too_big:gt.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(jt(r,{code:gt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(jt(r,{code:gt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new Tf(r,s,r.path,o)))).then(s=>zo.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new Tf(r,s,r.path,o)));return zo.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new $c({...this._def,minLength:{value:t,message:nr.toString(r)}})}max(t,r){return new $c({...this._def,maxLength:{value:t,message:nr.toString(r)}})}length(t,r){return new $c({...this._def,exactLength:{value:t,message:nr.toString(r)}})}nonempty(t){return this.min(1,t)}}$c.create=(e,t)=>new $c({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Rr.ZodArray,...Xr(t)});function Xp(e){if(e instanceof Pi){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=xf.create(Xp(n))}return new Pi({...e._def,shape:()=>t})}else return e instanceof $c?new $c({...e._def,type:Xp(e.element)}):e instanceof xf?xf.create(Xp(e.unwrap())):e instanceof zm?zm.create(Xp(e.unwrap())):e instanceof ap?ap.create(e.items.map(t=>Xp(t))):e}class Pi extends fn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=mn.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Jt.object){const u=this._getOrReturnCtx(t);return jt(u,{code:gt.invalid_type,expected:Jt.object,received:u.parsedType}),Mr}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof jf&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const h=a[u],m=i.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new Tf(i,m,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof jf){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of o)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(u==="strict")o.length>0&&(jt(i,{code:gt.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of o){const m=i.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new Tf(i,m,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const m=await h.key,y=await h.value;u.push({key:m,value:y,alwaysSet:h.alwaysSet})}return u}).then(u=>zo.mergeObjectSync(n,u)):zo.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return nr.errToObj,new Pi({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:nr.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Pi({...this._def,unknownKeys:"strip"})}passthrough(){return new Pi({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pi({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pi({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Rr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Pi({...this._def,catchall:t})}pick(t){const r={};for(const n of mn.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Pi({...this._def,shape:()=>r})}omit(t){const r={};for(const n of mn.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Pi({...this._def,shape:()=>r})}deepPartial(){return Xp(this)}partial(t){const r={};for(const n of mn.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new Pi({...this._def,shape:()=>r})}required(t){const r={};for(const n of mn.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof xf;)a=a._def.innerType;r[n]=a}return new Pi({...this._def,shape:()=>r})}keyof(){return DV(mn.objectKeys(this.shape))}}Pi.create=(e,t)=>new Pi({shape:()=>e,unknownKeys:"strip",catchall:jf.create(),typeName:Rr.ZodObject,...Xr(t)});Pi.strictCreate=(e,t)=>new Pi({shape:()=>e,unknownKeys:"strict",catchall:jf.create(),typeName:Rr.ZodObject,...Xr(t)});Pi.lazycreate=(e,t)=>new Pi({shape:e,unknownKeys:"strip",catchall:jf.create(),typeName:Rr.ZodObject,...Xr(t)});class Tw extends fn{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Ms(o.ctx.common.issues));return jt(r,{code:gt.invalid_union,unionErrors:s}),Mr}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(c=>new Ms(c));return jt(r,{code:gt.invalid_union,unionErrors:o}),Mr}}get options(){return this._def.options}}Tw.create=(e,t)=>new Tw({options:e,typeName:Rr.ZodUnion,...Xr(t)});function m4(e,t){const r=Dd(e),n=Dd(t);if(e===t)return{valid:!0,data:e};if(r===Jt.object&&n===Jt.object){const i=mn.objectKeys(t),a=mn.objectKeys(e).filter(o=>i.indexOf(o)!==-1),s={...e,...t};for(const o of a){const c=m4(e[o],t[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===Jt.array&&n===Jt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a],c=m4(s,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Jt.date&&n===Jt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class jw extends fn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(YR(a)||YR(s))return Mr;const o=m4(a.value,s.value);return o.valid?((XR(a)||XR(s))&&r.dirty(),{status:r.value,value:o.data}):(jt(n,{code:gt.invalid_intersection_types}),Mr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}jw.create=(e,t,r)=>new jw({left:e,right:t,typeName:Rr.ZodIntersection,...Xr(r)});class ap extends fn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Jt.array)return jt(n,{code:gt.invalid_type,expected:Jt.array,received:n.parsedType}),Mr;if(n.data.length<this._def.items.length)return jt(n,{code:gt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mr;!this._def.rest&&n.data.length>this._def.items.length&&(jt(n,{code:gt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Tf(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>zo.mergeArray(r,s)):zo.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new ap({...this._def,rest:t})}}ap.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ap({items:e,typeName:Rr.ZodTuple,rest:null,...Xr(t)})};class iD extends fn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Jt.map)return jt(n,{code:gt.invalid_type,expected:Jt.map,received:n.parsedType}),Mr;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new Tf(n,o,n.path,[u,"key"])),value:a._parse(new Tf(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return Mr;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),o.set(u.value,h.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return Mr;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),o.set(u.value,h.value)}return{status:r.value,value:o}}}}iD.create=(e,t,r)=>new iD({valueType:t,keyType:e,typeName:Rr.ZodMap,...Xr(r)});class Qv extends fn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Jt.set)return jt(n,{code:gt.invalid_type,expected:Jt.set,received:n.parsedType}),Mr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(jt(n,{code:gt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(jt(n,{code:gt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const h of c){if(h.status==="aborted")return Mr;h.status==="dirty"&&r.dirty(),u.add(h.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>a._parse(new Tf(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(t,r){return new Qv({...this._def,minSize:{value:t,message:nr.toString(r)}})}max(t,r){return new Qv({...this._def,maxSize:{value:t,message:nr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Qv.create=(e,t)=>new Qv({valueType:e,minSize:null,maxSize:null,typeName:Rr.ZodSet,...Xr(t)});class aD extends fn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}aD.create=(e,t)=>new aD({getter:e,typeName:Rr.ZodLazy,...Xr(t)});class sD extends fn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return jt(r,{received:r.data,code:gt.invalid_literal,expected:this._def.value}),Mr}return{status:"valid",value:t.data}}get value(){return this._def.value}}sD.create=(e,t)=>new sD({value:e,typeName:Rr.ZodLiteral,...Xr(t)});function DV(e,t){return new $m({values:e,typeName:Rr.ZodEnum,...Xr(t)})}class $m extends fn{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return jt(r,{expected:mn.joinValues(n),received:r.parsedType,code:gt.invalid_type}),Mr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return jt(r,{received:r.data,code:gt.invalid_enum_value,options:n}),Mr}return Sl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return $m.create(t,{...this._def,...r})}exclude(t,r=this._def){return $m.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}$m.create=DV;class oD extends fn{_parse(t){const r=mn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Jt.string&&n.parsedType!==Jt.number){const i=mn.objectValues(r);return jt(n,{expected:mn.joinValues(i),received:n.parsedType,code:gt.invalid_type}),Mr}if(this._cache||(this._cache=new Set(mn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=mn.objectValues(r);return jt(n,{received:n.data,code:gt.invalid_enum_value,options:i}),Mr}return Sl(t.data)}get enum(){return this._def.values}}oD.create=(e,t)=>new oD({values:e,typeName:Rr.ZodNativeEnum,...Xr(t)});class Iw extends fn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Jt.promise&&r.common.async===!1)return jt(r,{code:gt.invalid_type,expected:Jt.promise,received:r.parsedType}),Mr;const n=r.parsedType===Jt.promise?r.data:Promise.resolve(r.data);return Sl(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Iw.create=(e,t)=>new Iw({type:e,typeName:Rr.ZodPromise,...Xr(t)});class Um extends fn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{jt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Mr;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Mr:c.status==="dirty"||r.value==="dirty"?fg(c.value):c});{if(r.value==="aborted")return Mr;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Mr:o.status==="dirty"||r.value==="dirty"?fg(o.value):o}}if(i.type==="refinement"){const s=o=>{const c=i.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Mr:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Mr:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Fm(s))return Mr;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Fm(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):Mr);mn.assertNever(i)}}Um.create=(e,t,r)=>new Um({schema:e,typeName:Rr.ZodEffects,effect:t,...Xr(r)});Um.createWithPreprocess=(e,t,r)=>new Um({schema:t,effect:{type:"preprocess",transform:e},typeName:Rr.ZodEffects,...Xr(r)});class xf extends fn{_parse(t){return this._getType(t)===Jt.undefined?Sl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xf.create=(e,t)=>new xf({innerType:e,typeName:Rr.ZodOptional,...Xr(t)});class zm extends fn{_parse(t){return this._getType(t)===Jt.null?Sl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zm.create=(e,t)=>new zm({innerType:e,typeName:Rr.ZodNullable,...Xr(t)});class g4 extends fn{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Jt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}g4.create=(e,t)=>new g4({innerType:e,typeName:Rr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xr(t)});class v4 extends fn{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Nw(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ms(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ms(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}v4.create=(e,t)=>new v4({innerType:e,typeName:Rr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xr(t)});class lD extends fn{_parse(t){if(this._getType(t)!==Jt.nan){const n=this._getOrReturnCtx(t);return jt(n,{code:gt.invalid_type,expected:Jt.nan,received:n.parsedType}),Mr}return{status:"valid",value:t.data}}}lD.create=e=>new lD({typeName:Rr.ZodNaN,...Xr(e)});class Y8e extends fn{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class HT extends fn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Mr:a.status==="dirty"?(r.dirty(),fg(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Mr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new HT({in:t,out:r,typeName:Rr.ZodPipeline})}}class y4 extends fn{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Fm(i)&&(i.value=Object.freeze(i.value)),i);return Nw(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}y4.create=(e,t)=>new y4({innerType:e,typeName:Rr.ZodReadonly,...Xr(t)});Pi.lazycreate;var Rr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Rr||(Rr={}));const Rn=rf.create,Ch=Bm.create,cD=p4.create;jf.create;$c.create;const _5=Pi.create;Pi.strictCreate;Tw.create;jw.create;ap.create;$m.create;Iw.create;xf.create;zm.create;const uD=_5({email:Rn().trim().toLowerCase().email({message:"Email inválido"}),password:Rn().min(8,{message:"La contraseña debe tener al menos 8 caracteres"}).regex(/[A-Z]/,{message:"La contraseña debe contener al menos una mayúscula"}).regex(/[a-z]/,{message:"La contraseña debe contener al menos una minúscula"}).regex(/[0-9]/,{message:"La contraseña debe contener al menos un número"}),fullName:Rn().trim().min(1,{message:"El nombre es requerido"}).optional()});function X8e(){const e=i1(),[t,r]=M.useState(!1),[n,i]=M.useState(""),[a,s]=M.useState(""),[o,c]=M.useState("");M.useEffect(()=>{const{data:{subscription:m}}=Ge.auth.onAuthStateChange((y,g)=>{g&&e("/")});return Ge.auth.getSession().then(({data:{session:y}})=>{y&&e("/")}),()=>m.unsubscribe()},[e]);const u=async m=>{m.preventDefault(),r(!0);try{uD.parse({email:n,password:a});const{error:y}=await Ge.auth.signInWithPassword({email:n,password:a});if(y)throw y;ut.success("¡Bienvenido!")}catch(y){y instanceof Ms?ut.error(y.errors[0].message):ut.error(y.message||"Error al iniciar sesión")}finally{r(!1)}},h=async m=>{m.preventDefault(),r(!0);try{uD.parse({email:n,password:a,fullName:o});const y=`${window.location.origin}/`,{error:g}=await Ge.auth.signUp({email:n,password:a,options:{emailRedirectTo:y,data:{full_name:o}}});if(g)throw g;ut.success("¡Cuenta creada! Revisa tu email para confirmar tu cuenta.")}catch(y){y instanceof Ms?ut.error(y.errors[0].message):ut.error(y.message||"Error al crear cuenta")}finally{r(!1)}};return d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:d.jsxs(At,{className:"w-full max-w-md shadow-medium",children:[d.jsxs(Xt,{className:"space-y-4 text-center",children:[d.jsx("div",{className:"mx-auto w-12 h-12 rounded-xl bg-primary flex items-center justify-center shadow-soft",children:d.jsx(mp,{className:"w-7 h-7 text-primary-foreground"})}),d.jsxs("div",{children:[d.jsx(fr,{className:"text-2xl font-bold",children:"RetailSnap Pro"}),d.jsx(Vl,{children:"Sistema de Punto de Venta"})]})]}),d.jsx(Pt,{children:d.jsxs(Dy,{defaultValue:"login",className:"w-full",children:[d.jsxs(_1,{className:"grid w-full grid-cols-2",children:[d.jsx(Ra,{value:"login",children:"Iniciar Sesión"}),d.jsx(Ra,{value:"signup",children:"Registrarse"})]}),d.jsx(Da,{value:"login",children:d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"login-email",children:"Email"}),d.jsx(pt,{id:"login-email",type:"email",placeholder:"tu@email.com",value:n,onChange:m=>i(m.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"login-password",children:"Contraseña"}),d.jsx(pt,{id:"login-password",type:"password",placeholder:"••••••••",value:a,onChange:m=>s(m.target.value),required:!0})]}),d.jsx(ot,{type:"submit",className:"w-full",disabled:t,children:t?"Iniciando sesión...":"Iniciar Sesión"})]})}),d.jsx(Da,{value:"signup",children:d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"signup-name",children:"Nombre Completo"}),d.jsx(pt,{id:"signup-name",type:"text",placeholder:"Tu nombre",value:o,onChange:m=>c(m.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"signup-email",children:"Email"}),d.jsx(pt,{id:"signup-email",type:"email",placeholder:"tu@email.com",value:n,onChange:m=>i(m.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"signup-password",children:"Contraseña"}),d.jsx(pt,{id:"signup-password",type:"password",placeholder:"••••••••",value:a,onChange:m=>s(m.target.value),required:!0})]}),d.jsx(ot,{type:"submit",className:"w-full",disabled:t,children:t?"Creando cuenta...":"Crear Cuenta"})]})})]})})]})})}function dD(e,[t,r]){return Math.min(r,Math.max(t,e))}function VT(e){const t=M.useRef({value:e,previous:e});return M.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Z8e=[" ","Enter","ArrowUp","ArrowDown"],Q8e=[" ","Enter"],sp="Select",[S5,A5,J8e]=o_(sp),[S1,z9e]=Ho(sp,[J8e,e1]),E5=e1(),[e6e,Wf]=S1(sp),[t6e,r6e]=S1(sp),LV=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:c,dir:u,name:h,autoComplete:m,disabled:y,required:g,form:S}=e,_=E5(t),[w,A]=M.useState(null),[E,O]=M.useState(null),[I,k]=M.useState(!1),F=b_(u),[B,D]=Zu({prop:n,defaultProp:i??!1,onChange:a,caller:sp}),[P,K]=Zu({prop:s,defaultProp:o,onChange:c,caller:sp}),$=M.useRef(null),z=w?S||!!w.closest("form"):!0,[X,W]=M.useState(new Set),V=Array.from(X).map(Q=>Q.props.value).join(";");return d.jsx(FB,{..._,children:d.jsxs(e6e,{required:g,scope:t,trigger:w,onTriggerChange:A,valueNode:E,onValueNodeChange:O,valueNodeHasChildren:I,onValueNodeHasChildrenChange:k,contentId:Mc(),value:P,onValueChange:K,open:B,onOpenChange:D,dir:F,triggerPointerDownPosRef:$,disabled:y,children:[d.jsx(S5.Provider,{scope:t,children:d.jsx(t6e,{scope:e.__scopeSelect,onNativeOptionAdd:M.useCallback(Q=>{W(ne=>new Set(ne).add(Q))},[]),onNativeOptionRemove:M.useCallback(Q=>{W(ne=>{const te=new Set(ne);return te.delete(Q),te})},[]),children:r})}),z?d.jsxs(oG,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:m,value:P,onChange:Q=>K(Q.target.value),disabled:y,form:S,children:[P===void 0?d.jsx("option",{value:""}):null,Array.from(X)]},V):null]})})};LV.displayName=sp;var FV="SelectTrigger",BV=M.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=E5(r),s=Wf(FV,r),o=s.disabled||n,c=Qr(t,s.onTriggerChange),u=A5(r),h=M.useRef("touch"),[m,y,g]=cG(_=>{const w=u().filter(O=>!O.disabled),A=w.find(O=>O.value===s.value),E=uG(w,_,A);E!==void 0&&s.onValueChange(E.value)}),S=_=>{o||(s.onOpenChange(!0),g()),_&&(s.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return d.jsx(aO,{asChild:!0,...a,children:d.jsx(br.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":lG(s.value)?"":void 0,...i,ref:c,onClick:wt(i.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&S(_)}),onPointerDown:wt(i.onPointerDown,_=>{h.current=_.pointerType;const w=_.target;w.hasPointerCapture(_.pointerId)&&w.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(S(_),_.preventDefault())}),onKeyDown:wt(i.onKeyDown,_=>{const w=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&y(_.key),!(w&&_.key===" ")&&Z8e.includes(_.key)&&(S(),_.preventDefault())})})})});BV.displayName=FV;var $V="SelectValue",UV=M.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=e,c=Wf($V,r),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,m=Qr(t,c.onValueNodeChange);return Za(()=>{u(h)},[u,h]),d.jsx(br.span,{...o,ref:m,style:{pointerEvents:"none"},children:lG(c.value)?d.jsx(d.Fragment,{children:s}):a})});UV.displayName=$V;var n6e="SelectIcon",zV=M.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return d.jsx(br.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});zV.displayName=n6e;var i6e="SelectPortal",qV=e=>d.jsx(yy,{asChild:!0,...e});qV.displayName=i6e;var op="SelectContent",WV=M.forwardRef((e,t)=>{const r=Wf(op,e.__scopeSelect),[n,i]=M.useState();if(Za(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?pp.createPortal(d.jsx(HV,{scope:e.__scopeSelect,children:d.jsx(S5.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),a):null}return d.jsx(VV,{...e,ref:t})});WV.displayName=op;var Bl=10,[HV,Hf]=S1(op),a6e="SelectContentImpl",s6e=Yh("SelectContent.RemoveScroll"),VV=M.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:c,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:g,sticky:S,hideWhenDetached:_,avoidCollisions:w,...A}=e,E=Wf(op,r),[O,I]=M.useState(null),[k,F]=M.useState(null),B=Qr(t,Se=>I(Se)),[D,P]=M.useState(null),[K,$]=M.useState(null),z=A5(r),[X,W]=M.useState(!1),V=M.useRef(!1);M.useEffect(()=>{if(O)return TO(O)},[O]),OO();const Q=M.useCallback(Se=>{const[Ae,...ye]=z().map(Ce=>Ce.ref.current),[Ne]=ye.slice(-1),Ee=document.activeElement;for(const Ce of Se)if(Ce===Ee||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===Ae&&k&&(k.scrollTop=0),Ce===Ne&&k&&(k.scrollTop=k.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Ee))return},[z,k]),ne=M.useCallback(()=>Q([D,O]),[Q,D,O]);M.useEffect(()=>{X&&ne()},[X,ne]);const{onOpenChange:te,triggerPointerDownPosRef:H}=E;M.useEffect(()=>{if(O){let Se={x:0,y:0};const Ae=Ne=>{var Ee,Ce;Se={x:Math.abs(Math.round(Ne.pageX)-(((Ee=H.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((Ce=H.current)==null?void 0:Ce.y)??0))}},ye=Ne=>{Se.x<=10&&Se.y<=10?Ne.preventDefault():O.contains(Ne.target)||te(!1),document.removeEventListener("pointermove",Ae),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",ye,{capture:!0})}}},[O,te,H]),M.useEffect(()=>{const Se=()=>te(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[te]);const[le,fe]=cG(Se=>{const Ae=z().filter(Ee=>!Ee.disabled),ye=Ae.find(Ee=>Ee.ref.current===document.activeElement),Ne=uG(Ae,Se,ye);Ne&&setTimeout(()=>Ne.ref.current.focus())}),q=M.useCallback((Se,Ae,ye)=>{const Ne=!V.current&&!ye;(E.value!==void 0&&E.value===Ae||Ne)&&(P(Se),Ne&&(V.current=!0))},[E.value]),Z=M.useCallback(()=>O==null?void 0:O.focus(),[O]),ae=M.useCallback((Se,Ae,ye)=>{const Ne=!V.current&&!ye;(E.value!==void 0&&E.value===Ae||Ne)&&$(Se)},[E.value]),ge=n==="popper"?x4:GV,he=ge===x4?{side:o,sideOffset:c,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:g,sticky:S,hideWhenDetached:_,avoidCollisions:w}:{};return d.jsx(HV,{scope:r,content:O,viewport:k,onViewportChange:F,itemRefCallback:q,selectedItem:D,onItemLeave:Z,itemTextRefCallback:ae,focusSelectedItem:ne,selectedItemText:K,position:n,isPositioned:X,searchRef:le,children:d.jsx(A_,{as:s6e,allowPinchZoom:!0,children:d.jsx(w_,{asChild:!0,trapped:E.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:wt(i,Se=>{var Ae;(Ae=E.trigger)==null||Ae.focus({preventScroll:!0}),Se.preventDefault()}),children:d.jsx(Xm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:d.jsx(ge,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Se=>Se.preventDefault(),...A,...he,onPlaced:()=>W(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:wt(A.onKeyDown,Se=>{const Ae=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!Ae&&Se.key.length===1&&fe(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let Ne=z().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Ee=Se.target,Ce=Ne.indexOf(Ee);Ne=Ne.slice(Ce+1)}setTimeout(()=>Q(Ne)),Se.preventDefault()}})})})})})})});VV.displayName=a6e;var o6e="SelectItemAlignedPosition",GV=M.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Wf(op,r),s=Hf(op,r),[o,c]=M.useState(null),[u,h]=M.useState(null),m=Qr(t,B=>h(B)),y=A5(r),g=M.useRef(!1),S=M.useRef(!0),{viewport:_,selectedItem:w,selectedItemText:A,focusSelectedItem:E}=s,O=M.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&_&&w&&A){const B=a.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),K=A.getBoundingClientRect();if(a.dir!=="rtl"){const Ee=K.left-D.left,Ce=P.left-Ee,Re=B.left-Ce,je=B.width+Re,de=Math.max(je,D.width),it=window.innerWidth-Bl,ft=dD(Ce,[Bl,Math.max(Bl,it-de)]);o.style.minWidth=je+"px",o.style.left=ft+"px"}else{const Ee=D.right-K.right,Ce=window.innerWidth-P.right-Ee,Re=window.innerWidth-B.right-Ce,je=B.width+Re,de=Math.max(je,D.width),it=window.innerWidth-Bl,ft=dD(Ce,[Bl,Math.max(Bl,it-de)]);o.style.minWidth=je+"px",o.style.right=ft+"px"}const $=y(),z=window.innerHeight-Bl*2,X=_.scrollHeight,W=window.getComputedStyle(u),V=parseInt(W.borderTopWidth,10),Q=parseInt(W.paddingTop,10),ne=parseInt(W.borderBottomWidth,10),te=parseInt(W.paddingBottom,10),H=V+Q+X+te+ne,le=Math.min(w.offsetHeight*5,H),fe=window.getComputedStyle(_),q=parseInt(fe.paddingTop,10),Z=parseInt(fe.paddingBottom,10),ae=B.top+B.height/2-Bl,ge=z-ae,he=w.offsetHeight/2,Se=w.offsetTop+he,Ae=V+Q+Se,ye=H-Ae;if(Ae<=ae){const Ee=$.length>0&&w===$[$.length-1].ref.current;o.style.bottom="0px";const Ce=u.clientHeight-_.offsetTop-_.offsetHeight,Re=Math.max(ge,he+(Ee?Z:0)+Ce+ne),je=Ae+Re;o.style.height=je+"px"}else{const Ee=$.length>0&&w===$[0].ref.current;o.style.top="0px";const Re=Math.max(ae,V+_.offsetTop+(Ee?q:0)+he)+ye;o.style.height=Re+"px",_.scrollTop=Ae-ae+_.offsetTop}o.style.margin=`${Bl}px 0`,o.style.minHeight=le+"px",o.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[y,a.trigger,a.valueNode,o,u,_,w,A,a.dir,n]);Za(()=>O(),[O]);const[I,k]=M.useState();Za(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const F=M.useCallback(B=>{B&&S.current===!0&&(O(),E==null||E(),S.current=!1)},[O,E]);return d.jsx(c6e,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:F,children:d.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:d.jsx(br.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});GV.displayName=o6e;var l6e="SelectPopperPosition",x4=M.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Bl,...a}=e,s=E5(r);return d.jsx(sO,{...s,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});x4.displayName=l6e;var[c6e,GT]=S1(op,{}),b4="SelectViewport",KV=M.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=Hf(b4,r),s=GT(b4,r),o=Qr(t,a.onViewportChange),c=M.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(S5.Slot,{scope:r,children:d.jsx(br.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:wt(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=s;if(y!=null&&y.current&&m){const g=Math.abs(c.current-h.scrollTop);if(g>0){const S=window.innerHeight-Bl*2,_=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),A=Math.max(_,w);if(A<S){const E=A+g,O=Math.min(S,E),I=E-O;m.style.height=O+"px",m.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});KV.displayName=b4;var YV="SelectGroup",[u6e,d6e]=S1(YV),f6e=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Mc();return d.jsx(u6e,{scope:r,id:i,children:d.jsx(br.div,{role:"group","aria-labelledby":i,...n,ref:t})})});f6e.displayName=YV;var XV="SelectLabel",ZV=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=d6e(XV,r);return d.jsx(br.div,{id:i.id,...n,ref:t})});ZV.displayName=XV;var kw="SelectItem",[h6e,QV]=S1(kw),JV=M.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=e,o=Wf(kw,r),c=Hf(kw,r),u=o.value===n,[h,m]=M.useState(a??""),[y,g]=M.useState(!1),S=Qr(t,E=>{var O;return(O=c.itemRefCallback)==null?void 0:O.call(c,E,n,i)}),_=Mc(),w=M.useRef("touch"),A=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(h6e,{scope:r,value:n,disabled:i,textId:_,isSelected:u,onItemTextChange:M.useCallback(E=>{m(O=>O||((E==null?void 0:E.textContent)??"").trim())},[]),children:d.jsx(S5.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:d.jsx(br.div,{role:"option","aria-labelledby":_,"data-highlighted":y?"":void 0,"aria-selected":u&&y,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:S,onFocus:wt(s.onFocus,()=>g(!0)),onBlur:wt(s.onBlur,()=>g(!1)),onClick:wt(s.onClick,()=>{w.current!=="mouse"&&A()}),onPointerUp:wt(s.onPointerUp,()=>{w.current==="mouse"&&A()}),onPointerDown:wt(s.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:wt(s.onPointerMove,E=>{var O;w.current=E.pointerType,i?(O=c.onItemLeave)==null||O.call(c):w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wt(s.onPointerLeave,E=>{var O;E.currentTarget===document.activeElement&&((O=c.onItemLeave)==null||O.call(c))}),onKeyDown:wt(s.onKeyDown,E=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&E.key===" "||(Q8e.includes(E.key)&&A(),E.key===" "&&E.preventDefault())})})})})});JV.displayName=kw;var hg="SelectItemText",eG=M.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,s=Wf(hg,r),o=Hf(hg,r),c=QV(hg,r),u=r6e(hg,r),[h,m]=M.useState(null),y=Qr(t,A=>m(A),c.onItemTextChange,A=>{var E;return(E=o.itemTextRefCallback)==null?void 0:E.call(o,A,c.value,c.disabled)}),g=h==null?void 0:h.textContent,S=M.useMemo(()=>d.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:_,onNativeOptionRemove:w}=u;return Za(()=>(_(S),()=>w(S)),[_,w,S]),d.jsxs(d.Fragment,{children:[d.jsx(br.span,{id:c.textId,...a,ref:y}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?pp.createPortal(a.children,s.valueNode):null]})});eG.displayName=hg;var tG="SelectItemIndicator",rG=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return QV(tG,r).isSelected?d.jsx(br.span,{"aria-hidden":!0,...n,ref:t}):null});rG.displayName=tG;var w4="SelectScrollUpButton",nG=M.forwardRef((e,t)=>{const r=Hf(w4,e.__scopeSelect),n=GT(w4,e.__scopeSelect),[i,a]=M.useState(!1),s=Qr(t,n.onScrollButtonChange);return Za(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?d.jsx(aG,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});nG.displayName=w4;var _4="SelectScrollDownButton",iG=M.forwardRef((e,t)=>{const r=Hf(_4,e.__scopeSelect),n=GT(_4,e.__scopeSelect),[i,a]=M.useState(!1),s=Qr(t,n.onScrollButtonChange);return Za(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?d.jsx(aG,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});iG.displayName=_4;var aG=M.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=Hf("SelectScrollButton",r),s=M.useRef(null),o=A5(r),c=M.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return M.useEffect(()=>()=>c(),[c]),Za(()=>{var h;const u=o().find(m=>m.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[o]),d.jsx(br.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:wt(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:wt(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:wt(i.onPointerLeave,()=>{c()})})}),p6e="SelectSeparator",sG=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(br.div,{"aria-hidden":!0,...n,ref:t})});sG.displayName=p6e;var S4="SelectArrow",m6e=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=E5(r),a=Wf(S4,r),s=Hf(S4,r);return a.open&&s.position==="popper"?d.jsx(oO,{...i,...n,ref:t}):null});m6e.displayName=S4;var g6e="SelectBubbleInput",oG=M.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=M.useRef(null),a=Qr(n,i),s=VT(t);return M.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&h){const m=new Event("change",{bubbles:!0});h.call(o,t),o.dispatchEvent(m)}},[s,t]),d.jsx(br.select,{...r,style:{...PF,...r.style},ref:a,defaultValue:t})});oG.displayName=g6e;function lG(e){return e===""||e===void 0}function cG(e){const t=io(e),r=M.useRef(""),n=M.useRef(0),i=M.useCallback(s=>{const o=r.current+s;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),a=M.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function uG(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=v6e(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function v6e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var y6e=LV,dG=BV,x6e=UV,b6e=zV,w6e=qV,fG=WV,_6e=KV,hG=ZV,pG=JV,S6e=eG,A6e=rG,mG=nG,gG=iG,vG=sG;const ro=y6e,no=x6e,ks=M.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(dG,{ref:n,className:Mt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(b6e,{asChild:!0,children:d.jsx(tB,{className:"h-4 w-4 opacity-50"})})]}));ks.displayName=dG.displayName;const yG=M.forwardRef(({className:e,...t},r)=>d.jsx(mG,{ref:r,className:Mt("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(nee,{className:"h-4 w-4"})}));yG.displayName=mG.displayName;const xG=M.forwardRef(({className:e,...t},r)=>d.jsx(gG,{ref:r,className:Mt("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(tB,{className:"h-4 w-4"})}));xG.displayName=gG.displayName;const Ps=M.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>d.jsx(w6e,{children:d.jsxs(fG,{ref:i,className:Mt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(yG,{}),d.jsx(_6e,{className:Mt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(xG,{})]})}));Ps.displayName=fG.displayName;const E6e=M.forwardRef(({className:e,...t},r)=>d.jsx(hG,{ref:r,className:Mt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));E6e.displayName=hG.displayName;const cn=M.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(pG,{ref:n,className:Mt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(A6e,{children:d.jsx(qN,{className:"h-4 w-4"})})}),d.jsx(S6e,{children:t})]}));cn.displayName=pG.displayName;const C6e=M.forwardRef(({className:e,...t},r)=>d.jsx(vG,{ref:r,className:Mt("-mx-1 my-1 h-px bg-muted",e),...t}));C6e.displayName=vG.displayName;var Bt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Bt||(Bt={}));var fD=new Map([[Bt.QR_CODE,"QR_CODE"],[Bt.AZTEC,"AZTEC"],[Bt.CODABAR,"CODABAR"],[Bt.CODE_39,"CODE_39"],[Bt.CODE_93,"CODE_93"],[Bt.CODE_128,"CODE_128"],[Bt.DATA_MATRIX,"DATA_MATRIX"],[Bt.MAXICODE,"MAXICODE"],[Bt.ITF,"ITF"],[Bt.EAN_13,"EAN_13"],[Bt.EAN_8,"EAN_8"],[Bt.PDF_417,"PDF_417"],[Bt.RSS_14,"RSS_14"],[Bt.RSS_EXPANDED,"RSS_EXPANDED"],[Bt.UPC_A,"UPC_A"],[Bt.UPC_E,"UPC_E"],[Bt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),hD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(hD||(hD={}));function N6e(e){return Object.values(Bt).includes(e)}var If;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(If||(If={}));var Yl=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[If.SCAN_TYPE_CAMERA,If.SCAN_TYPE_FILE],e}(),bG=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!fD.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,fD.get(t))},e}(),pD=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),A4;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(A4||(A4={}));var wG=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:A4.UNKWOWN_ERROR}},e}(),_G=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function bc(e){return typeof e>"u"||e===null}function O6e(e,t,r){return e>r?r:e<t?t:e}var v0=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Mn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),mD=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),SG=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),s=Object.keys(t),o=0,c=s;o<c.length;o++){var u=c[o];if(a.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),E4={exports:{}};(function(e,t){(function(r,n){n(t)})(Ac,function(r){function n(J){return J==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,l){J.__proto__=l}||function(J,l){for(var f in l)l.hasOwnProperty(f)&&(J[f]=l[f])};function a(J,l){i(J,l);function f(){this.constructor=J}J.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}function s(J,l){var f=Object.setPrototypeOf;f?f(J,l):J.__proto__=l}function o(J,l){l===void 0&&(l=J.constructor);var f=Error.captureStackTrace;f&&f(J,l)}var c=function(J){a(l,J);function l(f){var p=this.constructor,v=J.call(this,f)||this;return Object.defineProperty(v,"name",{value:p.name,enumerable:!1}),s(v,p.prototype),o(v),v}return l}(Error);class u extends c{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class h extends u{}h.kind="ArgumentException";class m extends u{}m.kind="IllegalArgumentException";class y{constructor(l){if(this.binarizer=l,l===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,f){return this.binarizer.getBlackRow(l,f)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,f,p,v){const x=this.binarizer.getLuminanceSource().crop(l,f,p,v);return new y(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class g extends u{static getChecksumInstance(){return new g}}g.kind="ChecksumException";class S{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(l,f,p,v,x){for(;x--;)p[v++]=l[f++]}static currentTimeMillis(){return Date.now()}}class w extends u{}w.kind="IndexOutOfBoundsException";class A extends w{constructor(l=void 0,f=void 0){super(f),this.index=l,this.message=f}}A.kind="ArrayIndexOutOfBoundsException";class E{static fill(l,f){for(let p=0,v=l.length;p<v;p++)l[p]=f}static fillWithin(l,f,p,v){E.rangeCheck(l.length,f,p);for(let x=f;x<p;x++)l[x]=v}static rangeCheck(l,f,p){if(f>p)throw new m("fromIndex("+f+") > toIndex("+p+")");if(f<0)throw new A(f);if(p>l)throw new A(p)}static asList(...l){return l}static create(l,f,p){return Array.from({length:l}).map(x=>Array.from({length:f}).fill(p))}static createInt32Array(l,f,p){return Array.from({length:l}).map(x=>Int32Array.from({length:f}).fill(p))}static equals(l,f){if(!l||!f||!l.length||!f.length||l.length!==f.length)return!1;for(let p=0,v=l.length;p<v;p++)if(l[p]!==f[p])return!1;return!0}static hashCode(l){if(l===null)return 0;let f=1;for(const p of l)f=31*f+p;return f}static fillUint8Array(l,f){for(let p=0;p!==l.length;p++)l[p]=f}static copyOf(l,f){return l.slice(0,f)}static copyOfUint8Array(l,f){if(l.length<=f){const p=new Uint8Array(f);return p.set(l),p}return l.slice(0,f)}static copyOfRange(l,f,p){const v=p-f,x=new Int32Array(v);return _.arraycopy(l,f,x,0,v),x}static binarySearch(l,f,p){p===void 0&&(p=E.numberComparator);let v=0,x=l.length-1;for(;v<=x;){const b=x+v>>1,N=p(f,l[b]);if(N>0)v=b+1;else if(N<0)x=b-1;else return b}return-v-1}static numberComparator(l,f){return l-f}}class O{static numberOfTrailingZeros(l){let f;if(l===0)return 32;let p=31;return f=l<<16,f!==0&&(p-=16,l=f),f=l<<8,f!==0&&(p-=8,l=f),f=l<<4,f!==0&&(p-=4,l=f),f=l<<2,f!==0&&(p-=2,l=f),p-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let f=1;return l>>>16||(f+=16,l<<=16),l>>>24||(f+=8,l<<=8),l>>>28||(f+=4,l<<=4),l>>>30||(f+=2,l<<=2),f-=l>>>31,f}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,f){return Math.trunc(l/f)}static parseInt(l,f=void 0){return parseInt(l,f)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class I{constructor(l,f){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,f==null?this.bits=I.makeArray(l):this.bits=f)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const f=I.makeArray(l);_.arraycopy(this.bits,0,f,0,this.bits.length),this.bits=f}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const f=this.size;if(l>=f)return f;const p=this.bits;let v=Math.floor(l/32),x=p[v];x&=~((1<<(l&31))-1);const b=p.length;for(;x===0;){if(++v===b)return f;x=p[v]}const N=v*32+O.numberOfTrailingZeros(x);return N>f?f:N}getNextUnset(l){const f=this.size;if(l>=f)return f;const p=this.bits;let v=Math.floor(l/32),x=~p[v];x&=~((1<<(l&31))-1);const b=p.length;for(;x===0;){if(++v===b)return f;x=~p[v]}const N=v*32+O.numberOfTrailingZeros(x);return N>f?f:N}setBulk(l,f){this.bits[Math.floor(l/32)]=f}setRange(l,f){if(f<l||l<0||f>this.size)throw new m;if(f===l)return;f--;const p=Math.floor(l/32),v=Math.floor(f/32),x=this.bits;for(let b=p;b<=v;b++){const N=b>p?0:l&31,L=(2<<(b<v?31:f&31))-(1<<N);x[b]|=L}}clear(){const l=this.bits.length,f=this.bits;for(let p=0;p<l;p++)f[p]=0}isRange(l,f,p){if(f<l||l<0||f>this.size)throw new m;if(f===l)return!0;f--;const v=Math.floor(l/32),x=Math.floor(f/32),b=this.bits;for(let N=v;N<=x;N++){const j=N>v?0:l&31,G=(2<<(N<x?31:f&31))-(1<<j)&4294967295;if((b[N]&G)!==(p?G:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,f){if(f<0||f>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+f);for(let p=f;p>0;p--)this.appendBit((l>>p-1&1)===1)}appendBitArray(l){const f=l.size;this.ensureCapacity(this.size+f);for(let p=0;p<f;p++)this.appendBit(l.get(p))}xor(l){if(this.size!==l.size)throw new m("Sizes don't match");const f=this.bits;for(let p=0,v=f.length;p<v;p++)f[p]^=l.bits[p]}toBytes(l,f,p,v){for(let x=0;x<v;x++){let b=0;for(let N=0;N<8;N++)this.get(l)&&(b|=1<<7-N),l++;f[p+x]=b}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),f=Math.floor((this.size-1)/32),p=f+1,v=this.bits;for(let x=0;x<p;x++){let b=v[x];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,l[f-x]=b}if(this.size!==p*32){const x=p*32-this.size;let b=l[0]>>>x;for(let N=1;N<p;N++){const j=l[N];b|=j<<32-x,l[N-1]=b,b=j>>>x}l[p-1]=b}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof I))return!1;const f=l;return this.size===f.size&&E.equals(this.bits,f.bits)}hashCode(){return 31*this.size+E.hashCode(this.bits)}toString(){let l="";for(let f=0,p=this.size;f<p;f++)f&7||(l+=" "),l+=this.get(f)?"X":".";return l}clone(){return new I(this.size,this.bits.slice())}}var k;(function(J){J[J.OTHER=0]="OTHER",J[J.PURE_BARCODE=1]="PURE_BARCODE",J[J.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",J[J.TRY_HARDER=3]="TRY_HARDER",J[J.CHARACTER_SET=4]="CHARACTER_SET",J[J.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",J[J.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",J[J.ASSUME_GS1=7]="ASSUME_GS1",J[J.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",J[J.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",J[J.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(k||(k={}));var F=k;class B extends u{static getFormatInstance(){return new B}}B.kind="FormatException";var D;(function(J){J[J.Cp437=0]="Cp437",J[J.ISO8859_1=1]="ISO8859_1",J[J.ISO8859_2=2]="ISO8859_2",J[J.ISO8859_3=3]="ISO8859_3",J[J.ISO8859_4=4]="ISO8859_4",J[J.ISO8859_5=5]="ISO8859_5",J[J.ISO8859_6=6]="ISO8859_6",J[J.ISO8859_7=7]="ISO8859_7",J[J.ISO8859_8=8]="ISO8859_8",J[J.ISO8859_9=9]="ISO8859_9",J[J.ISO8859_10=10]="ISO8859_10",J[J.ISO8859_11=11]="ISO8859_11",J[J.ISO8859_13=12]="ISO8859_13",J[J.ISO8859_14=13]="ISO8859_14",J[J.ISO8859_15=14]="ISO8859_15",J[J.ISO8859_16=15]="ISO8859_16",J[J.SJIS=16]="SJIS",J[J.Cp1250=17]="Cp1250",J[J.Cp1251=18]="Cp1251",J[J.Cp1252=19]="Cp1252",J[J.Cp1256=20]="Cp1256",J[J.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",J[J.UTF8=22]="UTF8",J[J.ASCII=23]="ASCII",J[J.Big5=24]="Big5",J[J.GB18030=25]="GB18030",J[J.EUC_KR=26]="EUC_KR"})(D||(D={}));class P{constructor(l,f,p,...v){this.valueIdentifier=l,this.name=p,typeof f=="number"?this.values=Int32Array.from([f]):this.values=f,this.otherEncodingNames=v,P.VALUE_IDENTIFIER_TO_ECI.set(l,this),P.NAME_TO_ECI.set(p,this);const x=this.values;for(let b=0,N=x.length;b!==N;b++){const j=x[b];P.VALUES_TO_ECI.set(j,this)}for(const b of v)P.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new B("incorect value");const f=P.VALUES_TO_ECI.get(l);if(f===void 0)throw new B("incorect value");return f}static getCharacterSetECIByName(l){const f=P.NAME_TO_ECI.get(l);if(f===void 0)throw new B("incorect value");return f}equals(l){if(!(l instanceof P))return!1;const f=l;return this.getName()===f.getName()}}P.VALUE_IDENTIFIER_TO_ECI=new Map,P.VALUES_TO_ECI=new Map,P.NAME_TO_ECI=new Map,P.Cp437=new P(D.Cp437,Int32Array.from([0,2]),"Cp437"),P.ISO8859_1=new P(D.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),P.ISO8859_2=new P(D.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),P.ISO8859_3=new P(D.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),P.ISO8859_4=new P(D.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),P.ISO8859_5=new P(D.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),P.ISO8859_6=new P(D.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),P.ISO8859_7=new P(D.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),P.ISO8859_8=new P(D.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),P.ISO8859_9=new P(D.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),P.ISO8859_10=new P(D.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),P.ISO8859_11=new P(D.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),P.ISO8859_13=new P(D.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),P.ISO8859_14=new P(D.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),P.ISO8859_15=new P(D.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),P.ISO8859_16=new P(D.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),P.SJIS=new P(D.SJIS,20,"SJIS","Shift_JIS"),P.Cp1250=new P(D.Cp1250,21,"Cp1250","windows-1250"),P.Cp1251=new P(D.Cp1251,22,"Cp1251","windows-1251"),P.Cp1252=new P(D.Cp1252,23,"Cp1252","windows-1252"),P.Cp1256=new P(D.Cp1256,24,"Cp1256","windows-1256"),P.UnicodeBigUnmarked=new P(D.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),P.UTF8=new P(D.UTF8,26,"UTF8","UTF-8"),P.ASCII=new P(D.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),P.Big5=new P(D.Big5,28,"Big5"),P.GB18030=new P(D.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),P.EUC_KR=new P(D.EUC_KR,30,"EUC_KR","EUC-KR");class K extends u{}K.kind="UnsupportedOperationException";class ${static decode(l,f){const p=this.encodingName(f);return this.customDecoder?this.customDecoder(l,p):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(p)?this.decodeFallback(l,p):new TextDecoder(p).decode(l)}static shouldDecodeOnFallback(l){return!$.isBrowser()&&l==="ISO-8859-1"}static encode(l,f){const p=this.encodingName(f);return this.customEncoder?this.customEncoder(l,p):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof P?l:P.getCharacterSetECIByName(l)}static decodeFallback(l,f){const p=this.encodingCharacterSet(f);if($.isDecodeFallbackSupported(p)){let v="";for(let x=0,b=l.length;x<b;x++){let N=l[x].toString(16);N.length<2&&(N="0"+N),v+="%"+N}return decodeURIComponent(v)}if(p.equals(P.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new K(`Encoding ${this.encodingName(f)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(P.UTF8)||l.equals(P.ISO8859_1)||l.equals(P.ASCII)}static encodeFallback(l){const p=btoa(unescape(encodeURIComponent(l))).split(""),v=[];for(let x=0;x<p.length;x++)v.push(p[x].charCodeAt(0));return new Uint8Array(v)}}class z{static castAsNonUtf8Char(l,f=null){const p=f?f.getName():this.ISO88591;return $.decode(new Uint8Array([l]),p)}static guessEncoding(l,f){if(f!=null&&f.get(F.CHARACTER_SET)!==void 0)return f.get(F.CHARACTER_SET).toString();const p=l.length;let v=!0,x=!0,b=!0,N=0,j=0,L=0,G=0,ee=0,se=0,xe=0,Oe=0,ke=0,Le=0,We=0;const et=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let at=0;at<p&&(v||x||b);at++){const tt=l[at]&255;b&&(N>0?tt&128?N--:b=!1:tt&128&&(tt&64?(N++,tt&32?(N++,tt&16?(N++,tt&8?b=!1:G++):L++):j++):b=!1)),v&&(tt>127&&tt<160?v=!1:tt>159&&(tt<192||tt===215||tt===247)&&We++),x&&(ee>0?tt<64||tt===127||tt>252?x=!1:ee--:tt===128||tt===160||tt>239?x=!1:tt>160&&tt<224?(se++,Oe=0,xe++,xe>ke&&(ke=xe)):tt>127?(ee++,xe=0,Oe++,Oe>Le&&(Le=Oe)):(xe=0,Oe=0))}return b&&N>0&&(b=!1),x&&ee>0&&(x=!1),b&&(et||j+L+G>0)?z.UTF8:x&&(z.ASSUME_SHIFT_JIS||ke>=3||Le>=3)?z.SHIFT_JIS:v&&x?ke===2&&se===2||We*10>=p?z.SHIFT_JIS:z.ISO88591:v?z.ISO88591:x?z.SHIFT_JIS:b?z.UTF8:z.PLATFORM_DEFAULT_ENCODING}static format(l,...f){let p=-1;function v(b,N,j,L,G,ee){if(b==="%%")return"%";if(f[++p]===void 0)return;b=L?parseInt(L.substr(1)):void 0;let se=G?parseInt(G.substr(1)):void 0,xe;switch(ee){case"s":xe=f[p];break;case"c":xe=f[p][0];break;case"f":xe=parseFloat(f[p]).toFixed(b);break;case"p":xe=parseFloat(f[p]).toPrecision(b);break;case"e":xe=parseFloat(f[p]).toExponential(b);break;case"x":xe=parseInt(f[p]).toString(se||16);break;case"d":xe=parseFloat(parseInt(f[p],se||10).toPrecision(b)).toFixed(0);break}xe=typeof xe=="object"?JSON.stringify(xe):(+xe).toString(se);let Oe=parseInt(j),ke=j&&j[0]+""=="0"?"0":" ";for(;xe.length<Oe;)xe=N!==void 0?xe+ke:ke+xe;return xe}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,v)}static getBytes(l,f){return $.encode(l,f)}static getCharCode(l,f=0){return l.charCodeAt(f)}static getCharAt(l){return String.fromCharCode(l)}}z.SHIFT_JIS=P.SJIS.getName(),z.GB2312="GB2312",z.ISO88591=P.ISO8859_1.getName(),z.EUC_JP="EUC_JP",z.UTF8=P.UTF8.getName(),z.PLATFORM_DEFAULT_ENCODING=z.UTF8,z.ASSUME_SHIFT_JIS=!1;class X{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=z.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,f,p){for(let v=f;f<f+p;v++)this.append(l[v]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+1)}substring(l,f){return this.value.substring(l,f)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+f.length)}}class W{constructor(l,f,p,v){if(this.width=l,this.height=f,this.rowSize=p,this.bits=v,f==null&&(f=l),this.height=f,l<1||f<1)throw new m("Both dimensions must be greater than 0");p==null&&(p=Math.floor((l+31)/32)),this.rowSize=p,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const f=l.length,p=l[0].length,v=new W(p,f);for(let x=0;x<f;x++){const b=l[x];for(let N=0;N<p;N++)b[N]&&v.set(N,x)}return v}static parseFromString(l,f,p){if(l===null)throw new m("stringRepresentation cannot be null");const v=new Array(l.length);let x=0,b=0,N=-1,j=0,L=0;for(;L<l.length;)if(l.charAt(L)===`
`||l.charAt(L)==="\r"){if(x>b){if(N===-1)N=x-b;else if(x-b!==N)throw new m("row lengths do not match");b=x,j++}L++}else if(l.substring(L,L+f.length)===f)L+=f.length,v[x]=!0,x++;else if(l.substring(L,L+p.length)===p)L+=p.length,v[x]=!1,x++;else throw new m("illegal character encountered: "+l.substring(L));if(x>b){if(N===-1)N=x-b;else if(x-b!==N)throw new m("row lengths do not match");j++}const G=new W(N,j);for(let ee=0;ee<x;ee++)v[ee]&&G.set(Math.floor(ee%N),Math.floor(ee/N));return G}get(l,f){const p=f*this.rowSize+Math.floor(l/32);return(this.bits[p]>>>(l&31)&1)!==0}set(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]|=1<<(l&31)&4294967295}unset(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]&=~(1<<(l&31)&4294967295)}flip(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new m("input matrix dimensions do not match");const f=new I(Math.floor(this.width/32)+1),p=this.rowSize,v=this.bits;for(let x=0,b=this.height;x<b;x++){const N=x*p,j=l.getRow(x,f).getBitArray();for(let L=0;L<p;L++)v[N+L]^=j[L]}}clear(){const l=this.bits,f=l.length;for(let p=0;p<f;p++)l[p]=0}setRegion(l,f,p,v){if(f<0||l<0)throw new m("Left and top must be nonnegative");if(v<1||p<1)throw new m("Height and width must be at least 1");const x=l+p,b=f+v;if(b>this.height||x>this.width)throw new m("The region must fit inside the matrix");const N=this.rowSize,j=this.bits;for(let L=f;L<b;L++){const G=L*N;for(let ee=l;ee<x;ee++)j[G+Math.floor(ee/32)]|=1<<(ee&31)&4294967295}}getRow(l,f){f==null||f.getSize()<this.width?f=new I(this.width):f.clear();const p=this.rowSize,v=this.bits,x=l*p;for(let b=0;b<p;b++)f.setBulk(b*32,v[x+b]);return f}setRow(l,f){_.arraycopy(f.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),f=this.getHeight();let p=new I(l),v=new I(l);for(let x=0,b=Math.floor((f+1)/2);x<b;x++)p=this.getRow(x,p),v=this.getRow(f-1-x,v),p.reverse(),v.reverse(),this.setRow(x,v),this.setRow(f-1-x,p)}getEnclosingRectangle(){const l=this.width,f=this.height,p=this.rowSize,v=this.bits;let x=l,b=f,N=-1,j=-1;for(let L=0;L<f;L++)for(let G=0;G<p;G++){const ee=v[L*p+G];if(ee!==0){if(L<b&&(b=L),L>j&&(j=L),G*32<x){let se=0;for(;!(ee<<31-se&4294967295);)se++;G*32+se<x&&(x=G*32+se)}if(G*32+31>N){let se=31;for(;!(ee>>>se);)se--;G*32+se>N&&(N=G*32+se)}}}return N<x||j<b?null:Int32Array.from([x,b,N-x+1,j-b+1])}getTopLeftOnBit(){const l=this.rowSize,f=this.bits;let p=0;for(;p<f.length&&f[p]===0;)p++;if(p===f.length)return null;const v=p/l;let x=p%l*32;const b=f[p];let N=0;for(;!(b<<31-N&4294967295);)N++;return x+=N,Int32Array.from([x,v])}getBottomRightOnBit(){const l=this.rowSize,f=this.bits;let p=f.length-1;for(;p>=0&&f[p]===0;)p--;if(p<0)return null;const v=Math.floor(p/l);let x=Math.floor(p%l)*32;const b=f[p];let N=31;for(;!(b>>>N);)N--;return x+=N,Int32Array.from([x,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof W))return!1;const f=l;return this.width===f.width&&this.height===f.height&&this.rowSize===f.rowSize&&E.equals(this.bits,f.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+E.hashCode(this.bits),l}toString(l="X ",f="  ",p=`
`){return this.buildToString(l,f,p)}buildToString(l,f,p){let v=new X;for(let x=0,b=this.height;x<b;x++){for(let N=0,j=this.width;N<j;N++)v.append(this.get(N,x)?l:f);v.append(p)}return v.toString()}clone(){return new W(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends u{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class Q extends S{constructor(l){super(l),this.luminances=Q.EMPTY,this.buckets=new Int32Array(Q.LUMINANCE_BUCKETS)}getBlackRow(l,f){const p=this.getLuminanceSource(),v=p.getWidth();f==null||f.getSize()<v?f=new I(v):f.clear(),this.initArrays(v);const x=p.getRow(l,this.luminances),b=this.buckets;for(let j=0;j<v;j++)b[(x[j]&255)>>Q.LUMINANCE_SHIFT]++;const N=Q.estimateBlackPoint(b);if(v<3)for(let j=0;j<v;j++)(x[j]&255)<N&&f.set(j);else{let j=x[0]&255,L=x[1]&255;for(let G=1;G<v-1;G++){const ee=x[G+1]&255;(L*4-j-ee)/2<N&&f.set(G),j=L,L=ee}}return f}getBlackMatrix(){const l=this.getLuminanceSource(),f=l.getWidth(),p=l.getHeight(),v=new W(f,p);this.initArrays(f);const x=this.buckets;for(let j=1;j<5;j++){const L=Math.floor(p*j/5),G=l.getRow(L,this.luminances),ee=Math.floor(f*4/5);for(let se=Math.floor(f/5);se<ee;se++){const xe=G[se]&255;x[xe>>Q.LUMINANCE_SHIFT]++}}const b=Q.estimateBlackPoint(x),N=l.getMatrix();for(let j=0;j<p;j++){const L=j*f;for(let G=0;G<f;G++)(N[L+G]&255)<b&&v.set(G,j)}return v}createBinarizer(l){return new Q(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const f=this.buckets;for(let p=0;p<Q.LUMINANCE_BUCKETS;p++)f[p]=0}static estimateBlackPoint(l){const f=l.length;let p=0,v=0,x=0;for(let G=0;G<f;G++)l[G]>x&&(v=G,x=l[G]),l[G]>p&&(p=l[G]);let b=0,N=0;for(let G=0;G<f;G++){const ee=G-v,se=l[G]*ee*ee;se>N&&(b=G,N=se)}if(v>b){const G=v;v=b,b=G}if(b-v<=f/16)throw new V;let j=b-1,L=-1;for(let G=b-1;G>v;G--){const ee=G-v,se=ee*ee*(b-G)*(p-l[G]);se>L&&(j=G,L=se)}return j<<Q.LUMINANCE_SHIFT}}Q.LUMINANCE_BITS=5,Q.LUMINANCE_SHIFT=8-Q.LUMINANCE_BITS,Q.LUMINANCE_BUCKETS=1<<Q.LUMINANCE_BITS,Q.EMPTY=Uint8ClampedArray.from([0]);class ne extends Q{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),f=l.getWidth(),p=l.getHeight();if(f>=ne.MINIMUM_DIMENSION&&p>=ne.MINIMUM_DIMENSION){const v=l.getMatrix();let x=f>>ne.BLOCK_SIZE_POWER;f&ne.BLOCK_SIZE_MASK&&x++;let b=p>>ne.BLOCK_SIZE_POWER;p&ne.BLOCK_SIZE_MASK&&b++;const N=ne.calculateBlackPoints(v,x,b,f,p),j=new W(f,p);ne.calculateThresholdForBlock(v,x,b,f,p,N,j),this.matrix=j}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ne(l)}static calculateThresholdForBlock(l,f,p,v,x,b,N){const j=x-ne.BLOCK_SIZE,L=v-ne.BLOCK_SIZE;for(let G=0;G<p;G++){let ee=G<<ne.BLOCK_SIZE_POWER;ee>j&&(ee=j);const se=ne.cap(G,2,p-3);for(let xe=0;xe<f;xe++){let Oe=xe<<ne.BLOCK_SIZE_POWER;Oe>L&&(Oe=L);const ke=ne.cap(xe,2,f-3);let Le=0;for(let et=-2;et<=2;et++){const at=b[se+et];Le+=at[ke-2]+at[ke-1]+at[ke]+at[ke+1]+at[ke+2]}const We=Le/25;ne.thresholdBlock(l,Oe,ee,We,v,N)}}}static cap(l,f,p){return l<f?f:l>p?p:l}static thresholdBlock(l,f,p,v,x,b){for(let N=0,j=p*x+f;N<ne.BLOCK_SIZE;N++,j+=x)for(let L=0;L<ne.BLOCK_SIZE;L++)(l[j+L]&255)<=v&&b.set(f+L,p+N)}static calculateBlackPoints(l,f,p,v,x){const b=x-ne.BLOCK_SIZE,N=v-ne.BLOCK_SIZE,j=new Array(p);for(let L=0;L<p;L++){j[L]=new Int32Array(f);let G=L<<ne.BLOCK_SIZE_POWER;G>b&&(G=b);for(let ee=0;ee<f;ee++){let se=ee<<ne.BLOCK_SIZE_POWER;se>N&&(se=N);let xe=0,Oe=255,ke=0;for(let We=0,et=G*v+se;We<ne.BLOCK_SIZE;We++,et+=v){for(let at=0;at<ne.BLOCK_SIZE;at++){const tt=l[et+at]&255;xe+=tt,tt<Oe&&(Oe=tt),tt>ke&&(ke=tt)}if(ke-Oe>ne.MIN_DYNAMIC_RANGE)for(We++,et+=v;We<ne.BLOCK_SIZE;We++,et+=v)for(let at=0;at<ne.BLOCK_SIZE;at++)xe+=l[et+at]&255}let Le=xe>>ne.BLOCK_SIZE_POWER*2;if(ke-Oe<=ne.MIN_DYNAMIC_RANGE&&(Le=Oe/2,L>0&&ee>0)){const We=(j[L-1][ee]+2*j[L][ee-1]+j[L-1][ee-1])/4;Oe<We&&(Le=We)}j[L][ee]=Le}}return j}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class te{constructor(l,f){this.width=l,this.height=f}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,f,p,v){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let f=new X;for(let p=0;p<this.height;p++){const v=this.getRow(p,l);for(let x=0;x<this.width;x++){const b=v[x]&255;let N;b<64?N="#":b<128?N="+":b<192?N=".":N=" ",f.append(N)}f.append(`
`)}return f.toString()}}class H extends te{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,f){const p=this.delegate.getRow(l,f),v=this.getWidth();for(let x=0;x<v;x++)p[x]=255-(p[x]&255);return p}getMatrix(){const l=this.delegate.getMatrix(),f=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(f);for(let v=0;v<f;v++)p[v]=255-(l[v]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(l,f,p,v){return new H(this.delegate.crop(l,f,p,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new H(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new H(this.delegate.rotateCounterClockwise45())}}class le extends te{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const f=l.getContext("2d").getImageData(0,0,l.width,l.height);return le.toGrayscaleBuffer(f.data,l.width,l.height)}static toGrayscaleBuffer(l,f,p){const v=new Uint8ClampedArray(f*p);for(let x=0,b=0,N=l.length;x<N;x+=4,b++){let j;if(l[x+3]===0)j=255;else{const G=l[x],ee=l[x+1],se=l[x+2];j=306*G+601*ee+117*se+512>>10}v[b]=j}return v}getRow(l,f){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const p=this.getWidth(),v=l*p;return f===null?f=this.buffer.slice(v,v+p):(f.length<p&&(f=new Uint8ClampedArray(p)),f.set(this.buffer.slice(v,v+p))),f}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,f,p,v){return super.crop(l,f,p,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const f=this.getTempCanvasElement(),p=f.getContext("2d"),v=l*le.DEGREE_TO_RADIANS,x=this.canvas.width,b=this.canvas.height,N=Math.ceil(Math.abs(Math.cos(v))*x+Math.abs(Math.sin(v))*b),j=Math.ceil(Math.abs(Math.sin(v))*x+Math.abs(Math.cos(v))*b);return f.width=N,f.height=j,p.translate(N/2,j/2),p.rotate(v),p.drawImage(this.canvas,x/-2,b/-2),this.buffer=le.makeBufferFromCanvasImageData(f),this}invert(){return new H(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class fe{constructor(l,f,p){this.deviceId=l,this.label=f,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var q=(globalThis||Ac||self||window||void 0)&&(globalThis||Ac||self||window||void 0).__awaiter||function(J,l,f,p){function v(x){return x instanceof f?x:new f(function(b){b(x)})}return new(f||(f=Promise))(function(x,b){function N(G){try{L(p.next(G))}catch(ee){b(ee)}}function j(G){try{L(p.throw(G))}catch(ee){b(ee)}}function L(G){G.done?x(G.value):v(G.value).then(N,j)}L((p=p.apply(J,l||[])).next())})};class Z{constructor(l,f=500,p){this.reader=l,this.timeBetweenScansMillis=f,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),f=[];for(const p of l){const v=p.kind==="video"?"videoinput":p.kind;if(v!=="videoinput")continue;const x=p.deviceId||p.id,b=p.label||`Video device ${f.length+1}`,N=p.groupId,j={deviceId:x,label:b,kind:v,groupId:N};f.push(j)}return f})}getVideoInputDevices(){return q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(f=>new fe(f.deviceId,f.label))})}findDeviceById(l){return q(this,void 0,void 0,function*(){const f=yield this.listVideoInputDevices();return f?f.find(p=>p.deviceId===l):null})}decodeFromInputVideoDevice(l,f){return q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,f)})}decodeOnceFromVideoDevice(l,f){return q(this,void 0,void 0,function*(){this.reset();let p;l?p={deviceId:{exact:l}}:p={facingMode:"environment"};const v={video:p};return yield this.decodeOnceFromConstraints(v,f)})}decodeOnceFromConstraints(l,f){return q(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(p,f)})}decodeOnceFromStream(l,f){return q(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(l,f);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(l,f,p){return q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,f,p)})}decodeFromVideoDevice(l,f,p){return q(this,void 0,void 0,function*(){let v;l?v={deviceId:{exact:l}}:v={facingMode:"environment"};const x={video:v};return yield this.decodeFromConstraints(x,f,p)})}decodeFromConstraints(l,f,p){return q(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(v,f,p)})}decodeFromStream(l,f,p){return q(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(l,f);return yield this.decodeContinuously(v,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,f){return q(this,void 0,void 0,function*(){const p=this.prepareVideoElement(f);return this.addVideoSource(p,l),this.videoElement=p,this.stream=l,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(l){return new Promise((f,p)=>this.playVideoOnLoad(l,()=>f()))}playVideoOnLoad(l,f){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",f),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return q(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,f){const p=document.getElementById(l);if(!p)throw new h(`element with id '${l}' not found`);if(p.nodeName.toLowerCase()!==f.toLowerCase())throw new h(`element with id '${l}' must be an ${f} element`);return p}decodeFromImage(l,f){if(!l&&!f)throw new h("either imageElement with a src set or an url must be provided");return f&&!l?this.decodeFromImageUrl(f):this.decodeFromImageElement(l)}decodeFromVideo(l,f){if(!l&&!f)throw new h("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrl(f):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,f,p){if(l===void 0&&f===void 0)throw new h("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrlContinuously(f,p):this.decodeFromVideoElementContinuously(l,p)}decodeFromImageElement(l){if(!l)throw new h("An image element must be provided.");this.reset();const f=this.prepareImageElement(l);this.imageElement=f;let p;return this.isImageLoaded(f)?p=this.decodeOnce(f,!1,!0):p=this._decodeOnLoadImage(f),p}decodeFromVideoElement(l){const f=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(f)}decodeFromVideoElementContinuously(l,f){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(p,f)}_decodeFromVideoElementSetup(l){if(!l)throw new h("A video element must be provided.");this.reset();const f=this.prepareVideoElement(l);return this.videoElement=f,f}decodeFromImageUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const f=this.prepareImageElement();this.imageElement=f;const p=this._decodeOnLoadImage(f);return f.src=l,p}decodeFromVideoUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElement(f);return f.src=l,p}decodeFromVideoUrlContinuously(l,f){if(!l)throw new h("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(p,f);return p.src=l,v}_decodeOnLoadImage(l){return new Promise((f,p)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(f,p),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,f){return q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,f)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let f;return typeof l>"u"&&(f=document.createElement("img"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(f=l),f}prepareVideoElement(l){let f;return!l&&typeof document<"u"&&(f=document.createElement("video"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(f=l),f.setAttribute("autoplay","true"),f.setAttribute("muted","true"),f.setAttribute("playsinline","true"),f}decodeOnce(l,f=!0,p=!0){this._stopAsyncDecode=!1;const v=(x,b)=>{if(this._stopAsyncDecode){b(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const N=this.decode(l);x(N)}catch(N){const j=f&&N instanceof V,G=(N instanceof g||N instanceof B)&&p;if(j||G)return setTimeout(v,this._timeBetweenDecodingAttempts,x,b);b(N)}};return new Promise((x,b)=>v(x,b))}decodeContinuously(l,f){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(l);f(v,null),setTimeout(p,this.timeBetweenScansMillis)}catch(v){f(null,v);const x=v instanceof g||v instanceof B,b=v instanceof V;(x||b)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(l){const f=this.createBinaryBitmap(l);return this.decodeBitmap(f)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,f,p){f||(f={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}drawImageOnCanvas(l,f,p=this.captureCanvasContext){f||(f={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const f=this.getCaptureCanvas(l),p=new le(f),v=new ne(p);return new y(v)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const f=this.createCaptureCanvas(l);this.captureCanvas=f}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const f=document.createElement("canvas");let p,v;return typeof l<"u"&&(l instanceof HTMLVideoElement?(p=l.videoWidth,v=l.videoHeight):l instanceof HTMLImageElement&&(p=l.naturalWidth||l.width,v=l.naturalHeight||l.height)),f.style.width=p+"px",f.style.height=v+"px",f.width=p,f.height=v,f}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,f){try{l.srcObject=f}catch{l.src=URL.createObjectURL(f)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(l,f,p=f==null?0:8*f.length,v,x,b=_.currentTimeMillis()){this.text=l,this.rawBytes=f,this.numBits=p,this.resultPoints=v,this.format=x,this.timestamp=b,this.text=l,this.rawBytes=f,p==null?this.numBits=f==null?0:8*f.length:this.numBits=p,this.resultPoints=v,this.format=x,this.resultMetadata=null,b==null?this.timestamp=_.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,f){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,f)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const f=this.resultPoints;if(f===null)this.resultPoints=l;else if(l!==null&&l.length>0){const p=new Array(f.length+l.length);_.arraycopy(f,0,p,0,f.length),_.arraycopy(l,0,p,f.length,l.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ge;(function(J){J[J.AZTEC=0]="AZTEC",J[J.CODABAR=1]="CODABAR",J[J.CODE_39=2]="CODE_39",J[J.CODE_93=3]="CODE_93",J[J.CODE_128=4]="CODE_128",J[J.DATA_MATRIX=5]="DATA_MATRIX",J[J.EAN_8=6]="EAN_8",J[J.EAN_13=7]="EAN_13",J[J.ITF=8]="ITF",J[J.MAXICODE=9]="MAXICODE",J[J.PDF_417=10]="PDF_417",J[J.QR_CODE=11]="QR_CODE",J[J.RSS_14=12]="RSS_14",J[J.RSS_EXPANDED=13]="RSS_EXPANDED",J[J.UPC_A=14]="UPC_A",J[J.UPC_E=15]="UPC_E",J[J.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ge||(ge={}));var he=ge,Se;(function(J){J[J.OTHER=0]="OTHER",J[J.ORIENTATION=1]="ORIENTATION",J[J.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",J[J.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",J[J.ISSUE_NUMBER=4]="ISSUE_NUMBER",J[J.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",J[J.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",J[J.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",J[J.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",J[J.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",J[J.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Se||(Se={}));var Ae=Se;class ye{constructor(l,f,p,v,x=-1,b=-1){this.rawBytes=l,this.text=f,this.byteSegments=p,this.ecLevel=v,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=b,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ne{exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}static addOrSubtract(l,f){return l^f}}class Ee{constructor(l,f){if(f.length===0)throw new m;this.field=l;const p=f.length;if(p>1&&f[0]===0){let v=1;for(;v<p&&f[v]===0;)v++;v===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-v),_.arraycopy(f,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const f=this.coefficients;let p;if(l===1){p=0;for(let b=0,N=f.length;b!==N;b++){const j=f[b];p=Ne.addOrSubtract(p,j)}return p}p=f[0];const v=f.length,x=this.field;for(let b=1;b<v;b++)p=Ne.addOrSubtract(x.multiply(l,p),f[b]);return p}addOrSubtract(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,p=l.coefficients;if(f.length>p.length){const b=f;f=p,p=b}let v=new Int32Array(p.length);const x=p.length-f.length;_.arraycopy(p,0,v,0,x);for(let b=x;b<p.length;b++)v[b]=Ne.addOrSubtract(f[b-x],p[b]);return new Ee(this.field,v)}multiply(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const f=this.coefficients,p=f.length,v=l.coefficients,x=v.length,b=new Int32Array(p+x-1),N=this.field;for(let j=0;j<p;j++){const L=f[j];for(let G=0;G<x;G++)b[j+G]=Ne.addOrSubtract(b[j+G],N.multiply(L,v[G]))}return new Ee(N,b)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const f=this.coefficients.length,p=this.field,v=new Int32Array(f),x=this.coefficients;for(let b=0;b<f;b++)v[b]=p.multiply(x[b],l);return new Ee(p,v)}multiplyByMonomial(l,f){if(l<0)throw new m;if(f===0)return this.field.getZero();const p=this.coefficients,v=p.length,x=new Int32Array(v+l),b=this.field;for(let N=0;N<v;N++)x[N]=b.multiply(p[N],f);return new Ee(b,x)}divide(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new m("Divide by 0");const f=this.field;let p=f.getZero(),v=this;const x=l.getCoefficient(l.getDegree()),b=f.inverse(x);for(;v.getDegree()>=l.getDegree()&&!v.isZero();){const N=v.getDegree()-l.getDegree(),j=f.multiply(v.getCoefficient(v.getDegree()),b),L=l.multiplyByMonomial(N,j),G=f.buildMonomial(N,j);p=p.addOrSubtract(G),v=v.addOrSubtract(L)}return[p,v]}toString(){let l="";for(let f=this.getDegree();f>=0;f--){let p=this.getCoefficient(f);if(p!==0){if(p<0?(l+=" - ",p=-p):l.length>0&&(l+=" + "),f===0||p!==1){const v=this.field.log(p);v===0?l+="1":v===1?l+="a":(l+="a^",l+=v)}f!==0&&(f===1?l+="x":(l+="x^",l+=f))}}return l}}class Ce extends u{}Ce.kind="ArithmeticException";class Re extends Ne{constructor(l,f,p){super(),this.primitive=l,this.size=f,this.generatorBase=p;const v=new Int32Array(f);let x=1;for(let N=0;N<f;N++)v[N]=x,x*=2,x>=f&&(x^=l,x&=f-1);this.expTable=v;const b=new Int32Array(f);for(let N=0;N<f-1;N++)b[v[N]]=N;this.logTable=b,this.zero=new Ee(this,Int32Array.from([0])),this.one=new Ee(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new m;if(f===0)return this.zero;const p=new Int32Array(l+1);return p[0]=f,new Ee(this,p)}inverse(l){if(l===0)throw new Ce;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}Re.AZTEC_DATA_12=new Re(4201,4096,1),Re.AZTEC_DATA_10=new Re(1033,1024,1),Re.AZTEC_DATA_6=new Re(67,64,1),Re.AZTEC_PARAM=new Re(19,16,1),Re.QR_CODE_FIELD_256=new Re(285,256,0),Re.DATA_MATRIX_FIELD_256=new Re(301,256,1),Re.AZTEC_DATA_8=Re.DATA_MATRIX_FIELD_256,Re.MAXICODE_FIELD_64=Re.AZTEC_DATA_6;class je extends u{}je.kind="ReedSolomonException";class de extends u{}de.kind="IllegalStateException";class it{constructor(l){this.field=l}decode(l,f){const p=this.field,v=new Ee(p,l),x=new Int32Array(f);let b=!0;for(let xe=0;xe<f;xe++){const Oe=v.evaluateAt(p.exp(xe+p.getGeneratorBase()));x[x.length-1-xe]=Oe,Oe!==0&&(b=!1)}if(b)return;const N=new Ee(p,x),j=this.runEuclideanAlgorithm(p.buildMonomial(f,1),N,f),L=j[0],G=j[1],ee=this.findErrorLocations(L),se=this.findErrorMagnitudes(G,ee);for(let xe=0;xe<ee.length;xe++){const Oe=l.length-1-p.log(ee[xe]);if(Oe<0)throw new je("Bad error location");l[Oe]=Re.addOrSubtract(l[Oe],se[xe])}}runEuclideanAlgorithm(l,f,p){if(l.getDegree()<f.getDegree()){const xe=l;l=f,f=xe}const v=this.field;let x=l,b=f,N=v.getZero(),j=v.getOne();for(;b.getDegree()>=(p/2|0);){let xe=x,Oe=N;if(x=b,N=j,x.isZero())throw new je("r_{i-1} was zero");b=xe;let ke=v.getZero();const Le=x.getCoefficient(x.getDegree()),We=v.inverse(Le);for(;b.getDegree()>=x.getDegree()&&!b.isZero();){const et=b.getDegree()-x.getDegree(),at=v.multiply(b.getCoefficient(b.getDegree()),We);ke=ke.addOrSubtract(v.buildMonomial(et,at)),b=b.addOrSubtract(x.multiplyByMonomial(et,at))}if(j=ke.multiply(N).addOrSubtract(Oe),b.getDegree()>=x.getDegree())throw new de("Division algorithm failed to reduce polynomial?")}const L=j.getCoefficient(0);if(L===0)throw new je("sigmaTilde(0) was zero");const G=v.inverse(L),ee=j.multiplyScalar(G),se=b.multiplyScalar(G);return[ee,se]}findErrorLocations(l){const f=l.getDegree();if(f===1)return Int32Array.from([l.getCoefficient(1)]);const p=new Int32Array(f);let v=0;const x=this.field;for(let b=1;b<x.getSize()&&v<f;b++)l.evaluateAt(b)===0&&(p[v]=x.inverse(b),v++);if(v!==f)throw new je("Error locator degree does not match number of roots");return p}findErrorMagnitudes(l,f){const p=f.length,v=new Int32Array(p),x=this.field;for(let b=0;b<p;b++){const N=x.inverse(f[b]);let j=1;for(let L=0;L<p;L++)if(b!==L){const G=x.multiply(f[L],N),ee=G&1?G&-2:G|1;j=x.multiply(j,ee)}v[b]=x.multiply(l.evaluateAt(N),x.inverse(j)),x.getGeneratorBase()!==0&&(v[b]=x.multiply(v[b],N))}return v}}var ft;(function(J){J[J.UPPER=0]="UPPER",J[J.LOWER=1]="LOWER",J[J.MIXED=2]="MIXED",J[J.DIGIT=3]="DIGIT",J[J.PUNCT=4]="PUNCT",J[J.BINARY=5]="BINARY"})(ft||(ft={}));class Ye{decode(l){this.ddata=l;let f=l.getBits(),p=this.extractBits(f),v=this.correctBits(p),x=Ye.convertBoolArrayToByteArray(v),b=Ye.getEncodedData(v),N=new ye(x,b,null,null);return N.setNumBits(v.length),N}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let f=l.length,p=ft.UPPER,v=ft.UPPER,x="",b=0;for(;b<f;)if(v===ft.BINARY){if(f-b<5)break;let N=Ye.readCode(l,b,5);if(b+=5,N===0){if(f-b<11)break;N=Ye.readCode(l,b,11)+31,b+=11}for(let j=0;j<N;j++){if(f-b<8){b=f;break}const L=Ye.readCode(l,b,8);x+=z.castAsNonUtf8Char(L),b+=8}v=p}else{let N=v===ft.DIGIT?4:5;if(f-b<N)break;let j=Ye.readCode(l,b,N);b+=N;let L=Ye.getCharacter(v,j);L.startsWith("CTRL_")?(p=v,v=Ye.getTable(L.charAt(5)),L.charAt(6)==="L"&&(p=v)):(x+=L,v=p)}return x}static getTable(l){switch(l){case"L":return ft.LOWER;case"P":return ft.PUNCT;case"M":return ft.MIXED;case"D":return ft.DIGIT;case"B":return ft.BINARY;case"U":default:return ft.UPPER}}static getCharacter(l,f){switch(l){case ft.UPPER:return Ye.UPPER_TABLE[f];case ft.LOWER:return Ye.LOWER_TABLE[f];case ft.MIXED:return Ye.MIXED_TABLE[f];case ft.PUNCT:return Ye.PUNCT_TABLE[f];case ft.DIGIT:return Ye.DIGIT_TABLE[f];default:throw new de("Bad table")}}correctBits(l){let f,p;this.ddata.getNbLayers()<=2?(p=6,f=Re.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,f=Re.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,f=Re.AZTEC_DATA_10):(p=12,f=Re.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),x=l.length/p;if(x<v)throw new B;let b=l.length%p,N=new Int32Array(x);for(let se=0;se<x;se++,b+=p)N[se]=Ye.readCode(l,b,p);try{new it(f).decode(N,x-v)}catch(se){throw new B(se)}let j=(1<<p)-1,L=0;for(let se=0;se<v;se++){let xe=N[se];if(xe===0||xe===j)throw new B;(xe===1||xe===j-1)&&L++}let G=new Array(v*p-L),ee=0;for(let se=0;se<v;se++){let xe=N[se];if(xe===1||xe===j-1)G.fill(xe>1,ee,ee+p-1),ee+=p-1;else for(let Oe=p-1;Oe>=0;--Oe)G[ee++]=(xe&1<<Oe)!==0}return G}extractBits(l){let f=this.ddata.isCompact(),p=this.ddata.getNbLayers(),v=(f?11:14)+p*4,x=new Int32Array(v),b=new Array(this.totalBitsInLayer(p,f));if(f)for(let N=0;N<x.length;N++)x[N]=N;else{let N=v+1+2*O.truncDivision(O.truncDivision(v,2)-1,15),j=v/2,L=O.truncDivision(N,2);for(let G=0;G<j;G++){let ee=G+O.truncDivision(G,15);x[j-G-1]=L-ee-1,x[j+G]=L+ee+1}}for(let N=0,j=0;N<p;N++){let L=(p-N)*4+(f?9:12),G=N*2,ee=v-1-G;for(let se=0;se<L;se++){let xe=se*2;for(let Oe=0;Oe<2;Oe++)b[j+xe+Oe]=l.get(x[G+Oe],x[G+se]),b[j+2*L+xe+Oe]=l.get(x[G+se],x[ee-Oe]),b[j+4*L+xe+Oe]=l.get(x[ee-Oe],x[ee-se]),b[j+6*L+xe+Oe]=l.get(x[ee-se],x[G+Oe])}j+=L*8}return b}static readCode(l,f,p){let v=0;for(let x=f;x<f+p;x++)v<<=1,l[x]&&(v|=1);return v}static readByte(l,f){let p=l.length-f;return p>=8?Ye.readCode(l,f,8):Ye.readCode(l,f,p)<<8-p}static convertBoolArrayToByteArray(l){let f=new Uint8Array((l.length+7)/8);for(let p=0;p<f.length;p++)f[p]=Ye.readByte(l,8*p);return f}totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}Ye.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ye.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ye.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ye.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ye.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Be{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,f,p,v){const x=l-p,b=f-v;return Math.sqrt(x*x+b*b)}static sum(l){let f=0;for(let p=0,v=l.length;p!==v;p++){const x=l[p];f+=x}return f}}class _t{static floatToIntBits(l){return l}}_t.MAX_VALUE=Number.MAX_SAFE_INTEGER;class qe{constructor(l,f){this.x=l,this.y=f}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof qe){const f=l;return this.x===f.x&&this.y===f.y}return!1}hashCode(){return 31*_t.floatToIntBits(this.x)+_t.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const f=this.distance(l[0],l[1]),p=this.distance(l[1],l[2]),v=this.distance(l[0],l[2]);let x,b,N;if(p>=f&&p>=v?(b=l[0],x=l[1],N=l[2]):v>=p&&v>=f?(b=l[1],x=l[0],N=l[2]):(b=l[2],x=l[0],N=l[1]),this.crossProductZ(x,b,N)<0){const j=x;x=N,N=j}l[0]=x,l[1]=b,l[2]=N}static distance(l,f){return Be.distance(l.x,l.y,f.x,f.y)}static crossProductZ(l,f,p){const v=f.x,x=f.y;return(p.x-v)*(l.y-x)-(p.y-x)*(l.x-v)}}class It{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Ct extends It{constructor(l,f,p,v,x){super(l,f),this.compact=p,this.nbDatablocks=v,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Vt{constructor(l,f,p,v){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),f==null&&(f=Vt.INIT_SIZE),p==null&&(p=l.getWidth()/2|0),v==null&&(v=l.getHeight()/2|0);const x=f/2|0;if(this.leftInit=p-x,this.rightInit=p+x,this.upInit=v-x,this.downInit=v+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let l=this.leftInit,f=this.rightInit,p=this.upInit,v=this.downInit,x=!1,b=!0,N=!1,j=!1,L=!1,G=!1,ee=!1;const se=this.width,xe=this.height;for(;b;){b=!1;let Oe=!0;for(;(Oe||!j)&&f<se;)Oe=this.containsBlackPoint(p,v,f,!1),Oe?(f++,b=!0,j=!0):j||f++;if(f>=se){x=!0;break}let ke=!0;for(;(ke||!L)&&v<xe;)ke=this.containsBlackPoint(l,f,v,!0),ke?(v++,b=!0,L=!0):L||v++;if(v>=xe){x=!0;break}let Le=!0;for(;(Le||!G)&&l>=0;)Le=this.containsBlackPoint(p,v,l,!1),Le?(l--,b=!0,G=!0):G||l--;if(l<0){x=!0;break}let We=!0;for(;(We||!ee)&&p>=0;)We=this.containsBlackPoint(l,f,p,!0),We?(p--,b=!0,ee=!0):ee||p--;if(p<0){x=!0;break}b&&(N=!0)}if(!x&&N){const Oe=f-l;let ke=null;for(let at=1;ke===null&&at<Oe;at++)ke=this.getBlackPointOnSegment(l,v-at,l+at,v);if(ke==null)throw new V;let Le=null;for(let at=1;Le===null&&at<Oe;at++)Le=this.getBlackPointOnSegment(l,p+at,l+at,p);if(Le==null)throw new V;let We=null;for(let at=1;We===null&&at<Oe;at++)We=this.getBlackPointOnSegment(f,p+at,f-at,p);if(We==null)throw new V;let et=null;for(let at=1;et===null&&at<Oe;at++)et=this.getBlackPointOnSegment(f,v-at,f-at,v);if(et==null)throw new V;return this.centerEdges(et,ke,We,Le)}else throw new V}getBlackPointOnSegment(l,f,p,v){const x=Be.round(Be.distance(l,f,p,v)),b=(p-l)/x,N=(v-f)/x,j=this.image;for(let L=0;L<x;L++){const G=Be.round(l+L*b),ee=Be.round(f+L*N);if(j.get(G,ee))return new qe(G,ee)}return null}centerEdges(l,f,p,v){const x=l.getX(),b=l.getY(),N=f.getX(),j=f.getY(),L=p.getX(),G=p.getY(),ee=v.getX(),se=v.getY(),xe=Vt.CORR;return x<this.width/2?[new qe(ee-xe,se+xe),new qe(N+xe,j+xe),new qe(L-xe,G-xe),new qe(x+xe,b-xe)]:[new qe(ee+xe,se+xe),new qe(N+xe,j-xe),new qe(L-xe,G+xe),new qe(x-xe,b-xe)]}containsBlackPoint(l,f,p,v){const x=this.image;if(v){for(let b=l;b<=f;b++)if(x.get(b,p))return!0}else for(let b=l;b<=f;b++)if(x.get(p,b))return!0;return!1}}Vt.INIT_SIZE=10,Vt.CORR=1;class Gt{static checkAndNudgePoints(l,f){const p=l.getWidth(),v=l.getHeight();let x=!0;for(let b=0;b<f.length&&x;b+=2){const N=Math.floor(f[b]),j=Math.floor(f[b+1]);if(N<-1||N>p||j<-1||j>v)throw new V;x=!1,N===-1?(f[b]=0,x=!0):N===p&&(f[b]=p-1,x=!0),j===-1?(f[b+1]=0,x=!0):j===v&&(f[b+1]=v-1,x=!0)}x=!0;for(let b=f.length-2;b>=0&&x;b-=2){const N=Math.floor(f[b]),j=Math.floor(f[b+1]);if(N<-1||N>p||j<-1||j>v)throw new V;x=!1,N===-1?(f[b]=0,x=!0):N===p&&(f[b]=p-1,x=!0),j===-1?(f[b+1]=0,x=!0):j===v&&(f[b+1]=v-1,x=!0)}}}class vt{constructor(l,f,p,v,x,b,N,j,L){this.a11=l,this.a21=f,this.a31=p,this.a12=v,this.a22=x,this.a32=b,this.a13=N,this.a23=j,this.a33=L}static quadrilateralToQuadrilateral(l,f,p,v,x,b,N,j,L,G,ee,se,xe,Oe,ke,Le){const We=vt.quadrilateralToSquare(l,f,p,v,x,b,N,j);return vt.squareToQuadrilateral(L,G,ee,se,xe,Oe,ke,Le).times(We)}transformPoints(l){const f=l.length,p=this.a11,v=this.a12,x=this.a13,b=this.a21,N=this.a22,j=this.a23,L=this.a31,G=this.a32,ee=this.a33;for(let se=0;se<f;se+=2){const xe=l[se],Oe=l[se+1],ke=x*xe+j*Oe+ee;l[se]=(p*xe+b*Oe+L)/ke,l[se+1]=(v*xe+N*Oe+G)/ke}}transformPointsWithValues(l,f){const p=this.a11,v=this.a12,x=this.a13,b=this.a21,N=this.a22,j=this.a23,L=this.a31,G=this.a32,ee=this.a33,se=l.length;for(let xe=0;xe<se;xe++){const Oe=l[xe],ke=f[xe],Le=x*Oe+j*ke+ee;l[xe]=(p*Oe+b*ke+L)/Le,f[xe]=(v*Oe+N*ke+G)/Le}}static squareToQuadrilateral(l,f,p,v,x,b,N,j){const L=l-p+x-N,G=f-v+b-j;if(L===0&&G===0)return new vt(p-l,x-p,l,v-f,b-v,f,0,0,1);{const ee=p-x,se=N-x,xe=v-b,Oe=j-b,ke=ee*Oe-se*xe,Le=(L*Oe-se*G)/ke,We=(ee*G-L*xe)/ke;return new vt(p-l+Le*p,N-l+We*N,l,v-f+Le*v,j-f+We*j,f,Le,We,1)}}static quadrilateralToSquare(l,f,p,v,x,b,N,j){return vt.squareToQuadrilateral(l,f,p,v,x,b,N,j).buildAdjoint()}buildAdjoint(){return new vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new vt(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class hr extends Gt{sampleGrid(l,f,p,v,x,b,N,j,L,G,ee,se,xe,Oe,ke,Le,We,et,at){const tt=vt.quadrilateralToQuadrilateral(v,x,b,N,j,L,G,ee,se,xe,Oe,ke,Le,We,et,at);return this.sampleGridWithTransform(l,f,p,tt)}sampleGridWithTransform(l,f,p,v){if(f<=0||p<=0)throw new V;const x=new W(f,p),b=new Float32Array(2*f);for(let N=0;N<p;N++){const j=b.length,L=N+.5;for(let G=0;G<j;G+=2)b[G]=G/2+.5,b[G+1]=L;v.transformPoints(b),Gt.checkAndNudgePoints(l,b);try{for(let G=0;G<j;G+=2)l.get(Math.floor(b[G]),Math.floor(b[G+1]))&&x.set(G/2,N)}catch{throw new V}}return x}}class Kt{static setGridSampler(l){Kt.gridSampler=l}static getInstance(){return Kt.gridSampler}}Kt.gridSampler=new hr;class Et{constructor(l,f){this.x=l,this.y=f}toResultPoint(){return new qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class sr{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let f=this.getMatrixCenter(),p=this.getBullsEyeCorners(f);if(l){let b=p[0];p[0]=p[2],p[2]=b}this.extractParameters(p);let v=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),x=this.getMatrixCornerPoints(p);return new Ct(v,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new V;let f=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(l[0],l[1],f),this.sampleLine(l[1],l[2],f),this.sampleLine(l[2],l[3],f),this.sampleLine(l[3],l[0],f)]);this.shift=this.getRotation(p,f);let v=0;for(let b=0;b<4;b++){let N=p[(this.shift+b)%4];this.compact?(v<<=7,v+=N>>1&127):(v<<=10,v+=(N>>2&992)+(N>>1&31))}let x=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(l,f){let p=0;l.forEach((v,x,b)=>{let N=(v>>f-2<<1)+(v&1);p=(p<<3)+N}),p=((p&1)<<11)+(p>>1);for(let v=0;v<4;v++)if(O.bitCount(p^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new V}getCorrectedParameterData(l,f){let p,v;f?(p=7,v=2):(p=10,v=4);let x=p-v,b=new Int32Array(p);for(let j=p-1;j>=0;--j)b[j]=l&15,l>>=4;try{new it(Re.AZTEC_PARAM).decode(b,x)}catch{throw new V}let N=0;for(let j=0;j<v;j++)N=(N<<4)+b[j];return N}getBullsEyeCorners(l){let f=l,p=l,v=l,x=l,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ee=this.getFirstDifferent(f,b,1,-1),se=this.getFirstDifferent(p,b,1,1),xe=this.getFirstDifferent(v,b,-1,1),Oe=this.getFirstDifferent(x,b,-1,-1);if(this.nbCenterLayers>2){let ke=this.distancePoint(Oe,ee)*this.nbCenterLayers/(this.distancePoint(x,f)*(this.nbCenterLayers+2));if(ke<.75||ke>1.25||!this.isWhiteOrBlackRectangle(ee,se,xe,Oe))break}f=ee,p=se,v=xe,x=Oe,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let N=new qe(f.getX()+.5,f.getY()-.5),j=new qe(p.getX()+.5,p.getY()+.5),L=new qe(v.getX()-.5,v.getY()+.5),G=new qe(x.getX()-.5,x.getY()-.5);return this.expandSquare([N,j,L,G],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,f,p,v;try{let N=new Vt(this.image).detect();l=N[0],f=N[1],p=N[2],v=N[3]}catch{let j=this.image.getWidth()/2,L=this.image.getHeight()/2;l=this.getFirstDifferent(new Et(j+7,L-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new Et(j+7,L+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Et(j-7,L+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Et(j-7,L-7),!1,-1,-1).toResultPoint()}let x=Be.round((l.getX()+v.getX()+f.getX()+p.getX())/4),b=Be.round((l.getY()+v.getY()+f.getY()+p.getY())/4);try{let N=new Vt(this.image,15,x,b).detect();l=N[0],f=N[1],p=N[2],v=N[3]}catch{l=this.getFirstDifferent(new Et(x+7,b-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new Et(x+7,b+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Et(x-7,b+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Et(x-7,b-7),!1,-1,-1).toResultPoint()}return x=Be.round((l.getX()+v.getX()+f.getX()+p.getX())/4),b=Be.round((l.getY()+v.getY()+f.getY()+p.getY())/4),new Et(x,b)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,f,p,v,x){let b=Kt.getInstance(),N=this.getDimension(),j=N/2-this.nbCenterLayers,L=N/2+this.nbCenterLayers;return b.sampleGrid(l,N,N,j,j,L,j,L,L,j,L,f.getX(),f.getY(),p.getX(),p.getY(),v.getX(),v.getY(),x.getX(),x.getY())}sampleLine(l,f,p){let v=0,x=this.distanceResultPoint(l,f),b=x/p,N=l.getX(),j=l.getY(),L=b*(f.getX()-l.getX())/x,G=b*(f.getY()-l.getY())/x;for(let ee=0;ee<p;ee++)this.image.get(Be.round(N+ee*L),Be.round(j+ee*G))&&(v|=1<<p-ee-1);return v}isWhiteOrBlackRectangle(l,f,p,v){let x=3;l=new Et(l.getX()-x,l.getY()+x),f=new Et(f.getX()-x,f.getY()-x),p=new Et(p.getX()+x,p.getY()-x),v=new Et(v.getX()+x,v.getY()+x);let b=this.getColor(v,l);if(b===0)return!1;let N=this.getColor(l,f);return N!==b||(N=this.getColor(f,p),N!==b)?!1:(N=this.getColor(p,v),N===b)}getColor(l,f){let p=this.distancePoint(l,f),v=(f.getX()-l.getX())/p,x=(f.getY()-l.getY())/p,b=0,N=l.getX(),j=l.getY(),L=this.image.get(l.getX(),l.getY()),G=Math.ceil(p);for(let se=0;se<G;se++)N+=v,j+=x,this.image.get(Be.round(N),Be.round(j))!==L&&b++;let ee=b/p;return ee>.1&&ee<.9?0:ee<=.1===L?1:-1}getFirstDifferent(l,f,p,v){let x=l.getX()+p,b=l.getY()+v;for(;this.isValid(x,b)&&this.image.get(x,b)===f;)x+=p,b+=v;for(x-=p,b-=v;this.isValid(x,b)&&this.image.get(x,b)===f;)x+=p;for(x-=p;this.isValid(x,b)&&this.image.get(x,b)===f;)b+=v;return b-=v,new Et(x,b)}expandSquare(l,f,p){let v=p/(2*f),x=l[0].getX()-l[2].getX(),b=l[0].getY()-l[2].getY(),N=(l[0].getX()+l[2].getX())/2,j=(l[0].getY()+l[2].getY())/2,L=new qe(N+v*x,j+v*b),G=new qe(N-v*x,j-v*b);x=l[1].getX()-l[3].getX(),b=l[1].getY()-l[3].getY(),N=(l[1].getX()+l[3].getX())/2,j=(l[1].getY()+l[3].getY())/2;let ee=new qe(N+v*x,j+v*b),se=new qe(N-v*x,j-v*b);return[L,ee,G,se]}isValid(l,f){return l>=0&&l<this.image.getWidth()&&f>0&&f<this.image.getHeight()}isValidPoint(l){let f=Be.round(l.getX()),p=Be.round(l.getY());return this.isValid(f,p)}distancePoint(l,f){return Be.distance(l.getX(),l.getY(),f.getX(),f.getY())}distanceResultPoint(l,f){return Be.distance(l.getX(),l.getY(),f.getX(),f.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class kt{decode(l,f=null){let p=null,v=new sr(l.getBlackMatrix()),x=null,b=null;try{let G=v.detectMirror(!1);x=G.getPoints(),this.reportFoundResultPoints(f,x),b=new Ye().decode(G)}catch(G){p=G}if(b==null)try{let G=v.detectMirror(!0);x=G.getPoints(),this.reportFoundResultPoints(f,x),b=new Ye().decode(G)}catch(G){throw p??G}let N=new ae(b.getText(),b.getRawBytes(),b.getNumBits(),x,he.AZTEC,_.currentTimeMillis()),j=b.getByteSegments();j!=null&&N.putMetadata(Ae.BYTE_SEGMENTS,j);let L=b.getECLevel();return L!=null&&N.putMetadata(Ae.ERROR_CORRECTION_LEVEL,L),N}reportFoundResultPoints(l,f){if(l!=null){let p=l.get(F.NEED_RESULT_POINT_CALLBACK);p!=null&&f.forEach((v,x,b)=>{p.foundPossibleResultPoint(v)})}}reset(){}}class Ur extends Z{constructor(l=500){super(new kt,l)}}class Zt{decode(l,f){try{return this.doDecode(l,f)}catch{if(f&&f.get(F.TRY_HARDER)===!0&&l.isRotateSupported()){const x=l.rotateCounterClockwise(),b=this.doDecode(x,f),N=b.getResultMetadata();let j=270;N!==null&&N.get(Ae.ORIENTATION)===!0&&(j=j+N.get(Ae.ORIENTATION)%360),b.putMetadata(Ae.ORIENTATION,j);const L=b.getResultPoints();if(L!==null){const G=x.getHeight();for(let ee=0;ee<L.length;ee++)L[ee]=new qe(G-L[ee].getY()-1,L[ee].getX())}return b}else throw new V}}reset(){}doDecode(l,f){const p=l.getWidth(),v=l.getHeight();let x=new I(p);const b=f&&f.get(F.TRY_HARDER)===!0,N=Math.max(1,v>>(b?8:5));let j;b?j=v:j=15;const L=Math.trunc(v/2);for(let G=0;G<j;G++){const ee=Math.trunc((G+1)/2),se=(G&1)===0,xe=L+N*(se?ee:-ee);if(xe<0||xe>=v)break;try{x=l.getBlackRow(xe,x)}catch{continue}for(let Oe=0;Oe<2;Oe++){if(Oe===1&&(x.reverse(),f&&f.get(F.NEED_RESULT_POINT_CALLBACK)===!0)){const ke=new Map;f.forEach((Le,We)=>ke.set(We,Le)),ke.delete(F.NEED_RESULT_POINT_CALLBACK),f=ke}try{const ke=this.decodeRow(xe,x,f);if(Oe===1){ke.putMetadata(Ae.ORIENTATION,180);const Le=ke.getResultPoints();Le!==null&&(Le[0]=new qe(p-Le[0].getX()-1,Le[0].getY()),Le[1]=new qe(p-Le[1].getX()-1,Le[1].getY()))}return ke}catch{}}}throw new V}static recordPattern(l,f,p){const v=p.length;for(let L=0;L<v;L++)p[L]=0;const x=l.getSize();if(f>=x)throw new V;let b=!l.get(f),N=0,j=f;for(;j<x;){if(l.get(j)!==b)p[N]++;else{if(++N===v)break;p[N]=1,b=!b}j++}if(!(N===v||N===v-1&&j===x))throw new V}static recordPatternInReverse(l,f,p){let v=p.length,x=l.get(f);for(;f>0&&v>=0;)l.get(--f)!==x&&(v--,x=!x);if(v>=0)throw new V;Zt.recordPattern(l,f+1,p)}static patternMatchVariance(l,f,p){const v=l.length;let x=0,b=0;for(let L=0;L<v;L++)x+=l[L],b+=f[L];if(x<b)return Number.POSITIVE_INFINITY;const N=x/b;p*=N;let j=0;for(let L=0;L<v;L++){const G=l[L],ee=f[L]*N,se=G>ee?G-ee:ee-G;if(se>p)return Number.POSITIVE_INFINITY;j+=se}return j/x}}class He extends Zt{static findStartPattern(l){const f=l.getSize(),p=l.getNextSet(0);let v=0,x=Int32Array.from([0,0,0,0,0,0]),b=p,N=!1;const j=6;for(let L=p;L<f;L++)if(l.get(L)!==N)x[v]++;else{if(v===j-1){let G=He.MAX_AVG_VARIANCE,ee=-1;for(let se=He.CODE_START_A;se<=He.CODE_START_C;se++){const xe=Zt.patternMatchVariance(x,He.CODE_PATTERNS[se],He.MAX_INDIVIDUAL_VARIANCE);xe<G&&(G=xe,ee=se)}if(ee>=0&&l.isRange(Math.max(0,b-(L-b)/2),b,!1))return Int32Array.from([b,L,ee]);b+=x[0]+x[1],x=x.slice(2,x.length-1),x[v-1]=0,x[v]=0,v--}else v++;x[v]=1,N=!N}throw new V}static decodeCode(l,f,p){Zt.recordPattern(l,p,f);let v=He.MAX_AVG_VARIANCE,x=-1;for(let b=0;b<He.CODE_PATTERNS.length;b++){const N=He.CODE_PATTERNS[b],j=this.patternMatchVariance(f,N,He.MAX_INDIVIDUAL_VARIANCE);j<v&&(v=j,x=b)}if(x>=0)return x;throw new V}decodeRow(l,f,p){const v=p&&p.get(F.ASSUME_GS1)===!0,x=He.findStartPattern(f),b=x[2];let N=0;const j=new Uint8Array(20);j[N++]=b;let L;switch(b){case He.CODE_START_A:L=He.CODE_CODE_A;break;case He.CODE_START_B:L=He.CODE_CODE_B;break;case He.CODE_START_C:L=He.CODE_CODE_C;break;default:throw new B}let G=!1,ee=!1,se="",xe=x[0],Oe=x[1];const ke=Int32Array.from([0,0,0,0,0,0]);let Le=0,We=0,et=b,at=0,tt=!0,ur=!1,vr=!1;for(;!G;){const mu=ee;switch(ee=!1,Le=We,We=He.decodeCode(f,ke,Oe),j[N++]=We,We!==He.CODE_STOP&&(tt=!0),We!==He.CODE_STOP&&(at++,et+=at*We),xe=Oe,Oe+=ke.reduce((Uy,Jf)=>Uy+Jf,0),We){case He.CODE_START_A:case He.CODE_START_B:case He.CODE_START_C:throw new B}switch(L){case He.CODE_CODE_A:if(We<64)vr===ur?se+=String.fromCharCode(32+We):se+=String.fromCharCode(32+We+128),vr=!1;else if(We<96)vr===ur?se+=String.fromCharCode(We-64):se+=String.fromCharCode(We+64),vr=!1;else switch(We!==He.CODE_STOP&&(tt=!1),We){case He.CODE_FNC_1:v&&(se.length===0?se+="]C1":se+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_A:!ur&&vr?(ur=!0,vr=!1):ur&&vr?(ur=!1,vr=!1):vr=!0;break;case He.CODE_SHIFT:ee=!0,L=He.CODE_CODE_B;break;case He.CODE_CODE_B:L=He.CODE_CODE_B;break;case He.CODE_CODE_C:L=He.CODE_CODE_C;break;case He.CODE_STOP:G=!0;break}break;case He.CODE_CODE_B:if(We<96)vr===ur?se+=String.fromCharCode(32+We):se+=String.fromCharCode(32+We+128),vr=!1;else switch(We!==He.CODE_STOP&&(tt=!1),We){case He.CODE_FNC_1:v&&(se.length===0?se+="]C1":se+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_B:!ur&&vr?(ur=!0,vr=!1):ur&&vr?(ur=!1,vr=!1):vr=!0;break;case He.CODE_SHIFT:ee=!0,L=He.CODE_CODE_A;break;case He.CODE_CODE_A:L=He.CODE_CODE_A;break;case He.CODE_CODE_C:L=He.CODE_CODE_C;break;case He.CODE_STOP:G=!0;break}break;case He.CODE_CODE_C:if(We<100)We<10&&(se+="0"),se+=We;else switch(We!==He.CODE_STOP&&(tt=!1),We){case He.CODE_FNC_1:v&&(se.length===0?se+="]C1":se+="");break;case He.CODE_CODE_A:L=He.CODE_CODE_A;break;case He.CODE_CODE_B:L=He.CODE_CODE_B;break;case He.CODE_STOP:G=!0;break}break}mu&&(L=L===He.CODE_CODE_A?He.CODE_CODE_B:He.CODE_CODE_A)}const Ji=Oe-xe;if(Oe=f.getNextUnset(Oe),!f.isRange(Oe,Math.min(f.getSize(),Oe+(Oe-xe)/2),!1))throw new V;if(et-=at*Le,et%103!==Le)throw new g;const Ta=se.length;if(Ta===0)throw new V;Ta>0&&tt&&(L===He.CODE_CODE_C?se=se.substring(0,Ta-2):se=se.substring(0,Ta-1));const fa=(x[1]+x[0])/2,An=xe+Ji/2,ea=j.length,ts=new Uint8Array(ea);for(let mu=0;mu<ea;mu++)ts[mu]=j[mu];const pu=[new qe(fa,l),new qe(An,l)];return new ae(se,ts,0,pu,he.CODE_128,new Date().getTime())}}He.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],He.MAX_AVG_VARIANCE=.25,He.MAX_INDIVIDUAL_VARIANCE=.7,He.CODE_SHIFT=98,He.CODE_CODE_C=99,He.CODE_CODE_B=100,He.CODE_CODE_A=101,He.CODE_FNC_1=102,He.CODE_FNC_2=97,He.CODE_FNC_3=96,He.CODE_FNC_4_A=101,He.CODE_FNC_4_B=100,He.CODE_START_A=103,He.CODE_START_B=104,He.CODE_START_C=105,He.CODE_STOP=106;class $t extends Zt{constructor(l=!1,f=!1){super(),this.usingCheckDigit=l,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,f,p){let v=this.counters;v.fill(0),this.decodeRowResult="";let x=$t.findAsteriskPattern(f,v),b=f.getNextSet(x[1]),N=f.getSize(),j,L;do{$t.recordPattern(f,b,v);let ke=$t.toNarrowWidePattern(v);if(ke<0)throw new V;j=$t.patternToChar(ke),this.decodeRowResult+=j,L=b;for(let Le of v)b+=Le;b=f.getNextSet(b)}while(j!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let G=0;for(let ke of v)G+=ke;let ee=b-L-G;if(b!==N&&ee*2<G)throw new V;if(this.usingCheckDigit){let ke=this.decodeRowResult.length-1,Le=0;for(let We=0;We<ke;We++)Le+=$t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(We));if(this.decodeRowResult.charAt(ke)!==$t.ALPHABET_STRING.charAt(Le%43))throw new g;this.decodeRowResult=this.decodeRowResult.substring(0,ke)}if(this.decodeRowResult.length===0)throw new V;let se;this.extendedMode?se=$t.decodeExtended(this.decodeRowResult):se=this.decodeRowResult;let xe=(x[1]+x[0])/2,Oe=L+G/2;return new ae(se,null,0,[new qe(xe,l),new qe(Oe,l)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(l,f){let p=l.getSize(),v=l.getNextSet(0),x=0,b=v,N=!1,j=f.length;for(let L=v;L<p;L++)if(l.get(L)!==N)f[x]++;else{if(x===j-1){if(this.toNarrowWidePattern(f)===$t.ASTERISK_ENCODING&&l.isRange(Math.max(0,b-Math.floor((L-b)/2)),b,!1))return[b,L];b+=f[0]+f[1],f.copyWithin(0,2,2+x-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,N=!N}throw new V}static toNarrowWidePattern(l){let f=l.length,p=0,v;do{let x=2147483647;for(let j of l)j<x&&j>p&&(x=j);p=x,v=0;let b=0,N=0;for(let j=0;j<f;j++){let L=l[j];L>p&&(N|=1<<f-1-j,v++,b+=L)}if(v===3){for(let j=0;j<f&&v>0;j++){let L=l[j];if(L>p&&(v--,L*2>=b))return-1}return N}}while(v>3);return-1}static patternToChar(l){for(let f=0;f<$t.CHARACTER_ENCODINGS.length;f++)if($t.CHARACTER_ENCODINGS[f]===l)return $t.ALPHABET_STRING.charAt(f);if(l===$t.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(l){let f=l.length,p="";for(let v=0;v<f;v++){let x=l.charAt(v);if(x==="+"||x==="$"||x==="%"||x==="/"){let b=l.charAt(v+1),N="\0";switch(x){case"+":if(b>="A"&&b<="Z")N=String.fromCharCode(b.charCodeAt(0)+32);else throw new B;break;case"$":if(b>="A"&&b<="Z")N=String.fromCharCode(b.charCodeAt(0)-64);else throw new B;break;case"%":if(b>="A"&&b<="E")N=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")N=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")N=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")N=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")N="\0";else if(b==="V")N="@";else if(b==="W")N="`";else if(b==="X"||b==="Y"||b==="Z")N="";else throw new B;break;case"/":if(b>="A"&&b<="O")N=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")N=":";else throw new B;break}p+=N,v++}else p+=x}return p}}$t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",$t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],$t.ASTERISK_ENCODING=148;class Qt extends Zt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,f,p){let v=this.decodeStart(f),x=this.decodeEnd(f),b=new X;Qt.decodeMiddle(f,v[1],x[0],b);let N=b.toString(),j=null;p!=null&&(j=p.get(F.ALLOWED_LENGTHS)),j==null&&(j=Qt.DEFAULT_ALLOWED_LENGTHS);let L=N.length,G=!1,ee=0;for(let Oe of j){if(L===Oe){G=!0;break}Oe>ee&&(ee=Oe)}if(!G&&L>ee&&(G=!0),!G)throw new B;const se=[new qe(v[1],l),new qe(x[0],l)];return new ae(N,null,0,se,he.ITF,new Date().getTime())}static decodeMiddle(l,f,p,v){let x=new Int32Array(10),b=new Int32Array(5),N=new Int32Array(5);for(x.fill(0),b.fill(0),N.fill(0);f<p;){Zt.recordPattern(l,f,x);for(let L=0;L<5;L++){let G=2*L;b[L]=x[G],N[L]=x[G+1]}let j=Qt.decodeDigit(b);v.append(j.toString()),j=this.decodeDigit(N),v.append(j.toString()),x.forEach(function(L){f+=L})}}decodeStart(l){let f=Qt.skipWhiteSpace(l),p=Qt.findGuardPattern(l,f,Qt.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(l,p[0]),p}validateQuietZone(l,f){let p=this.narrowLineWidth*10;p=p<f?p:f;for(let v=f-1;p>0&&v>=0&&!l.get(v);v--)p--;if(p!==0)throw new V}static skipWhiteSpace(l){const f=l.getSize(),p=l.getNextSet(0);if(p===f)throw new V;return p}decodeEnd(l){l.reverse();try{let f=Qt.skipWhiteSpace(l),p;try{p=Qt.findGuardPattern(l,f,Qt.END_PATTERN_REVERSED[0])}catch(x){x instanceof V&&(p=Qt.findGuardPattern(l,f,Qt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,p[0]);let v=p[0];return p[0]=l.getSize()-p[1],p[1]=l.getSize()-v,p}finally{l.reverse()}}static findGuardPattern(l,f,p){let v=p.length,x=new Int32Array(v),b=l.getSize(),N=!1,j=0,L=f;x.fill(0);for(let G=f;G<b;G++)if(l.get(G)!==N)x[j]++;else{if(j===v-1){if(Zt.patternMatchVariance(x,p,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return[L,G];L+=x[0]+x[1],_.arraycopy(x,2,x,0,j-1),x[j-1]=0,x[j]=0,j--}else j++;x[j]=1,N=!N}throw new V}static decodeDigit(l){let f=Qt.MAX_AVG_VARIANCE,p=-1,v=Qt.PATTERNS.length;for(let x=0;x<v;x++){let b=Qt.PATTERNS[x],N=Zt.patternMatchVariance(l,b,Qt.MAX_INDIVIDUAL_VARIANCE);N<f?(f=N,p=x):N===f&&(p=-1)}if(p>=0)return p%10;throw new V}}Qt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Qt.MAX_AVG_VARIANCE=.38,Qt.MAX_INDIVIDUAL_VARIANCE=.5,Qt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Qt.START_PATTERN=Int32Array.from([1,1,1,1]),Qt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Nt extends Zt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let f=!1,p,v=0,x=Int32Array.from([0,0,0]);for(;!f;){x=Int32Array.from([0,0,0]),p=Nt.findGuardPattern(l,v,!1,this.START_END_PATTERN,x);let b=p[0];v=p[1];let N=b-(v-b);N>=0&&(f=l.isRange(N,b,!1))}return p}static checkChecksum(l){return Nt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let p=parseInt(l.charAt(f-1),10);return Nt.getStandardUPCEANChecksum(l.substring(0,f-1))===p}static getStandardUPCEANChecksum(l){let f=l.length,p=0;for(let v=f-1;v>=0;v-=2){let x=l.charAt(v).charCodeAt(0)-48;if(x<0||x>9)throw new B;p+=x}p*=3;for(let v=f-2;v>=0;v-=2){let x=l.charAt(v).charCodeAt(0)-48;if(x<0||x>9)throw new B;p+=x}return(1e3-p)%10}static decodeEnd(l,f){return Nt.findGuardPattern(l,f,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,f,p,v){return this.findGuardPattern(l,f,p,v,new Int32Array(v.length))}static findGuardPattern(l,f,p,v,x){let b=l.getSize();f=p?l.getNextUnset(f):l.getNextSet(f);let N=0,j=f,L=v.length,G=p;for(let ee=f;ee<b;ee++)if(l.get(ee)!==G)x[N]++;else{if(N===L-1){if(Zt.patternMatchVariance(x,v,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return Int32Array.from([j,ee]);j+=x[0]+x[1];let se=x.slice(2,x.length-1);for(let xe=0;xe<N-1;xe++)x[xe]=se[xe];x[N-1]=0,x[N]=0,N--}else N++;x[N]=1,G=!G}throw new V}static decodeDigit(l,f,p,v){this.recordPattern(l,p,f);let x=this.MAX_AVG_VARIANCE,b=-1,N=v.length;for(let j=0;j<N;j++){let L=v[j],G=Zt.patternMatchVariance(f,L,Nt.MAX_INDIVIDUAL_VARIANCE);G<x&&(x=G,b=j)}if(b>=0)return b;throw new V}}Nt.MAX_AVG_VARIANCE=.48,Nt.MAX_INDIVIDUAL_VARIANCE=.7,Nt.START_END_PATTERN=Int32Array.from([1,1,1]),Nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Lr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,p){let v=this.decodeRowStringBuffer,x=this.decodeMiddle(f,p,v),b=v.toString(),N=Lr.parseExtensionString(b),j=[new qe((p[0]+p[1])/2,l),new qe(x,l)],L=new ae(b,null,0,j,he.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&L.putAllMetadata(N),L}decodeMiddle(l,f,p){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),b=f[1],N=0;for(let L=0;L<5&&b<x;L++){let G=Nt.decodeDigit(l,v,b,Nt.L_AND_G_PATTERNS);p+=String.fromCharCode(48+G%10);for(let ee of v)b+=ee;G>=10&&(N|=1<<4-L),L!==4&&(b=l.getNextSet(b),b=l.getNextUnset(b))}if(p.length!==5)throw new V;let j=this.determineCheckDigit(N);if(Lr.extensionChecksum(p.toString())!==j)throw new V;return b}static extensionChecksum(l){let f=l.length,p=0;for(let v=f-2;v>=0;v-=2)p+=l.charAt(v).charCodeAt(0)-48;p*=3;for(let v=f-1;v>=0;v-=2)p+=l.charAt(v).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(l){for(let f=0;f<10;f++)if(l===this.CHECK_DIGIT_ENCODINGS[f])return f;throw new V}static parseExtensionString(l){if(l.length!==5)return null;let f=Lr.parseExtension5String(l);return f==null?null:new Map([[Ae.SUGGESTED_PRICE,f]])}static parseExtension5String(l){let f;switch(l.charAt(0)){case"0":f="£";break;case"5":f="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}f="";break;default:f="";break}let p=parseInt(l.substring(1)),v=(p/100).toString(),x=p%100,b=x<10?"0"+x:x.toString();return f+v+"."+b}}class _r{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,p){let v=this.decodeRowStringBuffer,x=this.decodeMiddle(f,p,v),b=v.toString(),N=_r.parseExtensionString(b),j=[new qe((p[0]+p[1])/2,l),new qe(x,l)],L=new ae(b,null,0,j,he.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&L.putAllMetadata(N),L}decodeMiddle(l,f,p){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),b=f[1],N=0;for(let j=0;j<2&&b<x;j++){let L=Nt.decodeDigit(l,v,b,Nt.L_AND_G_PATTERNS);p+=String.fromCharCode(48+L%10);for(let G of v)b+=G;L>=10&&(N|=1<<1-j),j!==1&&(b=l.getNextSet(b),b=l.getNextUnset(b))}if(p.length!==2)throw new V;if(parseInt(p.toString())%4!==N)throw new V;return b}static parseExtensionString(l){return l.length!==2?null:new Map([[Ae.ISSUE_NUMBER,parseInt(l)]])}}class qn{static decodeRow(l,f,p){let v=Nt.findGuardPattern(f,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Lr().decodeRow(l,f,v)}catch{return new _r().decodeRow(l,f,v)}}}qn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class pr extends Nt{constructor(){super(),this.decodeRowStringBuffer="",pr.L_AND_G_PATTERNS=pr.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let f=pr.L_PATTERNS[l-10],p=new Int32Array(f.length);for(let v=0;v<f.length;v++)p[v]=f[f.length-v-1];pr.L_AND_G_PATTERNS[l]=p}}decodeRow(l,f,p){let v=pr.findStartGuardPattern(f),x=p==null?null:p.get(F.NEED_RESULT_POINT_CALLBACK);if(x!=null){const tt=new qe((v[0]+v[1])/2,l);x.foundPossibleResultPoint(tt)}let b=this.decodeMiddle(f,v,this.decodeRowStringBuffer),N=b.rowOffset,j=b.resultString;if(x!=null){const tt=new qe(N,l);x.foundPossibleResultPoint(tt)}let L=this.decodeEnd(f,N);if(x!=null){const tt=new qe((L[0]+L[1])/2,l);x.foundPossibleResultPoint(tt)}let G=L[1],ee=G+(G-L[0]);if(ee>=f.getSize()||!f.isRange(G,ee,!1))throw new V;let se=j.toString();if(se.length<8)throw new B;if(!pr.checkChecksum(se))throw new g;let xe=(v[1]+v[0])/2,Oe=(L[1]+L[0])/2,ke=this.getBarcodeFormat(),Le=[new qe(xe,l),new qe(Oe,l)],We=new ae(se,null,0,Le,ke,new Date().getTime()),et=0;try{let tt=qn.decodeRow(l,f,L[1]);We.putMetadata(Ae.UPC_EAN_EXTENSION,tt.getText()),We.putAllMetadata(tt.getResultMetadata()),We.addResultPoints(tt.getResultPoints()),et=tt.getText().length}catch{}let at=p==null?null:p.get(F.ALLOWED_EAN_EXTENSIONS);if(at!=null){let tt=!1;for(let ur in at)if(et.toString()===ur){tt=!0;break}if(!tt)throw new V}return We}decodeEnd(l,f){return pr.findGuardPattern(l,f,!1,pr.START_END_PATTERN,new Int32Array(pr.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return pr.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let p=parseInt(l.charAt(f-1),10);return pr.getStandardUPCEANChecksum(l.substring(0,f-1))===p}static getStandardUPCEANChecksum(l){let f=l.length,p=0;for(let v=f-1;v>=0;v-=2){let x=l.charAt(v).charCodeAt(0)-48;if(x<0||x>9)throw new B;p+=x}p*=3;for(let v=f-2;v>=0;v-=2){let x=l.charAt(v).charCodeAt(0)-48;if(x<0||x>9)throw new B;p+=x}return(1e3-p)%10}}class Gr extends pr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),b=f[1],N=0;for(let L=0;L<6&&b<x;L++){let G=pr.decodeDigit(l,v,b,pr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+G%10);for(let ee of v)b+=ee;G>=10&&(N|=1<<5-L)}p=Gr.determineFirstDigit(p,N),b=pr.findGuardPattern(l,b,!0,pr.MIDDLE_PATTERN,new Int32Array(pr.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&b<x;L++){let G=pr.decodeDigit(l,v,b,pr.L_PATTERNS);p+=String.fromCharCode(48+G);for(let ee of v)b+=ee}return{rowOffset:b,resultString:p}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(l,f){for(let p=0;p<10;p++)if(f===this.FIRST_DIGIT_ENCODINGS[p])return l=String.fromCharCode(48+p)+l,l;throw new V}}Gr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class lr extends pr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),b=f[1];for(let j=0;j<4&&b<x;j++){let L=pr.decodeDigit(l,v,b,pr.L_PATTERNS);p+=String.fromCharCode(48+L);for(let G of v)b+=G}b=pr.findGuardPattern(l,b,!0,pr.MIDDLE_PATTERN,new Int32Array(pr.MIDDLE_PATTERN.length).fill(0))[1];for(let j=0;j<4&&b<x;j++){let L=pr.decodeDigit(l,v,b,pr.L_PATTERNS);p+=String.fromCharCode(48+L);for(let G of v)b+=G}return{rowOffset:b,resultString:p}}getBarcodeFormat(){return he.EAN_8}}class rn extends pr{constructor(){super(...arguments),this.ean13Reader=new Gr}getBarcodeFormat(){return he.UPC_A}decode(l,f){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,f,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,f,p))}decodeMiddle(l,f,p){return this.ean13Reader.decodeMiddle(l,f,p)}maybeReturnResult(l){let f=l.getText();if(f.charAt(0)==="0"){let p=new ae(f.substring(1),null,null,l.getResultPoints(),he.UPC_A);return l.getResultMetadata()!=null&&p.putAllMetadata(l.getResultMetadata()),p}else throw new V}reset(){this.ean13Reader.reset()}}class Yt extends pr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,f,p){const v=this.decodeMiddleCounters.map(L=>L);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const x=l.getSize();let b=f[1],N=0;for(let L=0;L<6&&b<x;L++){const G=Yt.decodeDigit(l,v,b,Yt.L_AND_G_PATTERNS);p+=String.fromCharCode(48+G%10);for(let ee of v)b+=ee;G>=10&&(N|=1<<5-L)}let j=Yt.determineNumSysAndCheckDigit(p,N);return{rowOffset:b,resultString:j}}decodeEnd(l,f){return Yt.findGuardPatternWithoutCounters(l,f,!0,Yt.MIDDLE_END_PATTERN)}checkChecksum(l){return pr.checkChecksum(Yt.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,f){for(let p=0;p<=1;p++)for(let v=0;v<10;v++)if(f===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][v]){let x=String.fromCharCode(48+p),b=String.fromCharCode(48+v);return x+l+b}throw V.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(l){const f=l.slice(1,7).split("").map(x=>x.charCodeAt(0)),p=new X;p.append(l.charAt(0));let v=f[5];switch(v){case 0:case 1:case 2:p.appendChars(f,0,2),p.append(v),p.append("0000"),p.appendChars(f,2,3);break;case 3:p.appendChars(f,0,3),p.append("00000"),p.appendChars(f,3,2);break;case 4:p.appendChars(f,0,4),p.append("00000"),p.append(f[4]);break;default:p.appendChars(f,0,5),p.append("0000"),p.append(v);break}return l.length>=8&&p.append(l.charAt(7)),p.toString()}}Yt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Nr extends Zt{constructor(l){super();let f=l==null?null:l.get(F.POSSIBLE_FORMATS),p=[];n(f)?(p.push(new Gr),p.push(new rn),p.push(new lr),p.push(new Yt)):(f.indexOf(he.EAN_13)>-1&&p.push(new Gr),f.indexOf(he.UPC_A)>-1&&p.push(new rn),f.indexOf(he.EAN_8)>-1&&p.push(new lr),f.indexOf(he.UPC_E)>-1&&p.push(new Yt)),this.readers=p}decodeRow(l,f,p){for(let v of this.readers)try{const x=v.decodeRow(l,f,p),b=x.getBarcodeFormat()===he.EAN_13&&x.getText().charAt(0)==="0",N=p==null?null:p.get(F.POSSIBLE_FORMATS),j=N==null||N.includes(he.UPC_A);if(b&&j){const L=x.getRawBytes(),G=new ae(x.getText().substring(1),L,L?L.length:null,x.getResultPoints(),he.UPC_A);return G.putAllMetadata(x.getResultMetadata()),G}return x}catch{}throw new V}reset(){for(let l of this.readers)l.reset()}}class wr extends Zt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,f){for(let p=0;p<f.length;p++)if(Zt.patternMatchVariance(l,f[p],wr.MAX_INDIVIDUAL_VARIANCE)<wr.MAX_AVG_VARIANCE)return p;throw new V}static count(l){return Be.sum(new Int32Array(l))}static increment(l,f){let p=0,v=f[0];for(let x=1;x<l.length;x++)f[x]>v&&(v=f[x],p=x);l[p]++}static decrement(l,f){let p=0,v=f[0];for(let x=1;x<l.length;x++)f[x]<v&&(v=f[x],p=x);l[p]--}static isFinderPattern(l){let f=l[0]+l[1],p=f+l[2]+l[3],v=f/p;if(v>=wr.MIN_FINDER_PATTERN_RATIO&&v<=wr.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let N of l)N>b&&(b=N),N<x&&(x=N);return b<10*x}return!1}}wr.MAX_AVG_VARIANCE=.2,wr.MAX_INDIVIDUAL_VARIANCE=.45,wr.MIN_FINDER_PATTERN_RATIO=9.5/12,wr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Nn{constructor(l,f){this.value=l,this.checksumPortion=f}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof Nn))return!1;const f=l;return this.value===f.value&&this.checksumPortion===f.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Rt{constructor(l,f,p,v,x){this.value=l,this.startEnd=f,this.value=l,this.startEnd=f,this.resultPoints=new Array,this.resultPoints.push(new qe(p,x)),this.resultPoints.push(new qe(v,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Rt))return!1;const f=l;return this.value===f.value}hashCode(){return this.value}}class On{constructor(){}static getRSSvalue(l,f,p){let v=0;for(let j of l)v+=j;let x=0,b=0,N=l.length;for(let j=0;j<N-1;j++){let L;for(L=1,b|=1<<j;L<l[j];L++,b&=~(1<<j)){let G=On.combins(v-L-1,N-j-2);if(p&&b===0&&v-L-(N-j-1)>=N-j-1&&(G-=On.combins(v-L-(N-j),N-j-2)),N-j-1>1){let ee=0;for(let se=v-L-(N-j-2);se>f;se--)ee+=On.combins(v-L-se-1,N-j-3);G-=ee*(N-1-j)}else v-L>f&&G--;x+=G}v-=L}return x}static combins(l,f){let p,v;l-f>f?(v=f,p=l-f):(v=l-f,p=f);let x=1,b=1;for(let N=l;N>p;N--)x*=N,b<=v&&(x/=b,b++);for(;b<=v;)x/=b,b++;return x}}class ca{static buildBitArray(l){let f=l.length*2-1;l[l.length-1].getRightChar()==null&&(f-=1);let p=12*f,v=new I(p),x=0,N=l[0].getRightChar().getValue();for(let j=11;j>=0;--j)N&1<<j&&v.set(x),x++;for(let j=1;j<l.length;++j){let L=l[j],G=L.getLeftChar().getValue();for(let ee=11;ee>=0;--ee)G&1<<ee&&v.set(x),x++;if(L.getRightChar()!=null){let ee=L.getRightChar().getValue();for(let se=11;se>=0;--se)ee&1<<se&&v.set(x),x++}}return v}}class hn{constructor(l,f){f?this.decodedInformation=null:(this.finished=l,this.decodedInformation=f)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ri{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Zr extends ri{constructor(l,f){super(l),this.value=f}getValue(){return this.value}isFNC1(){return this.value===Zr.FNC1}}Zr.FNC1="$";class Yn extends ri{constructor(l,f,p){super(l),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=f}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Sn extends ri{constructor(l,f,p){if(super(l),f<0||f>10||p<0||p>10)throw new B;this.firstDigit=f,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Sn.FNC1}isAnyFNC1(){return this.firstDigit===Sn.FNC1||this.secondDigit===Sn.FNC1}}Sn.FNC1=10;class Ot{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new V;let f=l.substring(0,2);for(let x of Ot.TWO_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(2,x[2],l):Ot.processFixedAI(2,x[1],l);if(l.length<3)throw new V;let p=l.substring(0,3);for(let x of Ot.THREE_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(3,x[2],l):Ot.processFixedAI(3,x[1],l);for(let x of Ot.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(4,x[2],l):Ot.processFixedAI(4,x[1],l);if(l.length<4)throw new V;let v=l.substring(0,4);for(let x of Ot.FOUR_DIGIT_DATA_LENGTH)if(x[0]===v)return x[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(4,x[2],l):Ot.processFixedAI(4,x[1],l);throw new V}static processFixedAI(l,f,p){if(p.length<l)throw new V;let v=p.substring(0,l);if(p.length<l+f)throw new V;let x=p.substring(l,l+f),b=p.substring(l+f),N="("+v+")"+x,j=Ot.parseFieldsInGeneralPurpose(b);return j==null?N:N+j}static processVariableAI(l,f,p){let v=p.substring(0,l),x;p.length<l+f?x=p.length:x=l+f;let b=p.substring(l,x),N=p.substring(x),j="("+v+")"+b,L=Ot.parseFieldsInGeneralPurpose(N);return L==null?j:j+L}}Ot.VARIABLE_LENGTH=[],Ot.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ot.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ot.VARIABLE_LENGTH,20],["22",Ot.VARIABLE_LENGTH,29],["30",Ot.VARIABLE_LENGTH,8],["37",Ot.VARIABLE_LENGTH,8],["90",Ot.VARIABLE_LENGTH,30],["91",Ot.VARIABLE_LENGTH,30],["92",Ot.VARIABLE_LENGTH,30],["93",Ot.VARIABLE_LENGTH,30],["94",Ot.VARIABLE_LENGTH,30],["95",Ot.VARIABLE_LENGTH,30],["96",Ot.VARIABLE_LENGTH,30],["97",Ot.VARIABLE_LENGTH,3],["98",Ot.VARIABLE_LENGTH,30],["99",Ot.VARIABLE_LENGTH,30]],Ot.THREE_DIGIT_DATA_LENGTH=[["240",Ot.VARIABLE_LENGTH,30],["241",Ot.VARIABLE_LENGTH,30],["242",Ot.VARIABLE_LENGTH,6],["250",Ot.VARIABLE_LENGTH,30],["251",Ot.VARIABLE_LENGTH,30],["253",Ot.VARIABLE_LENGTH,17],["254",Ot.VARIABLE_LENGTH,20],["400",Ot.VARIABLE_LENGTH,30],["401",Ot.VARIABLE_LENGTH,30],["402",17],["403",Ot.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ot.VARIABLE_LENGTH,20],["421",Ot.VARIABLE_LENGTH,15],["422",3],["423",Ot.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ot.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ot.VARIABLE_LENGTH,15],["391",Ot.VARIABLE_LENGTH,18],["392",Ot.VARIABLE_LENGTH,15],["393",Ot.VARIABLE_LENGTH,18],["703",Ot.VARIABLE_LENGTH,30]],Ot.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ot.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ot.VARIABLE_LENGTH,20],["8003",Ot.VARIABLE_LENGTH,30],["8004",Ot.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ot.VARIABLE_LENGTH,30],["8008",Ot.VARIABLE_LENGTH,12],["8018",18],["8020",Ot.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ot.VARIABLE_LENGTH,70],["8200",Ot.VARIABLE_LENGTH,70]];class ms{constructor(l){this.buffer=new X,this.information=l}decodeAllCodes(l,f){let p=f,v=null;do{let x=this.decodeGeneralPurposeField(p,v),b=Ot.parseFieldsInGeneralPurpose(x.getNewString());if(b!=null&&l.append(b),x.isRemaining()?v=""+x.getRemainingValue():v=null,p===x.getNewPosition())break;p=x.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let f=l;f<l+3;++f)if(this.information.get(f))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(l,4);return x===0?new Sn(this.information.getSize(),Sn.FNC1,Sn.FNC1):new Sn(this.information.getSize(),x-1,Sn.FNC1)}let f=this.extractNumericValueFromBitArray(l,7),p=(f-8)/11,v=(f-8)%11;return new Sn(l+7,p,v)}extractNumericValueFromBitArray(l,f){return ms.extractNumericValueFromBitArray(this.information,l,f)}static extractNumericValueFromBitArray(l,f,p){let v=0;for(let x=0;x<p;++x)l.get(f+x)&&(v|=1<<p-x-1);return v}decodeGeneralPurposeField(l,f){this.buffer.setLengthToZero(),f!=null&&this.buffer.append(f),this.current.setPosition(l);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new Yn(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new Yn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,f;do{let p=this.current.getPosition();if(this.current.isAlpha()?(f=this.parseAlphaBlock(),l=f.isFinished()):this.current.isIsoIec646()?(f=this.parseIsoIec646Block(),l=f.isFinished()):(f=this.parseNumericBlock(),l=f.isFinished()),!(p!==this.current.getPosition())&&!l)break}while(!l);return f.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let f;return l.isSecondDigitFNC1()?f=new Yn(this.current.getPosition(),this.buffer.toString()):f=new Yn(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new hn(!0,f)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let f=new Yn(this.current.getPosition(),this.buffer.toString());return new hn(!0,f)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new hn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Yn(this.current.getPosition(),this.buffer.toString());return new hn(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new hn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Yn(this.current.getPosition(),this.buffer.toString());return new hn(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new hn(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<116)return!0;if(l+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(l,8);return v>=232&&v<253}decodeIsoIec646(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new Zr(l+5,Zr.FNC1);if(f>=5&&f<15)return new Zr(l+5,"0"+(f-5));let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<90)return new Zr(l+7,""+(p+1));if(p>=90&&p<116)return new Zr(l+7,""+(p+7));let v=this.extractNumericValueFromBitArray(l,8),x;switch(v){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new B}return new Zr(l+8,x)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,6);return p>=16&&p<63}decodeAlphanumeric(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new Zr(l+5,Zr.FNC1);if(f>=5&&f<15)return new Zr(l+5,"0"+(f-5));let p=this.extractNumericValueFromBitArray(l,6);if(p>=32&&p<58)return new Zr(l+6,""+(p+33));let v;switch(p){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new de("Decoding invalid alphanumeric value: "+p)}return new Zr(l+6,v)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<5&&f+l<this.information.getSize();++f)if(f===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+f))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let f=l;f<l+3;++f)if(this.information.get(f))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<4&&f+l<this.information.getSize();++f)if(this.information.get(l+f))return!1;return!0}}class gs{constructor(l){this.information=l,this.generalDecoder=new ms(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ni extends gs{constructor(l){super(l)}encodeCompressedGtin(l,f){l.append("(01)");let p=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,f,p)}encodeCompressedGtinWithoutAI(l,f,p){for(let v=0;v<4;++v){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*v,10);x/100===0&&l.append("0"),x/10===0&&l.append("0"),l.append(x)}ni.appendCheckDigit(l,p)}static appendCheckDigit(l,f){let p=0;for(let v=0;v<13;v++){let x=l.charAt(v+f).charCodeAt(0)-48;p+=v&1?x:3*x}p=10-p%10,p===10&&(p=0),l.append(p)}}ni.GTIN_SIZE=40;class Ca extends ni{constructor(l){super(l)}parseInformation(){let l=new X;l.append("(01)");let f=l.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(Ca.HEADER_SIZE,4);return l.append(p),this.encodeCompressedGtinWithoutAI(l,Ca.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(l,Ca.HEADER_SIZE+44)}}Ca.HEADER_SIZE=4;class Qa extends gs{constructor(l){super(l)}parseInformation(){let l=new X;return this.getGeneralDecoder().decodeAllCodes(l,Qa.HEADER_SIZE)}}Qa.HEADER_SIZE=5;class Ba extends ni{constructor(l){super(l)}encodeCompressedWeight(l,f,p){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(f,p);this.addWeightCode(l,v);let x=this.checkWeight(v),b=1e5;for(let N=0;N<5;++N)x/b===0&&l.append("0"),b/=10;l.append(x)}}class Na extends Ba{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Na.HEADER_SIZE+Ba.GTIN_SIZE+Na.WEIGHT_SIZE)throw new V;let l=new X;return this.encodeCompressedGtin(l,Na.HEADER_SIZE),this.encodeCompressedWeight(l,Na.HEADER_SIZE+Ba.GTIN_SIZE,Na.WEIGHT_SIZE),l.toString()}}Na.HEADER_SIZE=5,Na.WEIGHT_SIZE=15;class Vo extends Na{constructor(l){super(l)}addWeightCode(l,f){l.append("(3103)")}checkWeight(l){return l}}class Qc extends Na{constructor(l){super(l)}addWeightCode(l,f){f<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class $a extends ni{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<$a.HEADER_SIZE+ni.GTIN_SIZE)throw new V;let l=new X;this.encodeCompressedGtin(l,$a.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray($a.HEADER_SIZE+ni.GTIN_SIZE,$a.LAST_DIGIT_SIZE);l.append("(392"),l.append(f),l.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField($a.HEADER_SIZE+ni.GTIN_SIZE+$a.LAST_DIGIT_SIZE,null);return l.append(p.getNewString()),l.toString()}}$a.HEADER_SIZE=8,$a.LAST_DIGIT_SIZE=2;class Ci extends ni{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ci.HEADER_SIZE+ni.GTIN_SIZE)throw new V;let l=new X;this.encodeCompressedGtin(l,Ci.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Ci.HEADER_SIZE+ni.GTIN_SIZE,Ci.LAST_DIGIT_SIZE);l.append("(393"),l.append(f),l.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Ci.HEADER_SIZE+ni.GTIN_SIZE+Ci.LAST_DIGIT_SIZE,Ci.FIRST_THREE_DIGITS_SIZE);p/100==0&&l.append("0"),p/10==0&&l.append("0"),l.append(p);let v=this.getGeneralDecoder().decodeGeneralPurposeField(Ci.HEADER_SIZE+ni.GTIN_SIZE+Ci.LAST_DIGIT_SIZE+Ci.FIRST_THREE_DIGITS_SIZE,null);return l.append(v.getNewString()),l.toString()}}Ci.HEADER_SIZE=8,Ci.LAST_DIGIT_SIZE=2,Ci.FIRST_THREE_DIGITS_SIZE=10;class xn extends Ba{constructor(l,f,p){super(l),this.dateCode=p,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=xn.HEADER_SIZE+xn.GTIN_SIZE+xn.WEIGHT_SIZE+xn.DATE_SIZE)throw new V;let l=new X;return this.encodeCompressedGtin(l,xn.HEADER_SIZE),this.encodeCompressedWeight(l,xn.HEADER_SIZE+xn.GTIN_SIZE,xn.WEIGHT_SIZE),this.encodeCompressedDate(l,xn.HEADER_SIZE+xn.GTIN_SIZE+xn.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(f,xn.DATE_SIZE);if(p==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let v=p%32;p/=32;let x=p%12+1;p/=12;let b=p;b/10==0&&l.append("0"),l.append(b),x/10==0&&l.append("0"),l.append(x),v/10==0&&l.append("0"),l.append(v)}addWeightCode(l,f){l.append("("),l.append(this.firstAIdigits),l.append(f/1e5),l.append(")")}checkWeight(l){return l%1e5}}xn.HEADER_SIZE=8,xn.WEIGHT_SIZE=20,xn.DATE_SIZE=16;function Cp(J){try{if(J.get(1))return new Ca(J);if(!J.get(2))return new Qa(J);switch(ms.extractNumericValueFromBitArray(J,1,4)){case 4:return new Vo(J);case 5:return new Qc(J)}switch(ms.extractNumericValueFromBitArray(J,1,5)){case 12:return new $a(J);case 13:return new Ci(J)}switch(ms.extractNumericValueFromBitArray(J,1,7)){case 56:return new xn(J,"310","11");case 57:return new xn(J,"320","11");case 58:return new xn(J,"310","13");case 59:return new xn(J,"320","13");case 60:return new xn(J,"310","15");case 61:return new xn(J,"320","15");case 62:return new xn(J,"310","17");case 63:return new xn(J,"320","17")}}catch(l){throw console.log(l),new de("unknown decoder: "+J)}}class Bs{constructor(l,f,p,v){this.leftchar=l,this.rightchar=f,this.finderpattern=p,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,f){return l instanceof Bs?Bs.equalsOrNull(l.leftchar,f.leftchar)&&Bs.equalsOrNull(l.rightchar,f.rightchar)&&Bs.equalsOrNull(l.finderpattern,f.finderpattern):!1}static equalsOrNull(l,f){return l===null?f===null:Bs.equals(l,f)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ud{constructor(l,f,p){this.pairs=l,this.rowNumber=f,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,f){return l instanceof ud?this.checkEqualitity(l,f)&&l.wasReversed===f.wasReversed:!1}checkEqualitity(l,f){if(!l||!f)return;let p;return l.forEach((v,x)=>{f.forEach(b=>{v.getLeftChar().getValue()===b.getLeftChar().getValue()&&v.getRightChar().getValue()===b.getRightChar().getValue()&&v.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(p=!0)})}),p}}class st extends wr{constructor(l){super(...arguments),this.pairs=new Array(st.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,f,p){this.pairs.length=0,this.startFromEven=!1;try{return st.constructResult(this.decodeRow2pairs(l,f))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,st.constructResult(this.decodeRow2pairs(l,f))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,f){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(f,this.pairs,l))}catch(x){if(x instanceof V){if(!this.pairs.length)throw new V;p=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(l,!1),v){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new V}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let f=null;try{f=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return l&&(this.rows=this.rows.reverse()),f}checkRows(l,f){for(let p=f;p<this.rows.length;p++){let v=this.rows[p];this.pairs.length=0;for(let b of l)this.pairs.push(b.getPairs());if(this.pairs.push(v.getPairs()),!st.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(l);x.push(v);try{return this.checkRows(x,p+1)}catch(b){this.verbose&&console.log(b)}}throw new V}static isValidSequence(l){for(let f of st.FINDER_PATTERN_SEQUENCES){if(l.length>f.length)continue;let p=!0;for(let v=0;v<l.length;v++)if(l[v].getFinderPattern().getValue()!=f[v]){p=!1;break}if(p)return!0}return!1}storeRow(l,f){let p=0,v=!1,x=!1;for(;p<this.rows.length;){let b=this.rows[p];if(b.getRowNumber()>l){x=b.isEquivalent(this.pairs);break}v=b.isEquivalent(this.pairs),p++}x||v||st.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new ud(this.pairs,l,f)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,f){for(let p of f)if(p.getPairs().length!==l.length){for(let v of p.getPairs())for(let x of l)if(Bs.equals(v,x))break}}static isPartialRow(l,f){for(let p of f){let v=!0;for(let x of l){let b=!1;for(let N of p.getPairs())if(x.equals(N)){b=!0;break}if(!b){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(l){let f=ca.buildBitArray(l),v=Cp(f).parseInformation(),x=l[0].getFinderPattern().getResultPoints(),b=l[l.length-1].getFinderPattern().getResultPoints(),N=[x[0],x[1],b[0],b[1]];return new ae(v,null,null,N,he.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),f=l.getLeftChar(),p=l.getRightChar();if(p==null)return!1;let v=p.getChecksumPortion(),x=2;for(let N=1;N<this.pairs.size();++N){let j=this.pairs.get(N);v+=j.getLeftChar().getChecksumPortion(),x++;let L=j.getRightChar();L!=null&&(v+=L.getChecksumPortion(),x++)}return v%=211,211*(x-4)+v==f.getValue()}static getNextSecondBar(l,f){let p;return l.get(f)?(p=l.getNextUnset(f),p=l.getNextSet(p)):(p=l.getNextSet(f),p=l.getNextUnset(p)),p}retrieveNextPair(l,f,p){let v=f.length%2==0;this.startFromEven&&(v=!v);let x,b=!0,N=-1;do this.findNextPair(l,f,N),x=this.parseFoundFinderPattern(l,p,v),x==null?N=st.getNextSecondBar(l,this.startEnd[0]):b=!1;while(b);let j=this.decodeDataCharacter(l,x,v,!0);if(!this.isEmptyPair(f)&&f[f.length-1].mustBeLast())throw new V;let L;try{L=this.decodeDataCharacter(l,x,v,!1)}catch(G){L=null,this.verbose&&console.log(G)}return new Bs(j,L,x,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,f,p){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),b;p>=0?b=p:this.isEmptyPair(f)?b=0:b=f[f.length-1].getFinderPattern().getStartEnd()[1];let N=f.length%2!=0;this.startFromEven&&(N=!N);let j=!1;for(;b<x&&(j=!l.get(b),!!j);)b++;let L=0,G=b;for(let ee=b;ee<x;ee++)if(l.get(ee)!=j)v[L]++;else{if(L==3){if(N&&st.reverseCounters(v),st.isFinderPattern(v)){this.startEnd[0]=G,this.startEnd[1]=ee;return}N&&st.reverseCounters(v),G+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,L--}else L++;v[L]=1,j=!j}throw new V}static reverseCounters(l){let f=l.length;for(let p=0;p<f/2;++p){let v=l[p];l[p]=l[f-p-1],l[f-p-1]=v}}parseFoundFinderPattern(l,f,p){let v,x,b;if(p){let L=this.startEnd[0]-1;for(;L>=0&&!l.get(L);)L--;L++,v=this.startEnd[0]-L,x=L,b=this.startEnd[1]}else x=this.startEnd[0],b=l.getNextUnset(this.startEnd[1]+1),v=b-this.startEnd[1];let N=this.getDecodeFinderCounters();_.arraycopy(N,0,N,1,N.length-1),N[0]=v;let j;try{j=this.parseFinderValue(N,st.FINDER_PATTERNS)}catch{return null}return new Rt(j,[x,b],x,b,f)}decodeDataCharacter(l,f,p,v){let x=this.getDataCharacterCounters();for(let An=0;An<x.length;An++)x[An]=0;if(v)st.recordPatternInReverse(l,f.getStartEnd()[0],x);else{st.recordPattern(l,f.getStartEnd()[1],x);for(let An=0,ea=x.length-1;An<ea;An++,ea--){let ts=x[An];x[An]=x[ea],x[ea]=ts}}let b=17,N=Be.sum(new Int32Array(x))/b,j=(f.getStartEnd()[1]-f.getStartEnd()[0])/15;if(Math.abs(N-j)/j>.3)throw new V;let L=this.getOddCounts(),G=this.getEvenCounts(),ee=this.getOddRoundingErrors(),se=this.getEvenRoundingErrors();for(let An=0;An<x.length;An++){let ea=1*x[An]/N,ts=ea+.5;if(ts<1){if(ea<.3)throw new V;ts=1}else if(ts>8){if(ea>8.7)throw new V;ts=8}let pu=An/2;An&1?(G[pu]=ts,se[pu]=ea-ts):(L[pu]=ts,ee[pu]=ea-ts)}this.adjustOddEvenCounts(b);let xe=4*f.getValue()+(p?0:2)+(v?0:1)-1,Oe=0,ke=0;for(let An=L.length-1;An>=0;An--){if(st.isNotA1left(f,p,v)){let ea=st.WEIGHTS[xe][2*An];ke+=L[An]*ea}Oe+=L[An]}let Le=0;for(let An=G.length-1;An>=0;An--)if(st.isNotA1left(f,p,v)){let ea=st.WEIGHTS[xe][2*An+1];Le+=G[An]*ea}let We=ke+Le;if(Oe&1||Oe>13||Oe<4)throw new V;let et=(13-Oe)/2,at=st.SYMBOL_WIDEST[et],tt=9-at,ur=On.getRSSvalue(L,at,!0),vr=On.getRSSvalue(G,tt,!1),Ji=st.EVEN_TOTAL_SUBSET[et],Ta=st.GSUM[et],fa=ur*Ji+vr+Ta;return new Nn(fa,We)}static isNotA1left(l,f,p){return!(l.getValue()==0&&f&&p)}adjustOddEvenCounts(l){let f=Be.sum(new Int32Array(this.getOddCounts())),p=Be.sum(new Int32Array(this.getEvenCounts())),v=!1,x=!1;f>13?x=!0:f<4&&(v=!0);let b=!1,N=!1;p>13?N=!0:p<4&&(b=!0);let j=f+p-l,L=(f&1)==1,G=(p&1)==0;if(j==1)if(L){if(G)throw new V;x=!0}else{if(!G)throw new V;N=!0}else if(j==-1)if(L){if(G)throw new V;v=!0}else{if(!G)throw new V;b=!0}else if(j==0){if(L){if(!G)throw new V;f<p?(v=!0,N=!0):(x=!0,b=!0)}else if(G)throw new V}else throw new V;if(v){if(x)throw new V;st.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&st.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(N)throw new V;st.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&st.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.SYMBOL_WIDEST=[7,5,4,3,1],st.EVEN_TOTAL_SUBSET=[4,20,52,104,204],st.GSUM=[0,348,1388,2948,3988],st.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],st.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],st.FINDER_PAT_A=0,st.FINDER_PAT_B=1,st.FINDER_PAT_C=2,st.FINDER_PAT_D=3,st.FINDER_PAT_E=4,st.FINDER_PAT_F=5,st.FINDER_PATTERN_SEQUENCES=[[st.FINDER_PAT_A,st.FINDER_PAT_A],[st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B],[st.FINDER_PAT_A,st.FINDER_PAT_C,st.FINDER_PAT_B,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_C],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F]],st.MAX_PAIRS=11;class $s extends Nn{constructor(l,f,p){super(l,f),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bn extends wr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,f,p){const v=this.decodePair(f,!1,l,p);Bn.addOrTally(this.possibleLeftPairs,v),f.reverse();let x=this.decodePair(f,!0,l,p);Bn.addOrTally(this.possibleRightPairs,x),f.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let N of this.possibleRightPairs)if(N.getCount()>1&&Bn.checkChecksum(b,N))return Bn.constructResult(b,N)}throw new V}static addOrTally(l,f){if(f==null)return;let p=!1;for(let v of l)if(v.getValue()===f.getValue()){v.incrementCount(),p=!0;break}p||l.push(f)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,f){let p=4537077*l.getValue()+f.getValue(),v=new String(p).toString(),x=new X;for(let L=13-v.length;L>0;L--)x.append("0");x.append(v);let b=0;for(let L=0;L<13;L++){let G=x.charAt(L).charCodeAt(0)-48;b+=L&1?G:3*G}b=10-b%10,b===10&&(b=0),x.append(b.toString());let N=l.getFinderPattern().getResultPoints(),j=f.getFinderPattern().getResultPoints();return new ae(x.toString(),null,0,[N[0],N[1],j[0],j[1]],he.RSS_14,new Date().getTime())}static checkChecksum(l,f){let p=(l.getChecksumPortion()+16*f.getChecksumPortion())%79,v=9*l.getFinderPattern().getValue()+f.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,p===v}decodePair(l,f,p,v){try{let x=this.findFinderPattern(l,f),b=this.parseFoundFinderPattern(l,p,f,x),N=v==null?null:v.get(F.NEED_RESULT_POINT_CALLBACK);if(N!=null){let G=(x[0]+x[1])/2;f&&(G=l.getSize()-1-G),N.foundPossibleResultPoint(new qe(G,p))}let j=this.decodeDataCharacter(l,b,!0),L=this.decodeDataCharacter(l,b,!1);return new $s(1597*j.getValue()+L.getValue(),j.getChecksumPortion()+4*L.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(l,f,p){let v=this.getDataCharacterCounters();for(let Le=0;Le<v.length;Le++)v[Le]=0;if(p)Zt.recordPatternInReverse(l,f.getStartEnd()[0],v);else{Zt.recordPattern(l,f.getStartEnd()[1]+1,v);for(let Le=0,We=v.length-1;Le<We;Le++,We--){let et=v[Le];v[Le]=v[We],v[We]=et}}let x=p?16:15,b=Be.sum(new Int32Array(v))/x,N=this.getOddCounts(),j=this.getEvenCounts(),L=this.getOddRoundingErrors(),G=this.getEvenRoundingErrors();for(let Le=0;Le<v.length;Le++){let We=v[Le]/b,et=Math.floor(We+.5);et<1?et=1:et>8&&(et=8);let at=Math.floor(Le/2);Le&1?(j[at]=et,G[at]=We-et):(N[at]=et,L[at]=We-et)}this.adjustOddEvenCounts(p,x);let ee=0,se=0;for(let Le=N.length-1;Le>=0;Le--)se*=9,se+=N[Le],ee+=N[Le];let xe=0,Oe=0;for(let Le=j.length-1;Le>=0;Le--)xe*=9,xe+=j[Le],Oe+=j[Le];let ke=se+3*xe;if(p){if(ee&1||ee>12||ee<4)throw new V;let Le=(12-ee)/2,We=Bn.OUTSIDE_ODD_WIDEST[Le],et=9-We,at=On.getRSSvalue(N,We,!1),tt=On.getRSSvalue(j,et,!0),ur=Bn.OUTSIDE_EVEN_TOTAL_SUBSET[Le],vr=Bn.OUTSIDE_GSUM[Le];return new Nn(at*ur+tt+vr,ke)}else{if(Oe&1||Oe>10||Oe<4)throw new V;let Le=(10-Oe)/2,We=Bn.INSIDE_ODD_WIDEST[Le],et=9-We,at=On.getRSSvalue(N,We,!0),tt=On.getRSSvalue(j,et,!1),ur=Bn.INSIDE_ODD_TOTAL_SUBSET[Le],vr=Bn.INSIDE_GSUM[Le];return new Nn(tt*ur+at+vr,ke)}}findFinderPattern(l,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let v=l.getSize(),x=!1,b=0;for(;b<v&&(x=!l.get(b),f!==x);)b++;let N=0,j=b;for(let L=b;L<v;L++)if(l.get(L)!==x)p[N]++;else{if(N===3){if(wr.isFinderPattern(p))return[j,L];j+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,N--}else N++;p[N]=1,x=!x}throw new V}parseFoundFinderPattern(l,f,p,v){let x=l.get(v[0]),b=v[0]-1;for(;b>=0&&x!==l.get(b);)b--;b++;const N=v[0]-b,j=this.getDecodeFinderCounters(),L=new Int32Array(j.length);_.arraycopy(j,0,L,1,j.length-1),L[0]=N;const G=this.parseFinderValue(L,Bn.FINDER_PATTERNS);let ee=b,se=v[1];return p&&(ee=l.getSize()-1-ee,se=l.getSize()-1-se),new Rt(G,[b,v[1]],ee,se,f)}adjustOddEvenCounts(l,f){let p=Be.sum(new Int32Array(this.getOddCounts())),v=Be.sum(new Int32Array(this.getEvenCounts())),x=!1,b=!1,N=!1,j=!1;l?(p>12?b=!0:p<4&&(x=!0),v>12?j=!0:v<4&&(N=!0)):(p>11?b=!0:p<5&&(x=!0),v>10?j=!0:v<4&&(N=!0));let L=p+v-f,G=(p&1)===(l?1:0),ee=(v&1)===1;if(L===1)if(G){if(ee)throw new V;b=!0}else{if(!ee)throw new V;j=!0}else if(L===-1)if(G){if(ee)throw new V;x=!0}else{if(!ee)throw new V;N=!0}else if(L===0){if(G){if(!ee)throw new V;p<v?(x=!0,j=!0):(b=!0,N=!0)}else if(ee)throw new V}else throw new V;if(x){if(b)throw new V;wr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&wr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),N){if(j)throw new V;wr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}j&&wr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bn.OUTSIDE_GSUM=[0,161,961,2015,2715],Bn.INSIDE_GSUM=[0,336,1036,1516],Bn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bn.INSIDE_ODD_WIDEST=[2,4,6,8],Bn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Al extends Zt{constructor(l,f){super(),this.readers=[],this.verbose=f===!0;const p=l?l.get(F.POSSIBLE_FORMATS):null,v=l&&l.get(F.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(he.EAN_13)||p.includes(he.UPC_A)||p.includes(he.EAN_8)||p.includes(he.UPC_E))&&this.readers.push(new Nr(l)),p.includes(he.CODE_39)&&this.readers.push(new $t(v)),p.includes(he.CODE_128)&&this.readers.push(new He),p.includes(he.ITF)&&this.readers.push(new Qt),p.includes(he.RSS_14)&&this.readers.push(new Bn),p.includes(he.RSS_EXPANDED)&&this.readers.push(new st(this.verbose))):(this.readers.push(new Nr(l)),this.readers.push(new $t),this.readers.push(new Nr(l)),this.readers.push(new He),this.readers.push(new Qt),this.readers.push(new Bn),this.readers.push(new st(this.verbose)))}decodeRow(l,f,p){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(l,f,p)}catch{}throw new V}reset(){this.readers.forEach(l=>l.reset())}}class Vf extends Z{constructor(l=500,f){super(new Al(f),l,f)}}class nn{constructor(l,f,p){this.ecCodewords=l,this.ecBlocks=[f],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class en{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Hr{constructor(l,f,p,v,x,b){this.versionNumber=l,this.symbolSizeRows=f,this.symbolSizeColumns=p,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=x,this.ecBlocks=b;let N=0;const j=b.getECCodewords(),L=b.getECBlocks();for(let G of L)N+=G.getCount()*(G.getDataCodewords()+j);this.totalCodewords=N}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,f){if(l&1||f&1)throw new B;for(let p of Hr.VERSIONS)if(p.symbolSizeRows===l&&p.symbolSizeColumns===f)return p;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Hr(1,10,10,8,8,new nn(5,new en(1,3))),new Hr(2,12,12,10,10,new nn(7,new en(1,5))),new Hr(3,14,14,12,12,new nn(10,new en(1,8))),new Hr(4,16,16,14,14,new nn(12,new en(1,12))),new Hr(5,18,18,16,16,new nn(14,new en(1,18))),new Hr(6,20,20,18,18,new nn(18,new en(1,22))),new Hr(7,22,22,20,20,new nn(20,new en(1,30))),new Hr(8,24,24,22,22,new nn(24,new en(1,36))),new Hr(9,26,26,24,24,new nn(28,new en(1,44))),new Hr(10,32,32,14,14,new nn(36,new en(1,62))),new Hr(11,36,36,16,16,new nn(42,new en(1,86))),new Hr(12,40,40,18,18,new nn(48,new en(1,114))),new Hr(13,44,44,20,20,new nn(56,new en(1,144))),new Hr(14,48,48,22,22,new nn(68,new en(1,174))),new Hr(15,52,52,24,24,new nn(42,new en(2,102))),new Hr(16,64,64,14,14,new nn(56,new en(2,140))),new Hr(17,72,72,16,16,new nn(36,new en(4,92))),new Hr(18,80,80,18,18,new nn(48,new en(4,114))),new Hr(19,88,88,20,20,new nn(56,new en(4,144))),new Hr(20,96,96,22,22,new nn(68,new en(4,174))),new Hr(21,104,104,24,24,new nn(56,new en(6,136))),new Hr(22,120,120,18,18,new nn(68,new en(6,175))),new Hr(23,132,132,20,20,new nn(62,new en(8,163))),new Hr(24,144,144,22,22,new nn(62,new en(8,156),new en(2,155))),new Hr(25,8,18,6,16,new nn(7,new en(1,5))),new Hr(26,8,32,6,14,new nn(11,new en(1,10))),new Hr(27,12,26,10,24,new nn(14,new en(1,16))),new Hr(28,12,36,10,16,new nn(18,new en(1,22))),new Hr(29,16,36,14,16,new nn(24,new en(1,32))),new Hr(30,16,48,14,22,new nn(28,new en(1,49)))]}}Hr.VERSIONS=Hr.buildVersions();class uc{constructor(l){const f=l.getHeight();if(f<8||f>144||f&1)throw new B;this.version=uc.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new W(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const f=l.getHeight(),p=l.getWidth();return Hr.getVersionForDimensions(f,p)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let f=0,p=4,v=0;const x=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let N=!1,j=!1,L=!1,G=!1;do if(p===x&&v===0&&!N)l[f++]=this.readCorner1(x,b)&255,p-=2,v+=2,N=!0;else if(p===x-2&&v===0&&b&3&&!j)l[f++]=this.readCorner2(x,b)&255,p-=2,v+=2,j=!0;else if(p===x+4&&v===2&&!(b&7)&&!L)l[f++]=this.readCorner3(x,b)&255,p-=2,v+=2,L=!0;else if(p===x-2&&v===0&&(b&7)===4&&!G)l[f++]=this.readCorner4(x,b)&255,p-=2,v+=2,G=!0;else{do p<x&&v>=0&&!this.readMappingMatrix.get(v,p)&&(l[f++]=this.readUtah(p,v,x,b)&255),p-=2,v+=2;while(p>=0&&v<b);p+=1,v+=3;do p>=0&&v<b&&!this.readMappingMatrix.get(v,p)&&(l[f++]=this.readUtah(p,v,x,b)&255),p+=2,v-=2;while(p<x&&v>=0);p+=3,v+=1}while(p<x||v<b);if(f!==this.version.getTotalCodewords())throw new B;return l}readModule(l,f,p,v){return l<0&&(l+=p,f+=4-(p+4&7)),f<0&&(f+=v,l+=4-(v+4&7)),this.readMappingMatrix.set(f,l),this.mappingBitMatrix.get(f,l)}readUtah(l,f,p,v){let x=0;return this.readModule(l-2,f-2,p,v)&&(x|=1),x<<=1,this.readModule(l-2,f-1,p,v)&&(x|=1),x<<=1,this.readModule(l-1,f-2,p,v)&&(x|=1),x<<=1,this.readModule(l-1,f-1,p,v)&&(x|=1),x<<=1,this.readModule(l-1,f,p,v)&&(x|=1),x<<=1,this.readModule(l,f-2,p,v)&&(x|=1),x<<=1,this.readModule(l,f-1,p,v)&&(x|=1),x<<=1,this.readModule(l,f,p,v)&&(x|=1),x}readCorner1(l,f){let p=0;return this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,1,l,f)&&(p|=1),p<<=1,this.readModule(l-1,2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(2,f-1,l,f)&&(p|=1),p<<=1,this.readModule(3,f-1,l,f)&&(p|=1),p}readCorner2(l,f){let p=0;return this.readModule(l-3,0,l,f)&&(p|=1),p<<=1,this.readModule(l-2,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(0,f-4,l,f)&&(p|=1),p<<=1,this.readModule(0,f-3,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p}readCorner3(l,f){let p=0;return this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(0,f-3,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-3,l,f)&&(p|=1),p<<=1,this.readModule(1,f-2,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p}readCorner4(l,f){let p=0;return this.readModule(l-3,0,l,f)&&(p|=1),p<<=1,this.readModule(l-2,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(2,f-1,l,f)&&(p|=1),p<<=1,this.readModule(3,f-1,l,f)&&(p|=1),p}extractDataRegion(l){const f=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(l.getHeight()!==f)throw new m("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),b=f/v|0,N=p/x|0,j=b*v,L=N*x,G=new W(L,j);for(let ee=0;ee<b;++ee){const se=ee*v;for(let xe=0;xe<N;++xe){const Oe=xe*x;for(let ke=0;ke<v;++ke){const Le=ee*(v+2)+1+ke,We=se+ke;for(let et=0;et<x;++et){const at=xe*(x+2)+1+et;if(l.get(at,Le)){const tt=Oe+et;G.set(tt,We)}}}}}return G}}class Gf{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f){const p=f.getECBlocks();let v=0;const x=p.getECBlocks();for(let ke of x)v+=ke.getCount();const b=new Array(v);let N=0;for(let ke of x)for(let Le=0;Le<ke.getCount();Le++){const We=ke.getDataCodewords(),et=p.getECCodewords()+We;b[N++]=new Gf(We,new Uint8Array(et))}const L=b[0].codewords.length-p.getECCodewords(),G=L-1;let ee=0;for(let ke=0;ke<G;ke++)for(let Le=0;Le<N;Le++)b[Le].codewords[ke]=l[ee++];const se=f.getVersionNumber()===24,xe=se?8:N;for(let ke=0;ke<xe;ke++)b[ke].codewords[L-1]=l[ee++];const Oe=b[0].codewords.length;for(let ke=L;ke<Oe;ke++)for(let Le=0;Le<N;Le++){const We=se?(Le+8)%N:Le,et=se&&We>7?ke-1:ke;b[We].codewords[et]=l[ee++]}if(ee!==l.length)throw new m;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class hi{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new m(""+l);let f=0,p=this.bitOffset,v=this.byteOffset;const x=this.bytes;if(p>0){const b=8-p,N=l<b?l:b,j=b-N,L=255>>8-N<<j;f=(x[v]&L)>>j,l-=N,p+=N,p===8&&(p=0,v++)}if(l>0){for(;l>=8;)f=f<<8|x[v]&255,v++,l-=8;if(l>0){const b=8-l,N=255>>b<<b;f=f<<l|(x[v]&N)>>b,p+=l}}return this.bitOffset=p,this.byteOffset=v,f}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pi;(function(J){J[J.PAD_ENCODE=0]="PAD_ENCODE",J[J.ASCII_ENCODE=1]="ASCII_ENCODE",J[J.C40_ENCODE=2]="C40_ENCODE",J[J.TEXT_ENCODE=3]="TEXT_ENCODE",J[J.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",J[J.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",J[J.BASE256_ENCODE=6]="BASE256_ENCODE"})(pi||(pi={}));class oo{static decode(l){const f=new hi(l),p=new X,v=new X,x=new Array;let b=pi.ASCII_ENCODE;do if(b===pi.ASCII_ENCODE)b=this.decodeAsciiSegment(f,p,v);else{switch(b){case pi.C40_ENCODE:this.decodeC40Segment(f,p);break;case pi.TEXT_ENCODE:this.decodeTextSegment(f,p);break;case pi.ANSIX12_ENCODE:this.decodeAnsiX12Segment(f,p);break;case pi.EDIFACT_ENCODE:this.decodeEdifactSegment(f,p);break;case pi.BASE256_ENCODE:this.decodeBase256Segment(f,p,x);break;default:throw new B}b=pi.ASCII_ENCODE}while(b!==pi.PAD_ENCODE&&f.available()>0);return v.length()>0&&p.append(v.toString()),new ye(l,p.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(l,f,p){let v=!1;do{let x=l.readBits(8);if(x===0)throw new B;if(x<=128)return v&&(x+=128),f.append(String.fromCharCode(x-1)),pi.ASCII_ENCODE;if(x===129)return pi.PAD_ENCODE;if(x<=229){const b=x-130;b<10&&f.append("0"),f.append(""+b)}else switch(x){case 230:return pi.C40_ENCODE;case 231:return pi.BASE256_ENCODE;case 232:f.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:f.append("[)>05"),p.insert(0,"");break;case 237:f.append("[)>06"),p.insert(0,"");break;case 238:return pi.ANSIX12_ENCODE;case 239:return pi.TEXT_ENCODE;case 240:return pi.EDIFACT_ENCODE;case 241:break;default:if(x!==254||l.available()!==0)throw new B;break}}while(l.available()>0);return pi.ASCII_ENCODE}static decodeC40Segment(l,f){let p=!1;const v=[];let x=0;do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),v);for(let N=0;N<3;N++){const j=v[N];switch(x){case 0:if(j<3)x=j+1;else if(j<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[j];p?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),p=!1):f.append(L)}else throw new B;break;case 1:p?(f.append(String.fromCharCode(j+128)),p=!1):f.append(String.fromCharCode(j)),x=0;break;case 2:if(j<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[j];p?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),p=!1):f.append(L)}else switch(j){case 27:f.append("");break;case 30:p=!0;break;default:throw new B}x=0;break;case 3:p?(f.append(String.fromCharCode(j+224)),p=!1):f.append(String.fromCharCode(j+96)),x=0;break;default:throw new B}}}while(l.available()>0)}static decodeTextSegment(l,f){let p=!1,v=[],x=0;do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),v);for(let N=0;N<3;N++){const j=v[N];switch(x){case 0:if(j<3)x=j+1;else if(j<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[j];p?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),p=!1):f.append(L)}else throw new B;break;case 1:p?(f.append(String.fromCharCode(j+128)),p=!1):f.append(String.fromCharCode(j)),x=0;break;case 2:if(j<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[j];p?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),p=!1):f.append(L)}else switch(j){case 27:f.append("");break;case 30:p=!0;break;default:throw new B}x=0;break;case 3:if(j<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[j];p?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),p=!1):f.append(L),x=0}else throw new B;break;default:throw new B}}}while(l.available()>0)}static decodeAnsiX12Segment(l,f){const p=[];do{if(l.available()===8)return;const v=l.readBits(8);if(v===254)return;this.parseTwoBytes(v,l.readBits(8),p);for(let x=0;x<3;x++){const b=p[x];switch(b){case 0:f.append("\r");break;case 1:f.append("*");break;case 2:f.append(">");break;case 3:f.append(" ");break;default:if(b<14)f.append(String.fromCharCode(b+44));else if(b<40)f.append(String.fromCharCode(b+51));else throw new B;break}}}while(l.available()>0)}static parseTwoBytes(l,f,p){let v=(l<<8)+f-1,x=Math.floor(v/1600);p[0]=x,v-=x*1600,x=Math.floor(v/40),p[1]=x,p[2]=v-x*40}static decodeEdifactSegment(l,f){do{if(l.available()<=16)return;for(let p=0;p<4;p++){let v=l.readBits(6);if(v===31){const x=8-l.getBitOffset();x!==8&&l.readBits(x);return}v&32||(v|=64),f.append(String.fromCharCode(v))}}while(l.available()>0)}static decodeBase256Segment(l,f,p){let v=1+l.getByteOffset();const x=this.unrandomize255State(l.readBits(8),v++);let b;if(x===0?b=l.available()/8|0:x<250?b=x:b=250*(x-249)+this.unrandomize255State(l.readBits(8),v++),b<0)throw new B;const N=new Uint8Array(b);for(let j=0;j<b;j++){if(l.available()<8)throw new B;N[j]=this.unrandomize255State(l.readBits(8),v++)}p.push(N);try{f.append($.decode(N,z.ISO88591))}catch(j){throw new de("Platform does not support required encoding: "+j.message)}}static unrandomize255State(l,f){const p=149*f%255+1,v=l-p;return v>=0?v:v+256}}oo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],oo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],oo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],oo.TEXT_SHIFT2_SET_CHARS=oo.C40_SHIFT2_SET_CHARS,oo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class El{constructor(){this.rsDecoder=new it(Re.DATA_MATRIX_FIELD_256)}decode(l){const f=new uc(l),p=f.getVersion(),v=f.readCodewords(),x=Gf.getDataBlocks(v,p);let b=0;for(let L of x)b+=L.getNumDataCodewords();const N=new Uint8Array(b),j=x.length;for(let L=0;L<j;L++){const G=x[L],ee=G.getCodewords(),se=G.getNumDataCodewords();this.correctErrors(ee,se);for(let xe=0;xe<se;xe++)N[xe*j+L]=ee[xe]}return oo.decode(N)}correctErrors(l,f){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-f)}catch{throw new g}for(let v=0;v<f;v++)l[v]=p[v]}}class Tn{constructor(l){this.image=l,this.rectangleDetector=new Vt(this.image)}detect(){const l=this.rectangleDetector.detect();let f=this.detectSolid1(l);if(f=this.detectSolid2(f),f[3]=this.correctTopRight(f),!f[3])throw new V;f=this.shiftToModuleCenter(f);const p=f[0],v=f[1],x=f[2],b=f[3];let N=this.transitionsBetween(p,b)+1,j=this.transitionsBetween(x,b)+1;(N&1)===1&&(N+=1),(j&1)===1&&(j+=1),4*N<7*j&&4*j<7*N&&(N=j=Math.max(N,j));let L=Tn.sampleGrid(this.image,p,v,x,b,N,j);return new It(L,[p,v,x,b])}static shiftPoint(l,f,p){let v=(f.getX()-l.getX())/(p+1),x=(f.getY()-l.getY())/(p+1);return new qe(l.getX()+v,l.getY()+x)}static moveAway(l,f,p){let v=l.getX(),x=l.getY();return v<f?v-=1:v+=1,x<p?x-=1:x+=1,new qe(v,x)}detectSolid1(l){let f=l[0],p=l[1],v=l[3],x=l[2],b=this.transitionsBetween(f,p),N=this.transitionsBetween(p,v),j=this.transitionsBetween(v,x),L=this.transitionsBetween(x,f),G=b,ee=[x,f,p,v];return G>N&&(G=N,ee[0]=f,ee[1]=p,ee[2]=v,ee[3]=x),G>j&&(G=j,ee[0]=p,ee[1]=v,ee[2]=x,ee[3]=f),G>L&&(ee[0]=v,ee[1]=x,ee[2]=f,ee[3]=p),ee}detectSolid2(l){let f=l[0],p=l[1],v=l[2],x=l[3],b=this.transitionsBetween(f,x),N=Tn.shiftPoint(p,v,(b+1)*4),j=Tn.shiftPoint(v,p,(b+1)*4),L=this.transitionsBetween(N,f),G=this.transitionsBetween(j,x);return L<G?(l[0]=f,l[1]=p,l[2]=v,l[3]=x):(l[0]=p,l[1]=v,l[2]=x,l[3]=f),l}correctTopRight(l){let f=l[0],p=l[1],v=l[2],x=l[3],b=this.transitionsBetween(f,x),N=this.transitionsBetween(p,x),j=Tn.shiftPoint(f,p,(N+1)*4),L=Tn.shiftPoint(v,p,(b+1)*4);b=this.transitionsBetween(j,x),N=this.transitionsBetween(L,x);let G=new qe(x.getX()+(v.getX()-p.getX())/(b+1),x.getY()+(v.getY()-p.getY())/(b+1)),ee=new qe(x.getX()+(f.getX()-p.getX())/(N+1),x.getY()+(f.getY()-p.getY())/(N+1));if(!this.isValid(G))return this.isValid(ee)?ee:null;if(!this.isValid(ee))return G;let se=this.transitionsBetween(j,G)+this.transitionsBetween(L,G),xe=this.transitionsBetween(j,ee)+this.transitionsBetween(L,ee);return se>xe?G:ee}shiftToModuleCenter(l){let f=l[0],p=l[1],v=l[2],x=l[3],b=this.transitionsBetween(f,x)+1,N=this.transitionsBetween(v,x)+1,j=Tn.shiftPoint(f,p,N*4),L=Tn.shiftPoint(v,p,b*4);b=this.transitionsBetween(j,x)+1,N=this.transitionsBetween(L,x)+1,(b&1)===1&&(b+=1),(N&1)===1&&(N+=1);let G=(f.getX()+p.getX()+v.getX()+x.getX())/4,ee=(f.getY()+p.getY()+v.getY()+x.getY())/4;f=Tn.moveAway(f,G,ee),p=Tn.moveAway(p,G,ee),v=Tn.moveAway(v,G,ee),x=Tn.moveAway(x,G,ee);let se,xe;return j=Tn.shiftPoint(f,p,N*4),j=Tn.shiftPoint(j,x,b*4),se=Tn.shiftPoint(p,f,N*4),se=Tn.shiftPoint(se,v,b*4),L=Tn.shiftPoint(v,x,N*4),L=Tn.shiftPoint(L,p,b*4),xe=Tn.shiftPoint(x,v,N*4),xe=Tn.shiftPoint(xe,f,b*4),[j,se,L,xe]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,f,p,v,x,b,N){return Kt.getInstance().sampleGrid(l,b,N,.5,.5,b-.5,.5,b-.5,N-.5,.5,N-.5,f.getX(),f.getY(),x.getX(),x.getY(),v.getX(),v.getY(),p.getX(),p.getY())}transitionsBetween(l,f){let p=Math.trunc(l.getX()),v=Math.trunc(l.getY()),x=Math.trunc(f.getX()),b=Math.trunc(f.getY()),N=Math.abs(b-v)>Math.abs(x-p);if(N){let ke=p;p=v,v=ke,ke=x,x=b,b=ke}let j=Math.abs(x-p),L=Math.abs(b-v),G=-j/2,ee=v<b?1:-1,se=p<x?1:-1,xe=0,Oe=this.image.get(N?v:p,N?p:v);for(let ke=p,Le=v;ke!==x;ke+=se){let We=this.image.get(N?Le:ke,N?ke:Le);if(We!==Oe&&(xe++,Oe=We),G+=L,G>0){if(Le===b)break;Le+=ee,G-=j}}return xe}}class Zi{constructor(){this.decoder=new El}decode(l,f=null){let p,v;if(f!=null&&f.has(F.PURE_BARCODE)){const L=Zi.extractPureBits(l.getBlackMatrix());p=this.decoder.decode(L),v=Zi.NO_POINTS}else{const L=new Tn(l.getBlackMatrix()).detect();p=this.decoder.decode(L.getBits()),v=L.getPoints()}const x=p.getRawBytes(),b=new ae(p.getText(),x,8*x.length,v,he.DATA_MATRIX,_.currentTimeMillis()),N=p.getByteSegments();N!=null&&b.putMetadata(Ae.BYTE_SEGMENTS,N);const j=p.getECLevel();return j!=null&&b.putMetadata(Ae.ERROR_CORRECTION_LEVEL,j),b}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(f==null||p==null)throw new V;const v=this.moduleSize(f,l);let x=f[1];const b=p[1];let N=f[0];const L=(p[0]-N+1)/v,G=(b-x+1)/v;if(L<=0||G<=0)throw new V;const ee=v/2;x+=ee,N+=ee;const se=new W(L,G);for(let xe=0;xe<G;xe++){const Oe=x+xe*v;for(let ke=0;ke<L;ke++)l.get(N+ke*v,Oe)&&se.set(ke,xe)}return se}static moduleSize(l,f){const p=f.getWidth();let v=l[0];const x=l[1];for(;v<p&&f.get(v,x);)v++;if(v===p)throw new V;const b=v-l[0];if(b===0)throw new V;return b}}Zi.NO_POINTS=[];class Jc extends Z{constructor(l=500){super(new Zi,l)}}var $n;(function(J){J[J.L=0]="L",J[J.M=1]="M",J[J.Q=2]="Q",J[J.H=3]="H"})($n||($n={}));class pn{constructor(l,f,p){this.value=l,this.stringValue=f,this.bits=p,pn.FOR_BITS.set(p,this),pn.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return pn.L;case"M":return pn.M;case"Q":return pn.Q;case"H":return pn.H;default:throw new h(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof pn))return!1;const f=l;return this.value===f.value}static forBits(l){if(l<0||l>=pn.FOR_BITS.size)throw new m;return pn.FOR_BITS.get(l)}}pn.FOR_BITS=new Map,pn.FOR_VALUE=new Map,pn.L=new pn($n.L,"L",1),pn.M=new pn($n.M,"M",0),pn.Q=new pn($n.Q,"Q",3),pn.H=new pn($n.H,"H",2);class Qi{constructor(l){this.errorCorrectionLevel=pn.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,f){return O.bitCount(l^f)}static decodeFormatInformation(l,f){const p=Qi.doDecodeFormatInformation(l,f);return p!==null?p:Qi.doDecodeFormatInformation(l^Qi.FORMAT_INFO_MASK_QR,f^Qi.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,f){let p=Number.MAX_SAFE_INTEGER,v=0;for(const x of Qi.FORMAT_INFO_DECODE_LOOKUP){const b=x[0];if(b===l||b===f)return new Qi(x[1]);let N=Qi.numBitsDiffering(l,b);N<p&&(v=x[1],p=N),l!==f&&(N=Qi.numBitsDiffering(f,b),N<p&&(v=x[1],p=N))}return p<=3?new Qi(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Qi))return!1;const f=l;return this.errorCorrectionLevel===f.errorCorrectionLevel&&this.dataMask===f.dataMask}}Qi.FORMAT_INFO_MASK_QR=21522,Qi.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class $e{constructor(l,...f){this.ecCodewordsPerBlock=l,this.ecBlocks=f}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const f=this.ecBlocks;for(const p of f)l+=p.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ve{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Dt{constructor(l,f,...p){this.versionNumber=l,this.alignmentPatternCenters=f,this.ecBlocks=p;let v=0;const x=p[0].getECCodewordsPerBlock(),b=p[0].getECBlocks();for(const N of b)v+=N.getCount()*(N.getDataCodewords()+x);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new B;try{return this.getVersionForNumber((l-17)/4)}catch{throw new B}}static getVersionForNumber(l){if(l<1||l>40)throw new m;return Dt.VERSIONS[l-1]}static decodeVersionInformation(l){let f=Number.MAX_SAFE_INTEGER,p=0;for(let v=0;v<Dt.VERSION_DECODE_INFO.length;v++){const x=Dt.VERSION_DECODE_INFO[v];if(x===l)return Dt.getVersionForNumber(v+7);const b=Qi.numBitsDiffering(l,x);b<f&&(p=v+7,f=b)}return f<=3?Dt.getVersionForNumber(p):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),f=new W(l);f.setRegion(0,0,9,9),f.setRegion(l-8,0,8,9),f.setRegion(0,l-8,9,8);const p=this.alignmentPatternCenters.length;for(let v=0;v<p;v++){const x=this.alignmentPatternCenters[v]-2;for(let b=0;b<p;b++)v===0&&(b===0||b===p-1)||v===p-1&&b===0||f.setRegion(this.alignmentPatternCenters[b]-2,x,5,5)}return f.setRegion(6,9,1,l-17),f.setRegion(9,6,l-17,1),this.versionNumber>6&&(f.setRegion(l-11,0,3,6),f.setRegion(0,l-11,6,3)),f}toString(){return""+this.versionNumber}}Dt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Dt.VERSIONS=[new Dt(1,new Int32Array(0),new $e(7,new ve(1,19)),new $e(10,new ve(1,16)),new $e(13,new ve(1,13)),new $e(17,new ve(1,9))),new Dt(2,Int32Array.from([6,18]),new $e(10,new ve(1,34)),new $e(16,new ve(1,28)),new $e(22,new ve(1,22)),new $e(28,new ve(1,16))),new Dt(3,Int32Array.from([6,22]),new $e(15,new ve(1,55)),new $e(26,new ve(1,44)),new $e(18,new ve(2,17)),new $e(22,new ve(2,13))),new Dt(4,Int32Array.from([6,26]),new $e(20,new ve(1,80)),new $e(18,new ve(2,32)),new $e(26,new ve(2,24)),new $e(16,new ve(4,9))),new Dt(5,Int32Array.from([6,30]),new $e(26,new ve(1,108)),new $e(24,new ve(2,43)),new $e(18,new ve(2,15),new ve(2,16)),new $e(22,new ve(2,11),new ve(2,12))),new Dt(6,Int32Array.from([6,34]),new $e(18,new ve(2,68)),new $e(16,new ve(4,27)),new $e(24,new ve(4,19)),new $e(28,new ve(4,15))),new Dt(7,Int32Array.from([6,22,38]),new $e(20,new ve(2,78)),new $e(18,new ve(4,31)),new $e(18,new ve(2,14),new ve(4,15)),new $e(26,new ve(4,13),new ve(1,14))),new Dt(8,Int32Array.from([6,24,42]),new $e(24,new ve(2,97)),new $e(22,new ve(2,38),new ve(2,39)),new $e(22,new ve(4,18),new ve(2,19)),new $e(26,new ve(4,14),new ve(2,15))),new Dt(9,Int32Array.from([6,26,46]),new $e(30,new ve(2,116)),new $e(22,new ve(3,36),new ve(2,37)),new $e(20,new ve(4,16),new ve(4,17)),new $e(24,new ve(4,12),new ve(4,13))),new Dt(10,Int32Array.from([6,28,50]),new $e(18,new ve(2,68),new ve(2,69)),new $e(26,new ve(4,43),new ve(1,44)),new $e(24,new ve(6,19),new ve(2,20)),new $e(28,new ve(6,15),new ve(2,16))),new Dt(11,Int32Array.from([6,30,54]),new $e(20,new ve(4,81)),new $e(30,new ve(1,50),new ve(4,51)),new $e(28,new ve(4,22),new ve(4,23)),new $e(24,new ve(3,12),new ve(8,13))),new Dt(12,Int32Array.from([6,32,58]),new $e(24,new ve(2,92),new ve(2,93)),new $e(22,new ve(6,36),new ve(2,37)),new $e(26,new ve(4,20),new ve(6,21)),new $e(28,new ve(7,14),new ve(4,15))),new Dt(13,Int32Array.from([6,34,62]),new $e(26,new ve(4,107)),new $e(22,new ve(8,37),new ve(1,38)),new $e(24,new ve(8,20),new ve(4,21)),new $e(22,new ve(12,11),new ve(4,12))),new Dt(14,Int32Array.from([6,26,46,66]),new $e(30,new ve(3,115),new ve(1,116)),new $e(24,new ve(4,40),new ve(5,41)),new $e(20,new ve(11,16),new ve(5,17)),new $e(24,new ve(11,12),new ve(5,13))),new Dt(15,Int32Array.from([6,26,48,70]),new $e(22,new ve(5,87),new ve(1,88)),new $e(24,new ve(5,41),new ve(5,42)),new $e(30,new ve(5,24),new ve(7,25)),new $e(24,new ve(11,12),new ve(7,13))),new Dt(16,Int32Array.from([6,26,50,74]),new $e(24,new ve(5,98),new ve(1,99)),new $e(28,new ve(7,45),new ve(3,46)),new $e(24,new ve(15,19),new ve(2,20)),new $e(30,new ve(3,15),new ve(13,16))),new Dt(17,Int32Array.from([6,30,54,78]),new $e(28,new ve(1,107),new ve(5,108)),new $e(28,new ve(10,46),new ve(1,47)),new $e(28,new ve(1,22),new ve(15,23)),new $e(28,new ve(2,14),new ve(17,15))),new Dt(18,Int32Array.from([6,30,56,82]),new $e(30,new ve(5,120),new ve(1,121)),new $e(26,new ve(9,43),new ve(4,44)),new $e(28,new ve(17,22),new ve(1,23)),new $e(28,new ve(2,14),new ve(19,15))),new Dt(19,Int32Array.from([6,30,58,86]),new $e(28,new ve(3,113),new ve(4,114)),new $e(26,new ve(3,44),new ve(11,45)),new $e(26,new ve(17,21),new ve(4,22)),new $e(26,new ve(9,13),new ve(16,14))),new Dt(20,Int32Array.from([6,34,62,90]),new $e(28,new ve(3,107),new ve(5,108)),new $e(26,new ve(3,41),new ve(13,42)),new $e(30,new ve(15,24),new ve(5,25)),new $e(28,new ve(15,15),new ve(10,16))),new Dt(21,Int32Array.from([6,28,50,72,94]),new $e(28,new ve(4,116),new ve(4,117)),new $e(26,new ve(17,42)),new $e(28,new ve(17,22),new ve(6,23)),new $e(30,new ve(19,16),new ve(6,17))),new Dt(22,Int32Array.from([6,26,50,74,98]),new $e(28,new ve(2,111),new ve(7,112)),new $e(28,new ve(17,46)),new $e(30,new ve(7,24),new ve(16,25)),new $e(24,new ve(34,13))),new Dt(23,Int32Array.from([6,30,54,78,102]),new $e(30,new ve(4,121),new ve(5,122)),new $e(28,new ve(4,47),new ve(14,48)),new $e(30,new ve(11,24),new ve(14,25)),new $e(30,new ve(16,15),new ve(14,16))),new Dt(24,Int32Array.from([6,28,54,80,106]),new $e(30,new ve(6,117),new ve(4,118)),new $e(28,new ve(6,45),new ve(14,46)),new $e(30,new ve(11,24),new ve(16,25)),new $e(30,new ve(30,16),new ve(2,17))),new Dt(25,Int32Array.from([6,32,58,84,110]),new $e(26,new ve(8,106),new ve(4,107)),new $e(28,new ve(8,47),new ve(13,48)),new $e(30,new ve(7,24),new ve(22,25)),new $e(30,new ve(22,15),new ve(13,16))),new Dt(26,Int32Array.from([6,30,58,86,114]),new $e(28,new ve(10,114),new ve(2,115)),new $e(28,new ve(19,46),new ve(4,47)),new $e(28,new ve(28,22),new ve(6,23)),new $e(30,new ve(33,16),new ve(4,17))),new Dt(27,Int32Array.from([6,34,62,90,118]),new $e(30,new ve(8,122),new ve(4,123)),new $e(28,new ve(22,45),new ve(3,46)),new $e(30,new ve(8,23),new ve(26,24)),new $e(30,new ve(12,15),new ve(28,16))),new Dt(28,Int32Array.from([6,26,50,74,98,122]),new $e(30,new ve(3,117),new ve(10,118)),new $e(28,new ve(3,45),new ve(23,46)),new $e(30,new ve(4,24),new ve(31,25)),new $e(30,new ve(11,15),new ve(31,16))),new Dt(29,Int32Array.from([6,30,54,78,102,126]),new $e(30,new ve(7,116),new ve(7,117)),new $e(28,new ve(21,45),new ve(7,46)),new $e(30,new ve(1,23),new ve(37,24)),new $e(30,new ve(19,15),new ve(26,16))),new Dt(30,Int32Array.from([6,26,52,78,104,130]),new $e(30,new ve(5,115),new ve(10,116)),new $e(28,new ve(19,47),new ve(10,48)),new $e(30,new ve(15,24),new ve(25,25)),new $e(30,new ve(23,15),new ve(25,16))),new Dt(31,Int32Array.from([6,30,56,82,108,134]),new $e(30,new ve(13,115),new ve(3,116)),new $e(28,new ve(2,46),new ve(29,47)),new $e(30,new ve(42,24),new ve(1,25)),new $e(30,new ve(23,15),new ve(28,16))),new Dt(32,Int32Array.from([6,34,60,86,112,138]),new $e(30,new ve(17,115)),new $e(28,new ve(10,46),new ve(23,47)),new $e(30,new ve(10,24),new ve(35,25)),new $e(30,new ve(19,15),new ve(35,16))),new Dt(33,Int32Array.from([6,30,58,86,114,142]),new $e(30,new ve(17,115),new ve(1,116)),new $e(28,new ve(14,46),new ve(21,47)),new $e(30,new ve(29,24),new ve(19,25)),new $e(30,new ve(11,15),new ve(46,16))),new Dt(34,Int32Array.from([6,34,62,90,118,146]),new $e(30,new ve(13,115),new ve(6,116)),new $e(28,new ve(14,46),new ve(23,47)),new $e(30,new ve(44,24),new ve(7,25)),new $e(30,new ve(59,16),new ve(1,17))),new Dt(35,Int32Array.from([6,30,54,78,102,126,150]),new $e(30,new ve(12,121),new ve(7,122)),new $e(28,new ve(12,47),new ve(26,48)),new $e(30,new ve(39,24),new ve(14,25)),new $e(30,new ve(22,15),new ve(41,16))),new Dt(36,Int32Array.from([6,24,50,76,102,128,154]),new $e(30,new ve(6,121),new ve(14,122)),new $e(28,new ve(6,47),new ve(34,48)),new $e(30,new ve(46,24),new ve(10,25)),new $e(30,new ve(2,15),new ve(64,16))),new Dt(37,Int32Array.from([6,28,54,80,106,132,158]),new $e(30,new ve(17,122),new ve(4,123)),new $e(28,new ve(29,46),new ve(14,47)),new $e(30,new ve(49,24),new ve(10,25)),new $e(30,new ve(24,15),new ve(46,16))),new Dt(38,Int32Array.from([6,32,58,84,110,136,162]),new $e(30,new ve(4,122),new ve(18,123)),new $e(28,new ve(13,46),new ve(32,47)),new $e(30,new ve(48,24),new ve(14,25)),new $e(30,new ve(42,15),new ve(32,16))),new Dt(39,Int32Array.from([6,26,54,82,110,138,166]),new $e(30,new ve(20,117),new ve(4,118)),new $e(28,new ve(40,47),new ve(7,48)),new $e(30,new ve(43,24),new ve(22,25)),new $e(30,new ve(10,15),new ve(67,16))),new Dt(40,Int32Array.from([6,30,58,86,114,142,170]),new $e(30,new ve(19,118),new ve(6,119)),new $e(28,new ve(18,47),new ve(31,48)),new $e(30,new ve(34,24),new ve(34,25)),new $e(30,new ve(20,15),new ve(61,16)))];var yi;(function(J){J[J.DATA_MASK_000=0]="DATA_MASK_000",J[J.DATA_MASK_001=1]="DATA_MASK_001",J[J.DATA_MASK_010=2]="DATA_MASK_010",J[J.DATA_MASK_011=3]="DATA_MASK_011",J[J.DATA_MASK_100=4]="DATA_MASK_100",J[J.DATA_MASK_101=5]="DATA_MASK_101",J[J.DATA_MASK_110=6]="DATA_MASK_110",J[J.DATA_MASK_111=7]="DATA_MASK_111"})(yi||(yi={}));class Ua{constructor(l,f){this.value=l,this.isMasked=f}unmaskBitMatrix(l,f){for(let p=0;p<f;p++)for(let v=0;v<f;v++)this.isMasked(p,v)&&l.flip(v,p)}}Ua.values=new Map([[yi.DATA_MASK_000,new Ua(yi.DATA_MASK_000,(J,l)=>(J+l&1)===0)],[yi.DATA_MASK_001,new Ua(yi.DATA_MASK_001,(J,l)=>(J&1)===0)],[yi.DATA_MASK_010,new Ua(yi.DATA_MASK_010,(J,l)=>l%3===0)],[yi.DATA_MASK_011,new Ua(yi.DATA_MASK_011,(J,l)=>(J+l)%3===0)],[yi.DATA_MASK_100,new Ua(yi.DATA_MASK_100,(J,l)=>(Math.floor(J/2)+Math.floor(l/3)&1)===0)],[yi.DATA_MASK_101,new Ua(yi.DATA_MASK_101,(J,l)=>J*l%6===0)],[yi.DATA_MASK_110,new Ua(yi.DATA_MASK_110,(J,l)=>J*l%6<3)],[yi.DATA_MASK_111,new Ua(yi.DATA_MASK_111,(J,l)=>(J+l+J*l%3&1)===0)]]);class dc{constructor(l){const f=l.getHeight();if(f<21||(f&3)!==1)throw new B;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let x=0;x<6;x++)l=this.copyBit(x,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let x=5;x>=0;x--)l=this.copyBit(8,x,l);const f=this.bitMatrix.getHeight();let p=0;const v=f-7;for(let x=f-1;x>=v;x--)p=this.copyBit(8,x,p);for(let x=f-8;x<f;x++)p=this.copyBit(x,8,p);if(this.parsedFormatInfo=Qi.decodeFormatInformation(l,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),f=Math.floor((l-17)/4);if(f<=6)return Dt.getVersionForNumber(f);let p=0;const v=l-11;for(let b=5;b>=0;b--)for(let N=l-9;N>=v;N--)p=this.copyBit(N,b,p);let x=Dt.decodeVersionInformation(p);if(x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;p=0;for(let b=5;b>=0;b--)for(let N=l-9;N>=v;N--)p=this.copyBit(b,N,p);if(x=Dt.decodeVersionInformation(p),x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;throw new B}copyBit(l,f,p){return(this.isMirror?this.bitMatrix.get(f,l):this.bitMatrix.get(l,f))?p<<1|1:p<<1}readCodewords(){const l=this.readFormatInformation(),f=this.readVersion(),p=Ua.values.get(l.getDataMask()),v=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,v);const x=f.buildFunctionPattern();let b=!0;const N=new Uint8Array(f.getTotalCodewords());let j=0,L=0,G=0;for(let ee=v-1;ee>0;ee-=2){ee===6&&ee--;for(let se=0;se<v;se++){const xe=b?v-1-se:se;for(let Oe=0;Oe<2;Oe++)x.get(ee-Oe,xe)||(G++,L<<=1,this.bitMatrix.get(ee-Oe,xe)&&(L|=1),G===8&&(N[j++]=L,G=0,L=0))}b=!b}if(j!==f.getTotalCodewords())throw new B;return N}remask(){if(this.parsedFormatInfo===null)return;const l=Ua.values[this.parsedFormatInfo.getDataMask()],f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let f=0,p=l.getWidth();f<p;f++)for(let v=f+1,x=l.getHeight();v<x;v++)l.get(f,v)!==l.get(v,f)&&(l.flip(v,f),l.flip(f,v))}}class eu{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f,p){if(l.length!==f.getTotalCodewords())throw new m;const v=f.getECBlocksForLevel(p);let x=0;const b=v.getECBlocks();for(const Oe of b)x+=Oe.getCount();const N=new Array(x);let j=0;for(const Oe of b)for(let ke=0;ke<Oe.getCount();ke++){const Le=Oe.getDataCodewords(),We=v.getECCodewordsPerBlock()+Le;N[j++]=new eu(Le,new Uint8Array(We))}const L=N[0].codewords.length;let G=N.length-1;for(;G>=0&&N[G].codewords.length!==L;)G--;G++;const ee=L-v.getECCodewordsPerBlock();let se=0;for(let Oe=0;Oe<ee;Oe++)for(let ke=0;ke<j;ke++)N[ke].codewords[Oe]=l[se++];for(let Oe=G;Oe<j;Oe++)N[Oe].codewords[ee]=l[se++];const xe=N[0].codewords.length;for(let Oe=ee;Oe<xe;Oe++)for(let ke=0;ke<j;ke++){const Le=ke<G?Oe:Oe+1;N[ke].codewords[Le]=l[se++]}return N}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ja;(function(J){J[J.TERMINATOR=0]="TERMINATOR",J[J.NUMERIC=1]="NUMERIC",J[J.ALPHANUMERIC=2]="ALPHANUMERIC",J[J.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",J[J.BYTE=4]="BYTE",J[J.ECI=5]="ECI",J[J.KANJI=6]="KANJI",J[J.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",J[J.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",J[J.HANZI=9]="HANZI"})(Ja||(Ja={}));class cr{constructor(l,f,p,v){this.value=l,this.stringValue=f,this.characterCountBitsForVersions=p,this.bits=v,cr.FOR_BITS.set(v,this),cr.FOR_VALUE.set(l,this)}static forBits(l){const f=cr.FOR_BITS.get(l);if(f===void 0)throw new m;return f}getCharacterCountBits(l){const f=l.getVersionNumber();let p;return f<=9?p=0:f<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof cr))return!1;const f=l;return this.value===f.value}toString(){return this.stringValue}}cr.FOR_BITS=new Map,cr.FOR_VALUE=new Map,cr.TERMINATOR=new cr(Ja.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),cr.NUMERIC=new cr(Ja.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),cr.ALPHANUMERIC=new cr(Ja.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),cr.STRUCTURED_APPEND=new cr(Ja.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),cr.BYTE=new cr(Ja.BYTE,"BYTE",Int32Array.from([8,16,16]),4),cr.ECI=new cr(Ja.ECI,"ECI",Int32Array.from([0,0,0]),7),cr.KANJI=new cr(Ja.KANJI,"KANJI",Int32Array.from([8,10,12]),8),cr.FNC1_FIRST_POSITION=new cr(Ja.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),cr.FNC1_SECOND_POSITION=new cr(Ja.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),cr.HANZI=new cr(Ja.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Wn{static decode(l,f,p,v){const x=new hi(l);let b=new X;const N=new Array;let j=-1,L=-1;try{let G=null,ee=!1,se;do{if(x.available()<4)se=cr.TERMINATOR;else{const xe=x.readBits(4);se=cr.forBits(xe)}switch(se){case cr.TERMINATOR:break;case cr.FNC1_FIRST_POSITION:case cr.FNC1_SECOND_POSITION:ee=!0;break;case cr.STRUCTURED_APPEND:if(x.available()<16)throw new B;j=x.readBits(8),L=x.readBits(8);break;case cr.ECI:const xe=Wn.parseECIValue(x);if(G=P.getCharacterSetECIByValue(xe),G===null)throw new B;break;case cr.HANZI:const Oe=x.readBits(4),ke=x.readBits(se.getCharacterCountBits(f));Oe===Wn.GB2312_SUBSET&&Wn.decodeHanziSegment(x,b,ke);break;default:const Le=x.readBits(se.getCharacterCountBits(f));switch(se){case cr.NUMERIC:Wn.decodeNumericSegment(x,b,Le);break;case cr.ALPHANUMERIC:Wn.decodeAlphanumericSegment(x,b,Le,ee);break;case cr.BYTE:Wn.decodeByteSegment(x,b,Le,G,N,v);break;case cr.KANJI:Wn.decodeKanjiSegment(x,b,Le);break;default:throw new B}break}}while(se!==cr.TERMINATOR)}catch{throw new B}return new ye(l,b.toString(),N.length===0?null:N,p===null?null:p.toString(),j,L)}static decodeHanziSegment(l,f,p){if(p*13>l.available())throw new B;const v=new Uint8Array(2*p);let x=0;for(;p>0;){const b=l.readBits(13);let N=b/96<<8&4294967295|b%96;N<959?N+=41377:N+=42657,v[x]=N>>8&255,v[x+1]=N&255,x+=2,p--}try{f.append($.decode(v,z.GB2312))}catch(b){throw new B(b)}}static decodeKanjiSegment(l,f,p){if(p*13>l.available())throw new B;const v=new Uint8Array(2*p);let x=0;for(;p>0;){const b=l.readBits(13);let N=b/192<<8&4294967295|b%192;N<7936?N+=33088:N+=49472,v[x]=N>>8,v[x+1]=N,x+=2,p--}try{f.append($.decode(v,z.SHIFT_JIS))}catch(b){throw new B(b)}}static decodeByteSegment(l,f,p,v,x,b){if(8*p>l.available())throw new B;const N=new Uint8Array(p);for(let L=0;L<p;L++)N[L]=l.readBits(8);let j;v===null?j=z.guessEncoding(N,b):j=v.getName();try{f.append($.decode(N,j))}catch(L){throw new B(L)}x.push(N)}static toAlphaNumericChar(l){if(l>=Wn.ALPHANUMERIC_CHARS.length)throw new B;return Wn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,f,p,v){const x=f.length();for(;p>1;){if(l.available()<11)throw new B;const b=l.readBits(11);f.append(Wn.toAlphaNumericChar(Math.floor(b/45))),f.append(Wn.toAlphaNumericChar(b%45)),p-=2}if(p===1){if(l.available()<6)throw new B;f.append(Wn.toAlphaNumericChar(l.readBits(6)))}if(v)for(let b=x;b<f.length();b++)f.charAt(b)==="%"&&(b<f.length()-1&&f.charAt(b+1)==="%"?f.deleteCharAt(b+1):f.setCharAt(b,""))}static decodeNumericSegment(l,f,p){for(;p>=3;){if(l.available()<10)throw new B;const v=l.readBits(10);if(v>=1e3)throw new B;f.append(Wn.toAlphaNumericChar(Math.floor(v/100))),f.append(Wn.toAlphaNumericChar(Math.floor(v/10)%10)),f.append(Wn.toAlphaNumericChar(v%10)),p-=3}if(p===2){if(l.available()<7)throw new B;const v=l.readBits(7);if(v>=100)throw new B;f.append(Wn.toAlphaNumericChar(Math.floor(v/10))),f.append(Wn.toAlphaNumericChar(v%10))}else if(p===1){if(l.available()<4)throw new B;const v=l.readBits(4);if(v>=10)throw new B;f.append(Wn.toAlphaNumericChar(v))}}static parseECIValue(l){const f=l.readBits(8);if(!(f&128))return f&127;if((f&192)===128){const p=l.readBits(8);return(f&63)<<8&4294967295|p}if((f&224)===192){const p=l.readBits(16);return(f&31)<<16&4294967295|p}throw new B}}Wn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Wn.GB2312_SUBSET=1;class dd{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const f=l[0];l[0]=l[2],l[2]=f}}class tu{constructor(){this.rsDecoder=new it(Re.QR_CODE_FIELD_256)}decodeBooleanArray(l,f){return this.decodeBitMatrix(W.parseFromBooleanArray(l),f)}decodeBitMatrix(l,f){const p=new dc(l);let v=null;try{return this.decodeBitMatrixParser(p,f)}catch(x){v=x}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const x=this.decodeBitMatrixParser(p,f);return x.setOther(new dd(!0)),x}catch(x){throw v!==null?v:x}}decodeBitMatrixParser(l,f){const p=l.readVersion(),v=l.readFormatInformation().getErrorCorrectionLevel(),x=l.readCodewords(),b=eu.getDataBlocks(x,p,v);let N=0;for(const G of b)N+=G.getNumDataCodewords();const j=new Uint8Array(N);let L=0;for(const G of b){const ee=G.getCodewords(),se=G.getNumDataCodewords();this.correctErrors(ee,se);for(let xe=0;xe<se;xe++)j[L++]=ee[xe]}return Wn.decode(j,p,v,f)}correctErrors(l,f){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-f)}catch{throw new g}for(let v=0;v<f;v++)l[v]=p[v]}}class Go extends qe{constructor(l,f,p){super(l,f),this.estimatedModuleSize=p}aboutEquals(l,f,p){if(Math.abs(f-this.getY())<=l&&Math.abs(p-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,f,p){const v=(this.getX()+f)/2,x=(this.getY()+l)/2,b=(this.estimatedModuleSize+p)/2;return new Go(v,x,b)}}class fd{constructor(l,f,p,v,x,b,N){this.image=l,this.startX=f,this.startY=p,this.width=v,this.height=x,this.moduleSize=b,this.resultPointCallback=N,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,f=this.height,p=this.width,v=l+p,x=this.startY+f/2,b=new Int32Array(3),N=this.image;for(let j=0;j<f;j++){const L=x+(j&1?-Math.floor((j+1)/2):Math.floor((j+1)/2));b[0]=0,b[1]=0,b[2]=0;let G=l;for(;G<v&&!N.get(G,L);)G++;let ee=0;for(;G<v;){if(N.get(G,L))if(ee===1)b[1]++;else if(ee===2){if(this.foundPatternCross(b)){const se=this.handlePossibleCenter(b,L,G);if(se!==null)return se}b[0]=b[2],b[1]=1,b[2]=0,ee=1}else b[++ee]++;else ee===1&&ee++,b[ee]++;G++}if(this.foundPatternCross(b)){const se=this.handlePossibleCenter(b,L,v);if(se!==null)return se}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(l,f){return f-l[2]-l[1]/2}foundPatternCross(l){const f=this.moduleSize,p=f/2;for(let v=0;v<3;v++)if(Math.abs(f-l[v])>=p)return!1;return!0}crossCheckVertical(l,f,p,v){const x=this.image,b=x.getHeight(),N=this.crossCheckStateCount;N[0]=0,N[1]=0,N[2]=0;let j=l;for(;j>=0&&x.get(f,j)&&N[1]<=p;)N[1]++,j--;if(j<0||N[1]>p)return NaN;for(;j>=0&&!x.get(f,j)&&N[0]<=p;)N[0]++,j--;if(N[0]>p)return NaN;for(j=l+1;j<b&&x.get(f,j)&&N[1]<=p;)N[1]++,j++;if(j===b||N[1]>p)return NaN;for(;j<b&&!x.get(f,j)&&N[2]<=p;)N[2]++,j++;if(N[2]>p)return NaN;const L=N[0]+N[1]+N[2];return 5*Math.abs(L-v)>=2*v?NaN:this.foundPatternCross(N)?fd.centerFromEnd(N,j):NaN}handlePossibleCenter(l,f,p){const v=l[0]+l[1]+l[2],x=fd.centerFromEnd(l,p),b=this.crossCheckVertical(f,x,2*l[1],v);if(!isNaN(b)){const N=(l[0]+l[1]+l[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(N,b,x))return L.combineEstimate(b,x,N);const j=new Go(x,b,N);this.possibleCenters.push(j),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(j)}return null}}class Cl extends qe{constructor(l,f,p,v){super(l,f),this.estimatedModuleSize=p,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,f,p){if(Math.abs(f-this.getY())<=l&&Math.abs(p-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,f,p){const v=this.count+1,x=(this.count*this.getX()+f)/v,b=(this.count*this.getY()+l)/v,N=(this.count*this.estimatedModuleSize+p)/v;return new Cl(x,b,N,v)}}class Kf{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Wt{constructor(l,f){this.image=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const f=l!=null&&l.get(F.TRY_HARDER)!==void 0,p=l!=null&&l.get(F.PURE_BARCODE)!==void 0,v=this.image,x=v.getHeight(),b=v.getWidth();let N=Math.floor(3*x/(4*Wt.MAX_MODULES));(N<Wt.MIN_SKIP||f)&&(N=Wt.MIN_SKIP);let j=!1;const L=new Int32Array(5);for(let ee=N-1;ee<x&&!j;ee+=N){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let se=0;for(let xe=0;xe<b;xe++)if(v.get(xe,ee))(se&1)===1&&se++,L[se]++;else if(se&1)L[se]++;else if(se===4)if(Wt.foundPatternCross(L)){if(this.handlePossibleCenter(L,ee,xe,p)===!0)if(N=2,this.hasSkipped===!0)j=this.haveMultiplyConfirmedCenters();else{const ke=this.findRowSkip();ke>L[2]&&(ee+=ke-L[2]-N,xe=b-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,se=3;continue}se=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,se=3;else L[++se]++;Wt.foundPatternCross(L)&&this.handlePossibleCenter(L,ee,b,p)===!0&&(N=L[0],this.hasSkipped&&(j=this.haveMultiplyConfirmedCenters()))}const G=this.selectBestPatterns();return qe.orderBestPatterns(G),new Kf(G)}static centerFromEnd(l,f){return f-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let f=0;for(let x=0;x<5;x++){const b=l[x];if(b===0)return!1;f+=b}if(f<7)return!1;const p=f/7,v=p/2;return Math.abs(p-l[0])<v&&Math.abs(p-l[1])<v&&Math.abs(3*p-l[2])<3*v&&Math.abs(p-l[3])<v&&Math.abs(p-l[4])<v}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,f,p,v){const x=this.getCrossCheckStateCount();let b=0;const N=this.image;for(;l>=b&&f>=b&&N.get(f-b,l-b);)x[2]++,b++;if(l<b||f<b)return!1;for(;l>=b&&f>=b&&!N.get(f-b,l-b)&&x[1]<=p;)x[1]++,b++;if(l<b||f<b||x[1]>p)return!1;for(;l>=b&&f>=b&&N.get(f-b,l-b)&&x[0]<=p;)x[0]++,b++;if(x[0]>p)return!1;const j=N.getHeight(),L=N.getWidth();for(b=1;l+b<j&&f+b<L&&N.get(f+b,l+b);)x[2]++,b++;if(l+b>=j||f+b>=L)return!1;for(;l+b<j&&f+b<L&&!N.get(f+b,l+b)&&x[3]<p;)x[3]++,b++;if(l+b>=j||f+b>=L||x[3]>=p)return!1;for(;l+b<j&&f+b<L&&N.get(f+b,l+b)&&x[4]<p;)x[4]++,b++;if(x[4]>=p)return!1;const G=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(G-v)<2*v&&Wt.foundPatternCross(x)}crossCheckVertical(l,f,p,v){const x=this.image,b=x.getHeight(),N=this.getCrossCheckStateCount();let j=l;for(;j>=0&&x.get(f,j);)N[2]++,j--;if(j<0)return NaN;for(;j>=0&&!x.get(f,j)&&N[1]<=p;)N[1]++,j--;if(j<0||N[1]>p)return NaN;for(;j>=0&&x.get(f,j)&&N[0]<=p;)N[0]++,j--;if(N[0]>p)return NaN;for(j=l+1;j<b&&x.get(f,j);)N[2]++,j++;if(j===b)return NaN;for(;j<b&&!x.get(f,j)&&N[3]<p;)N[3]++,j++;if(j===b||N[3]>=p)return NaN;for(;j<b&&x.get(f,j)&&N[4]<p;)N[4]++,j++;if(N[4]>=p)return NaN;const L=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(L-v)>=2*v?NaN:Wt.foundPatternCross(N)?Wt.centerFromEnd(N,j):NaN}crossCheckHorizontal(l,f,p,v){const x=this.image,b=x.getWidth(),N=this.getCrossCheckStateCount();let j=l;for(;j>=0&&x.get(j,f);)N[2]++,j--;if(j<0)return NaN;for(;j>=0&&!x.get(j,f)&&N[1]<=p;)N[1]++,j--;if(j<0||N[1]>p)return NaN;for(;j>=0&&x.get(j,f)&&N[0]<=p;)N[0]++,j--;if(N[0]>p)return NaN;for(j=l+1;j<b&&x.get(j,f);)N[2]++,j++;if(j===b)return NaN;for(;j<b&&!x.get(j,f)&&N[3]<p;)N[3]++,j++;if(j===b||N[3]>=p)return NaN;for(;j<b&&x.get(j,f)&&N[4]<p;)N[4]++,j++;if(N[4]>=p)return NaN;const L=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(L-v)>=v?NaN:Wt.foundPatternCross(N)?Wt.centerFromEnd(N,j):NaN}handlePossibleCenter(l,f,p,v){const x=l[0]+l[1]+l[2]+l[3]+l[4];let b=Wt.centerFromEnd(l,p),N=this.crossCheckVertical(f,Math.floor(b),l[2],x);if(!isNaN(N)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(N),l[2],x),!isNaN(b)&&(!v||this.crossCheckDiagonal(Math.floor(N),Math.floor(b),l[2],x)))){const j=x/7;let L=!1;const G=this.possibleCenters;for(let ee=0,se=G.length;ee<se;ee++){const xe=G[ee];if(xe.aboutEquals(j,N,b)){G[ee]=xe.combineEstimate(N,b,j),L=!0;break}}if(!L){const ee=new Cl(b,N,j);G.push(ee),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ee)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const p of this.possibleCenters)if(p.getCount()>=Wt.CENTER_QUORUM)if(f==null)f=p;else return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-p.getX())-Math.abs(f.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,f=0;const p=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=Wt.CENTER_QUORUM&&(l++,f+=b.getEstimatedModuleSize());if(l<3)return!1;const v=f/p;let x=0;for(const b of this.possibleCenters)x+=Math.abs(b.getEstimatedModuleSize()-v);return x<=.05*f}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new V;const f=this.possibleCenters;let p;if(l>3){let v=0,x=0;for(const j of this.possibleCenters){const L=j.getEstimatedModuleSize();v+=L,x+=L*L}p=v/l;let b=Math.sqrt(x/l-p*p);f.sort((j,L)=>{const G=Math.abs(L.getEstimatedModuleSize()-p),ee=Math.abs(j.getEstimatedModuleSize()-p);return G<ee?-1:G>ee?1:0});const N=Math.max(.2*p,b);for(let j=0;j<f.length&&f.length>3;j++){const L=f[j];Math.abs(L.getEstimatedModuleSize()-p)>N&&(f.splice(j,1),j--)}}if(f.length>3){let v=0;for(const x of f)v+=x.getEstimatedModuleSize();p=v/f.length,f.sort((x,b)=>{if(b.getCount()===x.getCount()){const N=Math.abs(b.getEstimatedModuleSize()-p),j=Math.abs(x.getEstimatedModuleSize()-p);return N<j?1:N>j?-1:0}else return b.getCount()-x.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}Wt.CENTER_QUORUM=2,Wt.MIN_SKIP=3,Wt.MAX_MODULES=57;class ru{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(F.NEED_RESULT_POINT_CALLBACK);const p=new Wt(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(p)}processFinderPatternInfo(l){const f=l.getTopLeft(),p=l.getTopRight(),v=l.getBottomLeft(),x=this.calculateModuleSize(f,p,v);if(x<1)throw new V("No pattern found in proccess finder.");const b=ru.computeDimension(f,p,v,x),N=Dt.getProvisionalVersionForDimension(b),j=N.getDimensionForVersion()-7;let L=null;if(N.getAlignmentPatternCenters().length>0){const xe=p.getX()-f.getX()+v.getX(),Oe=p.getY()-f.getY()+v.getY(),ke=1-3/j,Le=Math.floor(f.getX()+ke*(xe-f.getX())),We=Math.floor(f.getY()+ke*(Oe-f.getY()));for(let et=4;et<=16;et<<=1)try{L=this.findAlignmentInRegion(x,Le,We,et);break}catch(at){if(!(at instanceof V))throw at}}const G=ru.createTransform(f,p,v,L,b),ee=ru.sampleGrid(this.image,G,b);let se;return L===null?se=[v,f,p]:se=[v,f,p,L],new It(ee,se)}static createTransform(l,f,p,v,x){const b=x-3.5;let N,j,L,G;return v!==null?(N=v.getX(),j=v.getY(),L=b-3,G=L):(N=f.getX()-l.getX()+p.getX(),j=f.getY()-l.getY()+p.getY(),L=b,G=b),vt.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,L,G,3.5,b,l.getX(),l.getY(),f.getX(),f.getY(),N,j,p.getX(),p.getY())}static sampleGrid(l,f,p){return Kt.getInstance().sampleGridWithTransform(l,p,p,f)}static computeDimension(l,f,p,v){const x=Be.round(qe.distance(l,f)/v),b=Be.round(qe.distance(l,p)/v);let N=Math.floor((x+b)/2)+7;switch(N&3){case 0:N++;break;case 2:N--;break;case 3:throw new V("Dimensions could be not found.")}return N}calculateModuleSize(l,f,p){return(this.calculateModuleSizeOneWay(l,f)+this.calculateModuleSizeOneWay(l,p))/2}calculateModuleSizeOneWay(l,f){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(f.getX()),Math.floor(f.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(f.getX()),Math.floor(f.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(p)?v/7:isNaN(v)?p/7:(p+v)/14}sizeOfBlackWhiteBlackRunBothWays(l,f,p,v){let x=this.sizeOfBlackWhiteBlackRun(l,f,p,v),b=1,N=l-(p-l);N<0?(b=l/(l-N),N=0):N>=this.image.getWidth()&&(b=(this.image.getWidth()-1-l)/(N-l),N=this.image.getWidth()-1);let j=Math.floor(f-(v-f)*b);return b=1,j<0?(b=f/(f-j),j=0):j>=this.image.getHeight()&&(b=(this.image.getHeight()-1-f)/(j-f),j=this.image.getHeight()-1),N=Math.floor(l+(N-l)*b),x+=this.sizeOfBlackWhiteBlackRun(l,f,N,j),x-1}sizeOfBlackWhiteBlackRun(l,f,p,v){const x=Math.abs(v-f)>Math.abs(p-l);if(x){let xe=l;l=f,f=xe,xe=p,p=v,v=xe}const b=Math.abs(p-l),N=Math.abs(v-f);let j=-b/2;const L=l<p?1:-1,G=f<v?1:-1;let ee=0;const se=p+L;for(let xe=l,Oe=f;xe!==se;xe+=L){const ke=x?Oe:xe,Le=x?xe:Oe;if(ee===1===this.image.get(ke,Le)){if(ee===2)return Be.distance(xe,Oe,l,f);ee++}if(j+=N,j>0){if(Oe===v)break;Oe+=G,j-=b}}return ee===2?Be.distance(p+L,v,l,f):NaN}findAlignmentInRegion(l,f,p,v){const x=Math.floor(v*l),b=Math.max(0,f-x),N=Math.min(this.image.getWidth()-1,f+x);if(N-b<l*3)throw new V("Alignment top exceeds estimated module size.");const j=Math.max(0,p-x),L=Math.min(this.image.getHeight()-1,p+x);if(L-j<l*3)throw new V("Alignment bottom exceeds estimated module size.");return new fd(this.image,b,j,N-b,L-j,l,this.resultPointCallback).find()}}class Ko{constructor(){this.decoder=new tu}getDecoder(){return this.decoder}decode(l,f){let p,v;if(f!=null&&f.get(F.PURE_BARCODE)!==void 0){const j=Ko.extractPureBits(l.getBlackMatrix());p=this.decoder.decodeBitMatrix(j,f),v=Ko.NO_POINTS}else{const j=new ru(l.getBlackMatrix()).detect(f);p=this.decoder.decodeBitMatrix(j.getBits(),f),v=j.getPoints()}p.getOther()instanceof dd&&p.getOther().applyMirroredCorrection(v);const x=new ae(p.getText(),p.getRawBytes(),void 0,v,he.QR_CODE,void 0),b=p.getByteSegments();b!==null&&x.putMetadata(Ae.BYTE_SEGMENTS,b);const N=p.getECLevel();return N!==null&&x.putMetadata(Ae.ERROR_CORRECTION_LEVEL,N),p.hasStructuredAppend()&&(x.putMetadata(Ae.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),x.putMetadata(Ae.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),x}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(f===null||p===null)throw new V;const v=this.moduleSize(f,l);let x=f[1],b=p[1],N=f[0],j=p[0];if(N>=j||x>=b)throw new V;if(b-x!==j-N&&(j=N+(b-x),j>=l.getWidth()))throw new V;const L=Math.round((j-N+1)/v),G=Math.round((b-x+1)/v);if(L<=0||G<=0)throw new V;if(G!==L)throw new V;const ee=Math.floor(v/2);x+=ee,N+=ee;const se=N+Math.floor((L-1)*v)-j;if(se>0){if(se>ee)throw new V;N-=se}const xe=x+Math.floor((G-1)*v)-b;if(xe>0){if(xe>ee)throw new V;x-=xe}const Oe=new W(L,G);for(let ke=0;ke<G;ke++){const Le=x+Math.floor(ke*v);for(let We=0;We<L;We++)l.get(N+Math.floor(We*v),Le)&&Oe.set(We,ke)}return Oe}static moduleSize(l,f){const p=f.getHeight(),v=f.getWidth();let x=l[0],b=l[1],N=!0,j=0;for(;x<v&&b<p;){if(N!==f.get(x,b)){if(++j===5)break;N=!N}x++,b++}if(x===v||b===p)throw new V;return(x-l[0])/7}}Ko.NO_POINTS=new Array;class mr{PDF417Common(){}static getBitCountSum(l){return Be.sum(l)}static toIntArray(l){if(l==null||!l.length)return mr.EMPTY_INT_ARRAY;const f=new Int32Array(l.length);let p=0;for(const v of l)f[p++]=v;return f}static getCodeword(l){const f=E.binarySearch(mr.SYMBOL_TABLE,l&262143);return f<0?-1:(mr.CODEWORD_TABLE[f]-1)%mr.NUMBER_OF_CODEWORDS}}mr.NUMBER_OF_CODEWORDS=929,mr.MAX_CODEWORDS_IN_BARCODE=mr.NUMBER_OF_CODEWORDS-1,mr.MIN_ROWS_IN_BARCODE=3,mr.MAX_ROWS_IN_BARCODE=90,mr.MODULES_IN_CODEWORD=17,mr.MODULES_IN_STOP_PATTERN=18,mr.BARS_IN_MODULE=8,mr.EMPTY_INT_ARRAY=new Int32Array([]),mr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),mr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class N1{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Sr{static detectMultiple(l,f,p){let v=l.getBlackMatrix(),x=Sr.detect(p,v);return x.length||(v=v.clone(),v.rotate180(),x=Sr.detect(p,v)),new N1(v,x)}static detect(l,f){const p=new Array;let v=0,x=0,b=!1;for(;v<f.getHeight();){const N=Sr.findVertices(f,v,x);if(N[0]==null&&N[3]==null){if(!b)break;b=!1,x=0;for(const j of p)j[1]!=null&&(v=Math.trunc(Math.max(v,j[1].getY()))),j[3]!=null&&(v=Math.max(v,Math.trunc(j[3].getY())));v+=Sr.ROW_STEP;continue}if(b=!0,p.push(N),!l)break;N[2]!=null?(x=Math.trunc(N[2].getX()),v=Math.trunc(N[2].getY())):(x=Math.trunc(N[4].getX()),v=Math.trunc(N[4].getY()))}return p}static findVertices(l,f,p){const v=l.getHeight(),x=l.getWidth(),b=new Array(8);return Sr.copyToResult(b,Sr.findRowsWithPattern(l,v,x,f,p,Sr.START_PATTERN),Sr.INDEXES_START_PATTERN),b[4]!=null&&(p=Math.trunc(b[4].getX()),f=Math.trunc(b[4].getY())),Sr.copyToResult(b,Sr.findRowsWithPattern(l,v,x,f,p,Sr.STOP_PATTERN),Sr.INDEXES_STOP_PATTERN),b}static copyToResult(l,f,p){for(let v=0;v<p.length;v++)l[p[v]]=f[v]}static findRowsWithPattern(l,f,p,v,x,b){const N=new Array(4);let j=!1;const L=new Int32Array(b.length);for(;v<f;v+=Sr.ROW_STEP){let ee=Sr.findGuardPattern(l,x,v,p,!1,b,L);if(ee!=null){for(;v>0;){const se=Sr.findGuardPattern(l,x,--v,p,!1,b,L);if(se!=null)ee=se;else{v++;break}}N[0]=new qe(ee[0],v),N[1]=new qe(ee[1],v),j=!0;break}}let G=v+1;if(j){let ee=0,se=Int32Array.from([Math.trunc(N[0].getX()),Math.trunc(N[1].getX())]);for(;G<f;G++){const xe=Sr.findGuardPattern(l,se[0],G,p,!1,b,L);if(xe!=null&&Math.abs(se[0]-xe[0])<Sr.MAX_PATTERN_DRIFT&&Math.abs(se[1]-xe[1])<Sr.MAX_PATTERN_DRIFT)se=xe,ee=0;else{if(ee>Sr.SKIPPED_ROW_COUNT_MAX)break;ee++}}G-=ee+1,N[2]=new qe(se[0],G),N[3]=new qe(se[1],G)}return G-v<Sr.BARCODE_MIN_HEIGHT&&E.fill(N,null),N}static findGuardPattern(l,f,p,v,x,b,N){E.fillWithin(N,0,N.length,0);let j=f,L=0;for(;l.get(j,p)&&j>0&&L++<Sr.MAX_PIXEL_DRIFT;)j--;let G=j,ee=0,se=b.length;for(let xe=x;G<v;G++)if(l.get(G,p)!==xe)N[ee]++;else{if(ee===se-1){if(Sr.patternMatchVariance(N,b,Sr.MAX_INDIVIDUAL_VARIANCE)<Sr.MAX_AVG_VARIANCE)return new Int32Array([j,G]);j+=N[0]+N[1],_.arraycopy(N,2,N,0,ee-1),N[ee-1]=0,N[ee]=0,ee--}else ee++;N[ee]=1,xe=!xe}return ee===se-1&&Sr.patternMatchVariance(N,b,Sr.MAX_INDIVIDUAL_VARIANCE)<Sr.MAX_AVG_VARIANCE?new Int32Array([j,G-1]):null}static patternMatchVariance(l,f,p){let v=l.length,x=0,b=0;for(let L=0;L<v;L++)x+=l[L],b+=f[L];if(x<b)return 1/0;let N=x/b;p*=N;let j=0;for(let L=0;L<v;L++){let G=l[L],ee=f[L]*N,se=G>ee?G-ee:ee-G;if(se>p)return 1/0;j+=se}return j/x}}Sr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Sr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Sr.MAX_AVG_VARIANCE=.42,Sr.MAX_INDIVIDUAL_VARIANCE=.8,Sr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Sr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Sr.MAX_PIXEL_DRIFT=3,Sr.MAX_PATTERN_DRIFT=5,Sr.SKIPPED_ROW_COUNT_MAX=25,Sr.ROW_STEP=5,Sr.BARCODE_MIN_HEIGHT=10;class Hn{constructor(l,f){if(f.length===0)throw new m;this.field=l;let p=f.length;if(p>1&&f[0]===0){let v=1;for(;v<p&&f[v]===0;)v++;v===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-v),_.arraycopy(f,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let v=0;for(let x of this.coefficients)v=this.field.add(v,x);return v}let f=this.coefficients[0],p=this.coefficients.length;for(let v=1;v<p;v++)f=this.field.add(this.field.multiply(l,f),this.coefficients[v]);return f}add(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,p=l.coefficients;if(f.length>p.length){let b=f;f=p,p=b}let v=new Int32Array(p.length),x=p.length-f.length;_.arraycopy(p,0,v,0,x);for(let b=x;b<p.length;b++)v[b]=this.field.add(f[b-x],p[b]);return new Hn(this.field,v)}subtract(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Hn?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Hn(this.field,new Int32Array([0]));let f=this.coefficients,p=f.length,v=l.coefficients,x=v.length,b=new Int32Array(p+x-1);for(let N=0;N<p;N++){let j=f[N];for(let L=0;L<x;L++)b[N+L]=this.field.add(b[N+L],this.field.multiply(j,v[L]))}return new Hn(this.field,b)}negative(){let l=this.coefficients.length,f=new Int32Array(l);for(let p=0;p<l;p++)f[p]=this.field.subtract(0,this.coefficients[p]);return new Hn(this.field,f)}multiplyScalar(l){if(l===0)return new Hn(this.field,new Int32Array([0]));if(l===1)return this;let f=this.coefficients.length,p=new Int32Array(f);for(let v=0;v<f;v++)p[v]=this.field.multiply(this.coefficients[v],l);return new Hn(this.field,p)}multiplyByMonomial(l,f){if(l<0)throw new m;if(f===0)return new Hn(this.field,new Int32Array([0]));let p=this.coefficients.length,v=new Int32Array(p+l);for(let x=0;x<p;x++)v[x]=this.field.multiply(this.coefficients[x],f);return new Hn(this.field,v)}toString(){let l=new X;for(let f=this.getDegree();f>=0;f--){let p=this.getCoefficient(f);p!==0&&(p<0?(l.append(" - "),p=-p):l.length()>0&&l.append(" + "),(f===0||p!==1)&&l.append(p),f!==0&&(f===1?l.append("x"):(l.append("x^"),l.append(f))))}return l.toString()}}class O1{add(l,f){return(l+f)%this.modulus}subtract(l,f){return(this.modulus+l-f)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}inverse(l){if(l===0)throw new Ce;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Yf extends O1{constructor(l,f){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let p=1;for(let v=0;v<l;v++)this.expTable[v]=p,p=p*f%l;for(let v=0;v<l-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new Hn(this,new Int32Array([0])),this.one=new Hn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new m;if(f===0)return this.zero;let p=new Int32Array(l+1);return p[0]=f,new Hn(this,p)}}Yf.PDF417_GF=new Yf(mr.NUMBER_OF_CODEWORDS,3);class nu{constructor(){this.field=Yf.PDF417_GF}decode(l,f,p){let v=new Hn(this.field,l),x=new Int32Array(f),b=!1;for(let Oe=f;Oe>0;Oe--){let ke=v.evaluateAt(this.field.exp(Oe));x[f-Oe]=ke,ke!==0&&(b=!0)}if(!b)return 0;let N=this.field.getOne();if(p!=null)for(const Oe of p){let ke=this.field.exp(l.length-1-Oe),Le=new Hn(this.field,new Int32Array([this.field.subtract(0,ke),1]));N=N.multiply(Le)}let j=new Hn(this.field,x),L=this.runEuclideanAlgorithm(this.field.buildMonomial(f,1),j,f),G=L[0],ee=L[1],se=this.findErrorLocations(G),xe=this.findErrorMagnitudes(ee,G,se);for(let Oe=0;Oe<se.length;Oe++){let ke=l.length-1-this.field.log(se[Oe]);if(ke<0)throw g.getChecksumInstance();l[ke]=this.field.subtract(l[ke],xe[Oe])}return se.length}runEuclideanAlgorithm(l,f,p){if(l.getDegree()<f.getDegree()){let se=l;l=f,f=se}let v=l,x=f,b=this.field.getZero(),N=this.field.getOne();for(;x.getDegree()>=Math.round(p/2);){let se=v,xe=b;if(v=x,b=N,v.isZero())throw g.getChecksumInstance();x=se;let Oe=this.field.getZero(),ke=v.getCoefficient(v.getDegree()),Le=this.field.inverse(ke);for(;x.getDegree()>=v.getDegree()&&!x.isZero();){let We=x.getDegree()-v.getDegree(),et=this.field.multiply(x.getCoefficient(x.getDegree()),Le);Oe=Oe.add(this.field.buildMonomial(We,et)),x=x.subtract(v.multiplyByMonomial(We,et))}N=Oe.multiply(b).subtract(xe).negative()}let j=N.getCoefficient(0);if(j===0)throw g.getChecksumInstance();let L=this.field.inverse(j),G=N.multiply(L),ee=x.multiply(L);return[G,ee]}findErrorLocations(l){let f=l.getDegree(),p=new Int32Array(f),v=0;for(let x=1;x<this.field.getSize()&&v<f;x++)l.evaluateAt(x)===0&&(p[v]=this.field.inverse(x),v++);if(v!==f)throw g.getChecksumInstance();return p}findErrorMagnitudes(l,f,p){let v=f.getDegree(),x=new Int32Array(v);for(let L=1;L<=v;L++)x[v-L]=this.field.multiply(L,f.getCoefficient(L));let b=new Hn(this.field,x),N=p.length,j=new Int32Array(N);for(let L=0;L<N;L++){let G=this.field.inverse(p[L]),ee=this.field.subtract(0,l.evaluateAt(G)),se=this.field.inverse(b.evaluateAt(G));j[L]=this.field.multiply(ee,se)}return j}}class lo{constructor(l,f,p,v,x){l instanceof lo?this.constructor_2(l):this.constructor_1(l,f,p,v,x)}constructor_1(l,f,p,v,x){const b=f==null||p==null,N=v==null||x==null;if(b&&N)throw new V;b?(f=new qe(0,v.getY()),p=new qe(0,x.getY())):N&&(v=new qe(l.getWidth()-1,f.getY()),x=new qe(l.getWidth()-1,p.getY())),this.image=l,this.topLeft=f,this.bottomLeft=p,this.topRight=v,this.bottomRight=x,this.minX=Math.trunc(Math.min(f.getX(),p.getX())),this.maxX=Math.trunc(Math.max(v.getX(),x.getX())),this.minY=Math.trunc(Math.min(f.getY(),v.getY())),this.maxY=Math.trunc(Math.max(p.getY(),x.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,f){return l==null?f:f==null?l:new lo(l.image,l.topLeft,l.bottomLeft,f.topRight,f.bottomRight)}addMissingRows(l,f,p){let v=this.topLeft,x=this.bottomLeft,b=this.topRight,N=this.bottomRight;if(l>0){let j=p?this.topLeft:this.topRight,L=Math.trunc(j.getY()-l);L<0&&(L=0);let G=new qe(j.getX(),L);p?v=G:b=G}if(f>0){let j=p?this.bottomLeft:this.bottomRight,L=Math.trunc(j.getY()+f);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let G=new qe(j.getX(),L);p?x=G:N=G}return new lo(this.image,v,x,b,N)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class iu{constructor(l,f,p,v){this.columnCount=l,this.errorCorrectionLevel=v,this.rowCountUpperPart=f,this.rowCountLowerPart=p,this.rowCount=f+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yo{constructor(){this.buffer=""}static form(l,f){let p=-1;function v(b,N,j,L,G,ee){if(b==="%%")return"%";if(f[++p]===void 0)return;b=L?parseInt(L.substr(1)):void 0;let se=G?parseInt(G.substr(1)):void 0,xe;switch(ee){case"s":xe=f[p];break;case"c":xe=f[p][0];break;case"f":xe=parseFloat(f[p]).toFixed(b);break;case"p":xe=parseFloat(f[p]).toPrecision(b);break;case"e":xe=parseFloat(f[p]).toExponential(b);break;case"x":xe=parseInt(f[p]).toString(se||16);break;case"d":xe=parseFloat(parseInt(f[p],se||10).toPrecision(b)).toFixed(0);break}xe=typeof xe=="object"?JSON.stringify(xe):(+xe).toString(se);let Oe=parseInt(j),ke=j&&j[0]+""=="0"?"0":" ";for(;xe.length<Oe;)xe=N!==void 0?xe+ke:ke+xe;return xe}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,v)}format(l,...f){this.buffer+=Yo.form(l,f)}toString(){return this.buffer}}class Xo{constructor(l){this.boundingBox=new lo(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let f=this.getCodeword(l);if(f!=null)return f;for(let p=1;p<Xo.MAX_NEARBY_DISTANCE;p++){let v=this.imageRowToCodewordIndex(l)-p;if(v>=0&&(f=this.codewords[v],f!=null)||(v=this.imageRowToCodewordIndex(l)+p,v<this.codewords.length&&(f=this.codewords[v],f!=null)))return f}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,f){this.codewords[this.imageRowToCodewordIndex(l)]=f}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Yo;let f=0;for(const p of this.codewords){if(p==null){l.format("%3d:    |   %n",f++);continue}l.format("%3d: %3d|%3d%n",f++,p.getRowNumber(),p.getValue())}return l.toString()}}Xo.MAX_NEARBY_DISTANCE=5;class au{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let f=this.values.get(l);f==null&&(f=0),f++,this.values.set(l,f)}getValue(){let l=-1,f=new Array;for(const[p,v]of this.values.entries()){const x={getKey:()=>p,getValue:()=>v};x.getValue()>l?(l=x.getValue(),f=[],f.push(x.getKey())):x.getValue()===l&&f.push(x.getKey())}return mr.toIntArray(f)}getConfidence(l){return this.values.get(l)}}class hd extends Xo{constructor(l,f){super(l),this._isLeft=f}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let f=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(f,l);let p=this.getBoundingBox(),v=this._isLeft?p.getTopLeft():p.getTopRight(),x=this._isLeft?p.getBottomLeft():p.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=this.imageRowToCodewordIndex(Math.trunc(x.getY())),j=-1,L=1,G=0;for(let ee=b;ee<N;ee++){if(f[ee]==null)continue;let se=f[ee],xe=se.getRowNumber()-j;if(xe===0)G++;else if(xe===1)L=Math.max(L,G),G=1,j=se.getRowNumber();else if(xe<0||se.getRowNumber()>=l.getRowCount()||xe>ee)f[ee]=null;else{let Oe;L>2?Oe=(L-2)*xe:Oe=xe;let ke=Oe>=ee;for(let Le=1;Le<=Oe&&!ke;Le++)ke=f[ee-Le]!=null;ke?f[ee]=null:(j=se.getRowNumber(),G=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let f=new Int32Array(l.getRowCount());for(let p of this.getCodewords())if(p!=null){let v=p.getRowNumber();if(v>=f.length)continue;f[v]++}return f}adjustIncompleteIndicatorColumnRowNumbers(l){let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),v=this._isLeft?f.getBottomLeft():f.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(p.getY())),b=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=this.getCodewords(),j=-1;for(let L=x;L<b;L++){if(N[L]==null)continue;let G=N[L];G.setRowNumberAsRowIndicatorColumn();let ee=G.getRowNumber()-j;ee===0||(ee===1?j=G.getRowNumber():G.getRowNumber()>=l.getRowCount()?N[L]=null:j=G.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),f=new au,p=new au,v=new au,x=new au;for(let N of l){if(N==null)continue;N.setRowNumberAsRowIndicatorColumn();let j=N.getValue()%30,L=N.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:p.setValue(j*3+1);break;case 1:x.setValue(j/3),v.setValue(j%3);break;case 2:f.setValue(j+1);break}}if(f.getValue().length===0||p.getValue().length===0||v.getValue().length===0||x.getValue().length===0||f.getValue()[0]<1||p.getValue()[0]+v.getValue()[0]<mr.MIN_ROWS_IN_BARCODE||p.getValue()[0]+v.getValue()[0]>mr.MAX_ROWS_IN_BARCODE)return null;let b=new iu(f.getValue()[0],p.getValue()[0],v.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(l,b),b}removeIncorrectCodewords(l,f){for(let p=0;p<l.length;p++){let v=l[p];if(l[p]==null)continue;let x=v.getValue()%30,b=v.getRowNumber();if(b>f.getRowCount()){l[p]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:x*3+1!==f.getRowCountUpperPart()&&(l[p]=null);break;case 1:(Math.trunc(x/3)!==f.getErrorCorrectionLevel()||x%3!==f.getRowCountLowerPart())&&(l[p]=null);break;case 2:x+1!==f.getColumnCount()&&(l[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Nl{constructor(l,f){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=f,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=mr.MAX_CODEWORDS_IN_BARCODE,f;do f=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<f);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let f=1;f<this.barcodeColumnCount+1;f++){let p=this.detectionResultColumns[f].getCodewords();for(let v=0;v<p.length;v++)p[v]!=null&&(p[v].hasValidRowNumber()||this.adjustRowNumbers(f,v,p))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<l.length;p++)if(l[p]!=null&&f[p]!=null&&l[p].getRowNumber()===f[p].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let x=this.detectionResultColumns[v].getCodewords()[p];x!=null&&(x.setRowNumber(l[p].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<f.length;p++){if(f[p]==null)continue;let v=f[p].getRowNumber(),x=0;for(let b=this.barcodeColumnCount+1;b>0&&x<this.ADJUST_ROW_NUMBER_SKIP;b--){let N=this.detectionResultColumns[b].getCodewords()[p];N!=null&&(x=Nl.adjustRowNumberIfValid(v,x,N),N.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,f=this.detectionResultColumns[0].getCodewords();for(let p=0;p<f.length;p++){if(f[p]==null)continue;let v=f[p].getRowNumber(),x=0;for(let b=1;b<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;b++){let N=this.detectionResultColumns[b].getCodewords()[p];N!=null&&(x=Nl.adjustRowNumberIfValid(v,x,N),N.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,f,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(l)?(p.setRowNumber(l),f=0):++f),f}adjustRowNumbers(l,f,p){if(!this.detectionResultColumns[l-1])return;let v=p[f],x=this.detectionResultColumns[l-1].getCodewords(),b=x;this.detectionResultColumns[l+1]!=null&&(b=this.detectionResultColumns[l+1].getCodewords());let N=new Array(14);N[2]=x[f],N[3]=b[f],f>0&&(N[0]=p[f-1],N[4]=x[f-1],N[5]=b[f-1]),f>1&&(N[8]=p[f-2],N[10]=x[f-2],N[11]=b[f-2]),f<p.length-1&&(N[1]=p[f+1],N[6]=x[f+1],N[7]=b[f+1]),f<p.length-2&&(N[9]=p[f+2],N[12]=x[f+2],N[13]=b[f+2]);for(let j of N)if(Nl.adjustRowNumber(v,j))return}static adjustRowNumber(l,f){return f==null?!1:f.hasValidRowNumber()&&f.getBucket()===l.getBucket()?(l.setRowNumber(f.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,f){this.detectionResultColumns[l]=f}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let f=new Yo;for(let p=0;p<l.getCodewords().length;p++){f.format("CW %3d:",p);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){f.format("    |   ");continue}let x=this.detectionResultColumns[v].getCodewords()[p];if(x==null){f.format("    |   ");continue}f.format(" %3d|%3d",x.getRowNumber(),x.getValue())}f.format("%n")}return f.toString()}}class co{constructor(l,f,p,v){this.rowNumber=co.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(f),this.bucket=Math.trunc(p),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==co.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}co.BARCODE_ROW_UNKNOWN=-1;class Ni{static initialize(){for(let l=0;l<mr.SYMBOL_TABLE.length;l++){let f=mr.SYMBOL_TABLE[l],p=f&1;for(let v=0;v<mr.BARS_IN_MODULE;v++){let x=0;for(;(f&1)===p;)x+=1,f>>=1;p=f&1,Ni.RATIOS_TABLE[l]||(Ni.RATIOS_TABLE[l]=new Array(mr.BARS_IN_MODULE)),Ni.RATIOS_TABLE[l][mr.BARS_IN_MODULE-v-1]=Math.fround(x/mr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let f=Ni.getDecodedCodewordValue(Ni.sampleBitCounts(l));return f!==-1?f:Ni.getClosestDecodedValue(l)}static sampleBitCounts(l){let f=Be.sum(l),p=new Int32Array(mr.BARS_IN_MODULE),v=0,x=0;for(let b=0;b<mr.MODULES_IN_CODEWORD;b++){let N=f/(2*mr.MODULES_IN_CODEWORD)+b*f/mr.MODULES_IN_CODEWORD;x+l[v]<=N&&(x+=l[v],v++),p[v]++}return p}static getDecodedCodewordValue(l){let f=Ni.getBitValue(l);return mr.getCodeword(f)===-1?-1:f}static getBitValue(l){let f=0;for(let p=0;p<l.length;p++)for(let v=0;v<l[p];v++)f=f<<1|(p%2===0?1:0);return Math.trunc(f)}static getClosestDecodedValue(l){let f=Be.sum(l),p=new Array(mr.BARS_IN_MODULE);if(f>1)for(let b=0;b<p.length;b++)p[b]=Math.fround(l[b]/f);let v=_t.MAX_VALUE,x=-1;this.bSymbolTableReady||Ni.initialize();for(let b=0;b<Ni.RATIOS_TABLE.length;b++){let N=0,j=Ni.RATIOS_TABLE[b];for(let L=0;L<mr.BARS_IN_MODULE;L++){let G=Math.fround(j[L]-p[L]);if(N+=Math.fround(G*G),N>=v)break}N<v&&(v=N,x=mr.SYMBOL_TABLE[b])}return x}}Ni.bSymbolTableReady=!1,Ni.RATIOS_TABLE=new Array(mr.SYMBOL_TABLE.length).map(J=>new Array(mr.BARS_IN_MODULE));class pd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class su{static parseLong(l,f=void 0){return parseInt(l,f)}}class md extends u{}md.kind="NullPointerException";class ou{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,f,p){if(l==null)throw new md;if(f<0||f>l.length||p<0||f+p>l.length||f+p<0)throw new w;if(p===0)return;for(let v=0;v<p;v++)this.write(l[f+v])}flush(){}close(){}}class Np extends u{}class Op extends ou{constructor(l=32){if(super(),this.count=0,l<0)throw new m("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let p=this.buf.length<<1;if(p-l<0&&(p=l),p<0){if(l<0)throw new Np;p=O.MAX_VALUE}this.buf=E.copyOfUint8Array(this.buf,p)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,f,p){if(f<0||f>l.length||p<0||f+p-l.length>0)throw new w;this.ensureCapacity(this.count+p),_.arraycopy(l,f,this.buf,this.count,p),this.count+=p}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return E.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Kr;(function(J){J[J.ALPHA=0]="ALPHA",J[J.LOWER=1]="LOWER",J[J.MIXED=2]="MIXED",J[J.PUNCT=3]="PUNCT",J[J.ALPHA_SHIFT=4]="ALPHA_SHIFT",J[J.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Kr||(Kr={}));function Zo(){if(typeof window<"u")return window.BigInt||null;if(typeof Ac<"u")return Ac.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let lu;function uo(J){if(typeof lu>"u"&&(lu=Zo()),lu===null)throw new Error("BigInt is not supported!");return lu(J)}function cu(){let J=[];J[0]=uo(1);let l=uo(900);J[1]=l;for(let f=2;f<16;f++)J[f]=J[f-1]*l;return J}class Ve{static decode(l,f){let p=new X(""),v=P.ISO8859_1;p.enableDecoding(v);let x=1,b=l[x++],N=new pd;for(;x<l[0];){switch(b){case Ve.TEXT_COMPACTION_MODE_LATCH:x=Ve.textCompaction(l,x,p);break;case Ve.BYTE_COMPACTION_MODE_LATCH:case Ve.BYTE_COMPACTION_MODE_LATCH_6:x=Ve.byteCompaction(b,l,v,x,p);break;case Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[x++]);break;case Ve.NUMERIC_COMPACTION_MODE_LATCH:x=Ve.numericCompaction(l,x,p);break;case Ve.ECI_CHARSET:P.getCharacterSetECIByValue(l[x++]);break;case Ve.ECI_GENERAL_PURPOSE:x+=2;break;case Ve.ECI_USER_DEFINED:x++;break;case Ve.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Ve.decodeMacroBlock(l,x,N);break;case Ve.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ve.MACRO_PDF417_TERMINATOR:throw new B;default:x--,x=Ve.textCompaction(l,x,p);break}if(x<l.length)b=l[x++];else throw B.getFormatInstance()}if(p.length()===0)throw B.getFormatInstance();let j=new ye(null,p.toString(),null,f);return j.setOther(N),j}static decodeMacroBlock(l,f,p){if(f+Ve.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw B.getFormatInstance();let v=new Int32Array(Ve.NUMBER_OF_SEQUENCE_CODEWORDS);for(let N=0;N<Ve.NUMBER_OF_SEQUENCE_CODEWORDS;N++,f++)v[N]=l[f];p.setSegmentIndex(O.parseInt(Ve.decodeBase900toBase10(v,Ve.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new X;f=Ve.textCompaction(l,f,x),p.setFileId(x.toString());let b=-1;for(l[f]===Ve.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=f+1);f<l[0];)switch(l[f]){case Ve.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(f++,l[f]){case Ve.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let N=new X;f=Ve.textCompaction(l,f+1,N),p.setFileName(N.toString());break;case Ve.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let j=new X;f=Ve.textCompaction(l,f+1,j),p.setSender(j.toString());break;case Ve.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new X;f=Ve.textCompaction(l,f+1,L),p.setAddressee(L.toString());break;case Ve.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let G=new X;f=Ve.numericCompaction(l,f+1,G),p.setSegmentCount(O.parseInt(G.toString()));break;case Ve.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ee=new X;f=Ve.numericCompaction(l,f+1,ee),p.setTimestamp(su.parseLong(ee.toString()));break;case Ve.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let se=new X;f=Ve.numericCompaction(l,f+1,se),p.setChecksum(O.parseInt(se.toString()));break;case Ve.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let xe=new X;f=Ve.numericCompaction(l,f+1,xe),p.setFileSize(su.parseLong(xe.toString()));break;default:throw B.getFormatInstance()}break;case Ve.MACRO_PDF417_TERMINATOR:f++,p.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(b!==-1){let N=f-b;p.isLastSegment()&&N--,p.setOptionalData(E.copyOfRange(l,b,b+N))}return f}static textCompaction(l,f,p){let v=new Int32Array((l[0]-f)*2),x=new Int32Array((l[0]-f)*2),b=0,N=!1;for(;f<l[0]&&!N;){let j=l[f++];if(j<Ve.TEXT_COMPACTION_MODE_LATCH)v[b]=j/30,v[b+1]=j%30,b+=2;else switch(j){case Ve.TEXT_COMPACTION_MODE_LATCH:v[b++]=Ve.TEXT_COMPACTION_MODE_LATCH;break;case Ve.BYTE_COMPACTION_MODE_LATCH:case Ve.BYTE_COMPACTION_MODE_LATCH_6:case Ve.NUMERIC_COMPACTION_MODE_LATCH:case Ve.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ve.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ve.MACRO_PDF417_TERMINATOR:f--,N=!0;break;case Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[b]=Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,j=l[f++],x[b]=j,b++;break}}return Ve.decodeTextCompaction(v,x,b,p),f}static decodeTextCompaction(l,f,p,v){let x=Kr.ALPHA,b=Kr.ALPHA,N=0;for(;N<p;){let j=l[N],L="";switch(x){case Kr.ALPHA:if(j<26)L=String.fromCharCode(65+j);else switch(j){case 26:L=" ";break;case Ve.LL:x=Kr.LOWER;break;case Ve.ML:x=Kr.MIXED;break;case Ve.PS:b=x,x=Kr.PUNCT_SHIFT;break;case Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(f[N]);break;case Ve.TEXT_COMPACTION_MODE_LATCH:x=Kr.ALPHA;break}break;case Kr.LOWER:if(j<26)L=String.fromCharCode(97+j);else switch(j){case 26:L=" ";break;case Ve.AS:b=x,x=Kr.ALPHA_SHIFT;break;case Ve.ML:x=Kr.MIXED;break;case Ve.PS:b=x,x=Kr.PUNCT_SHIFT;break;case Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(f[N]);break;case Ve.TEXT_COMPACTION_MODE_LATCH:x=Kr.ALPHA;break}break;case Kr.MIXED:if(j<Ve.PL)L=Ve.MIXED_CHARS[j];else switch(j){case Ve.PL:x=Kr.PUNCT;break;case 26:L=" ";break;case Ve.LL:x=Kr.LOWER;break;case Ve.AL:x=Kr.ALPHA;break;case Ve.PS:b=x,x=Kr.PUNCT_SHIFT;break;case Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(f[N]);break;case Ve.TEXT_COMPACTION_MODE_LATCH:x=Kr.ALPHA;break}break;case Kr.PUNCT:if(j<Ve.PAL)L=Ve.PUNCT_CHARS[j];else switch(j){case Ve.PAL:x=Kr.ALPHA;break;case Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(f[N]);break;case Ve.TEXT_COMPACTION_MODE_LATCH:x=Kr.ALPHA;break}break;case Kr.ALPHA_SHIFT:if(x=b,j<26)L=String.fromCharCode(65+j);else switch(j){case 26:L=" ";break;case Ve.TEXT_COMPACTION_MODE_LATCH:x=Kr.ALPHA;break}break;case Kr.PUNCT_SHIFT:if(x=b,j<Ve.PAL)L=Ve.PUNCT_CHARS[j];else switch(j){case Ve.PAL:x=Kr.ALPHA;break;case Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(f[N]);break;case Ve.TEXT_COMPACTION_MODE_LATCH:x=Kr.ALPHA;break}break}L!==""&&v.append(L),N++}}static byteCompaction(l,f,p,v,x){let b=new Op,N=0,j=0,L=!1;switch(l){case Ve.BYTE_COMPACTION_MODE_LATCH:let G=new Int32Array(6),ee=f[v++];for(;v<f[0]&&!L;)switch(G[N++]=ee,j=900*j+ee,ee=f[v++],ee){case Ve.TEXT_COMPACTION_MODE_LATCH:case Ve.BYTE_COMPACTION_MODE_LATCH:case Ve.NUMERIC_COMPACTION_MODE_LATCH:case Ve.BYTE_COMPACTION_MODE_LATCH_6:case Ve.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ve.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ve.MACRO_PDF417_TERMINATOR:v--,L=!0;break;default:if(N%5===0&&N>0){for(let se=0;se<6;++se)b.write(Number(uo(j)>>uo(8*(5-se))));j=0,N=0}break}v===f[0]&&ee<Ve.TEXT_COMPACTION_MODE_LATCH&&(G[N++]=ee);for(let se=0;se<N;se++)b.write(G[se]);break;case Ve.BYTE_COMPACTION_MODE_LATCH_6:for(;v<f[0]&&!L;){let se=f[v++];if(se<Ve.TEXT_COMPACTION_MODE_LATCH)N++,j=900*j+se;else switch(se){case Ve.TEXT_COMPACTION_MODE_LATCH:case Ve.BYTE_COMPACTION_MODE_LATCH:case Ve.NUMERIC_COMPACTION_MODE_LATCH:case Ve.BYTE_COMPACTION_MODE_LATCH_6:case Ve.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ve.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ve.MACRO_PDF417_TERMINATOR:v--,L=!0;break}if(N%5===0&&N>0){for(let xe=0;xe<6;++xe)b.write(Number(uo(j)>>uo(8*(5-xe))));j=0,N=0}}break}return x.append($.decode(b.toByteArray(),p)),v}static numericCompaction(l,f,p){let v=0,x=!1,b=new Int32Array(Ve.MAX_NUMERIC_CODEWORDS);for(;f<l[0]&&!x;){let N=l[f++];if(f===l[0]&&(x=!0),N<Ve.TEXT_COMPACTION_MODE_LATCH)b[v]=N,v++;else switch(N){case Ve.TEXT_COMPACTION_MODE_LATCH:case Ve.BYTE_COMPACTION_MODE_LATCH:case Ve.BYTE_COMPACTION_MODE_LATCH_6:case Ve.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ve.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ve.MACRO_PDF417_TERMINATOR:f--,x=!0;break}(v%Ve.MAX_NUMERIC_CODEWORDS===0||N===Ve.NUMERIC_COMPACTION_MODE_LATCH||x)&&v>0&&(p.append(Ve.decodeBase900toBase10(b,v)),v=0)}return f}static decodeBase900toBase10(l,f){let p=uo(0);for(let x=0;x<f;x++)p+=Ve.EXP900[f-x-1]*uo(l[x]);let v=p.toString();if(v.charAt(0)!=="1")throw new B;return v.substring(1)}}Ve.TEXT_COMPACTION_MODE_LATCH=900,Ve.BYTE_COMPACTION_MODE_LATCH=901,Ve.NUMERIC_COMPACTION_MODE_LATCH=902,Ve.BYTE_COMPACTION_MODE_LATCH_6=924,Ve.ECI_USER_DEFINED=925,Ve.ECI_GENERAL_PURPOSE=926,Ve.ECI_CHARSET=927,Ve.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ve.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ve.MACRO_PDF417_TERMINATOR=922,Ve.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ve.MAX_NUMERIC_CODEWORDS=15,Ve.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ve.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ve.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ve.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ve.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ve.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ve.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ve.PL=25,Ve.LL=27,Ve.AS=27,Ve.ML=28,Ve.AL=28,Ve.PS=29,Ve.PAL=29,Ve.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ve.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ve.EXP900=Zo()?cu():[],Ve.NUMBER_OF_SEQUENCE_CODEWORDS=2;class R{constructor(){}static decode(l,f,p,v,x,b,N){let j=new lo(l,f,p,v,x),L=null,G=null,ee;for(let Oe=!0;;Oe=!1){if(f!=null&&(L=R.getRowIndicatorColumn(l,j,f,!0,b,N)),v!=null&&(G=R.getRowIndicatorColumn(l,j,v,!1,b,N)),ee=R.merge(L,G),ee==null)throw V.getNotFoundInstance();let ke=ee.getBoundingBox();if(Oe&&ke!=null&&(ke.getMinY()<j.getMinY()||ke.getMaxY()>j.getMaxY()))j=ke;else break}ee.setBoundingBox(j);let se=ee.getBarcodeColumnCount()+1;ee.setDetectionResultColumn(0,L),ee.setDetectionResultColumn(se,G);let xe=L!=null;for(let Oe=1;Oe<=se;Oe++){let ke=xe?Oe:se-Oe;if(ee.getDetectionResultColumn(ke)!==void 0)continue;let Le;ke===0||ke===se?Le=new hd(j,ke===0):Le=new Xo(j),ee.setDetectionResultColumn(ke,Le);let We=-1,et=We;for(let at=j.getMinY();at<=j.getMaxY();at++){if(We=R.getStartColumn(ee,ke,at,xe),We<0||We>j.getMaxX()){if(et===-1)continue;We=et}let tt=R.detectCodeword(l,j.getMinX(),j.getMaxX(),xe,We,at,b,N);tt!=null&&(Le.setCodeword(at,tt),et=We,b=Math.min(b,tt.getWidth()),N=Math.max(N,tt.getWidth()))}}return R.createDecoderResult(ee)}static merge(l,f){if(l==null&&f==null)return null;let p=R.getBarcodeMetadata(l,f);if(p==null)return null;let v=lo.merge(R.adjustBoundingBox(l),R.adjustBoundingBox(f));return new Nl(p,v)}static adjustBoundingBox(l){if(l==null)return null;let f=l.getRowHeights();if(f==null)return null;let p=R.getMax(f),v=0;for(let N of f)if(v+=p-N,N>0)break;let x=l.getCodewords();for(let N=0;v>0&&x[N]==null;N++)v--;let b=0;for(let N=f.length-1;N>=0&&(b+=p-f[N],!(f[N]>0));N--);for(let N=x.length-1;b>0&&x[N]==null;N--)b--;return l.getBoundingBox().addMissingRows(v,b,l.isLeft())}static getMax(l){let f=-1;for(let p of l)f=Math.max(f,p);return f}static getBarcodeMetadata(l,f){let p;if(l==null||(p=l.getBarcodeMetadata())==null)return f==null?null:f.getBarcodeMetadata();let v;return f==null||(v=f.getBarcodeMetadata())==null?p:p.getColumnCount()!==v.getColumnCount()&&p.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&p.getRowCount()!==v.getRowCount()?null:p}static getRowIndicatorColumn(l,f,p,v,x,b){let N=new hd(f,v);for(let j=0;j<2;j++){let L=j===0?1:-1,G=Math.trunc(Math.trunc(p.getX()));for(let ee=Math.trunc(Math.trunc(p.getY()));ee<=f.getMaxY()&&ee>=f.getMinY();ee+=L){let se=R.detectCodeword(l,0,l.getWidth(),v,G,ee,x,b);se!=null&&(N.setCodeword(ee,se),v?G=se.getStartX():G=se.getEndX())}}return N}static adjustCodewordCount(l,f){let p=f[0][1],v=p.getValue(),x=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-R.getNumberOfECCodeWords(l.getBarcodeECLevel());if(v.length===0){if(x<1||x>mr.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();p.setValue(x)}else v[0]!==x&&p.setValue(x)}static createDecoderResult(l){let f=R.createBarcodeMatrix(l);R.adjustCodewordCount(l,f);let p=new Array,v=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),x=[],b=new Array;for(let j=0;j<l.getBarcodeRowCount();j++)for(let L=0;L<l.getBarcodeColumnCount();L++){let G=f[j][L+1].getValue(),ee=j*l.getBarcodeColumnCount()+L;G.length===0?p.push(ee):G.length===1?v[ee]=G[0]:(b.push(ee),x.push(G))}let N=new Array(x.length);for(let j=0;j<N.length;j++)N[j]=x[j];return R.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),v,mr.toIntArray(p),mr.toIntArray(b),N)}static createDecoderResultFromAmbiguousValues(l,f,p,v,x){let b=new Int32Array(v.length),N=100;for(;N-- >0;){for(let j=0;j<b.length;j++)f[v[j]]=x[j][b[j]];try{return R.decodeCodewords(f,l,p)}catch(j){if(!(j instanceof g))throw j}if(b.length===0)throw g.getChecksumInstance();for(let j=0;j<b.length;j++)if(b[j]<x[j].length-1){b[j]++;break}else if(b[j]=0,j===b.length-1)throw g.getChecksumInstance()}throw g.getChecksumInstance()}static createBarcodeMatrix(l){let f=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let v=0;v<f.length;v++)for(let x=0;x<f[v].length;x++)f[v][x]=new au;let p=0;for(let v of l.getDetectionResultColumns()){if(v!=null){for(let x of v.getCodewords())if(x!=null){let b=x.getRowNumber();if(b>=0){if(b>=f.length)continue;f[b][p].setValue(x.getValue())}}}p++}return f}static isValidBarcodeColumn(l,f){return f>=0&&f<=l.getBarcodeColumnCount()+1}static getStartColumn(l,f,p,v){let x=v?1:-1,b=null;if(R.isValidBarcodeColumn(l,f-x)&&(b=l.getDetectionResultColumn(f-x).getCodeword(p)),b!=null)return v?b.getEndX():b.getStartX();if(b=l.getDetectionResultColumn(f).getCodewordNearby(p),b!=null)return v?b.getStartX():b.getEndX();if(R.isValidBarcodeColumn(l,f-x)&&(b=l.getDetectionResultColumn(f-x).getCodewordNearby(p)),b!=null)return v?b.getEndX():b.getStartX();let N=0;for(;R.isValidBarcodeColumn(l,f-x);){f-=x;for(let j of l.getDetectionResultColumn(f).getCodewords())if(j!=null)return(v?j.getEndX():j.getStartX())+x*N*(j.getEndX()-j.getStartX());N++}return v?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,f,p,v,x,b,N,j){x=R.adjustCodewordStartColumn(l,f,p,v,x,b);let L=R.getModuleBitCount(l,f,p,v,x,b);if(L==null)return null;let G,ee=Be.sum(L);if(v)G=x+ee;else{for(let Oe=0;Oe<L.length/2;Oe++){let ke=L[Oe];L[Oe]=L[L.length-1-Oe],L[L.length-1-Oe]=ke}G=x,x=G-ee}if(!R.checkCodewordSkew(ee,N,j))return null;let se=Ni.getDecodedValue(L),xe=mr.getCodeword(se);return xe===-1?null:new co(x,G,R.getCodewordBucketNumber(se),xe)}static getModuleBitCount(l,f,p,v,x,b){let N=x,j=new Int32Array(8),L=0,G=v?1:-1,ee=v;for(;(v?N<p:N>=f)&&L<j.length;)l.get(N,b)===ee?(j[L]++,N+=G):(L++,ee=!ee);return L===j.length||N===(v?p:f)&&L===j.length-1?j:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,f,p,v,x,b){let N=x,j=v?-1:1;for(let L=0;L<2;L++){for(;(v?N>=f:N<p)&&v===l.get(N,b);){if(Math.abs(x-N)>R.CODEWORD_SKEW_SIZE)return x;N+=j}j=-j,v=!v}return N}static checkCodewordSkew(l,f,p){return f-R.CODEWORD_SKEW_SIZE<=l&&l<=p+R.CODEWORD_SKEW_SIZE}static decodeCodewords(l,f,p){if(l.length===0)throw B.getFormatInstance();let v=1<<f+1,x=R.correctErrors(l,p,v);R.verifyCodewordCount(l,v);let b=Ve.decode(l,""+f);return b.setErrorsCorrected(x),b.setErasures(p.length),b}static correctErrors(l,f,p){if(f!=null&&f.length>p/2+R.MAX_ERRORS||p<0||p>R.MAX_EC_CODEWORDS)throw g.getChecksumInstance();return R.errorCorrection.decode(l,p,f)}static verifyCodewordCount(l,f){if(l.length<4)throw B.getFormatInstance();let p=l[0];if(p>l.length)throw B.getFormatInstance();if(p===0)if(f<l.length)l[0]=l.length-f;else throw B.getFormatInstance()}static getBitCountForCodeword(l){let f=new Int32Array(8),p=0,v=f.length-1;for(;!((l&1)!==p&&(p=l&1,v--,v<0));)f[v]++,l>>=1;return f}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return R.getCodewordBucketNumber(R.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let f=new Yo;for(let p=0;p<l.length;p++){f.format("Row %2d: ",p);for(let v=0;v<l[p].length;v++){let x=l[p][v];x.getValue().length===0?f.format("        ",null):f.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}f.format("%n")}return f.toString()}}R.CODEWORD_SKEW_SIZE=2,R.MAX_ERRORS=3,R.MAX_EC_CODEWORDS=512,R.errorCorrection=new nu;class re{decode(l,f=null){let p=re.decode(l,f,!1);if(p==null||p.length===0||p[0]==null)throw V.getNotFoundInstance();return p[0]}decodeMultiple(l,f=null){try{return re.decode(l,f,!0)}catch(p){throw p instanceof B||p instanceof g?V.getNotFoundInstance():p}}static decode(l,f,p){const v=new Array,x=Sr.detectMultiple(l,f,p);for(const b of x.getPoints()){const N=R.decode(x.getBits(),b[4],b[5],b[6],b[7],re.getMinCodewordWidth(b),re.getMaxCodewordWidth(b)),j=new ae(N.getText(),N.getRawBytes(),void 0,b,he.PDF_417);j.putMetadata(Ae.ERROR_CORRECTION_LEVEL,N.getECLevel());const L=N.getOther();L!=null&&j.putMetadata(Ae.PDF417_EXTRA_METADATA,L),v.push(j)}return v.map(b=>b)}static getMaxWidth(l,f){return l==null||f==null?0:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMinWidth(l,f){return l==null||f==null?O.MAX_VALUE:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(re.getMaxWidth(l[0],l[4]),re.getMaxWidth(l[6],l[2])*mr.MODULES_IN_CODEWORD/mr.MODULES_IN_STOP_PATTERN),Math.max(re.getMaxWidth(l[1],l[5]),re.getMaxWidth(l[7],l[3])*mr.MODULES_IN_CODEWORD/mr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(re.getMinWidth(l[0],l[4]),re.getMinWidth(l[6],l[2])*mr.MODULES_IN_CODEWORD/mr.MODULES_IN_STOP_PATTERN),Math.min(re.getMinWidth(l[1],l[5]),re.getMinWidth(l[7],l[3])*mr.MODULES_IN_CODEWORD/mr.MODULES_IN_STOP_PATTERN)))}reset(){}}class be extends u{}be.kind="ReaderException";class Te{constructor(l,f){this.verbose=l===!0,f&&this.setHints(f)}decode(l,f){return f&&this.setHints(f),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const f=!n(l)&&l.get(F.TRY_HARDER)===!0,p=n(l)?null:l.get(F.POSSIBLE_FORMATS),v=new Array;if(!n(p)){const x=p.some(b=>b===he.UPC_A||b===he.UPC_E||b===he.EAN_13||b===he.EAN_8||b===he.CODABAR||b===he.CODE_39||b===he.CODE_93||b===he.CODE_128||b===he.ITF||b===he.RSS_14||b===he.RSS_EXPANDED);x&&!f&&v.push(new Al(l,this.verbose)),p.includes(he.QR_CODE)&&v.push(new Ko),p.includes(he.DATA_MATRIX)&&v.push(new Zi),p.includes(he.AZTEC)&&v.push(new kt),p.includes(he.PDF_417)&&v.push(new re),x&&f&&v.push(new Al(l,this.verbose))}v.length===0&&(f||v.push(new Al(l,this.verbose)),v.push(new Ko),v.push(new Zi),v.push(new kt),v.push(new re),f&&v.push(new Al(l,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new be("No readers where selected, nothing can be read.");for(const f of this.readers)try{return f.decode(l,this.hints)}catch(p){if(p instanceof be)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class De extends Z{constructor(l=null,f=500){const p=new Te;p.setHints(l),super(p,f)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Qe extends Z{constructor(l=500){super(new re,l)}}class lt extends Z{constructor(l=500){super(new Ko,l)}}var Lt;(function(J){J[J.ERROR_CORRECTION=0]="ERROR_CORRECTION",J[J.CHARACTER_SET=1]="CHARACTER_SET",J[J.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",J[J.MIN_SIZE=3]="MIN_SIZE",J[J.MAX_SIZE=4]="MAX_SIZE",J[J.MARGIN=5]="MARGIN",J[J.PDF417_COMPACT=6]="PDF417_COMPACT",J[J.PDF417_COMPACTION=7]="PDF417_COMPACTION",J[J.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",J[J.AZTEC_LAYERS=9]="AZTEC_LAYERS",J[J.QR_VERSION=10]="QR_VERSION"})(Lt||(Lt={}));var xt=Lt;class Ar{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Ee(l,Int32Array.from([1])))}buildGenerator(l){const f=this.cachedGenerators;if(l>=f.length){let p=f[f.length-1];const v=this.field;for(let x=f.length;x<=l;x++){const b=p.multiply(new Ee(v,Int32Array.from([1,v.exp(x-1+v.getGeneratorBase())])));f.push(b),p=b}}return f[l]}encode(l,f){if(f===0)throw new m("No error correction bytes");const p=l.length-f;if(p<=0)throw new m("No data bytes provided");const v=this.buildGenerator(f),x=new Int32Array(p);_.arraycopy(l,0,x,0,p);let b=new Ee(this.field,x);b=b.multiplyByMonomial(f,1);const j=b.divide(v)[1].getCoefficients(),L=f-j.length;for(let G=0;G<L;G++)l[p+G]=0;_.arraycopy(j,0,l,p+L,j.length)}}class Ft{constructor(){}static applyMaskPenaltyRule1(l){return Ft.applyMaskPenaltyRule1Internal(l,!0)+Ft.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let f=0;const p=l.getArray(),v=l.getWidth(),x=l.getHeight();for(let b=0;b<x-1;b++){const N=p[b];for(let j=0;j<v-1;j++){const L=N[j];L===N[j+1]&&L===p[b+1][j]&&L===p[b+1][j+1]&&f++}}return Ft.N2*f}static applyMaskPenaltyRule3(l){let f=0;const p=l.getArray(),v=l.getWidth(),x=l.getHeight();for(let b=0;b<x;b++)for(let N=0;N<v;N++){const j=p[b];N+6<v&&j[N]===1&&j[N+1]===0&&j[N+2]===1&&j[N+3]===1&&j[N+4]===1&&j[N+5]===0&&j[N+6]===1&&(Ft.isWhiteHorizontal(j,N-4,N)||Ft.isWhiteHorizontal(j,N+7,N+11))&&f++,b+6<x&&p[b][N]===1&&p[b+1][N]===0&&p[b+2][N]===1&&p[b+3][N]===1&&p[b+4][N]===1&&p[b+5][N]===0&&p[b+6][N]===1&&(Ft.isWhiteVertical(p,N,b-4,b)||Ft.isWhiteVertical(p,N,b+7,b+11))&&f++}return f*Ft.N3}static isWhiteHorizontal(l,f,p){f=Math.max(f,0),p=Math.min(p,l.length);for(let v=f;v<p;v++)if(l[v]===1)return!1;return!0}static isWhiteVertical(l,f,p,v){p=Math.max(p,0),v=Math.min(v,l.length);for(let x=p;x<v;x++)if(l[x][f]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let f=0;const p=l.getArray(),v=l.getWidth(),x=l.getHeight();for(let j=0;j<x;j++){const L=p[j];for(let G=0;G<v;G++)L[G]===1&&f++}const b=l.getHeight()*l.getWidth();return Math.floor(Math.abs(f*2-b)*10/b)*Ft.N4}static getDataMaskBit(l,f,p){let v,x;switch(l){case 0:v=p+f&1;break;case 1:v=p&1;break;case 2:v=f%3;break;case 3:v=(p+f)%3;break;case 4:v=Math.floor(p/2)+Math.floor(f/3)&1;break;case 5:x=p*f,v=(x&1)+x%3;break;case 6:x=p*f,v=(x&1)+x%3&1;break;case 7:x=p*f,v=x%3+(p+f&1)&1;break;default:throw new m("Invalid mask pattern: "+l)}return v===0}static applyMaskPenaltyRule1Internal(l,f){let p=0;const v=f?l.getHeight():l.getWidth(),x=f?l.getWidth():l.getHeight(),b=l.getArray();for(let N=0;N<v;N++){let j=0,L=-1;for(let G=0;G<x;G++){const ee=f?b[N][G]:b[G][N];ee===L?j++:(j>=5&&(p+=Ft.N1+(j-5)),j=1,L=ee)}j>=5&&(p+=Ft.N1+(j-5))}return p}}Ft.N1=3,Ft.N2=3,Ft.N3=40,Ft.N4=10;class tn{constructor(l,f){this.width=l,this.height=f;const p=new Array(f);for(let v=0;v!==f;v++)p[v]=new Uint8Array(l);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(l,f){return this.bytes[f][l]}getArray(){return this.bytes}setNumber(l,f,p){this.bytes[f][l]=p}setBoolean(l,f,p){this.bytes[f][l]=p?1:0}clear(l){for(const f of this.bytes)E.fill(f,l)}equals(l){if(!(l instanceof tn))return!1;const f=l;if(this.width!==f.width||this.height!==f.height)return!1;for(let p=0,v=this.height;p<v;++p){const x=this.bytes[p],b=f.bytes[p];for(let N=0,j=this.width;N<j;++N)if(x[N]!==b[N])return!1}return!0}toString(){const l=new X;for(let f=0,p=this.height;f<p;++f){const v=this.bytes[f];for(let x=0,b=this.width;x<b;++x)switch(v[x]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class bn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new X;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<bn.NUM_MASK_PATTERNS}}bn.NUM_MASK_PATTERNS=8;class Or extends u{}Or.kind="WriterException";class St{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,f,p,v,x){St.clearMatrix(x),St.embedBasicPatterns(p,x),St.embedTypeInfo(f,v,x),St.maybeEmbedVersionInfo(p,x),St.embedDataBits(l,v,x)}static embedBasicPatterns(l,f){St.embedPositionDetectionPatternsAndSeparators(f),St.embedDarkDotAtLeftBottomCorner(f),St.maybeEmbedPositionAdjustmentPatterns(l,f),St.embedTimingPatterns(f)}static embedTypeInfo(l,f,p){const v=new I;St.makeTypeInfoBits(l,f,v);for(let x=0,b=v.getSize();x<b;++x){const N=v.get(v.getSize()-1-x),j=St.TYPE_INFO_COORDINATES[x],L=j[0],G=j[1];if(p.setBoolean(L,G,N),x<8){const ee=p.getWidth()-x-1;p.setBoolean(ee,8,N)}else{const se=p.getHeight()-7+(x-8);p.setBoolean(8,se,N)}}}static maybeEmbedVersionInfo(l,f){if(l.getVersionNumber()<7)return;const p=new I;St.makeVersionInfoBits(l,p);let v=6*3-1;for(let x=0;x<6;++x)for(let b=0;b<3;++b){const N=p.get(v);v--,f.setBoolean(x,f.getHeight()-11+b,N),f.setBoolean(f.getHeight()-11+b,x,N)}}static embedDataBits(l,f,p){let v=0,x=-1,b=p.getWidth()-1,N=p.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);N>=0&&N<p.getHeight();){for(let j=0;j<2;++j){const L=b-j;if(!St.isEmpty(p.get(L,N)))continue;let G;v<l.getSize()?(G=l.get(v),++v):G=!1,f!==255&&Ft.getDataMaskBit(f,L,N)&&(G=!G),p.setBoolean(L,N,G)}N+=x}x=-x,N+=x,b-=2}if(v!==l.getSize())throw new Or("Not all bits consumed: "+v+"/"+l.getSize())}static findMSBSet(l){return 32-O.numberOfLeadingZeros(l)}static calculateBCHCode(l,f){if(f===0)throw new m("0 polynomial");const p=St.findMSBSet(f);for(l<<=p-1;St.findMSBSet(l)>=p;)l^=f<<St.findMSBSet(l)-p;return l}static makeTypeInfoBits(l,f,p){if(!bn.isValidMaskPattern(f))throw new Or("Invalid mask pattern");const v=l.getBits()<<3|f;p.appendBits(v,5);const x=St.calculateBCHCode(v,St.TYPE_INFO_POLY);p.appendBits(x,10);const b=new I;if(b.appendBits(St.TYPE_INFO_MASK_PATTERN,15),p.xor(b),p.getSize()!==15)throw new Or("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(l,f){f.appendBits(l.getVersionNumber(),6);const p=St.calculateBCHCode(l.getVersionNumber(),St.VERSION_INFO_POLY);if(f.appendBits(p,12),f.getSize()!==18)throw new Or("should not happen but we got: "+f.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let f=8;f<l.getWidth()-8;++f){const p=(f+1)%2;St.isEmpty(l.get(f,6))&&l.setNumber(f,6,p),St.isEmpty(l.get(6,f))&&l.setNumber(6,f,p)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Or;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,f,p){for(let v=0;v<8;++v){if(!St.isEmpty(p.get(l+v,f)))throw new Or;p.setNumber(l+v,f,0)}}static embedVerticalSeparationPattern(l,f,p){for(let v=0;v<7;++v){if(!St.isEmpty(p.get(l,f+v)))throw new Or;p.setNumber(l,f+v,0)}}static embedPositionAdjustmentPattern(l,f,p){for(let v=0;v<5;++v){const x=St.POSITION_ADJUSTMENT_PATTERN[v];for(let b=0;b<5;++b)p.setNumber(l+b,f+v,x[b])}}static embedPositionDetectionPattern(l,f,p){for(let v=0;v<7;++v){const x=St.POSITION_DETECTION_PATTERN[v];for(let b=0;b<7;++b)p.setNumber(l+b,f+v,x[b])}}static embedPositionDetectionPatternsAndSeparators(l){const f=St.POSITION_DETECTION_PATTERN[0].length;St.embedPositionDetectionPattern(0,0,l),St.embedPositionDetectionPattern(l.getWidth()-f,0,l),St.embedPositionDetectionPattern(0,l.getWidth()-f,l);const p=8;St.embedHorizontalSeparationPattern(0,p-1,l),St.embedHorizontalSeparationPattern(l.getWidth()-p,p-1,l),St.embedHorizontalSeparationPattern(0,l.getWidth()-p,l);const v=7;St.embedVerticalSeparationPattern(v,0,l),St.embedVerticalSeparationPattern(l.getHeight()-v-1,0,l),St.embedVerticalSeparationPattern(v,l.getHeight()-v,l)}static maybeEmbedPositionAdjustmentPatterns(l,f){if(l.getVersionNumber()<2)return;const p=l.getVersionNumber()-1,v=St.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let x=0,b=v.length;x!==b;x++){const N=v[x];if(N>=0)for(let j=0;j!==b;j++){const L=v[j];L>=0&&St.isEmpty(f.get(L,N))&&St.embedPositionAdjustmentPattern(L-2,N-2,f)}}}}St.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),St.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),St.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),St.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),St.VERSION_INFO_POLY=7973,St.TYPE_INFO_POLY=1335,St.TYPE_INFO_MASK_PATTERN=21522;class Fi{constructor(l,f){this.dataBytes=l,this.errorCorrectionBytes=f}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ir{constructor(){}static calculateMaskPenalty(l){return Ft.applyMaskPenaltyRule1(l)+Ft.applyMaskPenaltyRule2(l)+Ft.applyMaskPenaltyRule3(l)+Ft.applyMaskPenaltyRule4(l)}static encode(l,f,p=null){let v=Ir.DEFAULT_BYTE_MODE_ENCODING;const x=p!==null&&p.get(xt.CHARACTER_SET)!==void 0;x&&(v=p.get(xt.CHARACTER_SET).toString());const b=this.chooseMode(l,v),N=new I;if(b===cr.BYTE&&(x||Ir.DEFAULT_BYTE_MODE_ENCODING!==v)){const at=P.getCharacterSetECIByName(v);at!==void 0&&this.appendECI(at,N)}this.appendModeInfo(b,N);const j=new I;this.appendBytes(l,b,j,v);let L;if(p!==null&&p.get(xt.QR_VERSION)!==void 0){const at=Number.parseInt(p.get(xt.QR_VERSION).toString(),10);L=Dt.getVersionForNumber(at);const tt=this.calculateBitsNeeded(b,N,j,L);if(!this.willFit(tt,L,f))throw new Or("Data too big for requested version")}else L=this.recommendVersion(f,b,N,j);const G=new I;G.appendBitArray(N);const ee=b===cr.BYTE?j.getSizeInBytes():l.length;this.appendLengthInfo(ee,L,b,G),G.appendBitArray(j);const se=L.getECBlocksForLevel(f),xe=L.getTotalCodewords()-se.getTotalECCodewords();this.terminateBits(xe,G);const Oe=this.interleaveWithECBytes(G,L.getTotalCodewords(),xe,se.getNumBlocks()),ke=new bn;ke.setECLevel(f),ke.setMode(b),ke.setVersion(L);const Le=L.getDimensionForVersion(),We=new tn(Le,Le),et=this.chooseMaskPattern(Oe,f,L,We);return ke.setMaskPattern(et),St.buildMatrix(Oe,f,L,et,We),ke.setMatrix(We),ke}static recommendVersion(l,f,p,v){const x=this.calculateBitsNeeded(f,p,v,Dt.getVersionForNumber(1)),b=this.chooseVersion(x,l),N=this.calculateBitsNeeded(f,p,v,b);return this.chooseVersion(N,l)}static calculateBitsNeeded(l,f,p,v){return f.getSize()+l.getCharacterCountBits(v)+p.getSize()}static getAlphanumericCode(l){return l<Ir.ALPHANUMERIC_TABLE.length?Ir.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,f=null){if(P.SJIS.getName()===f&&this.isOnlyDoubleByteKanji(l))return cr.KANJI;let p=!1,v=!1;for(let x=0,b=l.length;x<b;++x){const N=l.charAt(x);if(Ir.isDigit(N))p=!0;else if(this.getAlphanumericCode(N.charCodeAt(0))!==-1)v=!0;else return cr.BYTE}return v?cr.ALPHANUMERIC:p?cr.NUMERIC:cr.BYTE}static isOnlyDoubleByteKanji(l){let f;try{f=$.encode(l,P.SJIS)}catch{return!1}const p=f.length;if(p%2!==0)return!1;for(let v=0;v<p;v+=2){const x=f[v]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(l,f,p,v){let x=Number.MAX_SAFE_INTEGER,b=-1;for(let N=0;N<bn.NUM_MASK_PATTERNS;N++){St.buildMatrix(l,f,p,N,v);let j=this.calculateMaskPenalty(v);j<x&&(x=j,b=N)}return b}static chooseVersion(l,f){for(let p=1;p<=40;p++){const v=Dt.getVersionForNumber(p);if(Ir.willFit(l,v,f))return v}throw new Or("Data too big")}static willFit(l,f,p){const v=f.getTotalCodewords(),b=f.getECBlocksForLevel(p).getTotalECCodewords(),N=v-b,j=(l+7)/8;return N>=j}static terminateBits(l,f){const p=l*8;if(f.getSize()>p)throw new Or("data bits cannot fit in the QR Code"+f.getSize()+" > "+p);for(let b=0;b<4&&f.getSize()<p;++b)f.appendBit(!1);const v=f.getSize()&7;if(v>0)for(let b=v;b<8;b++)f.appendBit(!1);const x=l-f.getSizeInBytes();for(let b=0;b<x;++b)f.appendBits(b&1?17:236,8);if(f.getSize()!==p)throw new Or("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,f,p,v,x,b){if(v>=p)throw new Or("Block ID too large");const N=l%p,j=p-N,L=Math.floor(l/p),G=L+1,ee=Math.floor(f/p),se=ee+1,xe=L-ee,Oe=G-se;if(xe!==Oe)throw new Or("EC bytes mismatch");if(p!==j+N)throw new Or("RS blocks mismatch");if(l!==(ee+xe)*j+(se+Oe)*N)throw new Or("Total bytes mismatch");v<j?(x[0]=ee,b[0]=xe):(x[0]=se,b[0]=Oe)}static interleaveWithECBytes(l,f,p,v){if(l.getSizeInBytes()!==p)throw new Or("Number of bits and data bytes does not match");let x=0,b=0,N=0;const j=new Array;for(let G=0;G<v;++G){const ee=new Int32Array(1),se=new Int32Array(1);Ir.getNumDataBytesAndNumECBytesForBlockID(f,p,v,G,ee,se);const xe=ee[0],Oe=new Uint8Array(xe);l.toBytes(8*x,Oe,0,xe);const ke=Ir.generateECBytes(Oe,se[0]);j.push(new Fi(Oe,ke)),b=Math.max(b,xe),N=Math.max(N,ke.length),x+=ee[0]}if(p!==x)throw new Or("Data bytes does not match offset");const L=new I;for(let G=0;G<b;++G)for(const ee of j){const se=ee.getDataBytes();G<se.length&&L.appendBits(se[G],8)}for(let G=0;G<N;++G)for(const ee of j){const se=ee.getErrorCorrectionBytes();G<se.length&&L.appendBits(se[G],8)}if(f!==L.getSizeInBytes())throw new Or("Interleaving error: "+f+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(l,f){const p=l.length,v=new Int32Array(p+f);for(let b=0;b<p;b++)v[b]=l[b]&255;new Ar(Re.QR_CODE_FIELD_256).encode(v,f);const x=new Uint8Array(f);for(let b=0;b<f;b++)x[b]=v[p+b];return x}static appendModeInfo(l,f){f.appendBits(l.getBits(),4)}static appendLengthInfo(l,f,p,v){const x=p.getCharacterCountBits(f);if(l>=1<<x)throw new Or(l+" is bigger than "+((1<<x)-1));v.appendBits(l,x)}static appendBytes(l,f,p,v){switch(f){case cr.NUMERIC:Ir.appendNumericBytes(l,p);break;case cr.ALPHANUMERIC:Ir.appendAlphanumericBytes(l,p);break;case cr.BYTE:Ir.append8BitBytes(l,p,v);break;case cr.KANJI:Ir.appendKanjiBytes(l,p);break;default:throw new Or("Invalid mode: "+f)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const f=Ir.getDigit(l);return f>=0&&f<=9}static appendNumericBytes(l,f){const p=l.length;let v=0;for(;v<p;){const x=Ir.getDigit(l.charAt(v));if(v+2<p){const b=Ir.getDigit(l.charAt(v+1)),N=Ir.getDigit(l.charAt(v+2));f.appendBits(x*100+b*10+N,10),v+=3}else if(v+1<p){const b=Ir.getDigit(l.charAt(v+1));f.appendBits(x*10+b,7),v+=2}else f.appendBits(x,4),v++}}static appendAlphanumericBytes(l,f){const p=l.length;let v=0;for(;v<p;){const x=Ir.getAlphanumericCode(l.charCodeAt(v));if(x===-1)throw new Or;if(v+1<p){const b=Ir.getAlphanumericCode(l.charCodeAt(v+1));if(b===-1)throw new Or;f.appendBits(x*45+b,11),v+=2}else f.appendBits(x,6),v++}}static append8BitBytes(l,f,p){let v;try{v=$.encode(l,p)}catch(x){throw new Or(x)}for(let x=0,b=v.length;x!==b;x++){const N=v[x];f.appendBits(N,8)}}static appendKanjiBytes(l,f){let p;try{p=$.encode(l,P.SJIS)}catch(x){throw new Or(x)}const v=p.length;for(let x=0;x<v;x+=2){const b=p[x]&255,N=p[x+1]&255,j=b<<8&4294967295|N;let L=-1;if(j>=33088&&j<=40956?L=j-33088:j>=57408&&j<=60351&&(L=j-49472),L===-1)throw new Or("Invalid byte sequence");const G=(L>>8)*192+(L&255);f.appendBits(G,13)}}static appendECI(l,f){f.appendBits(cr.ECI.getBits(),4),f.appendBits(l.getValue(),8)}}Ir.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ir.DEFAULT_BYTE_MODE_ENCODING=P.UTF8.getName();class ii{write(l,f,p,v=null){if(l.length===0)throw new m("Found empty contents");if(f<0||p<0)throw new m("Requested dimensions are too small: "+f+"x"+p);let x=pn.L,b=ii.QUIET_ZONE_SIZE;v!==null&&(v.get(xt.ERROR_CORRECTION)!==void 0&&(x=pn.fromString(v.get(xt.ERROR_CORRECTION).toString())),v.get(xt.MARGIN)!==void 0&&(b=Number.parseInt(v.get(xt.MARGIN).toString(),10)));const N=Ir.encode(l,x,v);return this.renderResult(N,f,p,b)}writeToDom(l,f,p,v,x=null){typeof l=="string"&&(l=document.querySelector(l));const b=this.write(f,p,v,x);l&&l.appendChild(b)}renderResult(l,f,p,v){const x=l.getMatrix();if(x===null)throw new de;const b=x.getWidth(),N=x.getHeight(),j=b+v*2,L=N+v*2,G=Math.max(f,j),ee=Math.max(p,L),se=Math.min(Math.floor(G/j),Math.floor(ee/L)),xe=Math.floor((G-b*se)/2),Oe=Math.floor((ee-N*se)/2),ke=this.createSVGElement(G,ee);for(let Le=0,We=Oe;Le<N;Le++,We+=se)for(let et=0,at=xe;et<b;et++,at+=se)if(x.get(et,Le)===1){const tt=this.createSvgRectElement(at,We,se,se);ke.appendChild(tt)}return ke}createSVGElement(l,f){const p=document.createElementNS(ii.SVG_NS,"svg");return p.setAttributeNS(null,"height",l.toString()),p.setAttributeNS(null,"width",f.toString()),p}createSvgRectElement(l,f,p,v){const x=document.createElementNS(ii.SVG_NS,"rect");return x.setAttributeNS(null,"x",l.toString()),x.setAttributeNS(null,"y",f.toString()),x.setAttributeNS(null,"height",p.toString()),x.setAttributeNS(null,"width",v.toString()),x.setAttributeNS(null,"fill","#000000"),x}}ii.QUIET_ZONE_SIZE=4,ii.SVG_NS="http://www.w3.org/2000/svg";class ua{encode(l,f,p,v,x){if(l.length===0)throw new m("Found empty contents");if(f!==he.QR_CODE)throw new m("Can only encode QR_CODE, but got "+f);if(p<0||v<0)throw new m(`Requested dimensions are too small: ${p}x${v}`);let b=pn.L,N=ua.QUIET_ZONE_SIZE;x!==null&&(x.get(xt.ERROR_CORRECTION)!==void 0&&(b=pn.fromString(x.get(xt.ERROR_CORRECTION).toString())),x.get(xt.MARGIN)!==void 0&&(N=Number.parseInt(x.get(xt.MARGIN).toString(),10)));const j=Ir.encode(l,b,x);return ua.renderResult(j,p,v,N)}static renderResult(l,f,p,v){const x=l.getMatrix();if(x===null)throw new de;const b=x.getWidth(),N=x.getHeight(),j=b+v*2,L=N+v*2,G=Math.max(f,j),ee=Math.max(p,L),se=Math.min(Math.floor(G/j),Math.floor(ee/L)),xe=Math.floor((G-b*se)/2),Oe=Math.floor((ee-N*se)/2),ke=new W(G,ee);for(let Le=0,We=Oe;Le<N;Le++,We+=se)for(let et=0,at=xe;et<b;et++,at+=se)x.get(et,Le)===1&&ke.setRegion(at,We,se,se);return ke}}ua.QUIET_ZONE_SIZE=4;class es{encode(l,f,p,v,x){let b;switch(f){case he.QR_CODE:b=new ua;break;default:throw new m("No encoder available for format "+f)}return b.encode(l,f,p,v,x)}}class vs extends te{constructor(l,f,p,v,x,b,N,j){if(super(b,N),this.yuvData=l,this.dataWidth=f,this.dataHeight=p,this.left=v,this.top=x,v+b>f||x+N>p)throw new m("Crop rectangle does not fit within image data.");j&&this.reverseHorizontal(b,N)}getRow(l,f){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const p=this.getWidth();(f==null||f.length<p)&&(f=new Uint8ClampedArray(p));const v=(l+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,v,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.yuvData;const p=l*f,v=new Uint8ClampedArray(p);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return _.arraycopy(this.yuvData,x,v,0,p),v;for(let b=0;b<f;b++){const N=b*l;_.arraycopy(this.yuvData,x,v,N,l),x+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,f,p,v){return new vs(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+f,p,v,!1)}renderThumbnail(){const l=this.getWidth()/vs.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/vs.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(l*f),v=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let b=0;b<f;b++){const N=b*l;for(let j=0;j<l;j++){const L=v[x+j*vs.THUMBNAIL_SCALE_FACTOR]&255;p[N+j]=4278190080|L*65793}x+=this.dataWidth*vs.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/vs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/vs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,f){const p=this.yuvData;for(let v=0,x=this.top*this.dataWidth+this.left;v<f;v++,x+=this.dataWidth){const b=x+l/2;for(let N=x,j=x+l-1;N<b;N++,j--){const L=p[N];p[N]=p[j],p[j]=L}}}invert(){return new H(this)}}vs.THUMBNAIL_SCALE_FACTOR=2;class fc extends te{constructor(l,f,p,v,x,b,N){if(super(f,p),this.dataWidth=v,this.dataHeight=x,this.left=b,this.top=N,l.BYTES_PER_ELEMENT===4){const j=f*p,L=new Uint8ClampedArray(j);for(let G=0;G<j;G++){const ee=l[G],se=ee>>16&255,xe=ee>>7&510,Oe=ee&255;L[G]=(se+xe+Oe)/4&255}this.luminances=L}else this.luminances=l;if(v===void 0&&(this.dataWidth=f),x===void 0&&(this.dataHeight=p),b===void 0&&(this.left=0),N===void 0&&(this.top=0),this.left+f>this.dataWidth||this.top+p>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(l,f){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const p=this.getWidth();(f==null||f.length<p)&&(f=new Uint8ClampedArray(p));const v=(l+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,v,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.luminances;const p=l*f,v=new Uint8ClampedArray(p);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return _.arraycopy(this.luminances,x,v,0,p),v;for(let b=0;b<f;b++){const N=b*l;_.arraycopy(this.luminances,x,v,N,l),x+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,f,p,v){return new fc(this.luminances,p,v,this.dataWidth,this.dataHeight,this.left+l,this.top+f)}invert(){return new H(this)}}class hc extends P{static forName(l){return this.getCharacterSetECIByName(l)}}class Qo{}Qo.ISO_8859_1=P.ISO8859_1;class pc{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class mc{static singletonList(l){return[l]}static min(l,f){return l.sort(f)[0]}}class uu{constructor(l){this.previous=l}getPrevious(){return this.previous}}class xi extends uu{constructor(l,f,p){super(l),this.value=f,this.bitCount=p}appendTo(l,f){l.appendBits(this.value,this.bitCount)}add(l,f){return new xi(this,l,f)}addBinaryShift(l,f){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new xi(this,l,f)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+O.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class Ol extends xi{constructor(l,f,p){super(l,0,0),this.binaryShiftStart=f,this.binaryShiftByteCount=p}appendTo(l,f){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):p===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(f[this.binaryShiftStart+p],8)}addBinaryShift(l,f){return new Ol(this,l,f)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function du(J,l,f){return new Ol(J,l,f)}function Tl(J,l,f){return new xi(J,l,f)}const Xf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],wn=0,Us=1,da=2,Zf=3,bi=4,fu=new xi(null,0,0),hu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Qf(J){for(let l of J)E.fill(l,-1);return J[wn][bi]=0,J[Us][bi]=0,J[Us][wn]=28,J[Zf][bi]=0,J[da][bi]=0,J[da][wn]=15,J}const jl=Qf(E.createInt32Array(6,6));class Oa{constructor(l,f,p,v){this.token=l,this.mode=f,this.binaryShiftByteCount=p,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,f){let p=this.bitCount,v=this.token;if(l!==this.mode){let b=hu[this.mode][l];v=Tl(v,b&65535,b>>16),p+=b>>16}let x=l===da?4:5;return v=Tl(v,f,x),new Oa(v,l,0,p+x)}shiftAndAppend(l,f){let p=this.token,v=this.mode===da?4:5;return p=Tl(p,jl[this.mode][l],v),p=Tl(p,f,5),new Oa(p,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(l){let f=this.token,p=this.mode,v=this.bitCount;if(this.mode===bi||this.mode===da){let N=hu[p][wn];f=Tl(f,N&65535,N>>16),v+=N>>16,p=wn}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new Oa(f,p,this.binaryShiftByteCount+1,v+x);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(l+1)),b}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let f=this.token;return f=du(f,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new Oa(f,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let f=this.bitCount+(hu[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?f+=Oa.calculateBinaryShiftCost(l)-Oa.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(f+=10),f<=l.bitCount}toBitArray(l){let f=[];for(let v=this.endBinaryShift(l.length).token;v!==null;v=v.getPrevious())f.unshift(v);let p=new I;for(const v of f)v.appendTo(p,l);return p}toString(){return z.format("%s bits=%d bytes=%d",Xf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}Oa.INITIAL_STATE=new Oa(fu,wn,0,0);function ys(J){const l=z.getCharCode(" "),f=z.getCharCode("."),p=z.getCharCode(",");J[wn][l]=1;const v=z.getCharCode("Z"),x=z.getCharCode("A");for(let se=x;se<=v;se++)J[wn][se]=se-x+2;J[Us][l]=1;const b=z.getCharCode("z"),N=z.getCharCode("a");for(let se=N;se<=b;se++)J[Us][se]=se-N+2;J[da][l]=1;const j=z.getCharCode("9"),L=z.getCharCode("0");for(let se=L;se<=j;se++)J[da][se]=se-L+2;J[da][p]=12,J[da][f]=13;const G=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let se=0;se<G.length;se++)J[Zf][z.getCharCode(G[se])]=se;const ee=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let se=0;se<ee.length;se++)z.getCharCode(ee[se])>0&&(J[bi][z.getCharCode(ee[se])]=se);return J}const za=ys(E.createInt32Array(5,256));class zs{constructor(l){this.text=l}encode(){const l=z.getCharCode(" "),f=z.getCharCode(`
`);let p=mc.singletonList(Oa.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let b,N=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case z.getCharCode("\r"):b=N===f?2:0;break;case z.getCharCode("."):b=N===l?3:0;break;case z.getCharCode(","):b=N===l?4:0;break;case z.getCharCode(":"):b=N===l?5:0;break;default:b=0}b>0?(p=zs.updateStateListForPair(p,x,b),x++):p=this.updateStateListForChar(p,x)}return mc.min(p,(x,b)=>x.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,f){const p=[];for(let v of l)this.updateStateForChar(v,f,p);return zs.simplifyStates(p)}updateStateForChar(l,f,p){let v=this.text[f]&255,x=za[l.getMode()][v]>0,b=null;for(let N=0;N<=bi;N++){let j=za[N][v];if(j>0){if(b==null&&(b=l.endBinaryShift(f)),!x||N===l.getMode()||N===da){const L=b.latchAndAppend(N,j);p.push(L)}if(!x&&jl[l.getMode()][N]>=0){const L=b.shiftAndAppend(N,j);p.push(L)}}}if(l.getBinaryShiftByteCount()>0||za[l.getMode()][v]===0){let N=l.addBinaryShiftChar(f);p.push(N)}}static updateStateListForPair(l,f,p){const v=[];for(let x of l)this.updateStateForPair(x,f,p,v);return this.simplifyStates(v)}static updateStateForPair(l,f,p,v){let x=l.endBinaryShift(f);if(v.push(x.latchAndAppend(bi,p)),l.getMode()!==bi&&v.push(x.shiftAndAppend(bi,p)),p===3||p===4){let b=x.latchAndAppend(da,16-p).latchAndAppend(da,1);v.push(b)}if(l.getBinaryShiftByteCount()>0){let b=l.addBinaryShiftChar(f).addBinaryShiftChar(f+1);v.push(b)}}static simplifyStates(l){let f=[];for(const p of l){let v=!0;for(const x of f){if(x.isBetterThanOrEqualTo(p)){v=!1;break}p.isBetterThanOrEqualTo(x)&&(f=f.filter(b=>b!==x))}v&&f.push(p)}return f}}class Fr{constructor(){}static encodeBytes(l){return Fr.encode(l,Fr.DEFAULT_EC_PERCENT,Fr.DEFAULT_AZTEC_LAYERS)}static encode(l,f,p){let v=new zs(l).encode(),x=O.truncDivision(v.getSize()*f,100)+11,b=v.getSize()+x,N,j,L,G,ee;if(p!==Fr.DEFAULT_AZTEC_LAYERS){if(N=p<0,j=Math.abs(p),j>(N?Fr.MAX_NB_BITS_COMPACT:Fr.MAX_NB_BITS))throw new m(z.format("Illegal value %s for layers",p));L=Fr.totalBitsInLayer(j,N),G=Fr.WORD_SIZE[j];let tt=L-L%G;if(ee=Fr.stuffBits(v,G),ee.getSize()+x>tt)throw new m("Data to large for user specified layer");if(N&&ee.getSize()>G*64)throw new m("Data to large for user specified layer")}else{G=0,ee=null;for(let tt=0;;tt++){if(tt>Fr.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(N=tt<=3,j=N?tt+1:tt,L=Fr.totalBitsInLayer(j,N),b>L)continue;(ee==null||G!==Fr.WORD_SIZE[j])&&(G=Fr.WORD_SIZE[j],ee=Fr.stuffBits(v,G));let ur=L-L%G;if(!(N&&ee.getSize()>G*64)&&ee.getSize()+x<=ur)break}}let se=Fr.generateCheckWords(ee,L,G),xe=ee.getSize()/G,Oe=Fr.generateModeMessage(N,j,xe),ke=(N?11:14)+j*4,Le=new Int32Array(ke),We;if(N){We=ke;for(let tt=0;tt<Le.length;tt++)Le[tt]=tt}else{We=ke+1+2*O.truncDivision(O.truncDivision(ke,2)-1,15);let tt=O.truncDivision(ke,2),ur=O.truncDivision(We,2);for(let vr=0;vr<tt;vr++){let Ji=vr+O.truncDivision(vr,15);Le[tt-vr-1]=ur-Ji-1,Le[tt+vr]=ur+Ji+1}}let et=new W(We);for(let tt=0,ur=0;tt<j;tt++){let vr=(j-tt)*4+(N?9:12);for(let Ji=0;Ji<vr;Ji++){let Ta=Ji*2;for(let fa=0;fa<2;fa++)se.get(ur+Ta+fa)&&et.set(Le[tt*2+fa],Le[tt*2+Ji]),se.get(ur+vr*2+Ta+fa)&&et.set(Le[tt*2+Ji],Le[ke-1-tt*2-fa]),se.get(ur+vr*4+Ta+fa)&&et.set(Le[ke-1-tt*2-fa],Le[ke-1-tt*2-Ji]),se.get(ur+vr*6+Ta+fa)&&et.set(Le[ke-1-tt*2-Ji],Le[tt*2+fa])}ur+=vr*8}if(Fr.drawModeMessage(et,N,We,Oe),N)Fr.drawBullsEye(et,O.truncDivision(We,2),5);else{Fr.drawBullsEye(et,O.truncDivision(We,2),7);for(let tt=0,ur=0;tt<O.truncDivision(ke,2)-1;tt+=15,ur+=16)for(let vr=O.truncDivision(We,2)&1;vr<We;vr+=2)et.set(O.truncDivision(We,2)-ur,vr),et.set(O.truncDivision(We,2)+ur,vr),et.set(vr,O.truncDivision(We,2)-ur),et.set(vr,O.truncDivision(We,2)+ur)}let at=new pc;return at.setCompact(N),at.setSize(We),at.setLayers(j),at.setCodeWords(xe),at.setMatrix(et),at}static drawBullsEye(l,f,p){for(let v=0;v<p;v+=2)for(let x=f-v;x<=f+v;x++)l.set(x,f-v),l.set(x,f+v),l.set(f-v,x),l.set(f+v,x);l.set(f-p,f-p),l.set(f-p+1,f-p),l.set(f-p,f-p+1),l.set(f+p,f-p),l.set(f+p,f-p+1),l.set(f+p,f+p-1)}static generateModeMessage(l,f,p){let v=new I;return l?(v.appendBits(f-1,2),v.appendBits(p-1,6),v=Fr.generateCheckWords(v,28,4)):(v.appendBits(f-1,5),v.appendBits(p-1,11),v=Fr.generateCheckWords(v,40,4)),v}static drawModeMessage(l,f,p,v){let x=O.truncDivision(p,2);if(f)for(let b=0;b<7;b++){let N=x-3+b;v.get(b)&&l.set(N,x-5),v.get(b+7)&&l.set(x+5,N),v.get(20-b)&&l.set(N,x+5),v.get(27-b)&&l.set(x-5,N)}else for(let b=0;b<10;b++){let N=x-5+b+O.truncDivision(b,5);v.get(b)&&l.set(N,x-7),v.get(b+10)&&l.set(x+7,N),v.get(29-b)&&l.set(N,x+7),v.get(39-b)&&l.set(x-7,N)}}static generateCheckWords(l,f,p){let v=l.getSize()/p,x=new Ar(Fr.getGF(p)),b=O.truncDivision(f,p),N=Fr.bitsToWords(l,p,b);x.encode(N,b-v);let j=f%p,L=new I;L.appendBits(0,j);for(const G of Array.from(N))L.appendBits(G,p);return L}static bitsToWords(l,f,p){let v=new Int32Array(p),x,b;for(x=0,b=l.getSize()/f;x<b;x++){let N=0;for(let j=0;j<f;j++)N|=l.get(x*f+j)?1<<f-j-1:0;v[x]=N}return v}static getGF(l){switch(l){case 4:return Re.AZTEC_PARAM;case 6:return Re.AZTEC_DATA_6;case 8:return Re.AZTEC_DATA_8;case 10:return Re.AZTEC_DATA_10;case 12:return Re.AZTEC_DATA_12;default:throw new m("Unsupported word size "+l)}}static stuffBits(l,f){let p=new I,v=l.getSize(),x=(1<<f)-2;for(let b=0;b<v;b+=f){let N=0;for(let j=0;j<f;j++)(b+j>=v||l.get(b+j))&&(N|=1<<f-1-j);(N&x)===x?(p.appendBits(N&x,f),b--):N&x?p.appendBits(N,f):(p.appendBits(N|1,f),b--)}return p}static totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}Fr.DEFAULT_EC_PERCENT=33,Fr.DEFAULT_AZTEC_LAYERS=0,Fr.MAX_NB_BITS=32,Fr.MAX_NB_BITS_COMPACT=4,Fr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class fo{encode(l,f,p,v){return this.encodeWithHints(l,f,p,v,null)}encodeWithHints(l,f,p,v,x){let b=Qo.ISO_8859_1,N=Fr.DEFAULT_EC_PERCENT,j=Fr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(xt.CHARACTER_SET)&&(b=hc.forName(x.get(xt.CHARACTER_SET).toString())),x.has(xt.ERROR_CORRECTION)&&(N=O.parseInt(x.get(xt.ERROR_CORRECTION).toString())),x.has(xt.AZTEC_LAYERS)&&(j=O.parseInt(x.get(xt.AZTEC_LAYERS).toString()))),fo.encodeLayers(l,f,p,v,b,N,j)}static encodeLayers(l,f,p,v,x,b,N){if(f!==he.AZTEC)throw new m("Can only encode AZTEC, but got "+f);let j=Fr.encode(z.getBytes(l,x),b,N);return fo.renderResult(j,p,v)}static renderResult(l,f,p){let v=l.getMatrix();if(v==null)throw new de;let x=v.getWidth(),b=v.getHeight(),N=Math.max(f,x),j=Math.max(p,b),L=Math.min(N/x,j/b),G=(N-x*L)/2,ee=(j-b*L)/2,se=new W(N,j);for(let xe=0,Oe=ee;xe<b;xe++,Oe+=L)for(let ke=0,Le=G;ke<x;ke++,Le+=L)v.get(ke,xe)&&se.setRegion(Le,Oe,L,L);return se}}r.AbstractExpandedDecoder=gs,r.ArgumentException=h,r.ArithmeticException=Ce,r.AztecCode=pc,r.AztecCodeReader=kt,r.AztecCodeWriter=fo,r.AztecDecoder=Ye,r.AztecDetector=sr,r.AztecDetectorResult=Ct,r.AztecEncoder=Fr,r.AztecHighLevelEncoder=zs,r.AztecPoint=Et,r.BarcodeFormat=he,r.Binarizer=S,r.BinaryBitmap=y,r.BitArray=I,r.BitMatrix=W,r.BitSource=hi,r.BrowserAztecCodeReader=Ur,r.BrowserBarcodeReader=Vf,r.BrowserCodeReader=Z,r.BrowserDatamatrixCodeReader=Jc,r.BrowserMultiFormatReader=De,r.BrowserPDF417Reader=Qe,r.BrowserQRCodeReader=lt,r.BrowserQRCodeSvgWriter=ii,r.CharacterSetECI=P,r.ChecksumException=g,r.Code128Reader=He,r.Code39Reader=$t,r.DataMatrixDecodedBitStreamParser=oo,r.DataMatrixReader=Zi,r.DecodeHintType=F,r.DecoderResult=ye,r.DefaultGridSampler=hr,r.DetectorResult=It,r.EAN13Reader=Gr,r.EncodeHintType=xt,r.Exception=u,r.FormatException=B,r.GenericGF=Re,r.GenericGFPoly=Ee,r.GlobalHistogramBinarizer=Q,r.GridSampler=Gt,r.GridSamplerInstance=Kt,r.HTMLCanvasElementLuminanceSource=le,r.HybridBinarizer=ne,r.ITFReader=Qt,r.IllegalArgumentException=m,r.IllegalStateException=de,r.InvertedLuminanceSource=H,r.LuminanceSource=te,r.MathUtils=Be,r.MultiFormatOneDReader=Al,r.MultiFormatReader=Te,r.MultiFormatWriter=es,r.NotFoundException=V,r.OneDReader=Zt,r.PDF417DecodedBitStreamParser=Ve,r.PDF417DecoderErrorCorrection=nu,r.PDF417Reader=re,r.PDF417ResultMetadata=pd,r.PerspectiveTransform=vt,r.PlanarYUVLuminanceSource=vs,r.QRCodeByteMatrix=tn,r.QRCodeDataMask=Ua,r.QRCodeDecodedBitStreamParser=Wn,r.QRCodeDecoderErrorCorrectionLevel=pn,r.QRCodeDecoderFormatInformation=Qi,r.QRCodeEncoder=Ir,r.QRCodeEncoderQRCode=bn,r.QRCodeMaskUtil=Ft,r.QRCodeMatrixUtil=St,r.QRCodeMode=cr,r.QRCodeReader=Ko,r.QRCodeVersion=Dt,r.QRCodeWriter=ua,r.RGBLuminanceSource=fc,r.RSS14Reader=Bn,r.RSSExpandedReader=st,r.ReaderException=be,r.ReedSolomonDecoder=it,r.ReedSolomonEncoder=Ar,r.ReedSolomonException=je,r.Result=ae,r.ResultMetadataType=Ae,r.ResultPoint=qe,r.StringUtils=z,r.UnsupportedOperationException=K,r.VideoInputDevice=fe,r.WhiteRectangleDetector=Vt,r.WriterException=Or,r.ZXingArrays=E,r.ZXingCharset=hc,r.ZXingInteger=O,r.ZXingStandardCharsets=Qo,r.ZXingStringBuilder=X,r.ZXingStringEncoding=$,r.ZXingSystem=_,r.createAbstractExpandedDecoder=Cp,Object.defineProperty(r,"__esModule",{value:!0})})})(E4,E4.exports);var li=E4.exports;const T6e=yn(li),j6e=f7({__proto__:null,default:T6e},[li]);var gD=function(){function e(t,r,n){if(this.formatMap=new Map([[Bt.QR_CODE,li.BarcodeFormat.QR_CODE],[Bt.AZTEC,li.BarcodeFormat.AZTEC],[Bt.CODABAR,li.BarcodeFormat.CODABAR],[Bt.CODE_39,li.BarcodeFormat.CODE_39],[Bt.CODE_93,li.BarcodeFormat.CODE_93],[Bt.CODE_128,li.BarcodeFormat.CODE_128],[Bt.DATA_MATRIX,li.BarcodeFormat.DATA_MATRIX],[Bt.MAXICODE,li.BarcodeFormat.MAXICODE],[Bt.ITF,li.BarcodeFormat.ITF],[Bt.EAN_13,li.BarcodeFormat.EAN_13],[Bt.EAN_8,li.BarcodeFormat.EAN_8],[Bt.PDF_417,li.BarcodeFormat.PDF_417],[Bt.RSS_14,li.BarcodeFormat.RSS_14],[Bt.RSS_EXPANDED,li.BarcodeFormat.RSS_EXPANDED],[Bt.UPC_A,li.BarcodeFormat.UPC_A],[Bt.UPC_E,li.BarcodeFormat.UPC_E],[Bt.UPC_EAN_EXTENSION,li.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!j6e)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(li.DecodeHintType.POSSIBLE_FORMATS,i),a.set(li.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new li.MultiFormatReader(this.verbose,this.hints),n=new li.HTMLCanvasElementLuminanceSource(t),i=new li.BinaryBitmap(new li.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:bG.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),I6e=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})},k6e=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vD=function(){function e(t,r,n){if(this.formatMap=new Map([[Bt.QR_CODE,"qr_code"],[Bt.AZTEC,"aztec"],[Bt.CODABAR,"codabar"],[Bt.CODE_39,"code_39"],[Bt.CODE_93,"code_93"],[Bt.CODE_128,"code_128"],[Bt.DATA_MATRIX,"data_matrix"],[Bt.ITF,"itf"],[Bt.EAN_13,"ean_13"],[Bt.EAN_8,"ean_8"],[Bt.PDF_417,"pdf417"],[Bt.UPC_A,"upc_a"],[Bt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return I6e(this,void 0,void 0,function(){var r,n;return k6e(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:bG.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var s=a[i],o=s.boundingBox.width*s.boundingBox.height;o>n&&(n=o,r=s)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),yD=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})},xD=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},P6e=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&vD.isSupported()?(this.primaryDecoder=new vD(t,n,i),this.secondaryDecoder=new gD(t,n,i)):this.primaryDecoder=new gD(t,n,i)}return e.prototype.decodeAsync=function(t){return yD(this,void 0,void 0,function(){var r;return xD(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return yD(this,void 0,void 0,function(){var r,n;return xD(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),KT=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pw=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})},Mw=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},AG=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),M6e=function(e){KT(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(AG),R6e=function(e){KT(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(M6e),D6e=function(e){KT(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(AG),L6e=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new R6e(this.track)},e.prototype.torchFeature=function(){return new D6e(this.track)},e}(),F6e=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return Pw(this,void 0,void 0,function(){var a,s;return Mw(this,function(o){switch(o.label){case 0:return a=new e(t,r,i),n.aspectRatio?(s={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:o.sent(),o.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Pw(this,void 0,void 0,function(){return Mw(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,s=0;t.mediaStream.getVideoTracks().forEach(function(o){t.mediaStream.removeTrack(o),o.stop(),++s,s>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new L6e(this.getFirstTrackOrFail())},e}(),B6e=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return Pw(this,void 0,void 0,function(){return Mw(this,function(i){return[2,F6e.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return Pw(this,void 0,void 0,function(){var r,n;return Mw(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),bD=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})},wD=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$6e=function(){function e(){}return e.failIfNotSupported=function(){return bD(this,void 0,void 0,function(){return wD(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return bD(this,void 0,void 0,function(){return wD(this,function(r){return[2,B6e.create(t)]})})},e}(),U6e=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})},z6e=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},q6e=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=v0.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=v0.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return U6e(this,void 0,void 0,function(){var t,r,n,i,a,s,o;return z6e(this,function(c){switch(c.label){case 0:return t=function(u){for(var h=u.getVideoTracks(),m=0,y=h;m<y.length;m++){var g=y[m];g.enabled=!1,g.stop(),u.removeTrack(g)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=c.sent(),i=[],a=0,s=n;a<s.length;a++)o=s[a],o.kind==="videoinput"&&i.push({id:o.deviceId,label:o.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var s=[],o=0,c=a;o<c.length;o++){var u=c[o];u.kind==="video"&&s.push({id:u.id,label:u.label})}t(s)},i=MediaStreamTrack;i.getSources(n)})},e}(),Ii;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ii||(Ii={}));var W6e=function(){function e(){this.state=Ii.NOT_STARTED,this.onGoingTransactionNewState=Ii.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ii.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ii.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ii.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ii.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ii.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ii.UNKNOWN:throw"Transition from unknown is not allowed";case Ii.NOT_STARTED:this.failIfNewStateIs(t,[Ii.PAUSED]);break;case Ii.SCANNING:break;case Ii.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),H6e=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ii.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ii.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ii.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ii.PAUSED},e}(),V6e=function(){function e(){}return e.create=function(){return new H6e(new W6e)},e}(),G6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_o=function(e){G6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Yl),K6e=function(){function e(t,r){this.logger=r,this.fps=_o.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=_o.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?SG.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!bc(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),_D=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new _G(this.verbose),this.qrcode=new P6e(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=V6e.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var s;i?s=i:s=this.verbose?this.logger.log:function(){};var o=K6e.create(r,this.logger);this.clearElement();var c=!1;o.videoConstraints&&(o.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:_o.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var m=this,y=this.stateManagerProxy.startTransition(Ii.SCANNING);return new Promise(function(g,S){var _=u?o.videoConstraints:m.createVideoConstraints(t);if(!_){y.cancel(),S("videoConstraints should be defined");return}var w={};(!u||o.aspectRatio)&&(w.aspectRatio=o.aspectRatio);var A={onRenderSurfaceReady:function(E,O){m.setupUi(E,O,o),m.isScanning=!0,m.foreverScan(o,n,s)}};$6e.failIfNotSupported().then(function(E){E.create(_).then(function(O){return O.render(a.element,w,A).then(function(I){m.renderedCamera=I,y.execute(),g(null)}).catch(function(I){y.cancel(),S(I)})}).catch(function(O){y.cancel(),S(v0.errorGettingUserMedia(O))})}).catch(function(E){y.cancel(),S(v0.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ii.PAUSED),this.showPausedState(),(bc(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Ii.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Ii.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(_o.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bc(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var s=new Image;s.onload=function(){var o=s.width,c=s.height,u=document.getElementById(n.elementId),h=u.clientWidth?u.clientWidth:_o.DEFAULT_WIDTH,m=Math.max(u.clientHeight?u.clientHeight:c,_o.FILE_SCAN_MIN_HEIGHT),y=n.computeCanvasDrawConfig(o,c,h,m);if(r){var g=n.createCanvasElement(h,m,"qr-canvas-visible");g.style.display="inline-block",u.appendChild(g);var S=g.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=h,S.canvas.height=m,S.drawImage(s,0,0,o,c,y.x,y.y,y.width,y.height)}var _=_o.FILE_SCAN_HIDDEN_CANVAS_PADDING,w=Math.max(s.width,y.width),A=Math.max(s.height,y.height),E=w+2*_,O=A+2*_,I=n.createCanvasElement(E,O);u.appendChild(I);var k=I.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=E,k.canvas.height=O,k.drawImage(s,0,0,o,c,_,_,w,A);try{n.qrcode.decodeRobustlyAsync(I).then(function(F){i(pD.createFromQrcodeResult(F))}).catch(a)}catch(F){a("QR code parse error, error = ".concat(F))}},s.onerror=a,s.onabort=a,s.onstalled=a,s.onsuspend=a,s.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return q6e.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!SG.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Bt.QR_CODE,Bt.AZTEC,Bt.CODABAR,Bt.CODE_39,Bt.CODE_93,Bt.CODE_128,Bt.DATA_MATRIX,Bt.MAXICODE,Bt.ITF,Bt.EAN_13,Bt.EAN_8,Bt.PDF_417,Bt.RSS_14,Bt.RSS_EXPANDED,Bt.UPC_A,Bt.UPC_E,Bt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var s=a[i];N6e(s)?n.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(bc(t))return!0;if(!bc(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(bc(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return bc(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(t,r,a),o=function(u){if(u<_o.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(_o.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};o(s.width),o(s.height),s.width=c(s.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=bc(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=n.isShadedBoxEnabled()&&a.height<=r,o={x:0,y:0,width:t,height:r},c=s?this.getShadedRegionBounds(t,r,a):o,u=this.createCanvasElement(c.width,c.height),h={willReadFrequently:!0},m=u.getContext("2d",h);m.canvas.width=c.width,m.canvas.height=c.height,this.element.append(u),s&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=m,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=v0.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,pD.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=v0.codeParseError(i);return r(a,wG.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),s=a.videoWidth/a.clientWidth,o=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*s,u=this.qrRegion.height*o,h=this.qrRegion.x*s,m=this.qrRegion.y*o;this.context.drawImage(a,h,m,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(g){!g&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){y()})):y()}).catch(function(g){i.logger.logError("Error happend while scanning context",g),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",s=function(S){if(S in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},o=Object.keys(t);if(o.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(o.length," keys");var c=Object.keys(t)[0];if(c!==r&&c!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(c===r){var u=t.facingMode;if(typeof u=="string"){if(s(u))return{facingMode:u}}else if(typeof u=="object")if(a in u){if(s(u["".concat(a)]))return{facingMode:{exact:u["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var h=typeof u;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(a in m)return{deviceId:{exact:m["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var y=typeof m;throw"Invalid type of 'deviceId' = ".concat(y)}}}var g=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(g)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,s=(i-r)/2;return{x:a,y:s,width:t,height:r}}else{var o=t,c=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(o,"X").concat(c)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?_o.BORDER_SHADER_MATCH_COLOR:_o.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,s=document.createElement("canvas");return s.style.width="".concat(i,"px"),s.style.height="".concat(a,"px"),s.style.display="none",s.id=bc(n)?"qr-canvas":n,s},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var s=(r-i.width)/2,o=(n-i.height)/2;if(a.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(_o.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(a,u,c,-c,null,0,!0),this.insertShaderBorders(a,u,c,-c,null,0,!1),this.insertShaderBorders(a,u,c,null,-c,0,!0),this.insertShaderBorders(a,u,c,null,-c,0,!1),this.insertShaderBorders(a,c,u+c,-c,null,-c,!0),this.insertShaderBorders(a,c,u+c,null,-c,-c,!0),this.insertShaderBorders(a,c,u+c,-c,null,-c,!1),this.insertShaderBorders(a,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,s,o){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=_o.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(r,"px"),c.style.height="".concat(n,"px"),i!==null&&(c.style.top="".concat(i,"px")),a!==null&&(c.style.bottom="".concat(a,"px")),o?c.style.left="".concat(s,"px"):c.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),t.appendChild(c)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),YT="data:image/svg+xml;base64,",Y6e=YT+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",X6e=YT+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",SD=YT+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Z6e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",AD=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Q6e=function(){function e(){this.data=AD.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=AD.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),J6e=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=mD.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=mD.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),eMe=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=SD,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Z6e,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=SD,this.infoIcon.style.opacity="0.6")},e}(),tMe=function(){function e(){var t=this;this.infoDiv=new J6e,this.infoIcon=new eMe(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),rMe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})},nMe=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ED=function(){function e(){}return e.hasPermissions=function(){return rMe(this,void 0,void 0,function(){var t,r,n,i;return nMe(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),r=0,n=t;r<n.length;r++)if(i=n[r],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e}(),Nd=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===If.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===If.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Yl.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Yl.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,i=t;n<i.length;n++){var a=i[n];if(!Yl.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),Po=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Lu=function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Po.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e}(),EG=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})},CG=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},CD=function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return EG(this,void 0,void 0,function(){var t,r;return CG(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Mn.torchOffButton():Mn.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?Mn.torchOnFailedMessage():Mn.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),iMe=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=Lu.createElement("button",Po.TORCH_BUTTON_ID),this.torchController=new CD(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=Mn.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return EG(n,void 0,void 0,function(){return CG(this,function(s){switch(s.label){case 0:return[4,i.torchController.flipState()];case 1:return s.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Po.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Po.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Po.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Po.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new CD(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Mn.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,i){var a=new e(r,i);return a.render(t,n),a},e}(),aMe=function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Lu.createElement("button",Po.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(o){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Lu.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(o){if(!(o==null||o.target==null)){var c=o.target;if(!(c.files&&c.files.length===0)){var u=c.files,h=u[0],m=h.name;a.setImageNameToButton(m),n(h)}}});var s=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(s),this.fileBasedScanRegion.addEventListener("dragenter",function(o){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),o.stopPropagation(),o.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(o){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),o.stopPropagation(),o.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(o){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),o.stopPropagation(),o.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(o){o.stopPropagation(),o.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var c=o.dataTransfer;if(c){var u=c.files;if(!u||u.length===0)return;for(var h=!1,m=0;m<u.length;++m){var y=u.item(m);if(y){var g=/image.*/;if(y.type.match(g)){h=!0;var S=y.name;a.setImageNameToButton(S),n(y),s.innerText=Mn.dragAndDropMessage();break}}}h||(s.innerText=Mn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Mn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(n,"....").concat(a)}var s=Mn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=s},e.prototype.setInitialValueToButton=function(){var t=Mn.fileSelectionChooseImage()+" - "+Mn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var i=new e(t,r,n);return i},e}(),sMe=function(){function e(t){this.selectElement=Lu.createElement("select",Po.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var i=Mn.selectCamera();r.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,s=0,o=this.cameras;s<o.length;s++){var c=o[s],u=c.id,h=c.label==null?u:c.label;(!h||h==="")&&(h=[Mn.anonymousCameraPrefix(),a++].join(" "));var m=document.createElement("option");m.value=u,m.innerText=h,this.options.push(m),this.selectElement.appendChild(m)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var i=n[r];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),oMe=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Lu.createElement("input",Po.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=Mn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Mn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,i){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}(),So;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(So||(So={}));function lMe(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function cMe(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var uMe=function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Nd(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new _G(this.verbose),this.persistedDataManager=new Q6e,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,s){if(t)t(a,s);else{if(n.lastMatchFound===a)return;n.lastMatchFound=a,n.setHeaderMessage(Mn.lastMatch(a),So.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,s){r&&r(a,s)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new _D(this.getScanRegionId(),cMe(this.config,this.verbose))},e.prototype.pause=function(t){(bc(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Yl.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Yl.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Yl.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Yl.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Yl.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Yl.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Yl.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Nd.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new tMe;n.renderInto(r);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",r.appendChild(i)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Mn.cameraPermissionRequesting());var a=function(){n||i.createPermissionButton(t,r)};_D.getCameras().then(function(s){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),s&&s.length>0?(t.removeChild(r),i.renderCameraSelection(s)):(i.setHeaderMessage(Mn.noCameraFound(),So.STATUS_WARNING),a())}).catch(function(s){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),i.setHeaderMessage(s,So.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,i=Lu.createElement("button",this.getCameraPermissionButtonId());i.innerText=Mn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(t,r,i)}),r.appendChild(i)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(Nd.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ED.hasPermissions().then(function(i){i?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Nd.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Nd.isFileScanType(this.currentScanType),n=this,i=function(a){if(!n.html5Qrcode)throw"html5Qrcode not defined";Nd.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(Mn.loadingImage()),n.html5Qrcode.scanFileV2(a,!0).then(function(s){n.resetHeaderMessage(),n.qrCodeSuccessCallback(s.decodedText,s)}).catch(function(s){n.setHeaderMessage(s,So.STATUS_WARNING),n.qrCodeErrorCallback(s,wG.createFrom(s))}))};this.fileSelectionUi=aMe.create(t,r,i)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=oMe.create(i,!1),s=function(_){var w=_.zoomFeature();if(w.isSupported()){a.setOnCameraZoomValueChangeCallback(function(E){w.apply(E)});var A=1;r.config.defaultZoomValueIfSupported&&(A=r.config.defaultZoomValueIfSupported),A=O6e(A,w.min(),w.max()),a.setValues(w.min(),w.max(),A,w.step()),a.show()}},o=sMe.create(i,t),c=document.createElement("span"),u=Lu.createElement("button",Po.CAMERA_START_BUTTON_ID);u.innerText=Mn.scanButtonStartScanningText(),c.appendChild(u);var h=Lu.createElement("button",Po.CAMERA_STOP_BUTTON_ID);h.innerText=Mn.scanButtonStopScanningText(),h.style.display="none",h.disabled=!0,c.appendChild(h);var m,y=function(_){if(!_.torchFeature().isSupported()){m&&m.hide();return}m?m.updateTorchCapability(_.torchFeature()):m=iMe.create(c,_.torchFeature(),{display:"none",marginLeft:"5px"},function(w){n.setHeaderMessage(w,So.STATUS_WARNING)}),m.show()};i.appendChild(c);var g=function(_){_||(u.style.display="none"),u.innerText=Mn.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,_&&(u.style.display="inline-block")};if(u.addEventListener("click",function(_){u.innerText=Mn.scanButtonScanningStarting(),o.disable(),u.disabled=!0,u.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var w=o.getValue();n.persistedDataManager.setLastUsedCameraId(w),n.html5Qrcode.start(w,lMe(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(A){h.disabled=!1,h.style.display="inline-block",g(!1);var E=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&y(E),r.config.showZoomSliderIfSupported===!0&&s(E)}).catch(function(A){n.showHideScanTypeSwapLink(!0),o.enable(),g(!0),n.setHeaderMessage(A,So.STATUS_WARNING)})}),o.hasSingleItem()&&u.click(),h.addEventListener("click",function(_){if(!n.html5Qrcode)throw"html5Qrcode not defined";h.disabled=!0,n.html5Qrcode.stop().then(function(w){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),o.enable(),u.disabled=!1,h.style.display="none",u.style.display="inline-block",m&&(m.reset(),m.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(w){h.disabled=!1,n.setHeaderMessage(w,So.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var S=n.persistedDataManager.getLastUsedCameraId();o.hasValue(S)?(o.setValue(S),u.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Mn.textIfCameraScanSelected(),n=Mn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var s=Lu.createElement("span",this.getDashboardSectionSwapLinkId());s.style.textDecoration="underline",s.style.cursor="pointer",s.innerText=Nd.isCameraScanType(this.currentScanType)?r:n,s.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Nd.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),s.innerText=n,t.currentScanType=If.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),s.innerText=r,t.currentScanType=If.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(s),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){ED.hasPermissions().then(function(n){if(n){var i=document.getElementById(r.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=So.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case So.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case So.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case So.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Y6e,this.cameraScanImage.alt=Mn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=X6e,this.fileScanImage.alt=Mn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Po.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Po.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}(),C5="Dialog",[NG,OG]=Ho(C5),[dMe,sc]=NG(C5),TG=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=M.useRef(null),c=M.useRef(null),[u,h]=Zu({prop:n,defaultProp:i??!1,onChange:a,caller:C5});return d.jsx(dMe,{scope:t,triggerRef:o,contentRef:c,contentId:Mc(),titleId:Mc(),descriptionId:Mc(),open:u,onOpenChange:h,onOpenToggle:M.useCallback(()=>h(m=>!m),[h]),modal:s,children:r})};TG.displayName=C5;var jG="DialogTrigger",IG=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sc(jG,r),a=Qr(t,i.triggerRef);return d.jsx(br.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":QT(i.open),...n,ref:a,onClick:wt(e.onClick,i.onOpenToggle)})});IG.displayName=jG;var XT="DialogPortal",[fMe,kG]=NG(XT,{forceMount:void 0}),PG=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=sc(XT,t);return d.jsx(fMe,{scope:t,forceMount:r,children:M.Children.map(n,s=>d.jsx(bl,{present:r||a.open,children:d.jsx(yy,{asChild:!0,container:i,children:s})}))})};PG.displayName=XT;var Rw="DialogOverlay",MG=M.forwardRef((e,t)=>{const r=kG(Rw,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=sc(Rw,e.__scopeDialog);return a.modal?d.jsx(bl,{present:n||a.open,children:d.jsx(pMe,{...i,ref:t})}):null});MG.displayName=Rw;var hMe=Yh("DialogOverlay.RemoveScroll"),pMe=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sc(Rw,r);return d.jsx(A_,{as:hMe,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(br.div,{"data-state":QT(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),lp="DialogContent",RG=M.forwardRef((e,t)=>{const r=kG(lp,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=sc(lp,e.__scopeDialog);return d.jsx(bl,{present:n||a.open,children:a.modal?d.jsx(mMe,{...i,ref:t}):d.jsx(gMe,{...i,ref:t})})});RG.displayName=lp;var mMe=M.forwardRef((e,t)=>{const r=sc(lp,e.__scopeDialog),n=M.useRef(null),i=Qr(t,r.contentRef,n);return M.useEffect(()=>{const a=n.current;if(a)return TO(a)},[]),d.jsx(DG,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:wt(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:wt(e.onFocusOutside,a=>a.preventDefault())})}),gMe=M.forwardRef((e,t)=>{const r=sc(lp,e.__scopeDialog),n=M.useRef(!1),i=M.useRef(!1);return d.jsx(DG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),DG=M.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,o=sc(lp,r),c=M.useRef(null),u=Qr(t,c);return OO(),d.jsxs(d.Fragment,{children:[d.jsx(w_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(Xm,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":QT(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(yMe,{titleId:o.titleId}),d.jsx(bMe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),ZT="DialogTitle",LG=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sc(ZT,r);return d.jsx(br.h2,{id:i.titleId,...n,ref:t})});LG.displayName=ZT;var FG="DialogDescription",BG=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sc(FG,r);return d.jsx(br.p,{id:i.descriptionId,...n,ref:t})});BG.displayName=FG;var $G="DialogClose",UG=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sc($G,r);return d.jsx(br.button,{type:"button",...n,ref:t,onClick:wt(e.onClick,()=>i.onOpenChange(!1))})});UG.displayName=$G;function QT(e){return e?"open":"closed"}var zG="DialogTitleWarning",[vMe,qG]=nJ(zG,{contentName:lp,titleName:ZT,docsSlug:"dialog"}),yMe=({titleId:e})=>{const t=qG(zG),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},xMe="DialogDescriptionWarning",bMe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qG(xMe).contentName}}.`;return M.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},WG=TG,HG=IG,VG=PG,JT=MG,ej=RG,tj=LG,rj=BG,nj=UG;const Aa=WG,Uc=HG,wMe=VG,GG=M.forwardRef(({className:e,...t},r)=>d.jsx(JT,{ref:r,className:Mt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GG.displayName=JT.displayName;const sa=M.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(wMe,{children:[d.jsx(GG,{}),d.jsxs(ej,{ref:n,className:Mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(nj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(d_,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sa.displayName=ej.displayName;const oa=({className:e,...t})=>d.jsx("div",{className:Mt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});oa.displayName="DialogHeader";const ij=({className:e,...t})=>d.jsx("div",{className:Mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ij.displayName="DialogFooter";const la=M.forwardRef(({className:e,...t},r)=>d.jsx(tj,{ref:r,className:Mt("text-lg font-semibold leading-none tracking-tight",e),...t}));la.displayName=tj.displayName;const Dw=M.forwardRef(({className:e,...t},r)=>d.jsx(rj,{ref:r,className:Mt("text-sm text-muted-foreground",e),...t}));Dw.displayName=rj.displayName;function _Me({onScan:e}){const[t,r]=M.useState(!1),[n,i]=M.useState(!1),a=M.useRef(null);M.useEffect(()=>{if(t&&!n){i(!0);const o=new uMe("barcode-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);o.render(c=>{e(c),r(!1),o.clear(),i(!1)},c=>{}),a.current=o}return()=>{a.current&&(a.current.clear().catch(console.error),a.current=null,i(!1))}},[t,e]);const s=()=>{a.current&&(a.current.clear().catch(console.error),a.current=null,i(!1)),r(!1)};return d.jsxs(d.Fragment,{children:[d.jsxs(ot,{onClick:()=>r(!0),variant:"outline",size:"sm",children:[d.jsx(eee,{className:"h-4 w-4 mr-2"}),"Escanear"]}),d.jsx(Aa,{open:t,onOpenChange:s,children:d.jsxs(sa,{className:"max-w-lg",children:[d.jsx(oa,{children:d.jsx(la,{children:"Escanear Código de Barras"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{id:"barcode-reader",className:"w-full"}),d.jsxs(ot,{onClick:s,variant:"outline",className:"w-full",children:[d.jsx(d_,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]})]})})]})}function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}var ic=Uint8Array,Ro=Uint16Array,aj=Int32Array,sj=new ic([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oj=new ic([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ND=new ic([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KG=function(e,t){for(var r=new Ro(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new aj(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},YG=KG(sj,2),SMe=YG.b,C4=YG.r;SMe[28]=258,C4[258]=28;var AMe=KG(oj,0),OD=AMe.r,N4=new Ro(32768);for(var di=0;di<32768;++di){var Od=(di&43690)>>1|(di&21845)<<1;Od=(Od&52428)>>2|(Od&13107)<<2,Od=(Od&61680)>>4|(Od&3855)<<4,N4[di]=((Od&65280)>>8|(Od&255)<<8)>>1}var Dg=function(e,t,r){for(var n=e.length,i=0,a=new Ro(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new Ro(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Ro(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],h=t-e[i],m=s[e[i]-1]++<<h,y=m|(1<<h)-1;m<=y;++m)o[N4[m]>>c]=u}else for(o=new Ro(n),i=0;i<n;++i)e[i]&&(o[i]=N4[s[e[i]-1]++]>>15-e[i]);return o},cp=new ic(288);for(var di=0;di<144;++di)cp[di]=8;for(var di=144;di<256;++di)cp[di]=9;for(var di=256;di<280;++di)cp[di]=7;for(var di=280;di<288;++di)cp[di]=8;var Lw=new ic(32);for(var di=0;di<32;++di)Lw[di]=5;var EMe=Dg(cp,9,0),CMe=Dg(Lw,5,0),XG=function(e){return(e+7)/8|0},NMe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ic(e.subarray(t,r))},wu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},eg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},AA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:QG,l:0};if(i==1){var s=new ic(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(k,F){return k.f-F.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,h=1,m=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=i-1;)o=r[r[u].f<r[m].f?u++:m++],c=r[u!=h&&r[u].f<r[m].f?u++:m++],r[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var y=a[0].s,n=1;n<i;++n)a[n].s>y&&(y=a[n].s);var g=new Ro(y+1),S=O4(r[h-1],g,0);if(S>t){var n=0,_=0,w=S-t,A=1<<w;for(a.sort(function(F,B){return g[B.s]-g[F.s]||F.f-B.f});n<i;++n){var E=a[n].s;if(g[E]>t)_+=A-(1<<S-g[E]),g[E]=t;else break}for(_>>=w;_>0;){var O=a[n].s;g[O]<t?_-=1<<t-g[O]++-1:++n}for(;n>=0&&_;--n){var I=a[n].s;g[I]==t&&(--g[I],++_)}S=t}return{t:new ic(g),l:S}},O4=function(e,t,r){return e.s==-1?Math.max(O4(e.l,t,r+1),O4(e.r,t,r+1)):t[e.s]=r},TD=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ro(++t),n=0,i=e[0],a=1,s=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},tg=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},ZG=function(e,t,r){var n=r.length,i=XG(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},jD=function(e,t,r,n,i,a,s,o,c,u,h){wu(t,h++,r),++i[256];for(var m=AA(i,15),y=m.t,g=m.l,S=AA(a,15),_=S.t,w=S.l,A=TD(y),E=A.c,O=A.n,I=TD(_),k=I.c,F=I.n,B=new Ro(19),D=0;D<E.length;++D)++B[E[D]&31];for(var D=0;D<k.length;++D)++B[k[D]&31];for(var P=AA(B,7),K=P.t,$=P.l,z=19;z>4&&!K[ND[z-1]];--z);var X=u+5<<3,W=tg(i,cp)+tg(a,Lw)+s,V=tg(i,y)+tg(a,_)+s+14+3*z+tg(B,K)+2*B[16]+3*B[17]+7*B[18];if(c>=0&&X<=W&&X<=V)return ZG(t,h,e.subarray(c,c+u));var Q,ne,te,H;if(wu(t,h,1+(V<W)),h+=2,V<W){Q=Dg(y,g,0),ne=y,te=Dg(_,w,0),H=_;var le=Dg(K,$,0);wu(t,h,O-257),wu(t,h+5,F-1),wu(t,h+10,z-4),h+=14;for(var D=0;D<z;++D)wu(t,h+3*D,K[ND[D]]);h+=3*z;for(var fe=[E,k],q=0;q<2;++q)for(var Z=fe[q],D=0;D<Z.length;++D){var ae=Z[D]&31;wu(t,h,le[ae]),h+=K[ae],ae>15&&(wu(t,h,Z[D]>>5&127),h+=Z[D]>>12)}}else Q=EMe,ne=cp,te=CMe,H=Lw;for(var D=0;D<o;++D){var ge=n[D];if(ge>255){var ae=ge>>18&31;eg(t,h,Q[ae+257]),h+=ne[ae+257],ae>7&&(wu(t,h,ge>>23&31),h+=sj[ae]);var he=ge&31;eg(t,h,te[he]),h+=H[he],he>3&&(eg(t,h,ge>>5&8191),h+=oj[he])}else eg(t,h,Q[ge]),h+=ne[ge]}return eg(t,h,Q[256]),h+ne[256]},OMe=new aj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),QG=new ic(0),TMe=function(e,t,r,n,i,a){var s=a.z||e.length,o=new ic(n+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(n,o.length-i),u=a.l,h=(a.r||0)&7;if(t){h&&(c[0]=a.r>>3);for(var m=OMe[t-1],y=m>>13,g=m&8191,S=(1<<r)-1,_=a.p||new Ro(32768),w=a.h||new Ro(S+1),A=Math.ceil(r/3),E=2*A,O=function(je){return(e[je]^e[je+1]<<A^e[je+2]<<E)&S},I=new aj(25e3),k=new Ro(288),F=new Ro(32),B=0,D=0,P=a.i||0,K=0,$=a.w||0,z=0;P+2<s;++P){var X=O(P),W=P&32767,V=w[X];if(_[W]=V,w[X]=W,$<=P){var Q=s-P;if((B>7e3||K>24576)&&(Q>423||!u)){h=jD(e,c,0,I,k,F,D,K,z,P-z,h),K=B=D=0,z=P;for(var ne=0;ne<286;++ne)k[ne]=0;for(var ne=0;ne<30;++ne)F[ne]=0}var te=2,H=0,le=g,fe=W-V&32767;if(Q>2&&X==O(P-fe))for(var q=Math.min(y,Q)-1,Z=Math.min(32767,P),ae=Math.min(258,Q);fe<=Z&&--le&&W!=V;){if(e[P+te]==e[P+te-fe]){for(var ge=0;ge<ae&&e[P+ge]==e[P+ge-fe];++ge);if(ge>te){if(te=ge,H=fe,ge>q)break;for(var he=Math.min(fe,ge-2),Se=0,ne=0;ne<he;++ne){var Ae=P-fe+ne&32767,ye=_[Ae],Ne=Ae-ye&32767;Ne>Se&&(Se=Ne,V=Ae)}}}W=V,V=_[W],fe+=W-V&32767}if(H){I[K++]=268435456|C4[te]<<18|OD[H];var Ee=C4[te]&31,Ce=OD[H]&31;D+=sj[Ee]+oj[Ce],++k[257+Ee],++F[Ce],$=P+te,++B}else I[K++]=e[P],++k[e[P]]}}for(P=Math.max(P,$);P<s;++P)I[K++]=e[P],++k[e[P]];h=jD(e,c,u,I,k,F,D,K,z,P-z,h),u||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=w,a.p=_,a.i=P,a.w=$)}else{for(var P=a.w||0;P<s+u;P+=65535){var Re=P+65535;Re>=s&&(c[h/8|0]=u,Re=s),h=ZG(c,h+1,e.subarray(P,Re))}a.i=s}return NMe(o,0,n+XG(h)+i)},JG=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},jMe=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new ic(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return TMe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},eK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},IMe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=JG();i.p(t.dictionary),eK(e,2,i.d())}};function T4(e,t){t||(t={});var r=JG();r.p(e);var n=jMe(e,t,t.dictionary?6:2,4);return IMe(n,t),eK(n,n.length-4,r.d()),n}var kMe=typeof TextDecoder<"u"&&new TextDecoder,PMe=0;try{kMe.decode(QG,{stream:!0}),PMe=1}catch{}function MMe(e){if(Array.isArray(e))return e}function RMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ID(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function DMe(e,t){if(e){if(typeof e=="string")return ID(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ID(e,t):void 0}}function LMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kD(e,t){return MMe(e)||RMe(e,t)||DMe(e,t)||LMe()}function PD(e,t="utf8"){return new TextDecoder(t).decode(e)}const FMe=new TextEncoder;function BMe(e){return FMe.encode(e)}const $Me=1024*8,UMe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),EA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lj{constructor(t=$Me,r={}){kn(this,"buffer");kn(this,"byteLength");kn(this,"byteOffset");kn(this,"length");kn(this,"offset");kn(this,"lastWrittenByte");kn(this,"littleEndian");kn(this,"_data");kn(this,"_mark");kn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof lj)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=EA[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===UMe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const c=new EA[r](o.buffer);return this.offset+=n,c.reverse(),c}const s=new EA[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return PD(this.readBytes(t))}decodeText(t=1,r="utf8"){return PD(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(BMe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const zMe=4,MD=0,RD=1,qMe=2;function A1(e){let t=e.length;for(;--t>=0;)e[t]=0}const WMe=0,tK=1,HMe=2,VMe=3,GMe=258,cj=29,Ly=256,Jv=Ly+1+cj,R0=30,uj=19,rK=2*Jv+1,Nh=15,CA=16,KMe=7,dj=256,nK=16,iK=17,aK=18,j4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),k2=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),YMe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),sK=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XMe=512,Ou=new Array((Jv+2)*2);A1(Ou);const Lg=new Array(R0*2);A1(Lg);const ey=new Array(XMe);A1(ey);const ty=new Array(GMe-VMe+1);A1(ty);const fj=new Array(cj);A1(fj);const Fw=new Array(R0);A1(Fw);function NA(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let oK,lK,cK;function OA(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const uK=e=>e<256?ey[e]:ey[256+(e>>>7)],ry=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Qs=(e,t,r)=>{e.bi_valid>CA-r?(e.bi_buf|=t<<e.bi_valid&65535,ry(e,e.bi_buf),e.bi_buf=t>>CA-e.bi_valid,e.bi_valid+=r-CA):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Oc=(e,t,r)=>{Qs(e,r[t*2],r[t*2+1])},dK=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},ZMe=e=>{e.bi_valid===16?(ry(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},QMe=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,h,m,y,g,S,_=0;for(y=0;y<=Nh;y++)e.bl_count[y]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<rK;u++)h=e.heap[u],y=r[r[h*2+1]*2+1]+1,y>c&&(y=c,_++),r[h*2+1]=y,!(h>n)&&(e.bl_count[y]++,g=0,h>=o&&(g=s[h-o]),S=r[h*2],e.opt_len+=S*(y+g),a&&(e.static_len+=S*(i[h*2+1]+g)));if(_!==0){do{for(y=c-1;e.bl_count[y]===0;)y--;e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[c]--,_-=2}while(_>0);for(y=c;y!==0;y--)for(h=e.bl_count[y];h!==0;)m=e.heap[--u],!(m>n)&&(r[m*2+1]!==y&&(e.opt_len+=(y-r[m*2+1])*r[m*2],r[m*2+1]=y),h--)}},fK=(e,t,r)=>{const n=new Array(Nh+1);let i=0,a,s;for(a=1;a<=Nh;a++)i=i+r[a-1]<<1,n[a]=i;for(s=0;s<=t;s++){let o=e[s*2+1];o!==0&&(e[s*2]=dK(n[o]++,o))}},JMe=()=>{let e,t,r,n,i;const a=new Array(Nh+1);for(r=0,n=0;n<cj-1;n++)for(fj[n]=r,e=0;e<1<<j4[n];e++)ty[r++]=n;for(ty[r-1]=n,i=0,n=0;n<16;n++)for(Fw[n]=i,e=0;e<1<<k2[n];e++)ey[i++]=n;for(i>>=7;n<R0;n++)for(Fw[n]=i<<7,e=0;e<1<<k2[n]-7;e++)ey[256+i++]=n;for(t=0;t<=Nh;t++)a[t]=0;for(e=0;e<=143;)Ou[e*2+1]=8,e++,a[8]++;for(;e<=255;)Ou[e*2+1]=9,e++,a[9]++;for(;e<=279;)Ou[e*2+1]=7,e++,a[7]++;for(;e<=287;)Ou[e*2+1]=8,e++,a[8]++;for(fK(Ou,Jv+1,a),e=0;e<R0;e++)Lg[e*2+1]=5,Lg[e*2]=dK(e,5);oK=new NA(Ou,j4,Ly+1,Jv,Nh),lK=new NA(Lg,k2,0,R0,Nh),cK=new NA(new Array(0),YMe,0,uj,KMe)},hK=e=>{let t;for(t=0;t<Jv;t++)e.dyn_ltree[t*2]=0;for(t=0;t<R0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<uj;t++)e.bl_tree[t*2]=0;e.dyn_ltree[dj*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},pK=e=>{e.bi_valid>8?ry(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},DD=(e,t,r,n)=>{const i=t*2,a=r*2;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]},TA=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&DD(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!DD(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},LD=(e,t,r)=>{let n,i,a=0,s,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],n===0?Oc(e,i,t):(s=ty[i],Oc(e,s+Ly+1,t),o=j4[s],o!==0&&(i-=fj[s],Qs(e,i,o)),n--,s=uK(n),Oc(e,s,r),o=k2[s],o!==0&&(n-=Fw[s],Qs(e,n,o)));while(a<e.sym_next);Oc(e,dj,t)},I4=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,c=-1,u;for(e.heap_len=0,e.heap_max=rK,s=0;s<a;s++)r[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)TA(e,r,s);u=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],TA(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[u*2]=r[s*2]+r[o*2],e.depth[u]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[s*2+1]=r[o*2+1]=u,e.heap[1]=u++,TA(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],QMe(e,t),fK(r,c,e.bl_count)},FD=(e,t,r)=>{let n,i=-1,a,s=t[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=t[(n+1)*2+1],!(++o<c&&a===s)&&(o<u?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[nK*2]++):o<=10?e.bl_tree[iK*2]++:e.bl_tree[aK*2]++,o=0,i=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4))},BD=(e,t,r)=>{let n,i=-1,a,s=t[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),n=0;n<=r;n++)if(a=s,s=t[(n+1)*2+1],!(++o<c&&a===s)){if(o<u)do Oc(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(Oc(e,a,e.bl_tree),o--),Oc(e,nK,e.bl_tree),Qs(e,o-3,2)):o<=10?(Oc(e,iK,e.bl_tree),Qs(e,o-3,3)):(Oc(e,aK,e.bl_tree),Qs(e,o-11,7));o=0,i=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4)}},eRe=e=>{let t;for(FD(e,e.dyn_ltree,e.l_desc.max_code),FD(e,e.dyn_dtree,e.d_desc.max_code),I4(e,e.bl_desc),t=uj-1;t>=3&&e.bl_tree[sK[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},tRe=(e,t,r,n)=>{let i;for(Qs(e,t-257,5),Qs(e,r-1,5),Qs(e,n-4,4),i=0;i<n;i++)Qs(e,e.bl_tree[sK[i]*2+1],3);BD(e,e.dyn_ltree,t-1),BD(e,e.dyn_dtree,r-1)},rRe=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return MD;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return RD;for(r=32;r<Ly;r++)if(e.dyn_ltree[r*2]!==0)return RD;return MD};let $D=!1;const nRe=e=>{$D||(JMe(),$D=!0),e.l_desc=new OA(e.dyn_ltree,oK),e.d_desc=new OA(e.dyn_dtree,lK),e.bl_desc=new OA(e.bl_tree,cK),e.bi_buf=0,e.bi_valid=0,hK(e)},mK=(e,t,r,n)=>{Qs(e,(WMe<<1)+(n?1:0),3),pK(e),ry(e,r),ry(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},iRe=e=>{Qs(e,tK<<1,3),Oc(e,dj,Ou),ZMe(e)},aRe=(e,t,r,n)=>{let i,a,s=0;e.level>0?(e.strm.data_type===qMe&&(e.strm.data_type=rRe(e)),I4(e,e.l_desc),I4(e,e.d_desc),s=eRe(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&t!==-1?mK(e,t,r,n):e.strategy===zMe||a===i?(Qs(e,(tK<<1)+(n?1:0),3),LD(e,Ou,Lg)):(Qs(e,(HMe<<1)+(n?1:0),3),tRe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),LD(e,e.dyn_ltree,e.dyn_dtree)),hK(e),n&&pK(e)},sRe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(ty[r]+Ly+1)*2]++,e.dyn_dtree[uK(t)*2]++),e.sym_next===e.sym_end);var oRe=nRe,lRe=mK,cRe=aRe,uRe=sRe,dRe=iRe,fRe={_tr_init:oRe,_tr_stored_block:lRe,_tr_flush_block:cRe,_tr_tally:uRe,_tr_align:dRe};const hRe=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var ny=hRe;const pRe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},mRe=new Uint32Array(pRe()),gRe=(e,t,r,n)=>{const i=mRe,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var ja=gRe,qm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fy={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:vRe,_tr_stored_block:k4,_tr_flush_block:yRe,_tr_tally:bf,_tr_align:xRe}=fRe,{Z_NO_FLUSH:wf,Z_PARTIAL_FLUSH:bRe,Z_FULL_FLUSH:wRe,Z_FINISH:ul,Z_BLOCK:UD,Z_OK:Ka,Z_STREAM_END:zD,Z_STREAM_ERROR:zc,Z_DATA_ERROR:_Re,Z_BUF_ERROR:jA,Z_DEFAULT_COMPRESSION:SRe,Z_FILTERED:ARe,Z_HUFFMAN_ONLY:t2,Z_RLE:ERe,Z_FIXED:CRe,Z_DEFAULT_STRATEGY:NRe,Z_UNKNOWN:ORe,Z_DEFLATED:N5}=Fy,TRe=9,jRe=15,IRe=8,kRe=29,PRe=256,P4=PRe+1+kRe,MRe=30,RRe=19,DRe=2*P4+1,LRe=15,on=3,nf=258,qc=nf+on+1,FRe=32,Wm=42,hj=57,M4=69,R4=73,D4=91,L4=103,Oh=113,pg=666,js=1,E1=2,up=3,C1=4,BRe=3,Th=(e,t)=>(e.msg=qm[t],t),qD=e=>e*2-(e>4?9:0),Ud=e=>{let t=e.length;for(;--t>=0;)e[t]=0},$Re=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let URe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,_f=URe;const Eo=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Do=(e,t)=>{yRe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Eo(e.strm)},_n=(e,t)=>{e.pending_buf[e.pending++]=t},rg=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},F4=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=ny(e.adler,t,i,r):e.state.wrap===2&&(e.adler=ja(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},gK=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,a,s=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-qc?e.strstart-(e.w_size-qc):0,u=e.window,h=e.w_mask,m=e.prev,y=e.strstart+nf;let g=u[n+s-1],S=u[n+s];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(u[i+s]!==S||u[i+s-1]!==g||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<y);if(a=nf-(y-n),n=y-nf,a>s){if(e.match_start=t,s=a,a>=o)break;g=u[n+s-1],S=u[n+s]}}while((t=m[t&h])>c&&--r!==0);return s<=e.lookahead?s:e.lookahead},Hm=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-qc)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),$Re(e),n+=t),e.strm.avail_in===0)break;if(r=F4(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=on)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=_f(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=_f(e,e.ins_h,e.window[i+on-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<on)););}while(e.lookahead<qc&&e.strm.avail_in!==0)},vK=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,a,s=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&t!==ul||t===wf||n!==i+e.strm.avail_in)))break;s=t===ul&&n===i+e.strm.avail_in?1:0,k4(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Eo(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(F4(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?C1:t!==wf&&t!==ul&&e.strm.avail_in===0&&e.strstart===e.block_start?E1:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(F4(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,r=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=r||(i||t===ul)&&t!==wf&&e.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,s=t===ul&&e.strm.avail_in===0&&n===i?1:0,k4(e,e.block_start,n,s),e.block_start+=n,Eo(e.strm)),s?up:js)},IA=(e,t)=>{let r,n;for(;;){if(e.lookahead<qc){if(Hm(e),e.lookahead<qc&&t===wf)return js;if(e.lookahead===0)break}if(r=0,e.lookahead>=on&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+on-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-qc&&(e.match_length=gK(e,r)),e.match_length>=on)if(n=bf(e,e.strstart-e.match_start,e.match_length-on),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=on){e.match_length--;do e.strstart++,e.ins_h=_f(e,e.ins_h,e.window[e.strstart+on-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=_f(e,e.ins_h,e.window[e.strstart+1]);else n=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Do(e,!1),e.strm.avail_out===0))return js}return e.insert=e.strstart<on-1?e.strstart:on-1,t===ul?(Do(e,!0),e.strm.avail_out===0?up:C1):e.sym_next&&(Do(e,!1),e.strm.avail_out===0)?js:E1},Wp=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<qc){if(Hm(e),e.lookahead<qc&&t===wf)return js;if(e.lookahead===0)break}if(r=0,e.lookahead>=on&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+on-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=on-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-qc&&(e.match_length=gK(e,r),e.match_length<=5&&(e.strategy===ARe||e.match_length===on&&e.strstart-e.match_start>4096)&&(e.match_length=on-1)),e.prev_length>=on&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-on,n=bf(e,e.strstart-1-e.prev_match,e.prev_length-on),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+on-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=on-1,e.strstart++,n&&(Do(e,!1),e.strm.avail_out===0))return js}else if(e.match_available){if(n=bf(e,0,e.window[e.strstart-1]),n&&Do(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return js}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=bf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<on-1?e.strstart:on-1,t===ul?(Do(e,!0),e.strm.avail_out===0?up:C1):e.sym_next&&(Do(e,!1),e.strm.avail_out===0)?js:E1},zRe=(e,t)=>{let r,n,i,a;const s=e.window;for(;;){if(e.lookahead<=nf){if(Hm(e),e.lookahead<=nf&&t===wf)return js;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=on&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+nf;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=nf-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=on?(r=bf(e,1,e.match_length-on),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Do(e,!1),e.strm.avail_out===0))return js}return e.insert=0,t===ul?(Do(e,!0),e.strm.avail_out===0?up:C1):e.sym_next&&(Do(e,!1),e.strm.avail_out===0)?js:E1},qRe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Hm(e),e.lookahead===0)){if(t===wf)return js;break}if(e.match_length=0,r=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Do(e,!1),e.strm.avail_out===0))return js}return e.insert=0,t===ul?(Do(e,!0),e.strm.avail_out===0?up:C1):e.sym_next&&(Do(e,!1),e.strm.avail_out===0)?js:E1};function vc(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const mg=[new vc(0,0,0,0,vK),new vc(4,4,8,4,IA),new vc(4,5,16,8,IA),new vc(4,6,32,32,IA),new vc(4,4,16,16,Wp),new vc(8,16,32,32,Wp),new vc(8,16,128,128,Wp),new vc(8,32,128,256,Wp),new vc(32,128,258,1024,Wp),new vc(32,258,258,4096,Wp)],WRe=e=>{e.window_size=2*e.w_size,Ud(e.head),e.max_lazy_match=mg[e.level].max_lazy,e.good_match=mg[e.level].good_length,e.nice_match=mg[e.level].nice_length,e.max_chain_length=mg[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=on-1,e.match_available=0,e.ins_h=0};function HRe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N5,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(DRe*2),this.dyn_dtree=new Uint16Array((2*MRe+1)*2),this.bl_tree=new Uint16Array((2*RRe+1)*2),Ud(this.dyn_ltree),Ud(this.dyn_dtree),Ud(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(LRe+1),this.heap=new Uint16Array(2*P4+1),Ud(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*P4+1),Ud(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const By=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Wm&&t.status!==hj&&t.status!==M4&&t.status!==R4&&t.status!==D4&&t.status!==L4&&t.status!==Oh&&t.status!==pg?1:0},yK=e=>{if(By(e))return Th(e,zc);e.total_in=e.total_out=0,e.data_type=ORe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?hj:t.wrap?Wm:Oh,e.adler=t.wrap===2?0:1,t.last_flush=-2,vRe(t),Ka},xK=e=>{const t=yK(e);return t===Ka&&WRe(e.state),t},VRe=(e,t)=>By(e)||e.state.wrap!==2?zc:(e.state.gzhead=t,Ka),bK=(e,t,r,n,i,a)=>{if(!e)return zc;let s=1;if(t===SRe&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>TRe||r!==N5||n<8||n>15||t<0||t>9||a<0||a>CRe||n===8&&s!==1)return Th(e,zc);n===8&&(n=9);const o=new HRe;return e.state=o,o.strm=e,o.status=Wm,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+on-1)/on),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=a,o.method=r,xK(e)},GRe=(e,t)=>bK(e,t,N5,jRe,IRe,NRe),KRe=(e,t)=>{if(By(e)||t>UD||t<0)return e?Th(e,zc):zc;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===pg&&t!==ul)return Th(e,e.avail_out===0?jA:zc);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Eo(e),e.avail_out===0)return r.last_flush=-1,Ka}else if(e.avail_in===0&&qD(t)<=qD(n)&&t!==ul)return Th(e,jA);if(r.status===pg&&e.avail_in!==0)return Th(e,jA);if(r.status===Wm&&r.wrap===0&&(r.status=Oh),r.status===Wm){let i=N5+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=t2||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=FRe),i+=31-i%31,rg(r,i),r.strstart!==0&&(rg(r,e.adler>>>16),rg(r,e.adler&65535)),e.adler=1,r.status=Oh,Eo(e),r.pending!==0)return r.last_flush=-1,Ka}if(r.status===hj){if(e.adler=0,_n(r,31),_n(r,139),_n(r,8),r.gzhead)_n(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),_n(r,r.gzhead.time&255),_n(r,r.gzhead.time>>8&255),_n(r,r.gzhead.time>>16&255),_n(r,r.gzhead.time>>24&255),_n(r,r.level===9?2:r.strategy>=t2||r.level<2?4:0),_n(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(_n(r,r.gzhead.extra.length&255),_n(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ja(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=M4;else if(_n(r,0),_n(r,0),_n(r,0),_n(r,0),_n(r,0),_n(r,r.level===9?2:r.strategy>=t2||r.level<2?4:0),_n(r,BRe),r.status=Oh,Eo(e),r.pending!==0)return r.last_flush=-1,Ka}if(r.status===M4){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=ja(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,Eo(e),r.pending!==0)return r.last_flush=-1,Ka;i=0,a-=o}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(e.adler=ja(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=R4}if(r.status===R4){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=ja(e.adler,r.pending_buf,r.pending-i,i)),Eo(e),r.pending!==0)return r.last_flush=-1,Ka;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,_n(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ja(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=D4}if(r.status===D4){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=ja(e.adler,r.pending_buf,r.pending-i,i)),Eo(e),r.pending!==0)return r.last_flush=-1,Ka;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,_n(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ja(e.adler,r.pending_buf,r.pending-i,i))}r.status=L4}if(r.status===L4){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Eo(e),r.pending!==0))return r.last_flush=-1,Ka;_n(r,e.adler&255),_n(r,e.adler>>8&255),e.adler=0}if(r.status=Oh,Eo(e),r.pending!==0)return r.last_flush=-1,Ka}if(e.avail_in!==0||r.lookahead!==0||t!==wf&&r.status!==pg){let i=r.level===0?vK(r,t):r.strategy===t2?qRe(r,t):r.strategy===ERe?zRe(r,t):mg[r.level].func(r,t);if((i===up||i===C1)&&(r.status=pg),i===js||i===up)return e.avail_out===0&&(r.last_flush=-1),Ka;if(i===E1&&(t===bRe?xRe(r):t!==UD&&(k4(r,0,0,!1),t===wRe&&(Ud(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Eo(e),e.avail_out===0))return r.last_flush=-1,Ka}return t!==ul?Ka:r.wrap<=0?zD:(r.wrap===2?(_n(r,e.adler&255),_n(r,e.adler>>8&255),_n(r,e.adler>>16&255),_n(r,e.adler>>24&255),_n(r,e.total_in&255),_n(r,e.total_in>>8&255),_n(r,e.total_in>>16&255),_n(r,e.total_in>>24&255)):(rg(r,e.adler>>>16),rg(r,e.adler&65535)),Eo(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ka:zD)},YRe=e=>{if(By(e))return zc;const t=e.state.status;return e.state=null,t===Oh?Th(e,_Re):Ka},XRe=(e,t)=>{let r=t.length;if(By(e))return zc;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Wm||n.lookahead)return zc;if(i===1&&(e.adler=ny(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Ud(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Hm(n);n.lookahead>=on;){let c=n.strstart,u=n.lookahead-(on-1);do n.ins_h=_f(n,n.ins_h,n.window[c+on-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=on-1,Hm(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=on-1,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,n.wrap=i,Ka};var ZRe=GRe,QRe=bK,JRe=xK,eDe=yK,tDe=VRe,rDe=KRe,nDe=YRe,iDe=XRe,aDe="pako deflate (from Nodeca project)",Fg={deflateInit:ZRe,deflateInit2:QRe,deflateReset:JRe,deflateResetKeep:eDe,deflateSetHeader:tDe,deflate:rDe,deflateEnd:nDe,deflateSetDictionary:iDe,deflateInfo:aDe};const sDe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var oDe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)sDe(r,n)&&(e[n]=r[n])}}return e},lDe=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},O5={assign:oDe,flattenChunks:lDe};let wK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wK=!1}const iy=new Uint8Array(256);for(let e=0;e<256;e++)iy[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;iy[254]=iy[254]=1;var cDe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const uDe=(e,t)=>{if(t<65534&&e.subarray&&wK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var dDe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=iy[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return uDe(a,i)},fDe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+iy[e[r]]>t?r:t},ay={string2buf:cDe,buf2string:dDe,utf8border:fDe};function hDe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _K=hDe;const SK=Object.prototype.toString,{Z_NO_FLUSH:pDe,Z_SYNC_FLUSH:mDe,Z_FULL_FLUSH:gDe,Z_FINISH:vDe,Z_OK:Bw,Z_STREAM_END:yDe,Z_DEFAULT_COMPRESSION:xDe,Z_DEFAULT_STRATEGY:bDe,Z_DEFLATED:wDe}=Fy;function pj(e){this.options=O5.assign({level:xDe,method:wDe,chunkSize:16384,windowBits:15,memLevel:8,strategy:bDe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _K,this.strm.avail_out=0;let r=Fg.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Bw)throw new Error(qm[r]);if(t.header&&Fg.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=ay.string2buf(t.dictionary):SK.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Fg.deflateSetDictionary(this.strm,n),r!==Bw)throw new Error(qm[r]);this._dict_set=!0}}pj.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?vDe:pDe,typeof e=="string"?r.input=ay.string2buf(e):SK.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===mDe||a===gDe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Fg.deflate(r,a),i===yDe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Fg.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Bw;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};pj.prototype.onData=function(e){this.chunks.push(e)};pj.prototype.onEnd=function(e){e===Bw&&(this.result=O5.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const r2=16209,_De=16191;var SDe=function(t,r){let n,i,a,s,o,c,u,h,m,y,g,S,_,w,A,E,O,I,k,F,B,D,P,K;const $=t.state;n=t.next_in,P=t.input,i=n+(t.avail_in-5),a=t.next_out,K=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),c=$.dmax,u=$.wsize,h=$.whave,m=$.wnext,y=$.window,g=$.hold,S=$.bits,_=$.lencode,w=$.distcode,A=(1<<$.lenbits)-1,E=(1<<$.distbits)-1;e:do{S<15&&(g+=P[n++]<<S,S+=8,g+=P[n++]<<S,S+=8),O=_[g&A];t:for(;;){if(I=O>>>24,g>>>=I,S-=I,I=O>>>16&255,I===0)K[a++]=O&65535;else if(I&16){k=O&65535,I&=15,I&&(S<I&&(g+=P[n++]<<S,S+=8),k+=g&(1<<I)-1,g>>>=I,S-=I),S<15&&(g+=P[n++]<<S,S+=8,g+=P[n++]<<S,S+=8),O=w[g&E];r:for(;;){if(I=O>>>24,g>>>=I,S-=I,I=O>>>16&255,I&16){if(F=O&65535,I&=15,S<I&&(g+=P[n++]<<S,S+=8,S<I&&(g+=P[n++]<<S,S+=8)),F+=g&(1<<I)-1,F>c){t.msg="invalid distance too far back",$.mode=r2;break e}if(g>>>=I,S-=I,I=a-s,F>I){if(I=F-I,I>h&&$.sane){t.msg="invalid distance too far back",$.mode=r2;break e}if(B=0,D=y,m===0){if(B+=u-I,I<k){k-=I;do K[a++]=y[B++];while(--I);B=a-F,D=K}}else if(m<I){if(B+=u+m-I,I-=m,I<k){k-=I;do K[a++]=y[B++];while(--I);if(B=0,m<k){I=m,k-=I;do K[a++]=y[B++];while(--I);B=a-F,D=K}}}else if(B+=m-I,I<k){k-=I;do K[a++]=y[B++];while(--I);B=a-F,D=K}for(;k>2;)K[a++]=D[B++],K[a++]=D[B++],K[a++]=D[B++],k-=3;k&&(K[a++]=D[B++],k>1&&(K[a++]=D[B++]))}else{B=a-F;do K[a++]=K[B++],K[a++]=K[B++],K[a++]=K[B++],k-=3;while(k>2);k&&(K[a++]=K[B++],k>1&&(K[a++]=K[B++]))}}else if(I&64){t.msg="invalid distance code",$.mode=r2;break e}else{O=w[(O&65535)+(g&(1<<I)-1)];continue r}break}}else if(I&64)if(I&32){$.mode=_De;break e}else{t.msg="invalid literal/length code",$.mode=r2;break e}else{O=_[(O&65535)+(g&(1<<I)-1)];continue t}break}}while(n<i&&a<o);k=S>>3,n-=k,S-=k<<3,g&=(1<<S)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),$.hold=g,$.bits=S};const Hp=15,WD=852,HD=592,VD=0,kA=1,GD=2,ADe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),EDe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),CDe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NDe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ODe=(e,t,r,n,i,a,s,o)=>{const c=o.bits;let u=0,h=0,m=0,y=0,g=0,S=0,_=0,w=0,A=0,E=0,O,I,k,F,B,D=null,P;const K=new Uint16Array(Hp+1),$=new Uint16Array(Hp+1);let z=null,X,W,V;for(u=0;u<=Hp;u++)K[u]=0;for(h=0;h<n;h++)K[t[r+h]]++;for(g=c,y=Hp;y>=1&&K[y]===0;y--);if(g>y&&(g=y),y===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<y&&K[m]===0;m++);for(g<m&&(g=m),w=1,u=1;u<=Hp;u++)if(w<<=1,w-=K[u],w<0)return-1;if(w>0&&(e===VD||y!==1))return-1;for($[1]=0,u=1;u<Hp;u++)$[u+1]=$[u]+K[u];for(h=0;h<n;h++)t[r+h]!==0&&(s[$[t[r+h]]++]=h);if(e===VD?(D=z=s,P=20):e===kA?(D=ADe,z=EDe,P=257):(D=CDe,z=NDe,P=0),E=0,h=0,u=m,B=a,S=g,_=0,k=-1,A=1<<g,F=A-1,e===kA&&A>WD||e===GD&&A>HD)return 1;for(;;){X=u-_,s[h]+1<P?(W=0,V=s[h]):s[h]>=P?(W=z[s[h]-P],V=D[s[h]-P]):(W=96,V=0),O=1<<u-_,I=1<<S,m=I;do I-=O,i[B+(E>>_)+I]=X<<24|W<<16|V|0;while(I!==0);for(O=1<<u-1;E&O;)O>>=1;if(O!==0?(E&=O-1,E+=O):E=0,h++,--K[u]===0){if(u===y)break;u=t[r+s[h]]}if(u>g&&(E&F)!==k){for(_===0&&(_=g),B+=m,S=u-_,w=1<<S;S+_<y&&(w-=K[S+_],!(w<=0));)S++,w<<=1;if(A+=1<<S,e===kA&&A>WD||e===GD&&A>HD)return 1;k=E&F,i[k]=g<<24|S<<16|B-a|0}}return E!==0&&(i[B+E]=u-_<<24|64<<16|0),o.bits=g,0};var Bg=ODe;const TDe=0,AK=1,EK=2,{Z_FINISH:KD,Z_BLOCK:jDe,Z_TREES:n2,Z_OK:dp,Z_STREAM_END:IDe,Z_NEED_DICT:kDe,Z_STREAM_ERROR:xl,Z_DATA_ERROR:CK,Z_MEM_ERROR:NK,Z_BUF_ERROR:PDe,Z_DEFLATED:YD}=Fy,T5=16180,XD=16181,ZD=16182,QD=16183,JD=16184,eL=16185,tL=16186,rL=16187,nL=16188,iL=16189,$w=16190,_u=16191,PA=16192,aL=16193,MA=16194,sL=16195,oL=16196,lL=16197,cL=16198,i2=16199,a2=16200,uL=16201,dL=16202,fL=16203,hL=16204,pL=16205,RA=16206,mL=16207,gL=16208,mi=16209,OK=16210,TK=16211,MDe=852,RDe=592,DDe=15,LDe=DDe,vL=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function FDe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ap=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<T5||t.mode>TK?1:0},jK=e=>{if(Ap(e))return xl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=T5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(MDe),t.distcode=t.distdyn=new Int32Array(RDe),t.sane=1,t.back=-1,dp},IK=e=>{if(Ap(e))return xl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,jK(e)},kK=(e,t)=>{let r;if(Ap(e))return xl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?xl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,IK(e))},PK=(e,t)=>{if(!e)return xl;const r=new FDe;e.state=r,r.strm=e,r.window=null,r.mode=T5;const n=kK(e,t);return n!==dp&&(e.state=null),n},BDe=e=>PK(e,LDe);let yL=!0,DA,LA;const $De=e=>{if(yL){DA=new Int32Array(512),LA=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Bg(AK,e.lens,0,288,DA,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Bg(EK,e.lens,0,32,LA,0,e.work,{bits:5}),yL=!1}e.lencode=DA,e.lenbits=9,e.distcode=LA,e.distbits=5},MK=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},UDe=(e,t)=>{let r,n,i,a,s,o,c,u,h,m,y,g,S,_,w=0,A,E,O,I,k,F,B,D;const P=new Uint8Array(4);let K,$;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ap(e)||!e.output||!e.input&&e.avail_in!==0)return xl;r=e.state,r.mode===_u&&(r.mode=PA),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,m=o,y=c,D=dp;e:for(;;)switch(r.mode){case T5:if(r.wrap===0){r.mode=PA;break}for(;h<16;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=ja(r.check,P,2,0),u=0,h=0,r.mode=XD;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=mi;break}if((u&15)!==YD){e.msg="unknown compression method",r.mode=mi;break}if(u>>>=4,h-=4,B=(u&15)+8,r.wbits===0&&(r.wbits=B),B>15||B>r.wbits){e.msg="invalid window size",r.mode=mi;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?iL:_u,u=0,h=0;break;case XD:for(;h<16;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==YD){e.msg="unknown compression method",r.mode=mi;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=mi;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=ja(r.check,P,2,0)),u=0,h=0,r.mode=ZD;case ZD:for(;h<32;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=ja(r.check,P,4,0)),u=0,h=0,r.mode=QD;case QD:for(;h<16;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=ja(r.check,P,2,0)),u=0,h=0,r.mode=JD;case JD:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=ja(r.check,P,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=eL;case eL:if(r.flags&1024&&(g=r.length,g>o&&(g=o),g&&(r.head&&(B=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+g),B)),r.flags&512&&r.wrap&4&&(r.check=ja(r.check,n,g,a)),o-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=tL;case tL:if(r.flags&2048){if(o===0)break e;g=0;do B=n[a+g++],r.head&&B&&r.length<65536&&(r.head.name+=String.fromCharCode(B));while(B&&g<o);if(r.flags&512&&r.wrap&4&&(r.check=ja(r.check,n,g,a)),o-=g,a+=g,B)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=rL;case rL:if(r.flags&4096){if(o===0)break e;g=0;do B=n[a+g++],r.head&&B&&r.length<65536&&(r.head.comment+=String.fromCharCode(B));while(B&&g<o);if(r.flags&512&&r.wrap&4&&(r.check=ja(r.check,n,g,a)),o-=g,a+=g,B)break e}else r.head&&(r.head.comment=null);r.mode=nL;case nL:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=mi;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=_u;break;case iL:for(;h<32;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}e.adler=r.check=vL(u),u=0,h=0,r.mode=$w;case $w:if(r.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,kDe;e.adler=r.check=1,r.mode=_u;case _u:if(t===jDe||t===n2)break e;case PA:if(r.last){u>>>=h&7,h-=h&7,r.mode=RA;break}for(;h<3;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=aL;break;case 1:if($De(r),r.mode=i2,t===n2){u>>>=2,h-=2;break e}break;case 2:r.mode=oL;break;case 3:e.msg="invalid block type",r.mode=mi}u>>>=2,h-=2;break;case aL:for(u>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=mi;break}if(r.length=u&65535,u=0,h=0,r.mode=MA,t===n2)break e;case MA:r.mode=sL;case sL:if(g=r.length,g){if(g>o&&(g=o),g>c&&(g=c),g===0)break e;i.set(n.subarray(a,a+g),s),o-=g,a+=g,c-=g,s+=g,r.length-=g;break}r.mode=_u;break;case oL:for(;h<14;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=mi;break}r.have=0,r.mode=lL;case lL:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}r.lens[z[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,K={bits:r.lenbits},D=Bg(TDe,r.lens,0,19,r.lencode,0,r.work,K),r.lenbits=K.bits,D){e.msg="invalid code lengths set",r.mode=mi;break}r.have=0,r.mode=cL;case cL:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[u&(1<<r.lenbits)-1],A=w>>>24,E=w>>>16&255,O=w&65535,!(A<=h);){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(O<16)u>>>=A,h-=A,r.lens[r.have++]=O;else{if(O===16){for($=A+2;h<$;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(u>>>=A,h-=A,r.have===0){e.msg="invalid bit length repeat",r.mode=mi;break}B=r.lens[r.have-1],g=3+(u&3),u>>>=2,h-=2}else if(O===17){for($=A+3;h<$;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}u>>>=A,h-=A,B=0,g=3+(u&7),u>>>=3,h-=3}else{for($=A+7;h<$;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}u>>>=A,h-=A,B=0,g=11+(u&127),u>>>=7,h-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=mi;break}for(;g--;)r.lens[r.have++]=B}}if(r.mode===mi)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=mi;break}if(r.lenbits=9,K={bits:r.lenbits},D=Bg(AK,r.lens,0,r.nlen,r.lencode,0,r.work,K),r.lenbits=K.bits,D){e.msg="invalid literal/lengths set",r.mode=mi;break}if(r.distbits=6,r.distcode=r.distdyn,K={bits:r.distbits},D=Bg(EK,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,K),r.distbits=K.bits,D){e.msg="invalid distances set",r.mode=mi;break}if(r.mode=i2,t===n2)break e;case i2:r.mode=a2;case a2:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,SDe(e,y),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,r.mode===_u&&(r.back=-1);break}for(r.back=0;w=r.lencode[u&(1<<r.lenbits)-1],A=w>>>24,E=w>>>16&255,O=w&65535,!(A<=h);){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(E&&!(E&240)){for(I=A,k=E,F=O;w=r.lencode[F+((u&(1<<I+k)-1)>>I)],A=w>>>24,E=w>>>16&255,O=w&65535,!(I+A<=h);){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}u>>>=I,h-=I,r.back+=I}if(u>>>=A,h-=A,r.back+=A,r.length=O,E===0){r.mode=pL;break}if(E&32){r.back=-1,r.mode=_u;break}if(E&64){e.msg="invalid literal/length code",r.mode=mi;break}r.extra=E&15,r.mode=uL;case uL:if(r.extra){for($=r.extra;h<$;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=dL;case dL:for(;w=r.distcode[u&(1<<r.distbits)-1],A=w>>>24,E=w>>>16&255,O=w&65535,!(A<=h);){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(!(E&240)){for(I=A,k=E,F=O;w=r.distcode[F+((u&(1<<I+k)-1)>>I)],A=w>>>24,E=w>>>16&255,O=w&65535,!(I+A<=h);){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}u>>>=I,h-=I,r.back+=I}if(u>>>=A,h-=A,r.back+=A,E&64){e.msg="invalid distance code",r.mode=mi;break}r.offset=O,r.extra=E&15,r.mode=fL;case fL:if(r.extra){for($=r.extra;h<$;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=mi;break}r.mode=hL;case hL:if(c===0)break e;if(g=y-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=mi;break}g>r.wnext?(g-=r.wnext,S=r.wsize-g):S=r.wnext-g,g>r.length&&(g=r.length),_=r.window}else _=i,S=s-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do i[s++]=_[S++];while(--g);r.length===0&&(r.mode=a2);break;case pL:if(c===0)break e;i[s++]=r.length,c--,r.mode=a2;break;case RA:if(r.wrap){for(;h<32;){if(o===0)break e;o--,u|=n[a++]<<h,h+=8}if(y-=c,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?ja(r.check,i,y,s-y):ny(r.check,i,y,s-y)),y=c,r.wrap&4&&(r.flags?u:vL(u))!==r.check){e.msg="incorrect data check",r.mode=mi;break}u=0,h=0}r.mode=mL;case mL:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,u+=n[a++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=mi;break}u=0,h=0}r.mode=gL;case gL:D=IDe;break e;case mi:D=CK;break e;case OK:return NK;case TK:default:return xl}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,(r.wsize||y!==e.avail_out&&r.mode<mi&&(r.mode<RA||t!==KD))&&MK(e,e.output,e.next_out,y-e.avail_out),m-=e.avail_in,y-=e.avail_out,e.total_in+=m,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?ja(r.check,i,y,e.next_out-y):ny(r.check,i,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(r.mode===_u?128:0)+(r.mode===i2||r.mode===MA?256:0),(m===0&&y===0||t===KD)&&D===dp&&(D=PDe),D},zDe=e=>{if(Ap(e))return xl;let t=e.state;return t.window&&(t.window=null),e.state=null,dp},qDe=(e,t)=>{if(Ap(e))return xl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,dp):xl},WDe=(e,t)=>{const r=t.length;let n,i,a;return Ap(e)||(n=e.state,n.wrap!==0&&n.mode!==$w)?xl:n.mode===$w&&(i=1,i=ny(i,t,r,0),i!==n.check)?CK:(a=MK(e,t,r,r),a?(n.mode=OK,NK):(n.havedict=1,dp))};var HDe=IK,VDe=kK,GDe=jK,KDe=BDe,YDe=PK,XDe=UDe,ZDe=zDe,QDe=qDe,JDe=WDe,eLe="pako inflate (from Nodeca project)",Tu={inflateReset:HDe,inflateReset2:VDe,inflateResetKeep:GDe,inflateInit:KDe,inflateInit2:YDe,inflate:XDe,inflateEnd:ZDe,inflateGetHeader:QDe,inflateSetDictionary:JDe,inflateInfo:eLe};function tLe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rLe=tLe;const RK=Object.prototype.toString,{Z_NO_FLUSH:nLe,Z_FINISH:iLe,Z_OK:sy,Z_STREAM_END:FA,Z_NEED_DICT:BA,Z_STREAM_ERROR:aLe,Z_DATA_ERROR:xL,Z_MEM_ERROR:sLe}=Fy;function $y(e){this.options=O5.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _K,this.strm.avail_out=0;let r=Tu.inflateInit2(this.strm,t.windowBits);if(r!==sy)throw new Error(qm[r]);if(this.header=new rLe,Tu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ay.string2buf(t.dictionary):RK.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Tu.inflateSetDictionary(this.strm,t.dictionary),r!==sy)))throw new Error(qm[r])}$y.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?iLe:nLe,RK.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Tu.inflate(r,s),a===BA&&i&&(a=Tu.inflateSetDictionary(r,i),a===sy?a=Tu.inflate(r,s):a===xL&&(a=BA));r.avail_in>0&&a===FA&&r.state.wrap>0&&e[r.next_in]!==0;)Tu.inflateReset(r),a=Tu.inflate(r,s);switch(a){case aLe:case xL:case BA:case sLe:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===FA))if(this.options.to==="string"){let c=ay.utf8border(r.output,r.next_out),u=r.next_out-c,h=ay.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===sy&&o===0)){if(a===FA)return a=Tu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};$y.prototype.onData=function(e){this.chunks.push(e)};$y.prototype.onEnd=function(e){e===sy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=O5.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function mj(e,t){const r=new $y(t);if(r.push(e),r.err)throw r.msg||qm[r.err];return r.result}function oLe(e,t){return t=t||{},t.raw=!0,mj(e,t)}var lLe=$y,cLe=mj,uLe=oLe,dLe=mj,fLe=Fy,hLe={Inflate:lLe,inflate:cLe,inflateRaw:uLe,ungzip:dLe,constants:fLe};const{Inflate:pLe,inflate:mLe,inflateRaw:q9e,ungzip:W9e}=hLe;var bL=pLe,gLe=mLe;const DK=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;DK[e]=t}const wL=4294967295;function vLe(e,t,r){let n=e;for(let i=0;i<r;i++)n=DK[(n^t[i])&255]^n>>>8;return n}function yLe(e,t){return(vLe(wL,e,t)^wL)>>>0}function _L(e,t,r){const n=e.readUint32(),i=yLe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function LK(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function FK(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function BK(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function $K(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function UK(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+xLe(t[a-i],r[a],r[a-i])&255}}function xLe(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function bLe(e,t,r,n,i,a){switch(e){case 0:LK(t,r,i);break;case 1:FK(t,r,i,a);break;case 2:BK(t,r,n,i);break;case 3:$K(t,r,n,i,a);break;case 4:UK(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const wLe=new Uint16Array([255]),_Le=new Uint8Array(wLe.buffer),SLe=_Le[0]===255;function ALe(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,c=new Uint8Array(n*r*o);let u=0;for(let h=0;h<7;h++){const m=s[h],y=Math.ceil((r-m.x)/m.xStep),g=Math.ceil((n-m.y)/m.yStep);if(y<=0||g<=0)continue;const S=y*o,_=new Uint8Array(S);for(let w=0;w<g;w++){const A=t[u++],E=t.subarray(u,u+S);u+=S;const O=new Uint8Array(S);bLe(A,E,O,_,S,o),_.set(O);for(let I=0;I<y;I++){const k=m.x+I*m.xStep,F=m.y+w*m.yStep;if(!(k>=r||F>=n))for(let B=0;B<o;B++)c[(F*r+k)*o+B]=O[I*o+B]}}}if(a===16){const h=new Uint16Array(c.buffer);if(SLe)for(let m=0;m<h.length;m++)h[m]=ELe(h[m]);return h}else return c}function ELe(e){return(e&255)<<8|e>>8&255}const CLe=new Uint16Array([255]),NLe=new Uint8Array(CLe.buffer),OLe=NLe[0]===255,TLe=new Uint8Array(0);function SL(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),c=new Uint8Array(n*o);let u=TLe,h=0,m,y;for(let g=0;g<n;g++){switch(m=t.subarray(h+1,h+1+o),y=c.subarray(g*o,(g+1)*o),t[h]){case 0:LK(m,y,o);break;case 1:FK(m,y,o,s);break;case 2:BK(m,y,u,o);break;case 3:$K(m,y,u,o,s);break;case 4:UK(m,y,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=y,h+=o+1}if(a===16){const g=new Uint16Array(c.buffer);if(OLe)for(let S=0;S<g.length;S++)g[S]=jLe(g[S]);return g}else return c}function jLe(e){return(e&255)<<8|e>>8&255}const P2=Uint8Array.of(137,80,78,71,13,10,26,10);function AL(e){if(!ILe(e.readBytes(P2.length)))throw new Error("wrong PNG signature")}function ILe(e){if(e.length<P2.length)return!1;for(let t=0;t<P2.length;t++)if(e[t]!==P2[t])return!1;return!0}const kLe="tEXt",PLe=0,zK=new TextDecoder("latin1");function MLe(e){if(DLe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const RLe=/^[\u0000-\u00FF]*$/;function DLe(e){if(!RLe.test(e))throw new Error("invalid latin1 text")}function LLe(e,t,r){const n=qK(t);e[n]=FLe(t,r-n.length-1)}function qK(e){for(e.mark();e.readByte()!==PLe;);const t=e.offset;e.reset();const r=zK.decode(e.readBytes(t-e.offset-1));return e.skip(1),MLe(r),r}function FLe(e,t){return zK.decode(e.readBytes(t))}const xo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$A={UNKNOWN:-1,DEFLATE:0},EL={UNKNOWN:-1,ADAPTIVE:0},UA={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},s2={NONE:0,BACKGROUND:1,PREVIOUS:2},zA={SOURCE:0,OVER:1};class BLe extends lj{constructor(r,n={}){super(r);kn(this,"_checkCrc");kn(this,"_inflator");kn(this,"_png");kn(this,"_apng");kn(this,"_end");kn(this,"_hasPalette");kn(this,"_palette");kn(this,"_hasTransparency");kn(this,"_transparency");kn(this,"_compressionMethod");kn(this,"_filterMethod");kn(this,"_interlaceMethod");kn(this,"_colorType");kn(this,"_isAnimated");kn(this,"_numberOfFrames");kn(this,"_numberOfPlays");kn(this,"_frames");kn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new bL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$A.UNKNOWN,this._filterMethod=EL.UNKNOWN,this._interlaceMethod=UA.UNKNOWN,this._colorType=xo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(AL(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(AL(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case kLe:LLe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?_L(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?_L(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=$Le(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case xo.GREYSCALE:i=1;break;case xo.TRUECOLOUR:i=3;break;case xo.INDEXED_COLOUR:i=1;break;case xo.GREYSCALE_ALPHA:i=2;break;case xo.TRUECOLOUR_ALPHA:i=4;break;case xo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==$A.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case xo.GREYSCALE:case xo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case xo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case xo.UNKNOWN:case xo.GREYSCALE_ALPHA:case xo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=qK(this),i=this.readUint8();if(i!==$A.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:gLe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=SL({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case s2.NONE:break;case s2.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[o+c]=0}break;case s2.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const c=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(s*n.width+o)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case zA.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:u}=a(s,o);for(let h=0;h<this._png.channels;h++)r.data[c+h]=n.data[u+h]}break;case zA.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:u}=a(s,o);for(let h=0;h<this._png.channels;h++){const m=n.data[u+this._png.channels-1]/i,y=h%(this._png.channels-1)===0?1:n.data[u+h],g=Math.floor(m*y+(1-m)*r.data[c+h]);r.data[c+h]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==EL.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===UA.NO_INTERLACE)this._png.data=SL({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===UA.ADAM7)this._png.data=ALe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:s2.NONE,blendOp:zA.SOURCE,data:r}),this._inflator=new bL,this._writingDataChunks=!1}}function $Le(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var CL;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(CL||(CL={}));function ULe(e,t){return new BLe(e,t).decode()}var Tr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qA(){Tr.console&&typeof Tr.console.log=="function"&&Tr.console.log.apply(Tr.console,arguments)}var Gn={log:qA,warn:function(e){Tr.console&&(typeof Tr.console.warn=="function"?Tr.console.warn.apply(Tr.console,arguments):qA.call(null,arguments))},error:function(e){Tr.console&&(typeof Tr.console.error=="function"?Tr.console.error.apply(Tr.console,arguments):qA(e))}};function WA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){hh(n.response,t,r)},n.onerror=function(){Gn.error("could not download file")},n.send()}function NL(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function o2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hh=Tr.saveAs||((typeof window>"u"?"undefined":Dn(window))!=="object"||window!==Tr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Tr.URL||Tr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?NL(i.href)?WA(e,t,r):o2(i,i.target="_blank"):o2(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){o2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(NL(e))WA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){o2(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Dn(a)!=="object"&&(Gn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return WA(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(Tr.HTMLElement)||Tr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Dn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(e)}else{var c=Tr.URL||Tr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function WK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var M2=Tr.atob.bind(Tr),OL=Tr.btoa.bind(Tr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function HA(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=as(r,n,i,a,t[0],7,-680876936),a=as(a,r,n,i,t[1],12,-389564586),i=as(i,a,r,n,t[2],17,606105819),n=as(n,i,a,r,t[3],22,-1044525330),r=as(r,n,i,a,t[4],7,-176418897),a=as(a,r,n,i,t[5],12,1200080426),i=as(i,a,r,n,t[6],17,-1473231341),n=as(n,i,a,r,t[7],22,-45705983),r=as(r,n,i,a,t[8],7,1770035416),a=as(a,r,n,i,t[9],12,-1958414417),i=as(i,a,r,n,t[10],17,-42063),n=as(n,i,a,r,t[11],22,-1990404162),r=as(r,n,i,a,t[12],7,1804603682),a=as(a,r,n,i,t[13],12,-40341101),i=as(i,a,r,n,t[14],17,-1502002290),r=ss(r,n=as(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=ss(a,r,n,i,t[6],9,-1069501632),i=ss(i,a,r,n,t[11],14,643717713),n=ss(n,i,a,r,t[0],20,-373897302),r=ss(r,n,i,a,t[5],5,-701558691),a=ss(a,r,n,i,t[10],9,38016083),i=ss(i,a,r,n,t[15],14,-660478335),n=ss(n,i,a,r,t[4],20,-405537848),r=ss(r,n,i,a,t[9],5,568446438),a=ss(a,r,n,i,t[14],9,-1019803690),i=ss(i,a,r,n,t[3],14,-187363961),n=ss(n,i,a,r,t[8],20,1163531501),r=ss(r,n,i,a,t[13],5,-1444681467),a=ss(a,r,n,i,t[2],9,-51403784),i=ss(i,a,r,n,t[7],14,1735328473),r=os(r,n=ss(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=os(a,r,n,i,t[8],11,-2022574463),i=os(i,a,r,n,t[11],16,1839030562),n=os(n,i,a,r,t[14],23,-35309556),r=os(r,n,i,a,t[1],4,-1530992060),a=os(a,r,n,i,t[4],11,1272893353),i=os(i,a,r,n,t[7],16,-155497632),n=os(n,i,a,r,t[10],23,-1094730640),r=os(r,n,i,a,t[13],4,681279174),a=os(a,r,n,i,t[0],11,-358537222),i=os(i,a,r,n,t[3],16,-722521979),n=os(n,i,a,r,t[6],23,76029189),r=os(r,n,i,a,t[9],4,-640364487),a=os(a,r,n,i,t[12],11,-421815835),i=os(i,a,r,n,t[15],16,530742520),r=ls(r,n=os(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ls(a,r,n,i,t[7],10,1126891415),i=ls(i,a,r,n,t[14],15,-1416354905),n=ls(n,i,a,r,t[5],21,-57434055),r=ls(r,n,i,a,t[12],6,1700485571),a=ls(a,r,n,i,t[3],10,-1894986606),i=ls(i,a,r,n,t[10],15,-1051523),n=ls(n,i,a,r,t[1],21,-2054922799),r=ls(r,n,i,a,t[8],6,1873313359),a=ls(a,r,n,i,t[15],10,-30611744),i=ls(i,a,r,n,t[6],15,-1560198380),n=ls(n,i,a,r,t[13],21,1309151649),r=ls(r,n,i,a,t[4],6,-145523070),a=ls(a,r,n,i,t[11],10,-1120210379),i=ls(i,a,r,n,t[2],15,718787259),n=ls(n,i,a,r,t[9],21,-343485551),e[0]=af(r,e[0]),e[1]=af(n,e[1]),e[2]=af(i,e[2]),e[3]=af(a,e[3])}function j5(e,t,r,n,i,a){return t=af(af(t,e),af(n,a)),af(t<<i|t>>>32-i,r)}function as(e,t,r,n,i,a,s){return j5(t&r|~t&n,e,t,i,a,s)}function ss(e,t,r,n,i,a,s){return j5(t&n|r&~n,e,t,i,a,s)}function os(e,t,r,n,i,a,s){return j5(t^r^n,e,t,i,a,s)}function ls(e,t,r,n,i,a,s){return j5(r^(t|~n),e,t,i,a,s)}function HK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)HA(n,zLe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(HA(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,HA(n,i),n}function zLe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var TL="0123456789abcdef".split("");function qLe(e){for(var t="",r=0;r<4;r++)t+=TL[e>>8*r+4&15]+TL[e>>8*r&15];return t}function WLe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function B4(e){return HK(e).map(WLe).join("")}var HLe=function(e){for(var t=0;t<e.length;t++)e[t]=qLe(e[t]);return e.join("")}(HK("hello"))!="5d41402abc4b2a76b9719d911017c592";function af(e,t){if(HLe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $4(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var h=o[c];u=(u+h+s.charCodeAt(c))%256,o[c]=o[u],o[u]=h}r=e,n=o}else o=n;var m=t.length,y=0,g=0,S="";for(c=0;c<m;c++)g=(g+(h=o[y=(y+1)%256]))%256,o[y]=o[g],o[g]=h,s=o[(o[y]+o[g])%256],S+=String.fromCharCode(t.charCodeAt(c)^s);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var jL={print:4,modify:8,copy:16,"annot-forms":32};function Zp(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(jL.perm!==void 0)throw new Error("Invalid permission: "+o);i+=jL[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=B4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=$4(this.encryptionKey,this.padding)}function Qp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function IL(e){if(Dn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){Tr.console&&Gn.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Uw(e){if(!(this instanceof Uw))return new Uw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function VK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function vh(e,t,r,n,i){if(!(this instanceof vh))return new vh(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,VK.call(this,n,i)}function y0(e,t,r,n,i){if(!(this instanceof y0))return new y0(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,VK.call(this,n,i)}function ar(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,c=16,u="S",h=null;Dn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=IL;var S="1.3",_=g.__private__.getPdfVersion=function(){return S};g.__private__.setPdfVersion=function(R){S=R};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return w};var A=g.__private__.getPageFormat=function(R){return w[R]};i=i||"a4";var E="compat",O="advanced",I=E;function k(){this.saveGraphicsState(),de(new Rt(sr,0,0,-sr,0,cu()*sr).toString()+" cm"),this.setFontSize(this.getFontSize()/sr),u="n",I=O}function F(){this.restoreGraphicsState(),u="S",I=E}var B=g.__private__.combineFontStyleAndFontWeight=function(R,re){if(R=="bold"&&re=="normal"||R=="bold"&&re==400||R=="normal"&&re=="italic"||R=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(R=re==400||re==="normal"?R==="italic"?"italic":"normal":re!=700&&re!=="bold"||R!=="normal"?(re==700?"bold":re)+""+R:"bold"),R};g.advancedAPI=function(R){var re=I===E;return re&&k.call(this),typeof R!="function"||(R(this),re&&F.call(this)),this},g.compatAPI=function(R){var re=I===O;return re&&F.call(this),typeof R!="function"||(R(this),re&&k.call(this)),this},g.isAdvancedAPI=function(){return I===O};var D,P=function(R){if(I!==O)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=g.roundToPrecision=g.__private__.roundToPrecision=function(R,re){var be=t||re;if(isNaN(R)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(be).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return K(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return K(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return K(R,16)};var $=g.f2=g.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return K(R,2)},z=g.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return K(R,3)},X=g.scale=g.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return I===E?R*sr:I===O?R:void 0},W=function(R){return X(function(re){return I===E?cu()-re:I===O?re:void 0}(R))};g.__private__.setPrecision=g.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var V,Q="00000000000000000000000000000000",ne=g.__private__.getFileId=function(){return Q},te=g.__private__.setFileId=function(R){return Q=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&($n=new Zp(h.userPermissions,h.userPassword,h.ownerPassword,Q)),Q};g.setFileId=function(R){return te(R),this},g.getFileId=function(){return ne()};var H=g.__private__.convertDateToPDFDate=function(R){var re=R.getTimezoneOffset(),be=re<0?"+":"-",Te=Math.floor(Math.abs(re/60)),De=Math.abs(re%60),Qe=[be,ae(Te),"'",ae(De),"'"].join("");return["D:",R.getFullYear(),ae(R.getMonth()+1),ae(R.getDate()),ae(R.getHours()),ae(R.getMinutes()),ae(R.getSeconds()),Qe].join("")},le=g.__private__.convertPDFDateToDate=function(R){var re=parseInt(R.substr(2,4),10),be=parseInt(R.substr(6,2),10)-1,Te=parseInt(R.substr(8,2),10),De=parseInt(R.substr(10,2),10),Qe=parseInt(R.substr(12,2),10),lt=parseInt(R.substr(14,2),10);return new Date(re,be,Te,De,Qe,lt,0)},fe=g.__private__.setCreationDate=function(R){var re;if(R===void 0&&(R=new Date),R instanceof Date)re=H(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=R}return V=re},q=g.__private__.getCreationDate=function(R){var re=V;return R==="jsDate"&&(re=le(V)),re};g.setCreationDate=function(R){return fe(R),this},g.getCreationDate=function(R){return q(R)};var Z,ae=g.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ge=g.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},he=0,Se=[],Ae=[],ye=0,Ne=[],Ee=[],Ce=!1,Re=Ae;g.__private__.setCustomOutputDestination=function(R){Ce=!0,Re=R};var je=function(R){Ce||(Re=R)};g.__private__.resetCustomOutputDestination=function(){Ce=!1,Re=Ae};var de=g.__private__.out=function(R){return R=R.toString(),ye+=R.length+1,Re.push(R),Re},it=g.__private__.write=function(R){return de(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},ft=g.__private__.getArrayBuffer=function(R){for(var re=R.length,be=new ArrayBuffer(re),Te=new Uint8Array(be);re--;)Te[re]=R.charCodeAt(re);return be},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ye};var Be=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(R){return Be=I===O?R/sr:R,this};var _t,qe=g.__private__.getFontSize=g.getFontSize=function(){return I===E?Be:Be*sr},It=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(R){return It=R,this},g.__private__.getR2L=g.getR2L=function(){return It};var Ct,Vt=g.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))_t=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');_t=R}else _t=parseInt(R,10)};g.__private__.getZoomMode=function(){return _t};var Gt,vt=g.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Ct=R};g.__private__.getPageMode=function(){return Ct};var hr=g.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Gt=R};g.__private__.getLayoutMode=function(){return Gt},g.__private__.setDisplayMode=g.setDisplayMode=function(R,re,be){return Vt(R),hr(re),vt(be),this};var Kt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(R){if(Object.keys(Kt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Kt[R]},g.__private__.getDocumentProperties=function(){return Kt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(R){for(var re in Kt)Kt.hasOwnProperty(re)&&R[re]&&(Kt[re]=R[re]);return this},g.__private__.setDocumentProperty=function(R,re){if(Object.keys(Kt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Kt[R]=re};var Et,sr,kt,Ur,Zt,He={},$t={},Qt=[],Nt={},Lr={},_r={},qn={},pr=null,Gr=0,lr=[],rn=new IL(g),Yt=e.hotfixes||[],Nr={},wr={},Nn=[],Rt=function R(re,be,Te,De,Qe,lt){if(!(this instanceof R))return new R(re,be,Te,De,Qe,lt);isNaN(re)&&(re=1),isNaN(be)&&(be=0),isNaN(Te)&&(Te=0),isNaN(De)&&(De=1),isNaN(Qe)&&(Qe=0),isNaN(lt)&&(lt=0),this._matrix=[re,be,Te,De,Qe,lt]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(R)},Rt.prototype.multiply=function(R){var re=R.sx*this.sx+R.shy*this.shx,be=R.sx*this.shy+R.shy*this.sy,Te=R.shx*this.sx+R.sy*this.shx,De=R.shx*this.shy+R.sy*this.sy,Qe=R.tx*this.sx+R.ty*this.shx+this.tx,lt=R.tx*this.shy+R.ty*this.sy+this.ty;return new Rt(re,be,Te,De,Qe,lt)},Rt.prototype.decompose=function(){var R=this.sx,re=this.shy,be=this.shx,Te=this.sy,De=this.tx,Qe=this.ty,lt=Math.sqrt(R*R+re*re),Lt=(R/=lt)*be+(re/=lt)*Te;be-=R*Lt,Te-=re*Lt;var xt=Math.sqrt(be*be+Te*Te);return Lt/=xt,R*(Te/=xt)<re*(be/=xt)&&(R=-R,re=-re,Lt=-Lt,lt=-lt),{scale:new Rt(lt,0,0,xt,0,0),translate:new Rt(1,0,0,1,De,Qe),rotate:new Rt(R,re,-re,R,0,0),skew:new Rt(1,0,Lt,1,0,0)}},Rt.prototype.toString=function(R){return this.join(" ")},Rt.prototype.inversed=function(){var R=this.sx,re=this.shy,be=this.shx,Te=this.sy,De=this.tx,Qe=this.ty,lt=1/(R*Te-re*be),Lt=Te*lt,xt=-re*lt,Ar=-be*lt,Ft=R*lt;return new Rt(Lt,xt,Ar,Ft,-Lt*De-Ar*Qe,-xt*De-Ft*Qe)},Rt.prototype.applyToPoint=function(R){var re=R.x*this.sx+R.y*this.shx+this.tx,be=R.x*this.shy+R.y*this.sy+this.ty;return new Ni(re,be)},Rt.prototype.applyToRectangle=function(R){var re=this.applyToPoint(R),be=this.applyToPoint(new Ni(R.x+R.w,R.y+R.h));return new pd(re.x,re.y,be.x-re.x,be.y-re.y)},Rt.prototype.clone=function(){var R=this.sx,re=this.shy,be=this.shx,Te=this.sy,De=this.tx,Qe=this.ty;return new Rt(R,re,be,Te,De,Qe)},g.Matrix=Rt;var On=g.matrixMult=function(R,re){return re.multiply(R)},ca=new Rt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ca;var hn=function(R,re){if(!Lr[R]){var be=(re instanceof vh?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);re.id=be,Lr[R]=be,Nt[be]=re,rn.publish("addPattern",re)}};g.ShadingPattern=vh,g.TilingPattern=y0,g.addShadingPattern=function(R,re){return P("addShadingPattern()"),hn(R,re),this},g.beginTilingPattern=function(R){P("beginTilingPattern()"),md(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},g.endTilingPattern=function(R,re){P("endTilingPattern()"),re.stream=Ee[Z].join(`
`),hn(R,re),rn.publish("endTilingPattern",re),Nn.pop().restore()};var ri,Zr=g.__private__.newObject=function(){var R=Yn();return Sn(R,!0),R},Yn=g.__private__.newObjectDeferred=function(){return he++,Se[he]=function(){return ye},he},Sn=function(R,re){return re=typeof re=="boolean"&&re,Se[R]=ye,re&&de(R+" 0 obj"),R},Ot=g.__private__.newAdditionalObject=function(){var R={objId:Yn(),content:""};return Ne.push(R),R},ms=Yn(),gs=Yn(),ni=g.__private__.decodeColorString=function(R){var re=R.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var be=parseFloat(re[0]);re=[be,be,be,"r"]}for(var Te="#",De=0;De<3;De++)Te+=("0"+Math.floor(255*parseFloat(re[De])).toString(16)).slice(-2);return Te},Ca=g.__private__.encodeColorString=function(R){var re;typeof R=="string"&&(R={ch1:R});var be=R.ch1,Te=R.ch2,De=R.ch3,Qe=R.ch4,lt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Lt=new WK(be);if(Lt.ok)be=Lt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var xt=parseInt(be.substr(1),16);be=xt>>16&255,Te=xt>>8&255,De=255&xt}if(Te===void 0||Qe===void 0&&be===Te&&Te===De)re=typeof be=="string"?be+" "+lt[0]:R.precision===2?$(be/255)+" "+lt[0]:z(be/255)+" "+lt[0];else if(Qe===void 0||Dn(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return["1.","1.","1.",lt[1]].join(" ");re=typeof be=="string"?[be,Te,De,lt[1]].join(" "):R.precision===2?[$(be/255),$(Te/255),$(De/255),lt[1]].join(" "):[z(be/255),z(Te/255),z(De/255),lt[1]].join(" ")}else re=typeof be=="string"?[be,Te,De,Qe,lt[2]].join(" "):R.precision===2?[$(be),$(Te),$(De),$(Qe),lt[2]].join(" "):[z(be),z(Te),z(De),z(Qe),lt[2]].join(" ");return re},Qa=g.__private__.getFilters=function(){return s},Ba=g.__private__.putStream=function(R){var re=(R=R||{}).data||"",be=R.filters||Qa(),Te=R.alreadyAppliedFilters||[],De=R.addLength1||!1,Qe=re.length,lt=R.objectId,Lt=function(Fi){return Fi};if(h!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Lt=$n.encryptor(lt,0));var xt={};be===!0&&(be=["FlateEncode"]);var Ar=R.additionalKeyValues||[],Ft=(xt=ar.API.processDataByFilters!==void 0?ar.API.processDataByFilters(re,be):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(xt.data.length!==0&&(Ar.push({key:"Length",value:xt.data.length}),De===!0&&Ar.push({key:"Length1",value:Qe})),Ft.length!=0)if(Ft.split("/").length-1==1)Ar.push({key:"Filter",value:Ft});else{Ar.push({key:"Filter",value:"["+Ft+"]"});for(var tn=0;tn<Ar.length;tn+=1)if(Ar[tn].key==="DecodeParms"){for(var bn=[],Or=0;Or<xt.reverseChain.split("/").length-1;Or+=1)bn.push("null");bn.push(Ar[tn].value),Ar[tn].value="["+bn.join(" ")+"]"}}de("<<");for(var St=0;St<Ar.length;St++)de("/"+Ar[St].key+" "+Ar[St].value);de(">>"),xt.data.length!==0&&(de("stream"),de(Lt(xt.data)),de("endstream"))},Na=g.__private__.putPage=function(R){var re=R.number,be=R.data,Te=R.objId,De=R.contentsObjId;Sn(Te,!0),de("<</Type /Page"),de("/Parent "+R.rootDictionaryObjId+" 0 R"),de("/Resources "+R.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(D(R.mediaBox.bottomLeftX))+" "+parseFloat(D(R.mediaBox.bottomLeftY))+" "+D(R.mediaBox.topRightX)+" "+D(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&de("/CropBox ["+D(R.cropBox.bottomLeftX)+" "+D(R.cropBox.bottomLeftY)+" "+D(R.cropBox.topRightX)+" "+D(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&de("/BleedBox ["+D(R.bleedBox.bottomLeftX)+" "+D(R.bleedBox.bottomLeftY)+" "+D(R.bleedBox.topRightX)+" "+D(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&de("/TrimBox ["+D(R.trimBox.bottomLeftX)+" "+D(R.trimBox.bottomLeftY)+" "+D(R.trimBox.topRightX)+" "+D(R.trimBox.topRightY)+"]"),R.artBox!==null&&de("/ArtBox ["+D(R.artBox.bottomLeftX)+" "+D(R.artBox.bottomLeftY)+" "+D(R.artBox.topRightX)+" "+D(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&de("/UserUnit "+R.userUnit),rn.publish("putPage",{objId:Te,pageContext:lr[re],pageNumber:re,page:be}),de("/Contents "+De+" 0 R"),de(">>"),de("endobj");var Qe=be.join(`
`);return I===O&&(Qe+=`
Q`),Sn(De,!0),Ba({data:Qe,filters:Qa(),objectId:De}),de("endobj"),Te},Vo=g.__private__.putPages=function(){var R,re,be=[];for(R=1;R<=Gr;R++)lr[R].objId=Yn(),lr[R].contentsObjId=Yn();for(R=1;R<=Gr;R++)be.push(Na({number:R,data:Ee[R],objId:lr[R].objId,contentsObjId:lr[R].contentsObjId,mediaBox:lr[R].mediaBox,cropBox:lr[R].cropBox,bleedBox:lr[R].bleedBox,trimBox:lr[R].trimBox,artBox:lr[R].artBox,userUnit:lr[R].userUnit,rootDictionaryObjId:ms,resourceDictionaryObjId:gs}));Sn(ms,!0),de("<</Type /Pages");var Te="/Kids [";for(re=0;re<Gr;re++)Te+=be[re]+" 0 R ";de(Te+"]"),de("/Count "+Gr),de(">>"),de("endobj"),rn.publish("postPutPages")},Qc=function(R){rn.publish("putFont",{font:R,out:de,newObject:Zr,putStream:Ba}),R.isAlreadyPutted!==!0&&(R.objectNumber=Zr(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Qp(R.postScriptName)),de("/Subtype /Type1"),typeof R.encoding=="string"&&de("/Encoding /"+R.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},$a=function(R){R.objectNumber=Zr();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[D(R.x),D(R.y),D(R.x+R.width),D(R.y+R.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var be=R.pages[1].join(`
`);Ba({data:be,additionalKeyValues:re,objectId:R.objectNumber}),de("endobj")},Ci=function(R,re){re||(re=21);var be=Zr(),Te=function(lt,Lt){var xt,Ar=[],Ft=1/(Lt-1);for(xt=0;xt<1;xt+=Ft)Ar.push(xt);if(Ar.push(1),lt[0].offset!=0){var tn={offset:0,color:lt[0].color};lt.unshift(tn)}if(lt[lt.length-1].offset!=1){var bn={offset:1,color:lt[lt.length-1].color};lt.push(bn)}for(var Or="",St=0,Fi=0;Fi<Ar.length;Fi++){for(xt=Ar[Fi];xt>lt[St+1].offset;)St++;var Ir=lt[St].offset,ii=(xt-Ir)/(lt[St+1].offset-Ir),ua=lt[St].color,es=lt[St+1].color;Or+=ge(Math.round((1-ii)*ua[0]+ii*es[0]).toString(16))+ge(Math.round((1-ii)*ua[1]+ii*es[1]).toString(16))+ge(Math.round((1-ii)*ua[2]+ii*es[2]).toString(16))}return Or.trim()}(R.colors,re),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+re+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ba({data:Te,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),de("endobj"),R.objectNumber=Zr(),de("<< /ShadingType "+R.type),de("/ColorSpace /DeviceRGB");var Qe="/Coords ["+D(parseFloat(R.coords[0]))+" "+D(parseFloat(R.coords[1]))+" ";R.type===2?Qe+=D(parseFloat(R.coords[2]))+" "+D(parseFloat(R.coords[3])):Qe+=D(parseFloat(R.coords[2]))+" "+D(parseFloat(R.coords[3]))+" "+D(parseFloat(R.coords[4]))+" "+D(parseFloat(R.coords[5])),de(Qe+="]"),R.matrix&&de("/Matrix ["+R.matrix.toString()+"]"),de("/Function "+be+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},xn=function(R,re){var be=Yn(),Te=Zr();re.push({resourcesOid:be,objectOid:Te}),R.objectNumber=Te;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+R.boundingBox.map(D).join(" ")+"]"}),De.push({key:"XStep",value:D(R.xStep)}),De.push({key:"YStep",value:D(R.yStep)}),De.push({key:"Resources",value:be+" 0 R"}),R.matrix&&De.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Ba({data:R.stream,additionalKeyValues:De,objectId:R.objectNumber}),de("endobj")},Cp=function(R){for(var re in R.objectNumber=Zr(),de("<<"),R)switch(re){case"opacity":de("/ca "+$(R[re]));break;case"stroke-opacity":de("/CA "+$(R[re]))}de(">>"),de("endobj")},Bs=function(R){Sn(R.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var re in de("/Font <<"),He)He.hasOwnProperty(re)&&(m===!1||m===!0&&y.hasOwnProperty(re))&&de("/"+re+" "+He[re].objectNumber+" 0 R");de(">>")}(),function(){if(Object.keys(Nt).length>0){for(var re in de("/Shading <<"),Nt)Nt.hasOwnProperty(re)&&Nt[re]instanceof vh&&Nt[re].objectNumber>=0&&de("/"+re+" "+Nt[re].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),de(">>")}}(),function(re){if(Object.keys(Nt).length>0){for(var be in de("/Pattern <<"),Nt)Nt.hasOwnProperty(be)&&Nt[be]instanceof g.TilingPattern&&Nt[be].objectNumber>=0&&Nt[be].objectNumber<re&&de("/"+be+" "+Nt[be].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),de(">>")}}(R.objectOid),function(){if(Object.keys(_r).length>0){var re;for(re in de("/ExtGState <<"),_r)_r.hasOwnProperty(re)&&_r[re].objectNumber>=0&&de("/"+re+" "+_r[re].objectNumber+" 0 R");rn.publish("putGStateDict"),de(">>")}}(),function(){for(var re in de("/XObject <<"),Nr)Nr.hasOwnProperty(re)&&Nr[re].objectNumber>=0&&de("/"+re+" "+Nr[re].objectNumber+" 0 R");rn.publish("putXobjectDict"),de(">>")}(),de(">>"),de("endobj")},ud=function(R){$t[R.fontName]=$t[R.fontName]||{},$t[R.fontName][R.fontStyle]=R.id},st=function(R,re,be,Te,De){var Qe={id:"F"+(Object.keys(He).length+1).toString(10),postScriptName:R,fontName:re,fontStyle:be,encoding:Te,isStandardFont:De||!1,metadata:{}};return rn.publish("addFont",{font:Qe,instance:this}),He[Qe.id]=Qe,ud(Qe),Qe.id},$s=g.__private__.pdfEscape=g.pdfEscape=function(R,re){return function(be,Te){var De,Qe,lt,Lt,xt,Ar,Ft,tn,bn;if(lt=(Te=Te||{}).sourceEncoding||"Unicode",xt=Te.outputEncoding,(Te.autoencode||xt)&&He[Et].metadata&&He[Et].metadata[lt]&&He[Et].metadata[lt].encoding&&(Lt=He[Et].metadata[lt].encoding,!xt&&He[Et].encoding&&(xt=He[Et].encoding),!xt&&Lt.codePages&&(xt=Lt.codePages[0]),typeof xt=="string"&&(xt=Lt[xt]),xt)){for(Ft=!1,Ar=[],De=0,Qe=be.length;De<Qe;De++)(tn=xt[be.charCodeAt(De)])?Ar.push(String.fromCharCode(tn)):Ar.push(be[De]),Ar[De].charCodeAt(0)>>8&&(Ft=!0);be=Ar.join("")}for(De=be.length;Ft===void 0&&De!==0;)be.charCodeAt(De-1)>>8&&(Ft=!0),De--;if(!Ft)return be;for(Ar=Te.noBOM?[]:[254,255],De=0,Qe=be.length;De<Qe;De++){if((bn=(tn=be.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ar.push(bn),Ar.push(tn-(bn<<8))}return String.fromCharCode.apply(void 0,Ar)}(R,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bn=g.__private__.beginPage=function(R){Ee[++Gr]=[],lr[Gr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},nn(Gr),je(Ee[Z])},Al=function(R,re){var be,Te,De;switch(r=re||r,typeof R=="string"&&(be=A(R.toLowerCase()),Array.isArray(be)&&(Te=be[0],De=be[1])),Array.isArray(R)&&(Te=R[0]*sr,De=R[1]*sr),isNaN(Te)&&(Te=i[0],De=i[1]),(Te>14400||De>14400)&&(Gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),De=Math.min(14400,De)),i=[Te,De],r.substr(0,1)){case"l":De>Te&&(i=[De,Te]);break;case"p":Te>De&&(i=[De,Te])}Bn(i),ru(Kf),de(nu),hd!==0&&de(hd+" J"),Nl!==0&&de(Nl+" j"),rn.publish("addPage",{pageNumber:Gr})},Vf=function(R){R>0&&R<=Gr&&(Ee.splice(R,1),lr.splice(R,1),Gr--,Z>Gr&&(Z=Gr),this.setPage(Z))},nn=function(R){R>0&&R<=Gr&&(Z=R)},en=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ee.length-1},Hr=function(R,re,be){var Te,De=void 0;return be=be||{},R=R!==void 0?R:He[Et].fontName,re=re!==void 0?re:He[Et].fontStyle,Te=R.toLowerCase(),$t[Te]!==void 0&&$t[Te][re]!==void 0?De=$t[Te][re]:$t[R]!==void 0&&$t[R][re]!==void 0?De=$t[R][re]:be.disableWarning===!1&&Gn.warn("Unable to look up font label for font '"+R+"', '"+re+"'. Refer to getFontList() for available fonts."),De||be.noFallback||(De=$t.times[re])==null&&(De=$t.times.normal),De},uc=g.__private__.putInfo=function(){var R=Zr(),re=function(Te){return Te};for(var be in h!==null&&(re=$n.encryptor(R,0)),de("<<"),de("/Producer ("+$s(re("jsPDF "+ar.version))+")"),Kt)Kt.hasOwnProperty(be)&&Kt[be]&&de("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+$s(re(Kt[be]))+")");de("/CreationDate ("+$s(re(V))+")"),de(">>"),de("endobj")},Gf=g.__private__.putCatalog=function(R){var re=(R=R||{}).rootDictionaryObjId||ms;switch(Zr(),de("<<"),de("/Type /Catalog"),de("/Pages "+re+" 0 R"),_t||(_t="fullwidth"),_t){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+_t;be.substr(be.length-1)==="%"&&(_t=parseInt(_t)/100),typeof _t=="number"&&de("/OpenAction [3 0 R /XYZ null null "+$(_t)+"]")}switch(Gt||(Gt="continuous"),Gt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Ct&&de("/PageMode /"+Ct),rn.publish("putCatalog"),de(">>"),de("endobj")},hi=g.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(he+1)),de("/Root "+he+" 0 R"),de("/Info "+(he-1)+" 0 R"),h!==null&&de("/Encrypt "+$n.oid+" 0 R"),de("/ID [ <"+Q+"> <"+Q+"> ]"),de(">>")},pi=g.__private__.putHeader=function(){de("%PDF-"+S),de("%ºß¬à")},oo=g.__private__.putXRef=function(){var R="0000000000";de("xref"),de("0 "+(he+1)),de("0000000000 65535 f ");for(var re=1;re<=he;re++)typeof Se[re]=="function"?de((R+Se[re]()).slice(-10)+" 00000 n "):Se[re]!==void 0?de((R+Se[re]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},El=g.__private__.buildDocument=function(){var R;he=0,ye=0,Ae=[],Se=[],Ne=[],ms=Yn(),gs=Yn(),je(Ae),rn.publish("buildDocument"),pi(),Vo(),function(){rn.publish("putAdditionalObjects");for(var be=0;be<Ne.length;be++){var Te=Ne[be];Sn(Te.objId,!0),de(Te.content),de("endobj")}rn.publish("postPutAdditionalObjects")}(),R=[],function(){for(var be in He)He.hasOwnProperty(be)&&(m===!1||m===!0&&y.hasOwnProperty(be))&&Qc(He[be])}(),function(){var be;for(be in _r)_r.hasOwnProperty(be)&&Cp(_r[be])}(),function(){for(var be in Nr)Nr.hasOwnProperty(be)&&$a(Nr[be])}(),function(be){var Te;for(Te in Nt)Nt.hasOwnProperty(Te)&&(Nt[Te]instanceof vh?Ci(Nt[Te]):Nt[Te]instanceof y0&&xn(Nt[Te],be))}(R),rn.publish("putResources"),R.forEach(Bs),Bs({resourcesOid:gs,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),h!==null&&($n.oid=Zr(),de("<<"),de("/Filter /Standard"),de("/V "+$n.v),de("/R "+$n.r),de("/U <"+$n.toHexString($n.U)+">"),de("/O <"+$n.toHexString($n.O)+">"),de("/P "+$n.P),de(">>"),de("endobj")),uc(),Gf();var re=ye;return oo(),hi(),de("startxref"),de(""+re),de("%%EOF"),je(Ee[Z]),Ae.join(`
`)},Tn=g.__private__.getBlob=function(R){return new Blob([ft(R)],{type:"application/pdf"})},Zi=g.output=g.__private__.output=(ri=function(R,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",R){case void 0:return El();case"save":g.save(re.filename);break;case"arraybuffer":return ft(El());case"blob":return Tn(El());case"bloburi":case"bloburl":if(Tr.URL!==void 0&&typeof Tr.URL.createObjectURL=="function")return Tr.URL&&Tr.URL.createObjectURL(Tn(El()))||void 0;Gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Te=El();try{be=OL(Te)}catch{be=OL(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+re.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tr)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(De=re.pdfObjectUrl,Qe="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Lt=Tr.open();return Lt!==null&&Lt.document.write(lt),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tr)==="[object Window]"){var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',Ar=Tr.open();if(Ar!==null){Ar.document.write(xt);var Ft=this;Ar.document.documentElement.querySelector("#pdfViewer").onload=function(){Ar.document.title=re.filename,Ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return Ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',bn=Tr.open();if(bn!==null&&(bn.document.write(tn),bn.document.title=re.filename),bn||typeof safari>"u")return bn;break;case"datauri":case"dataurl":return Tr.document.location.href=this.output("datauristring",re);default:return null}},ri.foo=function(){try{return ri.apply(this,arguments)}catch(be){var R=be.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var re="Error in function "+R.split(`
`)[0].split("<")[0]+": "+be.message;if(!Tr.console)throw new Error(re);Tr.console.error(re,be),Tr.alert&&alert(re)}},ri.foo.bar=ri,ri.foo),Jc=function(R){return Array.isArray(Yt)===!0&&Yt.indexOf(R)>-1};switch(n){case"pt":sr=1;break;case"mm":sr=72/25.4;break;case"cm":sr=72/2.54;break;case"in":sr=72;break;case"px":sr=Jc("px_scaling")==1?.75:96/72;break;case"pc":case"em":sr=12;break;case"ex":sr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);sr=n}var $n=null;fe(),te();var pn=g.__private__.getPageInfo=g.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lr[R].objId,pageNumber:R,pageContext:lr[R]}},Qi=g.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in lr)if(lr[re].objId===R)break;return pn(re)},$e=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:lr[Z].objId,pageNumber:Z,pageContext:lr[Z]}};g.addPage=function(){return Al.apply(this,arguments),this},g.setPage=function(){return nn.apply(this,arguments),je.call(this,Ee[Z]),this},g.insertPage=function(R){return this.addPage(),this.movePage(Z,R),this},g.movePage=function(R,re){var be,Te;if(R>re){be=Ee[R],Te=lr[R];for(var De=R;De>re;De--)Ee[De]=Ee[De-1],lr[De]=lr[De-1];Ee[re]=be,lr[re]=Te,this.setPage(re)}else if(R<re){be=Ee[R],Te=lr[R];for(var Qe=R;Qe<re;Qe++)Ee[Qe]=Ee[Qe+1],lr[Qe]=lr[Qe+1];Ee[re]=be,lr[re]=Te,this.setPage(re)}return this},g.deletePage=function(){return Vf.apply(this,arguments),this},g.__private__.text=g.text=function(R,re,be,Te,De){var Qe,lt,Lt,xt,Ar,Ft,tn,bn,Or,St=(Te=Te||{}).scope||this;if(typeof R=="number"&&typeof re=="number"&&(typeof be=="string"||Array.isArray(be))){var Fi=be;be=re,re=R,R=Fi}if(arguments[3]instanceof Rt==0?(Lt=arguments[4],xt=arguments[5],Dn(tn=arguments[3])==="object"&&tn!==null||(typeof Lt=="string"&&(xt=Lt,Lt=null),typeof tn=="string"&&(xt=tn,tn=null),typeof tn=="number"&&(Lt=tn,tn=null),Te={flags:tn,angle:Lt,align:xt})):(P("The transform parameter of text() with a Matrix value"),Or=De),isNaN(re)||isNaN(be)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return St;var Ir,ii="",ua=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Cl,es=St.internal.scaleFactor;function vs(et){return et=et.split("	").join(Array(Te.TabLen||9).join(" ")),$s(et,tn)}function fc(et){for(var at,tt=et.concat(),ur=[],vr=tt.length;vr--;)typeof(at=tt.shift())=="string"?ur.push(at):Array.isArray(et)&&(at.length===1||at[1]===void 0&&at[2]===void 0)?ur.push(at[0]):ur.push([at[0],at[1],at[2]]);return ur}function hc(et,at){var tt;if(typeof et=="string")tt=at(et)[0];else if(Array.isArray(et)){for(var ur,vr,Ji=et.concat(),Ta=[],fa=Ji.length;fa--;)typeof(ur=Ji.shift())=="string"?Ta.push(at(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(vr=at(ur[0],ur[1],ur[2]),Ta.push([vr[0],vr[1],vr[2]]));tt=Ta}return tt}var Qo=!1,pc=!0;if(typeof R=="string")Qo=!0;else if(Array.isArray(R)){var mc=R.concat();lt=[];for(var uu,xi=mc.length;xi--;)(typeof(uu=mc.shift())!="string"||Array.isArray(uu)&&typeof uu[0]!="string")&&(pc=!1);Qo=pc}if(Qo===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var Ol=Be/St.internal.scaleFactor,du=Ol*(ua-1);switch(Te.baseline){case"bottom":be-=du;break;case"top":be+=Ol-du;break;case"hanging":be+=Ol-2*du;break;case"middle":be+=Ol/2-du}if((Ft=Te.maxWidth||0)>0&&(typeof R=="string"?R=St.splitTextToSize(R,Ft):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(et,at){return et.concat(St.splitTextToSize(at,Ft))},[]))),Qe={text:R,x:re,y:be,options:Te,mutex:{pdfEscape:$s,activeFontKey:Et,fonts:He,activeFontSize:Be}},rn.publish("preProcessText",Qe),R=Qe.text,Lt=(Te=Qe.options).angle,Or instanceof Rt==0&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Te.rotationDirection===0&&(Lt=-Lt),I===O&&(Lt=-Lt);var Tl=Math.cos(Lt),Xf=Math.sin(Lt);Or=new Rt(Tl,Xf,-Xf,Tl,0,0)}else Lt&&Lt instanceof Rt&&(Or=Lt);I!==O||Or||(Or=ca),(Ar=Te.charSpace||Xo)!==void 0&&(ii+=D(X(Ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(bn=Te.horizontalScale)!==void 0&&(ii+=D(100*bn)+` Tz
`),Te.lang;var wn=-1,Us=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,da=St.internal.getCurrentPageInfo().pageContext;switch(Us){case 0:case!1:case"fill":wn=0;break;case 1:case!0:case"stroke":wn=1;break;case 2:case"fillThenStroke":wn=2;break;case 3:case"invisible":wn=3;break;case 4:case"fillAndAddForClipping":wn=4;break;case 5:case"strokeAndAddPathForClipping":wn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wn=6;break;case 7:case"addToPathForClipping":wn=7}var Zf=da.usedRenderingMode!==void 0?da.usedRenderingMode:-1;wn!==-1?ii+=wn+` Tr
`:Zf!==-1&&(ii+=`0 Tr
`),wn!==-1&&(da.usedRenderingMode=wn),xt=Te.align||"left";var bi,fu=Be*ua,hu=St.internal.pageSize.getWidth(),Qf=He[Et];Ar=Te.charSpace||Xo,Ft=Te.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var jl=[],Oa=function(et){return St.getStringUnitWidth(et,{font:Qf,charSpace:Ar,fontSize:Be,doKerning:!1})*Be/es};if(Object.prototype.toString.call(R)==="[object Array]"){var ys;lt=fc(R),xt!=="left"&&(bi=lt.map(Oa));var za,zs=0;if(xt==="right"){re-=bi[0],R=[],xi=lt.length;for(var Fr=0;Fr<xi;Fr++)Fr===0?(za=Sr(re),ys=Hn(be)):(za=X(zs-bi[Fr]),ys=-fu),R.push([lt[Fr],za,ys]),zs=bi[Fr]}else if(xt==="center"){re-=bi[0]/2,R=[],xi=lt.length;for(var fo=0;fo<xi;fo++)fo===0?(za=Sr(re),ys=Hn(be)):(za=X((zs-bi[fo])/2),ys=-fu),R.push([lt[fo],za,ys]),zs=bi[fo]}else if(xt==="left"){R=[],xi=lt.length;for(var J=0;J<xi;J++)R.push(lt[J])}else if(xt==="justify"&&Qf.encoding==="Identity-H"){R=[],xi=lt.length,Ft=Ft!==0?Ft:hu;for(var l=0,f=0;f<xi;f++)if(ys=f===0?Hn(be):-fu,za=f===0?Sr(re):l,f<xi-1){var p=X((Ft-bi[f])/(lt[f].split(" ").length-1)),v=lt[f].split(" ");R.push([v[0]+" ",za,ys]),l=0;for(var x=1;x<v.length;x++){var b=(Oa(v[x-1]+" "+v[x])-Oa(v[x]))*es+p;x==v.length-1?R.push([v[x],b,0]):R.push([v[x]+" ",b,0]),l-=b}}else R.push([lt[f],za,ys]);R.push(["",l,0])}else{if(xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],xi=lt.length,Ft=Ft!==0?Ft:hu,f=0;f<xi;f++){ys=f===0?Hn(be):-fu,za=f===0?Sr(re):0;var N=lt[f].split(" ").length-1,j=N>0?(Ft-bi[f])/N:0;f<xi-1?jl.push(D(X(j))):jl.push(0),R.push([lt[f],za,ys])}}}(typeof Te.R2L=="boolean"?Te.R2L:It)===!0&&(R=hc(R,function(et,at,tt){return[et.split("").reverse().join(""),at,tt]})),Qe={text:R,x:re,y:be,options:Te,mutex:{pdfEscape:$s,activeFontKey:Et,fonts:He,activeFontSize:Be}},rn.publish("postProcessText",Qe),R=Qe.text,Ir=Qe.mutex.isHex||!1;var L=He[Et].encoding;L!=="WinAnsiEncoding"&&L!=="StandardEncoding"||(R=hc(R,function(et,at,tt){return[vs(et),at,tt]})),lt=fc(R),R=[];for(var G,ee,se,xe=Array.isArray(lt[0])?1:0,Oe="",ke=function(et,at,tt){var ur="";return tt instanceof Rt?(tt=typeof Te.angle=="number"?On(tt,new Rt(1,0,0,1,et,at)):On(new Rt(1,0,0,1,et,at),tt),I===O&&(tt=On(new Rt(1,0,0,-1,0,0),tt)),ur=tt.join(" ")+` Tm
`):ur=D(et)+" "+D(at)+` Td
`,ur},Le=0;Le<lt.length;Le++){switch(Oe="",xe){case 1:se=(Ir?"<":"(")+lt[Le][0]+(Ir?">":")"),G=parseFloat(lt[Le][1]),ee=parseFloat(lt[Le][2]);break;case 0:se=(Ir?"<":"(")+lt[Le]+(Ir?">":")"),G=Sr(re),ee=Hn(be)}jl!==void 0&&jl[Le]!==void 0&&(Oe=jl[Le]+` Tw
`),Le===0?R.push(Oe+ke(G,ee,Or)+se):xe===0?R.push(Oe+se):xe===1&&R.push(Oe+ke(G,ee,Or)+se)}R=xe===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var We=`BT
/`;return We+=Et+" "+Be+` Tf
`,We+=D(Be*ua)+` TL
`,We+=iu+`
`,We+=ii,We+=R,de(We+="ET"),y[Et]=!0,St};var ve=g.__private__.clip=g.clip=function(R){return de(R==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ve("evenodd")},g.__private__.discardPath=g.discardPath=function(){return de("n"),this};var Dt=g.__private__.isValidStyle=function(R){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(re=!0),re};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(R){return Dt(R)&&(u=R),this};var yi=g.__private__.getStyle=g.getStyle=function(R){var re=u;switch(R){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=R}return re},Ua=g.close=function(){return de("h"),this};g.stroke=function(){return de("S"),this},g.fill=function(R){return dc("f",R),this},g.fillEvenOdd=function(R){return dc("f*",R),this},g.fillStroke=function(R){return dc("B",R),this},g.fillStrokeEvenOdd=function(R){return dc("B*",R),this};var dc=function(R,re){Dn(re)==="object"?cr(re,R):de(R)},eu=function(R){R===null||I===O&&R===void 0||(R=yi(R),de(R))};function Ja(R,re,be,Te,De){var Qe=new y0(re||this.boundingBox,be||this.xStep,Te||this.yStep,this.gState,De||this.matrix);Qe.stream=this.stream;var lt=R+"$$"+this.cloneIndex+++"$$";return hn(lt,Qe),Qe}var cr=function(R,re){var be=Lr[R.key],Te=Nt[be];if(Te instanceof vh)de("q"),de(Wn(re)),Te.gState&&g.setGState(Te.gState),de(R.matrix.toString()+" cm"),de("/"+be+" sh"),de("Q");else if(Te instanceof y0){var De=new Rt(1,0,0,-1,0,cu());R.matrix&&(De=De.multiply(R.matrix||ca),be=Ja.call(Te,R.key,R.boundingBox,R.xStep,R.yStep,De).id),de("q"),de("/Pattern cs"),de("/"+be+" scn"),Te.gState&&g.setGState(Te.gState),de(re),de("Q")}},Wn=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dd=g.moveTo=function(R,re){return de(D(X(R))+" "+D(W(re))+" m"),this},tu=g.lineTo=function(R,re){return de(D(X(R))+" "+D(W(re))+" l"),this},Go=g.curveTo=function(R,re,be,Te,De,Qe){return de([D(X(R)),D(W(re)),D(X(be)),D(W(Te)),D(X(De)),D(W(Qe)),"c"].join(" ")),this};g.__private__.line=g.line=function(R,re,be,Te,De){if(isNaN(R)||isNaN(re)||isNaN(be)||isNaN(Te)||!Dt(De))throw new Error("Invalid arguments passed to jsPDF.line");return I===E?this.lines([[be-R,Te-re]],R,re,[1,1],De||"S"):this.lines([[be-R,Te-re]],R,re,[1,1]).stroke()},g.__private__.lines=g.lines=function(R,re,be,Te,De,Qe){var lt,Lt,xt,Ar,Ft,tn,bn,Or,St,Fi,Ir,ii;if(typeof R=="number"&&(ii=be,be=re,re=R,R=ii),Te=Te||[1,1],Qe=Qe||!1,isNaN(re)||isNaN(be)||!Array.isArray(R)||!Array.isArray(Te)||!Dt(De)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dd(re,be),lt=Te[0],Lt=Te[1],Ar=R.length,Fi=re,Ir=be,xt=0;xt<Ar;xt++)(Ft=R[xt]).length===2?(Fi=Ft[0]*lt+Fi,Ir=Ft[1]*Lt+Ir,tu(Fi,Ir)):(tn=Ft[0]*lt+Fi,bn=Ft[1]*Lt+Ir,Or=Ft[2]*lt+Fi,St=Ft[3]*Lt+Ir,Fi=Ft[4]*lt+Fi,Ir=Ft[5]*Lt+Ir,Go(tn,bn,Or,St,Fi,Ir));return Qe&&Ua(),eu(De),this},g.path=function(R){for(var re=0;re<R.length;re++){var be=R[re],Te=be.c;switch(be.op){case"m":dd(Te[0],Te[1]);break;case"l":tu(Te[0],Te[1]);break;case"c":Go.apply(this,Te);break;case"h":Ua()}}return this},g.__private__.rect=g.rect=function(R,re,be,Te,De){if(isNaN(R)||isNaN(re)||isNaN(be)||isNaN(Te)||!Dt(De))throw new Error("Invalid arguments passed to jsPDF.rect");return I===E&&(Te=-Te),de([D(X(R)),D(W(re)),D(X(be)),D(X(Te)),"re"].join(" ")),eu(De),this},g.__private__.triangle=g.triangle=function(R,re,be,Te,De,Qe,lt){if(isNaN(R)||isNaN(re)||isNaN(be)||isNaN(Te)||isNaN(De)||isNaN(Qe)||!Dt(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-R,Te-re],[De-be,Qe-Te],[R-De,re-Qe]],R,re,[1,1],lt,!0),this},g.__private__.roundedRect=g.roundedRect=function(R,re,be,Te,De,Qe,lt){if(isNaN(R)||isNaN(re)||isNaN(be)||isNaN(Te)||isNaN(De)||isNaN(Qe)||!Dt(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*be),Qe=Math.min(Qe,.5*Te),this.lines([[be-2*De,0],[De*Lt,0,De,Qe-Qe*Lt,De,Qe],[0,Te-2*Qe],[0,Qe*Lt,-De*Lt,Qe,-De,Qe],[2*De-be,0],[-De*Lt,0,-De,-Qe*Lt,-De,-Qe],[0,2*Qe-Te],[0,-Qe*Lt,De*Lt,-Qe,De,-Qe]],R+De,re,[1,1],lt,!0),this},g.__private__.ellipse=g.ellipse=function(R,re,be,Te,De){if(isNaN(R)||isNaN(re)||isNaN(be)||isNaN(Te)||!Dt(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*be,lt=4/3*(Math.SQRT2-1)*Te;return dd(R+be,re),Go(R+be,re-lt,R+Qe,re-Te,R,re-Te),Go(R-Qe,re-Te,R-be,re-lt,R-be,re),Go(R-be,re+lt,R-Qe,re+Te,R,re+Te),Go(R+Qe,re+Te,R+be,re+lt,R+be,re),eu(De),this},g.__private__.circle=g.circle=function(R,re,be,Te){if(isNaN(R)||isNaN(re)||isNaN(be)||!Dt(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,re,be,be,Te)},g.setFont=function(R,re,be){return be&&(re=B(re,be)),Et=Hr(R,re,{disableWarning:!1}),this};var fd=g.__private__.getFont=g.getFont=function(){return He[Hr.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var R,re,be={};for(R in $t)if($t.hasOwnProperty(R))for(re in be[R]=[],$t[R])$t[R].hasOwnProperty(re)&&be[R].push(re);return be},g.addFont=function(R,re,be,Te,De){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(be=B(be,Te)),st.call(this,R,re,be,De=De||"Identity-H")};var Cl,Kf=e.lineWidth||.200025,Wt=g.__private__.getLineWidth=g.getLineWidth=function(){return Kf},ru=g.__private__.setLineWidth=g.setLineWidth=function(R){return Kf=R,de(D(X(R))+" w"),this};g.__private__.setLineDash=ar.API.setLineDash=ar.API.setLineDashPattern=function(R,re){if(R=R||[],re=re||0,isNaN(re)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(be){return D(X(be))}).join(" "),re=D(X(re)),de("["+R+"] "+re+" d"),this};var Ko=g.__private__.getLineHeight=g.getLineHeight=function(){return Be*Cl};g.__private__.getLineHeight=g.getLineHeight=function(){return Be*Cl};var mr=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Cl=R),this},N1=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Cl};mr(e.lineHeight);var Sr=g.__private__.getHorizontalCoordinate=function(R){return X(R)},Hn=g.__private__.getVerticalCoordinate=function(R){return I===O?R:lr[Z].mediaBox.topRightY-lr[Z].mediaBox.bottomLeftY-X(R)},O1=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(R){return D(Sr(R))},Yf=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(R){return D(Hn(R))},nu=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ni(nu)},g.__private__.setStrokeColor=g.setDrawColor=function(R,re,be,Te){return nu=Ca({ch1:R,ch2:re,ch3:be,ch4:Te,pdfColorType:"draw",precision:2}),de(nu),this};var lo=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ni(lo)},g.__private__.setFillColor=g.setFillColor=function(R,re,be,Te){return lo=Ca({ch1:R,ch2:re,ch3:be,ch4:Te,pdfColorType:"fill",precision:2}),de(lo),this};var iu=e.textColor||"0 g",Yo=g.__private__.getTextColor=g.getTextColor=function(){return ni(iu)};g.__private__.setTextColor=g.setTextColor=function(R,re,be,Te){return iu=Ca({ch1:R,ch2:re,ch3:be,ch4:Te,pdfColorType:"text",precision:3}),this};var Xo=e.charSpace,au=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Xo||0)};g.__private__.setCharSpace=g.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xo=R,this};var hd=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(R){var re=g.CapJoinStyles[R];if(re===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hd=re,de(re+" J"),this};var Nl=0;g.__private__.setLineJoin=g.setLineJoin=function(R){var re=g.CapJoinStyles[R];if(re===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=re,de(re+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(D(X(R))+" M"),this},g.GState=Uw,g.setGState=function(R){(R=typeof R=="string"?_r[qn[R]]:co(null,R)).equals(pr)||(de("/"+R.id+" gs"),pr=R)};var co=function(R,re){if(!R||!qn[R]){var be=!1;for(var Te in _r)if(_r.hasOwnProperty(Te)&&_r[Te].equals(re)){be=!0;break}if(be)re=_r[Te];else{var De="GS"+(Object.keys(_r).length+1).toString(10);_r[De]=re,re.id=De}return R&&(qn[R]=re.id),rn.publish("addGState",re),re}};g.addGState=function(R,re){return co(R,re),this},g.saveGraphicsState=function(){return de("q"),Qt.push({key:Et,size:Be,color:iu}),this},g.restoreGraphicsState=function(){de("Q");var R=Qt.pop();return Et=R.key,Be=R.size,iu=R.color,pr=null,this},g.setCurrentTransformationMatrix=function(R){return de(R.toString()+" cm"),this},g.comment=function(R){return de("#"+R),this};var Ni=function(R,re){var be=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Qe){isNaN(Qe)||(be=parseFloat(Qe))}});var Te=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Qe){isNaN(Qe)||(Te=parseFloat(Qe))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Qe){De=Qe.toString()}}),this},pd=function(R,re,be,Te){Ni.call(this,R,re),this.type="rect";var De=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(lt){isNaN(lt)||(De=parseFloat(lt))}});var Qe=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(lt){isNaN(lt)||(Qe=parseFloat(lt))}}),this},su=function(){this.page=Gr,this.currentPage=Z,this.pages=Ee.slice(0),this.pagesContext=lr.slice(0),this.x=kt,this.y=Ur,this.matrix=Zt,this.width=Np(Z),this.height=Kr(Z),this.outputDestination=Re,this.id="",this.objectNumber=-1};su.prototype.restore=function(){Gr=this.page,Z=this.currentPage,lr=this.pagesContext,Ee=this.pages,kt=this.x,Ur=this.y,Zt=this.matrix,Op(Z,this.width),Zo(Z,this.height),Re=this.outputDestination};var md=function(R,re,be,Te,De){Nn.push(new su),Gr=Z=0,Ee=[],kt=R,Ur=re,Zt=De,Bn([be,Te])};for(var ou in g.beginFormObject=function(R,re,be,Te,De){return md(R,re,be,Te,De),this},g.endFormObject=function(R){return function(re){if(wr[re])Nn.pop().restore();else{var be=new su,Te="Xo"+(Object.keys(Nr).length+1).toString(10);be.id=Te,wr[re]=Te,Nr[Te]=be,rn.publish("addFormObject",be),Nn.pop().restore()}}(R),this},g.doFormObject=function(R,re){var be=Nr[wr[R]];return de("q"),de(re.toString()+" cm"),de("/"+be.id+" Do"),de("Q"),this},g.getFormObject=function(R){var re=Nr[wr[R]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},g.save=function(R,re){return R=R||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(hh(Tn(El()),R),typeof hh.unload=="function"&&Tr.setTimeout&&setTimeout(hh.unload,911),this):new Promise(function(be,Te){try{var De=hh(Tn(El()),R);typeof hh.unload=="function"&&Tr.setTimeout&&setTimeout(hh.unload,911),be(De)}catch(Qe){Te(Qe.message)}})},ar.API)ar.API.hasOwnProperty(ou)&&(ou==="events"&&ar.API.events.length?function(R,re){var be,Te,De;for(De=re.length-1;De!==-1;De--)be=re[De][0],Te=re[De][1],R.subscribe.apply(R,[be].concat(typeof Te=="function"?[Te]:Te))}(rn,ar.API.events):g[ou]=ar.API[ou]);function Np(R){return lr[R].mediaBox.topRightX-lr[R].mediaBox.bottomLeftX}function Op(R,re){lr[R].mediaBox.topRightX=re+lr[R].mediaBox.bottomLeftX}function Kr(R){return lr[R].mediaBox.topRightY-lr[R].mediaBox.bottomLeftY}function Zo(R,re){lr[R].mediaBox.topRightY=re+lr[R].mediaBox.bottomLeftY}var lu=g.getPageWidth=function(R){return Np(R=R||Z)/sr},uo=g.setPageWidth=function(R,re){Op(R,re*sr)},cu=g.getPageHeight=function(R){return Kr(R=R||Z)/sr},Ve=g.setPageHeight=function(R,re){Zo(R,re*sr)};return g.internal={pdfEscape:$s,getStyle:yi,getFont:fd,getFontSize:qe,getCharSpace:au,getTextColor:Yo,getLineHeight:Ko,getLineHeightFactor:N1,getLineWidth:Wt,write:it,getHorizontalCoordinate:Sr,getVerticalCoordinate:Hn,getCoordinateString:O1,getVerticalCoordinateString:Yf,collections:{},newObject:Zr,newAdditionalObject:Ot,newObjectDeferred:Yn,newObjectDeferredBegin:Sn,getFilters:Qa,putStream:Ba,events:rn,scaleFactor:sr,pageSize:{getWidth:function(){return lu(Z)},setWidth:function(R){uo(Z,R)},getHeight:function(){return cu(Z)},setHeight:function(R){Ve(Z,R)}},encryptionOptions:h,encryption:$n,getEncryptor:function(R){return h!==null?$n.encryptor(R,0):function(re){return re}},output:Zi,getNumberOfPages:en,pages:Ee,out:de,f2:$,f3:z,getPageInfo:pn,getPageInfoByObjId:Qi,getCurrentPageInfo:$e,getPDFVersion:_,Point:Ni,Rectangle:pd,Matrix:Rt,hasHotfix:Jc},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return lu(Z)},set:function(R){uo(Z,R)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return cu(Z)},set:function(R){Ve(Z,R)},enumerable:!0,configurable:!0}),(function(R){for(var re=0,be=Ye.length;re<be;re++){var Te=st.call(this,R[re][0],R[re][1],R[re][2],Ye[re][3],!0);m===!1&&(y[Te]=!0);var De=R[re][0].split("-");ud({id:Te,fontName:De[0],fontStyle:De[1]||""})}rn.publish("addFonts",{fonts:He,dictionary:$t})}).call(g,Ye),Et="F1",Al(i,r),rn.publish("initialized"),g}Zp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Zp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Zp.prototype.processOwnerPassword=function(e,t){return $4(B4(t).substr(0,5),e)},Zp.prototype.encryptor=function(e,t){var r=B4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return $4(r,n)}},Uw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Dn(e)!==Dn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ar.API={events:[]},ar.version="3.0.3";var ki=ar.API,gj=1,Ep=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kr=function(e){return e.toFixed(2)},Td=function(e){return e.toFixed(5)};ki.__acroform__={};var so=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kL=function(e){return e*gj},yc=function(e){var t=new KK,r=Ht.internal.getHeight(e)||0,n=Ht.internal.getWidth(e)||0;return t.BBox=[0,0,Number(kr(n)),Number(kr(r))],t},VLe=ki.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},GLe=ki.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},KLe=ki.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},zi=ki.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KLe(e,t-1)},qi=ki.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VLe(e,t-1)},Wi=ki.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GLe(e,t-1)},YLe=ki.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+o)||0,c.upperRight_X=r(i+s)||0,c.upperRight_Y=n(a)||0,[Number(kr(c.lowerLeft_X)),Number(kr(c.lowerLeft_Y)),Number(kr(c.upperRight_X)),Number(kr(c.upperRight_Y))]},XLe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=U4(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+kr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=yc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},U4=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function($){return $.split(`
`)}):i.map(function($){return[$]});var a=r,s=Ht.internal.getHeight(e)||0;s=s<0?-s:s;var o=Ht.internal.getWidth(e)||0;o=o<0?-o:o;var c=function($,z,X){if($+1<i.length){var W=z+" "+i[$+1][0];return l2(W,e,X).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,h,m=l2("3",e,a).height,y=e.multiline?s-a:(s-m)/2,g=y+=2,S=0,_=0,w=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+l2(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var A="",E=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var I=!1;if(i[O].length!==1&&w!==i[O].length-1){if((m+2)*(E+2)+2>s)continue e;A+=i[O][w],I=!0,_=O,O--}else{A=(A+=i[O][w]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var k=parseInt(O),F=c(k,A,a),B=O>=i.length-1;if(F&&!B){A+=" ",w=0;continue}if(F||B){if(B)_=k;else if(e.multiline&&(m+2)*(E+2)+2>s)continue e}else{if(!e.multiline||(m+2)*(E+2)+2>s)continue e;_=k}}for(var D="",P=S;P<=_;P++){var K=i[P];if(e.multiline){if(P===_){D+=K[w]+" ",w=(w+1)%K.length;continue}if(P===S){D+=K[K.length-1]+" ";continue}}D+=K[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,h=l2(D,e,a).width,e.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;default:u=2}t+=kr(u)+" "+kr(g)+` Td
`,t+="("+Ep(D)+`) Tj
`,t+=-kr(u)+` 0 Td
`,g=-(a+2),h=0,S=I?_:_+1,E++,A=""}break}return n.text=t,n.fontSize=a,n},l2=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ZLe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},QLe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},JLe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(oc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ZLe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new YK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&QLe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=YLe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ht.createDefaultAppearanceStream(o),Dn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=XLe(o);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var m="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var g=o.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var S=g[s];typeof S=="function"&&(S=S.call(i,o)),m+="/"+s+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=g)=="function"&&(S=S.call(i,o)),m+="/"+s+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}a&&function(_,w){for(var A in _)if(_.hasOwnProperty(A)){var E=A,O=_[A];w.internal.newObjectDeferredBegin(O.objId,!0),Dn(O)==="object"&&typeof O.putStream=="function"&&O.putStream(),delete _[E]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},GK=ki.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Dn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Ep(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},VA=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ep(n(e))+")"},Ic=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ic.prototype.toString=function(){return this.objId+" 0 R"},Ic.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ic.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:GK(i,this.objId,this.scope)}):i instanceof Ic?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var KK=function(){Ic.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};so(KK,Ic);var YK=function(){Ic.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ep(r(e))+")"}},set:function(r){e=r}})};so(YK,Ic);var oc=function e(){Ic.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');t=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zi(t,3)},set:function(A){A?this.F=qi(t,3):this.F=Wi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');r=A}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(A){n=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(A){n[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(A){n[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(A){n[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(A){n[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof zw)return;a="FieldObject"+e.FieldNum++}var A=function(E){return E};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Ep(A(a))+")"},set:function(A){a=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(A){a=A}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(A){s=A}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(A){o=A}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/gj:u},set:function(A){u=A}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(A){h=A}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof zw||this instanceof qh))return VA(m,this.objId,this.scope)},set:function(A){A=A.toString(),m=A}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Pa==0?VA(y,this.objId,this.scope):y},set:function(A){A=A.toString(),y=this instanceof Pa==0?A.substr(0,1)==="("?Vp(A.substr(1,A.length-2)):Vp(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pa==1?Vp(y.substr(1,y.length-1)):y},set:function(A){A=A.toString(),y=this instanceof Pa==1?"/"+A:A}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Pa==0?VA(g,this.objId,this.scope):g},set:function(A){A=A.toString(),g=this instanceof Pa==0?A.substr(0,1)==="("?Vp(A.substr(1,A.length-2)):Vp(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pa==1?Vp(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof Pa==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(A){A=!!A,_=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(A){S=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,1)},set:function(A){A?this.Ff=qi(this.Ff,1):this.Ff=Wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,2)},set:function(A){A?this.Ff=qi(this.Ff,2):this.Ff=Wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,3)},set:function(A){A?this.Ff=qi(this.Ff,3):this.Ff=Wi(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');w=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(w){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};so(oc,Ic);var D0=function(){oc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return GK(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var c,u=[];c=s.exec(a);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,18)},set:function(r){r?this.Ff=qi(this.Ff,18):this.Ff=Wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=qi(this.Ff,19):this.Ff=Wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,20)},set:function(r){r?(this.Ff=qi(this.Ff,20),t.sort()):this.Ff=Wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,22)},set:function(r){r?this.Ff=qi(this.Ff,22):this.Ff=Wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,23)},set:function(r){r?this.Ff=qi(this.Ff,23):this.Ff=Wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,27)},set:function(r){r?this.Ff=qi(this.Ff,27):this.Ff=Wi(this.Ff,27)}}),this.hasAppearanceStream=!1};so(D0,oc);var L0=function(){D0.call(this),this.fontName="helvetica",this.combo=!1};so(L0,D0);var F0=function(){L0.call(this),this.combo=!0};so(F0,L0);var R2=function(){F0.call(this),this.edit=!0};so(R2,F0);var Pa=function(){oc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,15)},set:function(r){r?this.Ff=qi(this.Ff,15):this.Ff=Wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,16)},set:function(r){r?this.Ff=qi(this.Ff,16):this.Ff=Wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,17)},set:function(r){r?this.Ff=qi(this.Ff,17):this.Ff=Wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,26)},set:function(r){r?this.Ff=qi(this.Ff,26):this.Ff=Wi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Ep(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Dn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};so(Pa,oc);var D2=function(){Pa.call(this),this.pushButton=!0};so(D2,Pa);var B0=function(){Pa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};so(B0,Pa);var zw=function(){var e,t;oc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Ep(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Dn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};so(zw,oc),B0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},B0.prototype.createOption=function(e){var t=new zw;return t.Parent=this,t.optionName=e,this.Kids.push(t),e7e.call(this.scope,t),t};var L2=function(){Pa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ht.CheckBox.createAppearanceStream()};so(L2,Pa);var qh=function(){oc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,13)},set:function(t){t?this.Ff=qi(this.Ff,13):this.Ff=Wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,21)},set:function(t){t?this.Ff=qi(this.Ff,21):this.Ff=Wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,23)},set:function(t){t?this.Ff=qi(this.Ff,23):this.Ff=Wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,24)},set:function(t){t?this.Ff=qi(this.Ff,24):this.Ff=Wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,25)},set:function(t){t?this.Ff=qi(this.Ff,25):this.Ff=Wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,26)},set:function(t){t?this.Ff=qi(this.Ff,26):this.Ff=Wi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};so(qh,oc);var F2=function(){qh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,14)},set:function(e){e?this.Ff=qi(this.Ff,14):this.Ff=Wi(this.Ff,14)}}),this.password=!0};so(F2,qh);var Ht={CheckBox:{createAppearanceStream:function(){return{N:{On:Ht.CheckBox.YesNormal},D:{On:Ht.CheckBox.YesPushDown,Off:Ht.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=yc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=U4(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+kr(Ht.internal.getWidth(e))+" "+kr(Ht.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+kr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=yc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Ht.internal.getHeight(e),s=Ht.internal.getWidth(e),o=U4(e,e.caption);return i.push("1 g"),i.push("0 0 "+kr(s)+" "+kr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kr(s-1)+" "+kr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+kr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=yc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kr(Ht.internal.getWidth(e))+" "+kr(Ht.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ht.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ht.RadioButton.Circle.YesNormal,t.D[e]=Ht.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=yc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Ht.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Td(Ht.internal.getWidth(e)/2)+" "+Td(Ht.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5)),s=Number((n*Ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Td(Ht.internal.getWidth(e)/2)+" "+Td(Ht.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Td(Ht.internal.getWidth(e)/2)+" "+Td(Ht.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=yc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Td(Ht.internal.getWidth(e)/2)+" "+Td(Ht.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ht.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ht.RadioButton.Cross.YesNormal,t.D[e]=Ht.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=yc(e);t.scope=e.scope;var r=[],n=Ht.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+kr(Ht.internal.getWidth(e)-2)+" "+kr(Ht.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(kr(n.x1.x)+" "+kr(n.x1.y)+" m"),r.push(kr(n.x2.x)+" "+kr(n.x2.y)+" l"),r.push(kr(n.x4.x)+" "+kr(n.x4.y)+" m"),r.push(kr(n.x3.x)+" "+kr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yc(e);t.scope=e.scope;var r=Ht.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+kr(Ht.internal.getWidth(e))+" "+kr(Ht.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+kr(Ht.internal.getWidth(e)-2)+" "+kr(Ht.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(kr(r.x1.x)+" "+kr(r.x1.y)+" m"),n.push(kr(r.x2.x)+" "+kr(r.x2.y)+" l"),n.push(kr(r.x4.x)+" "+kr(r.x4.y)+" m"),n.push(kr(r.x3.x)+" "+kr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=yc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kr(Ht.internal.getWidth(e))+" "+kr(Ht.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ht.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ht.internal.getWidth(e),r=Ht.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ht.internal.getWidth=function(e){var t=0;return Dn(e)==="object"&&(t=kL(e.Rect[2])),t},Ht.internal.getHeight=function(e){var t=0;return Dn(e)==="object"&&(t=kL(e.Rect[3])),t};var e7e=ki.addField=function(e){if(JLe(this,e),!(e instanceof oc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ki.AcroFormChoiceField=D0,ki.AcroFormListBox=L0,ki.AcroFormComboBox=F0,ki.AcroFormEditBox=R2,ki.AcroFormButton=Pa,ki.AcroFormPushButton=D2,ki.AcroFormRadioButton=B0,ki.AcroFormCheckBox=L2,ki.AcroFormTextField=qh,ki.AcroFormPasswordField=F2,ki.AcroFormAppearance=Ht,ki.AcroForm={ChoiceField:D0,ListBox:L0,ComboBox:F0,EditBox:R2,Button:Pa,PushButton:D2,RadioButton:B0,CheckBox:L2,TextField:qh,PasswordField:F2,Appearance:Ht},ar.AcroForm={ChoiceField:D0,ListBox:L0,ComboBox:F0,EditBox:R2,Button:Pa,PushButton:D2,RadioButton:B0,CheckBox:L2,TextField:qh,PasswordField:F2,Appearance:Ht};function XK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function($,z){var X,W,V,Q,ne,te=r;if((z=z||r)==="RGBA"||$.data!==void 0&&$.data instanceof Uint8ClampedArray&&"height"in $&&"width"in $)return"RGBA";if(F($))for(ne in n)for(V=n[ne],X=0;X<V.length;X+=1){for(Q=!0,W=0;W<V[X].length;W+=1)if(V[X][W]!==void 0&&V[X][W]!==$[W]){Q=!1;break}if(Q===!0){te=ne;break}}else for(ne in n)for(V=n[ne],X=0;X<V.length;X+=1){for(Q=!0,W=0;W<V[X].length;W+=1)if(V[X][W]!==void 0&&V[X][W]!==$.charCodeAt(W)){Q=!1;break}if(Q===!0){te=ne;break}}return te===r&&z!==r&&(te=z),te},a=function $(z){for(var X=this.internal.write,W=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:z.width}),Q.push({key:"Height",value:z.height}),z.colorSpace===A.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===A.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var ne="",te=0,H=z.transparency.length;te<H;te++)ne+=z.transparency[te]+" "+z.transparency[te]+" ";Q.push({key:"Mask",value:"["+ne+"]"})}z.sMask!==void 0&&Q.push({key:"SMask",value:z.objectId+1+" 0 R"});var le=z.filter!==void 0?["/"+z.filter]:void 0;if(W({data:z.data,additionalKeyValues:Q,alreadyAppliedFilters:le,objectId:z.objectId}),X("endobj"),"sMask"in z&&z.sMask!==void 0){var fe,q=(fe=z.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:z.bitsPerComponent,Z={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:z.sMask};"filter"in z&&(Z.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(z.width),Z.filter=z.filter),$.call(this,Z)}if(z.colorSpace===A.INDEXED){var ae=this.internal.newObject();W({data:D(new Uint8Array(z.palette)),objectId:ae}),X("endobj")}},s=function(){var $=this.internal.collections[t+"images"];for(var z in $)a.call(this,$[z])},o=function(){var $,z=this.internal.collections[t+"images"],X=this.internal.write;for(var W in z)X("/I"+($=z[W]).index,$.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var $=this.internal.collections[t+"images"];return c.call(this),$},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function($){return typeof e["process"+$.toUpperCase()]=="function"},y=function($){return Dn($)==="object"&&$.nodeType===1},g=function($,z){if($.nodeName==="IMG"&&$.hasAttribute("src")){var X=""+$.getAttribute("src");if(X.indexOf("data:image/")===0)return M2(unescape(X).split("base64,").pop());var W=e.loadFile(X,!0);if(W!==void 0)return W}if($.nodeName==="CANVAS"){if($.width===0||$.height===0)throw new Error("Given canvas must have data. Canvas width: "+$.width+", height: "+$.height);var V;switch(z){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;default:V="image/jpeg"}return M2($.toDataURL(V,1).split("base64,").pop())}},S=function($){var z=this.internal.collections[t+"images"];if(z){for(var X in z)if($===z[X].alias)return z[X]}},_=function($,z,X){return $||z||($=-96,z=-96),$<0&&($=-1*X.width*72/$/this.internal.scaleFactor),z<0&&(z=-1*X.height*72/z/this.internal.scaleFactor),$===0&&($=z*X.width/X.height),z===0&&(z=$*X.height/X.width),[$,z]},w=function($,z,X,W,V,Q){var ne=_.call(this,X,W,V),te=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,le=u.call(this);if(X=ne[0],W=ne[1],le[V.index]=V,Q){Q*=Math.PI/180;var fe=Math.cos(Q),q=Math.sin(Q),Z=function(ge){return ge.toFixed(4)},ae=[Z(fe),Z(q),Z(-1*q),Z(fe),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,te($),H(z+W),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([te(X),"0","0",te(W),"0","0","cm"].join(" "))):this.internal.write([te(X),"0","0",te(W),te($),H(z+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=e.__addimage__.sHashCode=function($){var z,X,W=0;if(typeof $=="string")for(X=$.length,z=0;z<X;z++)W=(W<<5)-W+$.charCodeAt(z),W|=0;else if(F($))for(X=$.byteLength/2,z=0;z<X;z++)W=(W<<5)-W+$[z],W|=0;return W},I=e.__addimage__.validateStringAsBase64=function($){($=$||"").toString().trim();var z=!0;return $.length===0&&(z=!1),$.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test($.substr(0,$.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test($.substr(-2))===!1&&(z=!1),z},k=e.__addimage__.extractImageFromDataUrl=function($){if($==null||!($=$.trim()).startsWith("data:"))return null;var z=$.indexOf(",");return z<0?null:$.substring(0,z).trim().endsWith("base64")?$.substring(z+1):null};e.__addimage__.isArrayBuffer=function($){return $ instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function($){return $ instanceof Int8Array||$ instanceof Uint8Array||$ instanceof Uint8ClampedArray||$ instanceof Int16Array||$ instanceof Uint16Array||$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array||$ instanceof Float64Array},B=e.__addimage__.binaryStringToUint8Array=function($){for(var z=$.length,X=new Uint8Array(z),W=0;W<z;W++)X[W]=$.charCodeAt(W);return X},D=e.__addimage__.arrayBufferToBinaryString=function($){for(var z="",X=F($)?$:new Uint8Array($),W=0;W<X.length;W+=8192)z+=String.fromCharCode.apply(null,X.subarray(W,W+8192));return z};e.addImage=function(){var $,z,X,W,V,Q,ne,te,H;if(typeof arguments[1]=="number"?(z=r,X=arguments[1],W=arguments[2],V=arguments[3],Q=arguments[4],ne=arguments[5],te=arguments[6],H=arguments[7]):(z=arguments[1],X=arguments[2],W=arguments[3],V=arguments[4],Q=arguments[5],ne=arguments[6],te=arguments[7],H=arguments[8]),Dn($=arguments[0])==="object"&&!y($)&&"imageData"in $){var le=$;$=le.imageData,z=le.format||z||r,X=le.x||X||0,W=le.y||W||0,V=le.w||le.width||V,Q=le.h||le.height||Q,ne=le.alias||ne,te=le.compression||te,H=le.rotation||le.angle||H}var fe=this.internal.getFilters();if(te===void 0&&fe.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(X)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var q=P.call(this,$,z,ne,te);return w.call(this,X,W,V,Q,q,H),this};var P=function($,z,X,W){var V,Q,ne;if(typeof $=="string"&&i($)===r){$=unescape($);var te=K($,!1);(te!==""||(te=e.loadFile($,!0))!==void 0)&&($=te)}if(y($)&&($=g($,z)),z=i($,z),!m(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((ne=X)==null||ne.length===0)&&(X=function(H){return typeof H=="string"||F(H)?O(H):F(H.data)?O(H.data):null}($)),(V=S.call(this,X))||($ instanceof Uint8Array||z==="RGBA"||(Q=$,$=B($)),V=this["process"+z.toUpperCase()]($,h.call(this),X,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in e.image_compression?H:E.NONE}(W),Q)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},K=e.__addimage__.convertBase64ToBinaryString=function($,z){z=typeof z!="boolean"||z;var X,W="";if(typeof $=="string"){var V;X=(V=k($))!==null&&V!==void 0?V:$;try{W=M2(X)}catch(Q){if(z)throw I(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function($){var z,X,W="";if(y($)&&($=g($)),typeof $=="string"&&i($)===r&&((W=K($,!1))===""&&(W=e.loadFile($)||""),$=W),X=i($),!m(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if($ instanceof Uint8Array||($=B($)),!(z=this["process"+X.toUpperCase()]($)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=X,z}})(ar.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ar.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,m=0;m<u.length&&!h;m++)switch((n=u[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){n=u[y];var g=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(_.objId),E=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(A(n.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+g(A(E))+") >>",_.content=a;var O=_.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+O,n.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(_.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(S(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var h=this.splitTextToSize(r,o).length;s=Math.ceil(u*h)}else o=c,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,o,s,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ar.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},o=e.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&a(_)&&t[_.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&a(_)&&t[_.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&a(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&a(_)&&t[_.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&a(_)&&t[_.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(_){var w=0,A=r,E="",O=0;for(w=0;w<_.length;w+=1)A[_.charCodeAt(w)]!==void 0?(O++,typeof(A=A[_.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(A),A=r,O=0),w===_.length-1&&(A=r,E+=_.charAt(w-(O-1)),w-=O-1,O=0)):(A=r,E+=_.charAt(w-O),w-=O,O=0);return E};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(_,w,A){return s(_)?a(_)===!1?-1:!u(_)||!s(w)&&!s(A)||!s(A)&&o(w)||o(_)&&!s(w)||o(_)&&c(w)||o(_)&&o(w)?0:h(_)&&s(w)&&!o(w)&&s(A)&&u(A)?3:o(_)||!s(A)?1:2:-1},g=function(_){var w=0,A=0,E=0,O="",I="",k="",F=(_=_||"").split("\\s+"),B=[];for(w=0;w<F.length;w+=1){for(B.push(""),A=0;A<F[w].length;A+=1)O=F[w][A],I=F[w][A-1],k=F[w][A+1],s(O)?(E=y(O,I,k),B[w]+=E!==-1?String.fromCharCode(t[O.charCodeAt(0)][E]):O):B[w]+=O;B[w]=m(B[w])}return B.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var _,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(w)){var E=0;for(A=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?A.push([g(w[E][0]),w[E][1],w[E][2]]):A.push([g(w[E])]);_=A}else _=g(w);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",S])}(ar.API),ar.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ar.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(_){S=_}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,g=0,S=0,_=0,w=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var A=u.maxWidth;A>0?typeof c=="string"?c=this.splitTextToSize(c,A):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(O,I){return O.concat(w.splitTextToSize(I,A))},[])):c=Array.isArray(c)?c:[c];for(var E=0;E<c.length;E++)g<(_=this.getStringUnitWidth(c[E],{font:m})*h)&&(g=_);return g!==0&&(S=c.length),{w:g/=y,h:Math.max((S*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,g&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,h,m,y){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,S,_,w,A=[],E=[],O=[],I={},k={},F=[],B=[],D=(y=y||{}).autoSize||!1,P=y.printHeaders!==!1,K=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,$=y.margins||Object.assign({width:this.getPageWidth()},t),z=typeof y.padding=="number"?y.padding:3,X=y.headerBackgroundColor||"#c8c8c8",W=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=$,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=W,this.setFontSize(K),m==null)E=A=Object.keys(h[0]),O=A.map(function(){return"left"});else if(Array.isArray(m)&&Dn(m[0])==="object")for(A=m.map(function(le){return le.name}),E=m.map(function(le){return le.prompt||le.name||""}),O=m.map(function(le){return le.align||"left"}),g=0;g<m.length;g+=1)k[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(E=A=m,O=A.map(function(){return"left"}));if(D||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<A.length;g+=1){for(I[w=A[g]]=h.map(function(le){return le[w]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=I[w],this.setFont(void 0,"normal"),_=0;_<S.length;_+=1)F.push(this.getTextDimensions(S[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[w]=Math.max.apply(null,F)+z+z,F=[]}if(P){var V={};for(g=0;g<A.length;g+=1)V[A[g]]={},V[A[g]].text=E[g],V[A[g]].align=O[g];var Q=o.call(this,V,k);B=A.map(function(le){return new a(c,u,k[le],Q,V[le].text,void 0,V[le].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var ne=m.reduce(function(le,fe){return le[fe.name]=fe.align,le},{});for(g=0;g<h.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:h[g]},this);var te=o.call(this,h[g],k);for(_=0;_<A.length;_+=1){var H=h[g][A[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:_,data:H},this),s.call(this,new a(c,u,k[A[_]],te,H,g+2,ne[A[_]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(g){var S=c[g];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+h+h},this).reduce(function(g,S){return Math.max(g,S)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=c;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(ar.API);var ZK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],z4=XK(QK),JK=[100,200,300,400,500,600,700,800,900],t7e=XK(JK);function GA(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return ZK[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof z4[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function PL(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var r7e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ML={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RL(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function DL(e){return e.trimLeft()}function n7e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function i7e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var c2,LL,FL,Gp,u2,BL,$L,UL,KA=["times"];function zL(e,t,r,n,i){var a=4,s=WL;switch(i){case ar.API.image_compression.FAST:a=1,s=qL;break;case ar.API.image_compression.MEDIUM:a=6,s=HL;break;case ar.API.image_compression.SLOW:a=9,s=VL}e=function(c,u,h,m){for(var y,g=c.length/u,S=new Uint8Array(c.length+g),_=[a7e,qL,WL,HL,VL],w=0;w<g;w+=1){var A=w*u,E=c.subarray(A,A+u);if(m)S.set(m(E,h,y),A+w);else{for(var O=_.length,I=[],k=0;k<O;k+=1)I[k]=_[k](E,h,y);var F=o7e(I.concat());S.set(I[F],A+w)}y=E}return S}(e,t,Math.ceil(r*n/8),s);var o=T4(e,{level:a});return ar.API.__addimage__.arrayBufferToBinaryString(o)}function a7e(e){var t=Array.apply([],e);return t.unshift(0),t}function qL(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function WL(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function HL(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function VL(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=s7e(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function s7e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function o7e(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function YA(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return eY(e,i)>>a&s}function GL(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,c=(t&o)<<s;(function(u,h,m){if(h+1<u.byteLength)u.setUint16(h,m,!1);else{var y=m>>8&255;u.setUint8(h,y)}})(e,a,eY(e,a)&~(o<<s)&65535|c)}function eY(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function l7e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,c=null;a&&(o=t,c=s,t+=3*s);var u=!0,h=[],m=0,y=null,g=0,S=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];m=e[t++]|e[t++]<<8,y=e[t++],1&_||(y=null),g=_>>2&7,t++;break;case 254:for(;;){if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,O=e[t++]|e[t++]<<8,I=e[t++],k=I>>6&1,F=1<<1+(7&I),B=o,D=c,P=!1;I>>7&&(P=!0,B=t,D=F,t+=3*F);var K=t;for(t++;;){var $;if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}h.push({x:w,y:A,width:E,height:O,has_local_palette:P,palette_offset:B,palette_size:D,data_offset:K,data_length:t-K,transparent_index:y,interlaced:!!k,delay:m,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return S},this.frameInfo=function(z){if(z<0||z>=h.length)throw new Error("Frame index out of range.");return h[z]},this.decodeAndBlitFrameBGRA=function(z,X){var W=this.frameInfo(z),V=W.width*W.height,Q=new Uint8Array(V);KL(e,W.data_offset,Q,V);var ne=W.palette_offset,te=W.transparent_index;te===null&&(te=256);var H=W.width,le=r-H,fe=H,q=4*(W.y*r+W.x),Z=4*((W.y+W.height)*r+W.x),ae=q,ge=4*le;W.interlaced===!0&&(ge+=4*r*7);for(var he=8,Se=0,Ae=Q.length;Se<Ae;++Se){var ye=Q[Se];if(fe===0&&(fe=H,(ae+=ge)>=Z&&(ge=4*le+4*r*(he-1),ae=q+(H+le)*(he<<1),he>>=1)),ye===te)ae+=4;else{var Ne=e[ne+3*ye],Ee=e[ne+3*ye+1],Ce=e[ne+3*ye+2];X[ae++]=Ce,X[ae++]=Ee,X[ae++]=Ne,X[ae++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(z,X){var W=this.frameInfo(z),V=W.width*W.height,Q=new Uint8Array(V);KL(e,W.data_offset,Q,V);var ne=W.palette_offset,te=W.transparent_index;te===null&&(te=256);var H=W.width,le=r-H,fe=H,q=4*(W.y*r+W.x),Z=4*((W.y+W.height)*r+W.x),ae=q,ge=4*le;W.interlaced===!0&&(ge+=4*r*7);for(var he=8,Se=0,Ae=Q.length;Se<Ae;++Se){var ye=Q[Se];if(fe===0&&(fe=H,(ae+=ge)>=Z&&(ge=4*le+4*r*(he-1),ae=q+(H+le)*(he<<1),he>>=1)),ye===te)ae+=4;else{var Ne=e[ne+3*ye],Ee=e[ne+3*ye+1],Ce=e[ne+3*ye+2];X[ae++]=Ne,X[ae++]=Ee,X[ae++]=Ce,X[ae++]=255}--fe}}}function KL(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,c=i+1,u=(1<<c)-1,h=0,m=0,y=0,g=e[t++],S=new Int32Array(4096),_=null;;){for(;h<16&&g!==0;)m|=e[t++]<<h,h+=8,g===1?g=e[t++]:--g;if(h<c)break;var w=m&u;if(m>>=c,h-=c,w!==a){if(w===s)break;for(var A=w<o?w:_,E=0,O=A;O>a;)O=S[O]>>8,++E;var I=O;if(y+E+(A!==w?1:0)>n)return void Gn.log("Warning, gif stream longer than expected.");r[y++]=I;var k=y+=E;for(A!==w&&(r[y++]=I),O=A;E--;)O=S[O],r[--k]=255&O,O>>=8;_!==null&&o<4096&&(S[o++]=_<<8|I,o>=u+1&&c<12&&(++c,u=u<<1|1)),_=w}else o=s+1,u=(1<<(c=i+1))-1,_=null}return y!==n&&Gn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function XA(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),S=new Array(64),_=[],w=0,A=7,E=new Array(64),O=new Array(64),I=new Array(64),k=new Array(256),F=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(q,Z){for(var ae=0,ge=0,he=new Array,Se=1;Se<=16;Se++){for(var Ae=1;Ae<=q[Se];Ae++)he[Z[ge]]=[],he[Z[ge]][0]=ae,he[Z[ge]][1]=Se,ge++,ae++;ae*=2}return he}function ne(q){for(var Z=q[0],ae=q[1]-1;ae>=0;)Z&1<<ae&&(w|=1<<A),ae--,--A<0&&(w==255?(te(255),te(0)):te(w),A=7,w=0)}function te(q){_.push(q)}function H(q){te(q>>8&255),te(255&q)}function le(q,Z,ae,ge,he){for(var Se,Ae=he[0],ye=he[240],Ne=function(Be,_t){var qe,It,Ct,Vt,Gt,vt,hr,Kt,Et,sr,kt=0;for(Et=0;Et<8;++Et){qe=Be[kt],It=Be[kt+1],Ct=Be[kt+2],Vt=Be[kt+3],Gt=Be[kt+4],vt=Be[kt+5],hr=Be[kt+6];var Ur=qe+(Kt=Be[kt+7]),Zt=qe-Kt,He=It+hr,$t=It-hr,Qt=Ct+vt,Nt=Ct-vt,Lr=Vt+Gt,_r=Vt-Gt,qn=Ur+Lr,pr=Ur-Lr,Gr=He+Qt,lr=He-Qt;Be[kt]=qn+Gr,Be[kt+4]=qn-Gr;var rn=.707106781*(lr+pr);Be[kt+2]=pr+rn,Be[kt+6]=pr-rn;var Yt=.382683433*((qn=_r+Nt)-(lr=$t+Zt)),Nr=.5411961*qn+Yt,wr=1.306562965*lr+Yt,Nn=.707106781*(Gr=Nt+$t),Rt=Zt+Nn,On=Zt-Nn;Be[kt+5]=On+Nr,Be[kt+3]=On-Nr,Be[kt+1]=Rt+wr,Be[kt+7]=Rt-wr,kt+=8}for(kt=0,Et=0;Et<8;++Et){qe=Be[kt],It=Be[kt+8],Ct=Be[kt+16],Vt=Be[kt+24],Gt=Be[kt+32],vt=Be[kt+40],hr=Be[kt+48];var ca=qe+(Kt=Be[kt+56]),hn=qe-Kt,ri=It+hr,Zr=It-hr,Yn=Ct+vt,Sn=Ct-vt,Ot=Vt+Gt,ms=Vt-Gt,gs=ca+Ot,ni=ca-Ot,Ca=ri+Yn,Qa=ri-Yn;Be[kt]=gs+Ca,Be[kt+32]=gs-Ca;var Ba=.707106781*(Qa+ni);Be[kt+16]=ni+Ba,Be[kt+48]=ni-Ba;var Na=.382683433*((gs=ms+Sn)-(Qa=Zr+hn)),Vo=.5411961*gs+Na,Qc=1.306562965*Qa+Na,$a=.707106781*(Ca=Sn+Zr),Ci=hn+$a,xn=hn-$a;Be[kt+40]=xn+Vo,Be[kt+24]=xn-Vo,Be[kt+8]=Ci+Qc,Be[kt+56]=Ci-Qc,kt++}for(Et=0;Et<64;++Et)sr=Be[Et]*_t[Et],g[Et]=sr>0?sr+.5|0:sr-.5|0;return g}(q,Z),Ee=0;Ee<64;++Ee)S[B[Ee]]=Ne[Ee];var Ce=S[0]-ae;ae=S[0],Ce==0?ne(ge[0]):(ne(ge[y[Se=32767+Ce]]),ne(m[Se]));for(var Re=63;Re>0&&S[Re]==0;)Re--;if(Re==0)return ne(Ae),ae;for(var je,de=1;de<=Re;){for(var it=de;S[de]==0&&de<=Re;)++de;var ft=de-it;if(ft>=16){je=ft>>4;for(var Ye=1;Ye<=je;++Ye)ne(ye);ft&=15}Se=32767+S[de],ne(he[(ft<<4)+y[Se]]),ne(m[Se]),de++}return Re!=63&&ne(Ae),ae}function fe(q){q=Math.min(Math.max(q,1),100),a!=q&&(function(Z){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ge=0;ge<64;ge++){var he=s((ae[ge]*Z+50)/100);he=Math.min(Math.max(he,1),255),o[B[ge]]=he}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var ye=s((Se[Ae]*Z+50)/100);ye=Math.min(Math.max(ye,1),255),c[B[Ae]]=ye}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,Ce=0;Ce<8;Ce++)for(var Re=0;Re<8;Re++)u[Ee]=1/(o[B[Ee]]*Ne[Ce]*Ne[Re]*8),h[Ee]=1/(c[B[Ee]]*Ne[Ce]*Ne[Re]*8),Ee++}(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),a=q)}this.encode=function(q,Z){Z&&fe(Z),_=new Array,w=0,A=7,H(65496),H(65504),H(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),H(1),H(1),te(0),te(0),function(){H(65499),H(132),te(0);for(var It=0;It<64;It++)te(o[It]);te(1);for(var Ct=0;Ct<64;Ct++)te(c[Ct])}(),function(It,Ct){H(65472),H(17),te(8),H(Ct),H(It),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(q.width,q.height),function(){H(65476),H(418),te(0);for(var It=0;It<16;It++)te(D[It+1]);for(var Ct=0;Ct<=11;Ct++)te(P[Ct]);te(16);for(var Vt=0;Vt<16;Vt++)te(K[Vt+1]);for(var Gt=0;Gt<=161;Gt++)te($[Gt]);te(1);for(var vt=0;vt<16;vt++)te(z[vt+1]);for(var hr=0;hr<=11;hr++)te(X[hr]);te(17);for(var Kt=0;Kt<16;Kt++)te(W[Kt+1]);for(var Et=0;Et<=161;Et++)te(V[Et])}(),H(65498),H(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var ae=0,ge=0,he=0;w=0,A=7,this.encode.displayName="_encode_";for(var Se,Ae,ye,Ne,Ee,Ce,Re,je,de,it=q.data,ft=q.width,Ye=q.height,Be=4*ft,_t=0;_t<Ye;){for(Se=0;Se<Be;){for(Ee=Be*_t+Se,Re=-1,je=0,de=0;de<64;de++)Ce=Ee+(je=de>>3)*Be+(Re=4*(7&de)),_t+je>=Ye&&(Ce-=Be*(_t+1+je-Ye)),Se+Re>=Be&&(Ce-=Se+Re-Be+4),Ae=it[Ce++],ye=it[Ce++],Ne=it[Ce++],E[de]=(F[Ae]+F[ye+256|0]+F[Ne+512|0]>>16)-128,O[de]=(F[Ae+768|0]+F[ye+1024|0]+F[Ne+1280|0]>>16)-128,I[de]=(F[Ae+1280|0]+F[ye+1536|0]+F[Ne+1792|0]>>16)-128;ae=le(E,u,ae,t,n),ge=le(O,h,ge,r,i),he=le(I,h,he,r,i),Se+=32}_t+=8}if(A>=0){var qe=[];qe[1]=A+1,qe[0]=(1<<A+1)-1,ne(qe)}return H(65497),new Uint8Array(_)},e=e||50,function(){for(var q=String.fromCharCode,Z=0;Z<256;Z++)k[Z]=q(Z)}(),t=Q(D,P),r=Q(z,X),n=Q(K,$),i=Q(W,V),function(){for(var q=1,Z=2,ae=1;ae<=15;ae++){for(var ge=q;ge<Z;ge++)y[32767+ge]=ae,m[32767+ge]=[],m[32767+ge][1]=ae,m[32767+ge][0]=ge;for(var he=-(Z-1);he<=-q;he++)y[32767+he]=ae,m[32767+he]=[],m[32767+he][1]=ae,m[32767+he][0]=Z-1+he;q<<=1,Z<<=1}}(),function(){for(var q=0;q<256;q++)F[q]=19595*q,F[q+256|0]=38470*q,F[q+512|0]=7471*q+32768,F[q+768|0]=-11059*q,F[q+1024|0]=-21709*q,F[q+1280|0]=32768*q+8421375,F[q+1536|0]=-27439*q,F[q+1792|0]=-5329*q}(),fe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ll(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function YL(e){function t(P){if(!P)throw Error("assert :P")}function r(P,K,$){for(var z=0;4>z;z++)if(P[K+z]!=$.charCodeAt(z))return!0;return!1}function n(P,K,$,z,X){for(var W=0;W<X;W++)P[K+W]=$[z+W]}function i(P,K,$,z){for(var X=0;X<z;X++)P[K+X]=$}function a(P){return new Int32Array(P)}function s(P,K){for(var $=[],z=0;z<P;z++)$.push(new K);return $}function o(P,K){var $=[];return function z(X,W,V){for(var Q=V[W],ne=0;ne<Q&&(X.push(V.length>W+1?[]:new K),!(V.length<W+1));ne++)z(X[ne],W+1,V)}($,0,P),$}var c=function(){var P=this;function K(C,T){for(var U=1<<T-1>>>0;C&U;)U>>>=1;return U?(C&U-1)+U:C}function $(C,T,U,Y,ie){t(!(Y%U));do C[T+(Y-=U)]=ie;while(0<Y)}function z(C,T,U,Y,ie){if(t(2328>=ie),512>=ie)var oe=a(512);else if((oe=a(ie))==null)return 0;return function(ce,ue,pe,we,Pe,ze){var _e,Me,Fe=ue,Xe=1<<pe,Ue=a(16),Je=a(16);for(t(Pe!=0),t(we!=null),t(ce!=null),t(0<pe),Me=0;Me<Pe;++Me){if(15<we[Me])return 0;++Ue[we[Me]]}if(Ue[0]==Pe)return 0;for(Je[1]=0,_e=1;15>_e;++_e){if(Ue[_e]>1<<_e)return 0;Je[_e+1]=Je[_e]+Ue[_e]}for(Me=0;Me<Pe;++Me)_e=we[Me],0<we[Me]&&(ze[Je[_e]++]=Me);if(Je[15]==1)return(we=new X).g=0,we.value=ze[0],$(ce,Fe,1,Xe,we),Xe;var nt,ht=-1,ct=Xe-1,or=0,qt=1,zr=1,er=1<<pe;for(Me=0,_e=1,Pe=2;_e<=pe;++_e,Pe<<=1){if(qt+=zr<<=1,0>(zr-=Ue[_e]))return 0;for(;0<Ue[_e];--Ue[_e])(we=new X).g=_e,we.value=ze[Me++],$(ce,Fe+or,Pe,er,we),or=K(or,_e)}for(_e=pe+1,Pe=2;15>=_e;++_e,Pe<<=1){if(qt+=zr<<=1,0>(zr-=Ue[_e]))return 0;for(;0<Ue[_e];--Ue[_e]){if(we=new X,(or&ct)!=ht){for(Fe+=er,nt=1<<(ht=_e)-pe;15>ht&&!(0>=(nt-=Ue[ht]));)++ht,nt<<=1;Xe+=er=1<<(nt=ht-pe),ce[ue+(ht=or&ct)].g=nt+pe,ce[ue+ht].value=Fe-ue-ht}we.g=_e-pe,we.value=ze[Me++],$(ce,Fe+(or>>pe),Pe,er,we),or=K(or,_e)}}return qt!=2*Je[15]-1?0:Xe}(C,T,U,Y,ie,oe)}function X(){this.value=this.g=0}function W(){this.value=this.g=0}function V(){this.G=s(5,X),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Oa,W)}function Q(C,T,U,Y){t(C!=null),t(T!=null),t(2147483648>Y),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=T,C.pa=U,C.Jd=T,C.Yc=U+Y,C.Zc=4<=Y?U+Y-4+1:U,Ae(C)}function ne(C,T){for(var U=0;0<T--;)U|=Ne(C,128)<<T;return U}function te(C,T){var U=ne(C,T);return ye(C)?-U:U}function H(C,T,U,Y){var ie,oe=0;for(t(C!=null),t(T!=null),t(4294967288>Y),C.Sb=Y,C.Ra=0,C.u=0,C.h=0,4<Y&&(Y=4),ie=0;ie<Y;++ie)oe+=T[U+ie]<<8*ie;C.Ra=oe,C.bb=Y,C.oa=T,C.pa=U}function le(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<zs-8>>>0,++C.bb,C.u-=8;ge(C)&&(C.h=1,C.u=0)}function fe(C,T){if(t(0<=T),!C.h&&T<=za){var U=ae(C)&ys[T];return C.u+=T,le(C),U}return C.h=1,C.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(C){return C.Ra>>>(C.u&zs-1)>>>0}function ge(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>zs}function he(C,T){C.u=T,C.h=ge(C)}function Se(C){C.u>=Fr&&(t(C.u>=Fr),le(C))}function Ae(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function ye(C){return ne(C,1)}function Ne(C,T){var U=C.Ca;0>C.b&&Ae(C);var Y=C.b,ie=U*T>>>8,oe=(C.I>>>Y>ie)+0;for(oe?(U-=ie,C.I-=ie+1<<Y>>>0):U=ie+1,Y=U,ie=0;256<=Y;)ie+=8,Y>>=8;return Y=7^ie+fo[Y],C.b-=Y,C.Ca=(U<<Y)-1,oe}function Ee(C,T,U){C[T+0]=U>>24&255,C[T+1]=U>>16&255,C[T+2]=U>>8&255,C[T+3]=255&U}function Ce(C,T){return C[T+0]|C[T+1]<<8}function Re(C,T){return Ce(C,T)|C[T+2]<<16}function je(C,T){return Ce(C,T)|Ce(C,T+2)<<16}function de(C,T){var U=1<<T;return t(C!=null),t(0<T),C.X=a(U),C.X==null?0:(C.Mb=32-T,C.Xa=T,1)}function it(C,T){t(C!=null),t(T!=null),t(C.Xa==T.Xa),n(T.X,0,C.X,0,1<<T.Xa)}function ft(){this.X=[],this.Xa=this.Mb=0}function Ye(C,T,U,Y){t(U!=null),t(Y!=null);var ie=U[0],oe=Y[0];return ie==0&&(ie=(C*oe+T/2)/T),oe==0&&(oe=(T*ie+C/2)/C),0>=ie||0>=oe?0:(U[0]=ie,Y[0]=oe,1)}function Be(C,T){return C+(1<<T)-1>>>T}function _t(C,T){return((4278255360&C)+(4278255360&T)>>>0&4278255360)+((16711935&C)+(16711935&T)>>>0&16711935)>>>0}function qe(C,T){P[T]=function(U,Y,ie,oe,ce,ue,pe){var we;for(we=0;we<ce;++we){var Pe=P[C](ue[pe+we-1],ie,oe+we);ue[pe+we]=_t(U[Y+we],Pe)}}}function It(){this.ud=this.hd=this.jd=0}function Ct(C,T){return((4278124286&(C^T))>>>1)+(C&T)>>>0}function Vt(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Gt(C,T){return Vt(C+(C-T+.5>>1))}function vt(C,T,U){return Math.abs(T-U)-Math.abs(C-U)}function hr(C,T,U,Y,ie,oe,ce){for(Y=oe[ce-1],U=0;U<ie;++U)oe[ce+U]=Y=_t(C[T+U],Y)}function Kt(C,T,U,Y,ie){var oe;for(oe=0;oe<U;++oe){var ce=C[T+oe],ue=ce>>8&255,pe=16711935&(pe=(pe=16711935&ce)+((ue<<16)+ue));Y[ie+oe]=(4278255360&ce)+pe>>>0}}function Et(C,T){T.jd=255&C,T.hd=C>>8&255,T.ud=C>>16&255}function sr(C,T,U,Y,ie,oe){var ce;for(ce=0;ce<Y;++ce){var ue=T[U+ce],pe=ue>>>8,we=ue,Pe=255&(Pe=(Pe=ue>>>16)+((C.jd<<24>>24)*(pe<<24>>24)>>>5));we=255&(we=(we+=(C.hd<<24>>24)*(pe<<24>>24)>>>5)+((C.ud<<24>>24)*(Pe<<24>>24)>>>5)),ie[oe+ce]=(4278255360&ue)+(Pe<<16)+we}}function kt(C,T,U,Y,ie){P[T]=function(oe,ce,ue,pe,we,Pe,ze,_e,Me){for(pe=ze;pe<_e;++pe)for(ze=0;ze<Me;++ze)we[Pe++]=ie(ue[Y(oe[ce++])])},P[C]=function(oe,ce,ue,pe,we,Pe,ze){var _e=8>>oe.b,Me=oe.Ea,Fe=oe.K[0],Xe=oe.w;if(8>_e)for(oe=(1<<oe.b)-1,Xe=(1<<_e)-1;ce<ue;++ce){var Ue,Je=0;for(Ue=0;Ue<Me;++Ue)Ue&oe||(Je=Y(pe[we++])),Pe[ze++]=ie(Fe[Je&Xe]),Je>>=_e}else P["VP8LMapColor"+U](pe,we,Fe,Xe,Pe,ze,ce,ue,Me)}}function Ur(C,T,U,Y,ie){for(U=T+U;T<U;){var oe=C[T++];Y[ie++]=oe>>16&255,Y[ie++]=oe>>8&255,Y[ie++]=255&oe}}function Zt(C,T,U,Y,ie){for(U=T+U;T<U;){var oe=C[T++];Y[ie++]=oe>>16&255,Y[ie++]=oe>>8&255,Y[ie++]=255&oe,Y[ie++]=oe>>24&255}}function He(C,T,U,Y,ie){for(U=T+U;T<U;){var oe=(ce=C[T++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;Y[ie++]=oe,Y[ie++]=ce}}function $t(C,T,U,Y,ie){for(U=T+U;T<U;){var oe=(ce=C[T++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;Y[ie++]=oe,Y[ie++]=ce}}function Qt(C,T,U,Y,ie){for(U=T+U;T<U;){var oe=C[T++];Y[ie++]=255&oe,Y[ie++]=oe>>8&255,Y[ie++]=oe>>16&255}}function Nt(C,T,U,Y,ie,oe){if(oe==0)for(U=T+U;T<U;)Ee(Y,((oe=C[T++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ie+=32;else n(Y,ie,C,T,U)}function Lr(C,T){P[T][0]=P[C+"0"],P[T][1]=P[C+"1"],P[T][2]=P[C+"2"],P[T][3]=P[C+"3"],P[T][4]=P[C+"4"],P[T][5]=P[C+"5"],P[T][6]=P[C+"6"],P[T][7]=P[C+"7"],P[T][8]=P[C+"8"],P[T][9]=P[C+"9"],P[T][10]=P[C+"10"],P[T][11]=P[C+"11"],P[T][12]=P[C+"12"],P[T][13]=P[C+"13"],P[T][14]=P[C+"0"],P[T][15]=P[C+"0"]}function _r(C){return C==D5||C==L5||C==Gy||C==F5}function qn(){this.eb=[],this.size=this.A=this.fb=0}function pr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qn,this.f.kb=new pr,this.sd=null}function lr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yt(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Nr(C,T){var U=C.T,Y=T.ba.f.RGBA,ie=Y.eb,oe=Y.fb+C.ka*Y.A,ce=el[T.ba.S],ue=C.y,pe=C.O,we=C.f,Pe=C.N,ze=C.ea,_e=C.W,Me=T.cc,Fe=T.dc,Xe=T.Mc,Ue=T.Nc,Je=C.ka,nt=C.ka+C.T,ht=C.U,ct=ht+1>>1;for(Je==0?ce(ue,pe,null,null,we,Pe,ze,_e,we,Pe,ze,_e,ie,oe,null,null,ht):(ce(T.ec,T.fc,ue,pe,Me,Fe,Xe,Ue,we,Pe,ze,_e,ie,oe-Y.A,ie,oe,ht),++U);Je+2<nt;Je+=2)Me=we,Fe=Pe,Xe=ze,Ue=_e,Pe+=C.Rc,_e+=C.Rc,oe+=2*Y.A,ce(ue,(pe+=2*C.fa)-C.fa,ue,pe,Me,Fe,Xe,Ue,we,Pe,ze,_e,ie,oe-Y.A,ie,oe,ht);return pe+=C.fa,C.j+nt<C.o?(n(T.ec,T.fc,ue,pe,ht),n(T.cc,T.dc,we,Pe,ct),n(T.Mc,T.Nc,ze,_e,ct),U--):1&nt||ce(ue,pe,null,null,we,Pe,ze,_e,we,Pe,ze,_e,ie,oe+Y.A,null,null,ht),U}function wr(C,T,U){var Y=C.F,ie=[C.J];if(Y!=null){var oe=C.U,ce=T.ba.S,ue=ce==Vy||ce==Gy;T=T.ba.f.RGBA;var pe=[0],we=C.ka;pe[0]=C.T,C.Kb&&(we==0?--pe[0]:(--we,ie[0]-=C.width),C.j+C.ka+C.T==C.o&&(pe[0]=C.o-C.j-we));var Pe=T.eb;we=T.fb+we*T.A,C=Nj(Y,ie[0],C.width,oe,pe,Pe,we+(ue?0:3),T.A),t(U==pe),C&&_r(ce)&&Jf(Pe,we,ue,oe,pe,T.A)}return 0}function Nn(C){var T=C.ma,U=T.ba.S,Y=11>U,ie=U==Wy||U==Hy||U==Vy||U==R5||U==12||_r(U);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!hu(T.Oa,C,ie?11:12))return 0;if(ie&&_r(U)&&vs(),C.da)alert("todo:use_scaling");else{if(Y){if(T.Ib=Yt,C.Kb){if(U=C.U+1>>1,T.memory=a(C.U+2*U),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+C.U,T.Mc=T.cc,T.Nc=T.dc+U,T.Ib=Nr,vs()}}else alert("todo:EmitYUV");ie&&(T.Jb=wr,Y&&ua())}if(Y&&!Wj){for(C=0;256>C;++C)aX[C]=89858*(C-128)+Yy>>Ky,lX[C]=-22014*(C-128)+Yy,oX[C]=-45773*(C-128),sX[C]=113618*(C-128)+Yy>>Ky;for(C=j1;C<U5;++C)T=76283*(C-16)+Yy>>Ky,cX[C-j1]=wn(T,255),uX[C-j1]=wn(T+8>>4,15);Wj=1}return 1}function Rt(C){var T=C.ma,U=C.U,Y=C.T;return t(!(1&C.ka)),0>=U||0>=Y?0:(U=T.Ib(C,T),T.Jb!=null&&T.Jb(C,T,U),T.Dc+=U,1)}function On(C){C.ma.memory=null}function ca(C,T,U,Y){return fe(C,8)!=47?0:(T[0]=fe(C,14)+1,U[0]=fe(C,14)+1,Y[0]=fe(C,1),fe(C,3)!=0?0:!C.h)}function hn(C,T){if(4>C)return C+1;var U=C-2>>1;return(2+(1&C)<<U)+fe(T,U)+1}function ri(C,T){return 120<T?T-120:1<=(U=((U=HY[T-1])>>4)*C+(8-(15&U)))?U:1;var U}function Zr(C,T,U){var Y=ae(U),ie=C[T+=255&Y].g-8;return 0<ie&&(he(U,U.u+8),Y=ae(U),T+=C[T].value,T+=Y&(1<<ie)-1),he(U,U.u+C[T].g),C[T].value}function Yn(C,T,U){return U.g+=C.g,U.value+=C.value<<T>>>0,t(8>=U.g),C.g}function Sn(C,T,U){var Y=C.xc;return t((T=Y==0?0:C.vc[C.md*(U>>Y)+(T>>Y)])<C.Wb),C.Ya[T]}function Ot(C,T,U,Y){var ie=C.ab,oe=C.c*T,ce=C.C;T=ce+T;var ue=U,pe=Y;for(Y=C.Ta,U=C.Ua;0<ie--;){var we=C.gc[ie],Pe=ce,ze=T,_e=ue,Me=pe,Fe=(pe=Y,ue=U,we.Ea);switch(t(Pe<ze),t(ze<=we.nc),we.hc){case 2:f(_e,Me,(ze-Pe)*Fe,pe,ue);break;case 0:var Xe=Pe,Ue=ze,Je=pe,nt=ue,ht=(er=we).Ea;Xe==0&&(J(_e,Me,null,null,1,Je,nt),hr(_e,Me+1,0,0,ht-1,Je,nt+1),Me+=ht,nt+=ht,++Xe);for(var ct=1<<er.b,or=ct-1,qt=Be(ht,er.b),zr=er.K,er=er.w+(Xe>>er.b)*qt;Xe<Ue;){var an=zr,ha=er,qr=1;for(l(_e,Me,Je,nt-ht,1,Je,nt);qr<ht;){var tr=(qr&~or)+ct;tr>ht&&(tr=ht),(0,N[an[ha++]>>8&15])(_e,Me+ +qr,Je,nt+qr-ht,tr-qr,Je,nt+qr),qr=tr}Me+=ht,nt+=ht,++Xe&or||(er+=qt)}ze!=we.nc&&n(pe,ue-Fe,pe,ue+(ze-Pe-1)*Fe,Fe);break;case 1:for(Fe=_e,Ue=Me,ht=(_e=we.Ea)-(nt=_e&~(Je=(Me=1<<we.b)-1)),Xe=Be(_e,we.b),ct=we.K,we=we.w+(Pe>>we.b)*Xe;Pe<ze;){for(or=ct,qt=we,zr=new It,er=Ue+nt,an=Ue+_e;Ue<er;)Et(or[qt++],zr),j(zr,Fe,Ue,Me,pe,ue),Ue+=Me,ue+=Me;Ue<an&&(Et(or[qt++],zr),j(zr,Fe,Ue,ht,pe,ue),Ue+=ht,ue+=ht),++Pe&Je||(we+=Xe)}break;case 3:if(_e==pe&&Me==ue&&0<we.b){for(Ue=pe,_e=Fe=ue+(ze-Pe)*Fe-(nt=(ze-Pe)*Be(we.Ea,we.b)),Me=pe,Je=ue,Xe=[],nt=(ht=nt)-1;0<=nt;--nt)Xe[nt]=Me[Je+nt];for(nt=ht-1;0<=nt;--nt)Ue[_e+nt]=Xe[nt];p(we,Pe,ze,pe,Fe,pe,ue)}else p(we,Pe,ze,_e,Me,pe,ue)}ue=Y,pe=U}pe!=U&&n(Y,U,ue,pe,oe)}function ms(C,T){var U=C.V,Y=C.Ba+C.c*C.C,ie=T-C.C;if(t(T<=C.l.o),t(16>=ie),0<ie){var oe=C.l,ce=C.Ta,ue=C.Ua,pe=oe.width;if(Ot(C,ie,U,Y),ie=ue=[ue],t((U=C.C)<(Y=T)),t(oe.v<oe.va),Y>oe.o&&(Y=oe.o),U<oe.j){var we=oe.j-U;U=oe.j,ie[0]+=we*pe}if(U>=Y?U=0:(ie[0]+=4*oe.v,oe.ka=U-oe.j,oe.U=oe.va-oe.v,oe.T=Y-U,U=1),U){if(ue=ue[0],11>(U=C.ca).S){var Pe=U.f.RGBA,ze=(Y=U.S,ie=oe.U,oe=oe.T,we=Pe.eb,Pe.A),_e=oe;for(Pe=Pe.fb+C.Ma*Pe.A;0<_e--;){var Me=ce,Fe=ue,Xe=ie,Ue=we,Je=Pe;switch(Y){case qy:L(Me,Fe,Xe,Ue,Je);break;case Wy:G(Me,Fe,Xe,Ue,Je);break;case D5:G(Me,Fe,Xe,Ue,Je),Jf(Ue,Je,0,Xe,1,0);break;case Mj:xe(Me,Fe,Xe,Ue,Je);break;case Hy:Nt(Me,Fe,Xe,Ue,Je,1);break;case L5:Nt(Me,Fe,Xe,Ue,Je,1),Jf(Ue,Je,0,Xe,1,0);break;case Vy:Nt(Me,Fe,Xe,Ue,Je,0);break;case Gy:Nt(Me,Fe,Xe,Ue,Je,0),Jf(Ue,Je,1,Xe,1,0);break;case R5:ee(Me,Fe,Xe,Ue,Je);break;case F5:ee(Me,Fe,Xe,Ue,Je),Cj(Ue,Je,Xe,1,0);break;case Rj:se(Me,Fe,Xe,Ue,Je);break;default:t(0)}ue+=pe,Pe+=ze}C.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=U.height)}}C.C=T,t(C.C<=C.i)}function gs(C){var T;if(0<C.ua)return 0;for(T=0;T<C.Wb;++T){var U=C.Ya[T].G,Y=C.Ya[T].H;if(0<U[1][Y[1]+0].g||0<U[2][Y[2]+0].g||0<U[3][Y[3]+0].g)return 0}return 1}function ni(C,T,U,Y,ie,oe){if(C.Z!=0){var ce=C.qd,ue=C.rd;for(t(vd[C.Z]!=null);T<U;++T)vd[C.Z](ce,ue,Y,ie,Y,ie,oe),ce=Y,ue=ie,ie+=oe;C.qd=ce,C.rd=ue}}function Ca(C,T){var U=C.l.ma,Y=U.Z==0||U.Z==1?C.l.j:C.C;if(Y=C.C<Y?Y:C.C,t(T<=C.l.o),T>Y){var ie=C.l.width,oe=U.ca,ce=U.tb+ie*Y,ue=C.V,pe=C.Ba+C.c*Y,we=C.gc;t(C.ab==1),t(we[0].hc==3),x(we[0],Y,T,ue,pe,oe,ce),ni(U,Y,T,oe,ce,ie)}C.C=C.Ma=T}function Qa(C,T,U,Y,ie,oe,ce){var ue=C.$/Y,pe=C.$%Y,we=C.m,Pe=C.s,ze=U+C.$,_e=ze;ie=U+Y*ie;var Me=U+Y*oe,Fe=280+Pe.ua,Xe=C.Pb?ue:16777216,Ue=0<Pe.ua?Pe.Wa:null,Je=Pe.wc,nt=ze<Me?Sn(Pe,pe,ue):null;t(C.C<oe),t(Me<=ie);var ht=!1;e:for(;;){for(;ht||ze<Me;){var ct=0;if(ue>=Xe){var or=ze-U;t((Xe=C).Pb),Xe.wd=Xe.m,Xe.xd=or,0<Xe.s.ua&&it(Xe.s.Wa,Xe.s.vb),Xe=ue+GY}if(pe&Je||(nt=Sn(Pe,pe,ue)),t(nt!=null),nt.Qb&&(T[ze]=nt.qb,ht=!0),!ht)if(Se(we),nt.jc){ct=we,or=T;var qt=ze,zr=nt.pd[ae(ct)&Oa-1];t(nt.jc),256>zr.g?(he(ct,ct.u+zr.g),or[qt]=zr.value,ct=0):(he(ct,ct.u+zr.g-256),t(256<=zr.value),ct=zr.value),ct==0&&(ht=!0)}else ct=Zr(nt.G[0],nt.H[0],we);if(we.h)break;if(ht||256>ct){if(!ht)if(nt.nd)T[ze]=(nt.qb|ct<<8)>>>0;else{if(Se(we),ht=Zr(nt.G[1],nt.H[1],we),Se(we),or=Zr(nt.G[2],nt.H[2],we),qt=Zr(nt.G[3],nt.H[3],we),we.h)break;T[ze]=(qt<<24|ht<<16|ct<<8|or)>>>0}if(ht=!1,++ze,++pe>=Y&&(pe=0,++ue,ce!=null&&ue<=oe&&!(ue%16)&&ce(C,ue),Ue!=null))for(;_e<ze;)ct=T[_e++],Ue.X[(506832829*ct&4294967295)>>>Ue.Mb]=ct}else if(280>ct){if(ct=hn(ct-256,we),or=Zr(nt.G[4],nt.H[4],we),Se(we),or=ri(Y,or=hn(or,we)),we.h)break;if(ze-U<or||ie-ze<ct)break e;for(qt=0;qt<ct;++qt)T[ze+qt]=T[ze+qt-or];for(ze+=ct,pe+=ct;pe>=Y;)pe-=Y,++ue,ce!=null&&ue<=oe&&!(ue%16)&&ce(C,ue);if(t(ze<=ie),pe&Je&&(nt=Sn(Pe,pe,ue)),Ue!=null)for(;_e<ze;)ct=T[_e++],Ue.X[(506832829*ct&4294967295)>>>Ue.Mb]=ct}else{if(!(ct<Fe))break e;for(ht=ct-280,t(Ue!=null);_e<ze;)ct=T[_e++],Ue.X[(506832829*ct&4294967295)>>>Ue.Mb]=ct;ct=ze,t(!(ht>>>(or=Ue).Xa)),T[ct]=or.X[ht],ht=!0}ht||t(we.h==ge(we))}if(C.Pb&&we.h&&ze<ie)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&it(C.s.vb,C.s.Wa);else{if(we.h)break e;ce!=null&&ce(C,ue>oe?oe:ue),C.a=0,C.$=ze-U}return 1}return C.a=3,0}function Ba(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var T=C.Wa;T!=null&&(T.X=null),C.vb=null,t(C!=null)}function Na(){var C=new xt;return C==null?null:(C.a=0,C.xb=Fj,Lr("Predictor","VP8LPredictors"),Lr("Predictor","VP8LPredictors_C"),Lr("PredictorAdd","VP8LPredictorsAdd"),Lr("PredictorAdd","VP8LPredictorsAdd_C"),f=Kt,j=sr,L=Ur,G=Zt,ee=He,se=$t,xe=Qt,P.VP8LMapColor32b=v,P.VP8LMapColor8b=b,C)}function Vo(C,T,U,Y,ie){var oe=1,ce=[C],ue=[T],pe=Y.m,we=Y.s,Pe=null,ze=0;e:for(;;){if(U)for(;oe&&fe(pe,1);){var _e=ce,Me=ue,Fe=Y,Xe=1,Ue=Fe.m,Je=Fe.gc[Fe.ab],nt=fe(Ue,2);if(Fe.Oc&1<<nt)oe=0;else{switch(Fe.Oc|=1<<nt,Je.hc=nt,Je.Ea=_e[0],Je.nc=Me[0],Je.K=[null],++Fe.ab,t(4>=Fe.ab),nt){case 0:case 1:Je.b=fe(Ue,3)+2,Xe=Vo(Be(Je.Ea,Je.b),Be(Je.nc,Je.b),0,Fe,Je.K),Je.K=Je.K[0];break;case 3:var ht,ct=fe(Ue,8)+1,or=16<ct?0:4<ct?1:2<ct?2:3;if(_e[0]=Be(Je.Ea,or),Je.b=or,ht=Xe=Vo(ct,1,0,Fe,Je.K)){var qt,zr=ct,er=Je,an=1<<(8>>er.b),ha=a(an);if(ha==null)ht=0;else{var qr=er.K[0],tr=er.w;for(ha[0]=er.K[0][0],qt=1;qt<1*zr;++qt)ha[qt]=_t(qr[tr+qt],ha[qt-1]);for(;qt<4*an;++qt)ha[qt]=0;er.K[0]=null,er.K[0]=ha,ht=1}}Xe=ht;break;case 2:break;default:t(0)}oe=Xe}}if(ce=ce[0],ue=ue[0],oe&&fe(pe,1)&&!(oe=1<=(ze=fe(pe,4))&&11>=ze)){Y.a=3;break e}var bt;if(bt=oe)t:{var Bi,Br,ln,ai=Y,qa=ce,xs=ue,Oi=ze,rs=U,bs=ai.m,pa=ai.s,un=[null],jn=1,Ti=0,In=VY[Oi];r:for(;;){if(rs&&fe(bs,1)){var Wa=fe(bs,3)+2,kl=Be(qa,Wa),$i=Be(xs,Wa),qs=kl*$i;if(!Vo(kl,$i,0,ai,un))break r;for(un=un[0],pa.xc=Wa,Bi=0;Bi<qs;++Bi){var Vn=un[Bi]>>8&65535;un[Bi]=Vn,Vn>=jn&&(jn=Vn+1)}}if(bs.h)break r;for(Br=0;5>Br;++Br){var ma=Dj[Br];!Br&&0<Oi&&(ma+=1<<Oi),Ti<ma&&(Ti=ma)}var po=s(jn*In,X),ws=jn,mo=s(ws,V);if(mo==null)var go=null;else t(65536>=ws),go=mo;var Ws=a(Ti);if(go==null||Ws==null||po==null){ai.a=1;break r}var vo=po;for(Bi=ln=0;Bi<jn;++Bi){var Xn=go[Bi],yo=Xn.G,Pl=Xn.H,eh=0,vu=1,Ha=0;for(Br=0;5>Br;++Br){ma=Dj[Br],yo[Br]=vo,Pl[Br]=ln,!Br&&0<Oi&&(ma+=1<<Oi);i:{var Zy,z5=ma,Qy=ai,I1=Ws,hX=vo,pX=ln,q5=0,yd=Qy.m,mX=fe(yd,1);if(i(I1,0,0,z5),mX){var gX=fe(yd,1)+1,vX=fe(yd,1),Gj=fe(yd,vX==0?1:8);I1[Gj]=1,gX==2&&(I1[Gj=fe(yd,8)]=1);var Jy=1}else{var Kj=a(19),Yj=fe(yd,4)+4;if(19<Yj){Qy.a=3;var ex=0;break i}for(Zy=0;Zy<Yj;++Zy)Kj[WY[Zy]]=fe(yd,3);var W5=void 0,k1=void 0,Xj=Qy,yX=Kj,tx=z5,Zj=I1,H5=0,xd=Xj.m,Qj=8,Jj=s(128,X);n:for(;z(Jj,0,7,yX,19);){if(fe(xd,1)){var xX=2+2*fe(xd,3);if((W5=2+fe(xd,xX))>tx)break n}else W5=tx;for(k1=0;k1<tx&&W5--;){Se(xd);var eI=Jj[0+(127&ae(xd))];he(xd,xd.u+eI.g);var Tp=eI.value;if(16>Tp)Zj[k1++]=Tp,Tp!=0&&(Qj=Tp);else{var bX=Tp==16,tI=Tp-16,wX=zY[tI],rI=fe(xd,UY[tI])+wX;if(k1+rI>tx)break n;for(var _X=bX?Qj:0;0<rI--;)Zj[k1++]=_X}}H5=1;break n}H5||(Xj.a=3),Jy=H5}(Jy=Jy&&!yd.h)&&(q5=z(hX,pX,8,I1,z5)),Jy&&q5!=0?ex=q5:(Qy.a=3,ex=0)}if(ex==0)break r;if(vu&&qY[Br]==1&&(vu=vo[ln].g==0),eh+=vo[ln].g,ln+=ex,3>=Br){var P1,V5=Ws[0];for(P1=1;P1<ma;++P1)Ws[P1]>V5&&(V5=Ws[P1]);Ha+=V5}}if(Xn.nd=vu,Xn.Qb=0,vu&&(Xn.qb=(yo[3][Pl[3]+0].value<<24|yo[1][Pl[1]+0].value<<16|yo[2][Pl[2]+0].value)>>>0,eh==0&&256>yo[0][Pl[0]+0].value&&(Xn.Qb=1,Xn.qb+=yo[0][Pl[0]+0].value<<8)),Xn.jc=!Xn.Qb&&6>Ha,Xn.jc){var rx,yu=Xn;for(rx=0;rx<Oa;++rx){var bd=rx,wd=yu.pd[bd],nx=yu.G[0][yu.H[0]+bd];256<=nx.value?(wd.g=nx.g+256,wd.value=nx.value):(wd.g=0,wd.value=0,bd>>=Yn(nx,8,wd),bd>>=Yn(yu.G[1][yu.H[1]+bd],16,wd),bd>>=Yn(yu.G[2][yu.H[2]+bd],0,wd),Yn(yu.G[3][yu.H[3]+bd],24,wd))}}}pa.vc=un,pa.Wb=jn,pa.Ya=go,pa.yc=po,bt=1;break t}bt=0}if(!(oe=bt)){Y.a=3;break e}if(0<ze){if(we.ua=1<<ze,!de(we.Wa,ze)){Y.a=1,oe=0;break e}}else we.ua=0;var G5=Y,nI=ce,SX=ue,K5=G5.s,Y5=K5.xc;if(G5.c=nI,G5.i=SX,K5.md=Be(nI,Y5),K5.wc=Y5==0?-1:(1<<Y5)-1,U){Y.xb=eX;break e}if((Pe=a(ce*ue))==null){Y.a=1,oe=0;break e}oe=(oe=Qa(Y,Pe,0,ce,ue,ue,null))&&!pe.h;break e}return oe?(ie!=null?ie[0]=Pe:(t(Pe==null),t(U)),Y.$=0,U||Ba(we)):Ba(we),oe}function Qc(C,T){var U=C.c*C.i,Y=U+T+16*T;return t(C.c<=T),C.V=a(Y),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+U+T,1)}function $a(C,T){var U=C.C,Y=T-U,ie=C.V,oe=C.Ba+C.c*U;for(t(T<=C.l.o);0<Y;){var ce=16<Y?16:Y,ue=C.l.ma,pe=C.l.width,we=pe*ce,Pe=ue.ca,ze=ue.tb+pe*U,_e=C.Ta,Me=C.Ua;Ot(C,ce,ie,oe),Oj(_e,Me,Pe,ze,we),ni(ue,U,U+ce,Pe,ze,pe),Y-=ce,ie+=ce*C.c,U+=ce}t(U==T),C.C=C.Ma=T}function Ci(){this.ub=this.yd=this.td=this.Rb=0}function xn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Cp(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Bs(){this.Yb=function(){var C=[];return function T(U,Y,ie){for(var oe=ie[Y],ce=0;ce<oe&&(U.push(ie.length>Y+1?[]:0),!(ie.length<Y+1));ce++)T(U[ce],Y+1,ie)}(C,0,[3,11]),C}()}function ud(){this.jb=a(3),this.Wc=o([4,8],Bs),this.Xc=o([4,17],Bs)}function st(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $s(){this.ld=this.La=this.dd=this.tc=0}function Bn(){this.Na=this.la=0}function Al(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vf(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nn(){this.uc=this.M=this.Nb=0,this.wa=Array(new $s),this.Y=0,this.ya=Array(new Vf),this.aa=0,this.l=new uc}function en(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Hr(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Ci,this.Kc=new xn,this.ed=new st,this.Qa=new Cp,this.Ic=this.$c=this.Aa=0,this.D=new nn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,q),this.ia=0,this.pb=s(4,Al),this.Pa=new ud,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new en),this.Hd=0,this.rb=Array(new Bn),this.sb=0,this.wa=Array(new $s),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vf),this.L=this.aa=0,this.gd=o([4,2],$s),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function uc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gf(){var C=new Hr;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,T1||(T1=El)),C}function hi(C,T,U){return C.a==0&&(C.a=T,C.sc=U,C.cb=0),0}function pi(C,T,U){return 3<=U&&C[T+0]==157&&C[T+1]==1&&C[T+2]==42}function oo(C,T){if(C==null)return 0;if(C.a=0,C.sc="OK",T==null)return hi(C,2,"null VP8Io passed to VP8GetHeaders()");var U=T.data,Y=T.w,ie=T.ha;if(4>ie)return hi(C,7,"Truncated header.");var oe=U[Y+0]|U[Y+1]<<8|U[Y+2]<<16,ce=C.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return hi(C,3,"Incorrect keyframe parameters.");if(!ce.yd)return hi(C,4,"Frame not displayable.");Y+=3,ie-=3;var ue=C.Kc;if(ce.Rb){if(7>ie)return hi(C,7,"cannot parse picture header");if(!pi(U,Y,ie))return hi(C,3,"Bad code word");ue.c=16383&(U[Y+4]<<8|U[Y+3]),ue.Td=U[Y+4]>>6,ue.i=16383&(U[Y+6]<<8|U[Y+5]),ue.Ud=U[Y+6]>>6,Y+=7,ie-=7,C.za=ue.c+15>>4,C.Ub=ue.i+15>>4,T.width=ue.c,T.height=ue.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((oe=C.Pa).jb,0,255,oe.jb.length),t((oe=C.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(ce.ub>ie)return hi(C,7,"bad partition length");Q(oe=C.m,U,Y,ce.ub),Y+=ce.ub,ie-=ce.ub,ce.Rb&&(ue.Ld=ye(oe),ue.Kd=ye(oe)),ue=C.Qa;var pe,we=C.Pa;if(t(oe!=null),t(ue!=null),ue.Cb=ye(oe),ue.Cb){if(ue.Bb=ye(oe),ye(oe)){for(ue.Fb=ye(oe),pe=0;4>pe;++pe)ue.Zb[pe]=ye(oe)?te(oe,7):0;for(pe=0;4>pe;++pe)ue.Lb[pe]=ye(oe)?te(oe,6):0}if(ue.Bb)for(pe=0;3>pe;++pe)we.jb[pe]=ye(oe)?ne(oe,8):255}else ue.Bb=0;if(oe.Ka)return hi(C,3,"cannot parse segment header");if((ue=C.ed).zd=ye(oe),ue.Tb=ne(oe,6),ue.wb=ne(oe,3),ue.Pc=ye(oe),ue.Pc&&ye(oe)){for(we=0;4>we;++we)ye(oe)&&(ue.vd[we]=te(oe,6));for(we=0;4>we;++we)ye(oe)&&(ue.od[we]=te(oe,6))}if(C.L=ue.Tb==0?0:ue.zd?1:2,oe.Ka)return hi(C,3,"cannot parse filter header");var Pe=ie;if(ie=pe=Y,Y=pe+Pe,ue=Pe,C.Xb=(1<<ne(C.m,2))-1,Pe<3*(we=C.Xb))U=7;else{for(pe+=3*we,ue-=3*we,Pe=0;Pe<we;++Pe){var ze=U[ie+0]|U[ie+1]<<8|U[ie+2]<<16;ze>ue&&(ze=ue),Q(C.Jc[+Pe],U,pe,ze),pe+=ze,ue-=ze,ie+=3}Q(C.Jc[+we],U,pe,ue),U=pe<Y?0:5}if(U!=0)return hi(C,U,"cannot parse partitions");for(U=ne(pe=C.m,7),ie=ye(pe)?te(pe,4):0,Y=ye(pe)?te(pe,4):0,ue=ye(pe)?te(pe,4):0,we=ye(pe)?te(pe,4):0,pe=ye(pe)?te(pe,4):0,Pe=C.Qa,ze=0;4>ze;++ze){if(Pe.Cb){var _e=Pe.Zb[ze];Pe.Fb||(_e+=U)}else{if(0<ze){C.pb[ze]=C.pb[0];continue}_e=U}var Me=C.pb[ze];Me.Sc[0]=B5[wn(_e+ie,127)],Me.Sc[1]=$5[wn(_e+0,127)],Me.Eb[0]=2*B5[wn(_e+Y,127)],Me.Eb[1]=101581*$5[wn(_e+ue,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=B5[wn(_e+we,117)],Me.Qc[1]=$5[wn(_e+pe,127)],Me.lc=_e+pe}if(!ce.Rb)return hi(C,4,"Not a key frame.");for(ye(oe),ce=C.Pa,U=0;4>U;++U){for(ie=0;8>ie;++ie)for(Y=0;3>Y;++Y)for(ue=0;11>ue;++ue)we=Ne(oe,QY[U][ie][Y][ue])?ne(oe,8):XY[U][ie][Y][ue],ce.Wc[U][ie].Yb[Y][ue]=we;for(ie=0;17>ie;++ie)ce.Xc[U][ie]=ce.Wc[U][JY[ie]]}return C.kc=ye(oe),C.kc&&(C.Bd=ne(oe,8)),C.cb=1}function El(C,T,U,Y,ie,oe,ce){var ue=T[ie].Yb[U];for(U=0;16>ie;++ie){if(!Ne(C,ue[U+0]))return ie;for(;!Ne(C,ue[U+1]);)if(ue=T[++ie].Yb[0],U=0,ie==16)return 16;var pe=T[ie+1].Yb;if(Ne(C,ue[U+2])){var we=C,Pe=0;if(Ne(we,(_e=ue)[(ze=U)+3]))if(Ne(we,_e[ze+6])){for(ue=0,ze=2*(Pe=Ne(we,_e[ze+8]))+(_e=Ne(we,_e[ze+9+Pe])),Pe=0,_e=KY[ze];_e[ue];++ue)Pe+=Pe+Ne(we,_e[ue]);Pe+=3+(8<<ze)}else Ne(we,_e[ze+7])?(Pe=7+2*Ne(we,165),Pe+=Ne(we,145)):Pe=5+Ne(we,159);else Pe=Ne(we,_e[ze+4])?3+Ne(we,_e[ze+5]):2;ue=pe[2]}else Pe=1,ue=pe[1];pe=ce+YY[ie],0>(we=C).b&&Ae(we);var ze,_e=we.b,Me=(ze=we.Ca>>1)-(we.I>>_e)>>31;--we.b,we.Ca+=Me,we.Ca|=1,we.I-=(ze+1&Me)<<_e,oe[pe]=((Pe^Me)-Me)*Y[(0<ie)+0]}return 16}function Tn(C){var T=C.rb[C.sb-1];T.la=0,T.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function Zi(C,T,U,Y,ie){ie=C[T+U+32*Y]+(ie>>3),C[T+U+32*Y]=-256&ie?0>ie?0:255:ie}function Jc(C,T,U,Y,ie,oe){Zi(C,T,0,U,Y+ie),Zi(C,T,1,U,Y+oe),Zi(C,T,2,U,Y-oe),Zi(C,T,3,U,Y-ie)}function $n(C){return(20091*C>>16)+C}function pn(C,T,U,Y){var ie,oe=0,ce=a(16);for(ie=0;4>ie;++ie){var ue=C[T+0]+C[T+8],pe=C[T+0]-C[T+8],we=(35468*C[T+4]>>16)-$n(C[T+12]),Pe=$n(C[T+4])+(35468*C[T+12]>>16);ce[oe+0]=ue+Pe,ce[oe+1]=pe+we,ce[oe+2]=pe-we,ce[oe+3]=ue-Pe,oe+=4,T++}for(ie=oe=0;4>ie;++ie)ue=(C=ce[oe+0]+4)+ce[oe+8],pe=C-ce[oe+8],we=(35468*ce[oe+4]>>16)-$n(ce[oe+12]),Zi(U,Y,0,0,ue+(Pe=$n(ce[oe+4])+(35468*ce[oe+12]>>16))),Zi(U,Y,1,0,pe+we),Zi(U,Y,2,0,pe-we),Zi(U,Y,3,0,ue-Pe),oe++,Y+=32}function Qi(C,T,U,Y){var ie=C[T+0]+4,oe=35468*C[T+4]>>16,ce=$n(C[T+4]),ue=35468*C[T+1]>>16;Jc(U,Y,0,ie+ce,C=$n(C[T+1]),ue),Jc(U,Y,1,ie+oe,C,ue),Jc(U,Y,2,ie-oe,C,ue),Jc(U,Y,3,ie-ce,C,ue)}function $e(C,T,U,Y,ie){pn(C,T,U,Y),ie&&pn(C,T+16,U,Y+4)}function ve(C,T,U,Y){ke(C,T+0,U,Y,1),ke(C,T+32,U,Y+128,1)}function Dt(C,T,U,Y){var ie;for(C=C[T+0]+4,ie=0;4>ie;++ie)for(T=0;4>T;++T)Zi(U,Y,T,ie,C)}function yi(C,T,U,Y){C[T+0]&&et(C,T+0,U,Y),C[T+16]&&et(C,T+16,U,Y+4),C[T+32]&&et(C,T+32,U,Y+128),C[T+48]&&et(C,T+48,U,Y+128+4)}function Ua(C,T,U,Y){var ie,oe=a(16);for(ie=0;4>ie;++ie){var ce=C[T+0+ie]+C[T+12+ie],ue=C[T+4+ie]+C[T+8+ie],pe=C[T+4+ie]-C[T+8+ie],we=C[T+0+ie]-C[T+12+ie];oe[0+ie]=ce+ue,oe[8+ie]=ce-ue,oe[4+ie]=we+pe,oe[12+ie]=we-pe}for(ie=0;4>ie;++ie)ce=(C=oe[0+4*ie]+3)+oe[3+4*ie],ue=oe[1+4*ie]+oe[2+4*ie],pe=oe[1+4*ie]-oe[2+4*ie],we=C-oe[3+4*ie],U[Y+0]=ce+ue>>3,U[Y+16]=we+pe>>3,U[Y+32]=ce-ue>>3,U[Y+48]=we-pe>>3,Y+=64}function dc(C,T,U){var Y,ie=T-32,oe=ho,ce=255-C[ie-1];for(Y=0;Y<U;++Y){var ue,pe=oe,we=ce+C[T-1];for(ue=0;ue<U;++ue)C[T+ue]=pe[we+C[ie+ue]];T+=32}}function eu(C,T){dc(C,T,4)}function Ja(C,T){dc(C,T,8)}function cr(C,T){dc(C,T,16)}function Wn(C,T){var U;for(U=0;16>U;++U)n(C,T+32*U,C,T-32,16)}function dd(C,T){var U;for(U=16;0<U;--U)i(C,T,C[T-1],16),T+=32}function tu(C,T,U){var Y;for(Y=0;16>Y;++Y)i(T,U+32*Y,C,16)}function Go(C,T){var U,Y=16;for(U=0;16>U;++U)Y+=C[T-1+32*U]+C[T+U-32];tu(Y>>5,C,T)}function fd(C,T){var U,Y=8;for(U=0;16>U;++U)Y+=C[T-1+32*U];tu(Y>>4,C,T)}function Cl(C,T){var U,Y=8;for(U=0;16>U;++U)Y+=C[T+U-32];tu(Y>>4,C,T)}function Kf(C,T){tu(128,C,T)}function Wt(C,T,U){return C+2*T+U+2>>2}function ru(C,T){var U,Y=T-32;for(Y=new Uint8Array([Wt(C[Y-1],C[Y+0],C[Y+1]),Wt(C[Y+0],C[Y+1],C[Y+2]),Wt(C[Y+1],C[Y+2],C[Y+3]),Wt(C[Y+2],C[Y+3],C[Y+4])]),U=0;4>U;++U)n(C,T+32*U,Y,0,Y.length)}function Ko(C,T){var U=C[T-1],Y=C[T-1+32],ie=C[T-1+64],oe=C[T-1+96];Ee(C,T+0,16843009*Wt(C[T-1-32],U,Y)),Ee(C,T+32,16843009*Wt(U,Y,ie)),Ee(C,T+64,16843009*Wt(Y,ie,oe)),Ee(C,T+96,16843009*Wt(ie,oe,oe))}function mr(C,T){var U,Y=4;for(U=0;4>U;++U)Y+=C[T+U-32]+C[T-1+32*U];for(Y>>=3,U=0;4>U;++U)i(C,T+32*U,Y,4)}function N1(C,T){var U=C[T-1+0],Y=C[T-1+32],ie=C[T-1+64],oe=C[T-1-32],ce=C[T+0-32],ue=C[T+1-32],pe=C[T+2-32],we=C[T+3-32];C[T+0+96]=Wt(Y,ie,C[T-1+96]),C[T+1+96]=C[T+0+64]=Wt(U,Y,ie),C[T+2+96]=C[T+1+64]=C[T+0+32]=Wt(oe,U,Y),C[T+3+96]=C[T+2+64]=C[T+1+32]=C[T+0+0]=Wt(ce,oe,U),C[T+3+64]=C[T+2+32]=C[T+1+0]=Wt(ue,ce,oe),C[T+3+32]=C[T+2+0]=Wt(pe,ue,ce),C[T+3+0]=Wt(we,pe,ue)}function Sr(C,T){var U=C[T+1-32],Y=C[T+2-32],ie=C[T+3-32],oe=C[T+4-32],ce=C[T+5-32],ue=C[T+6-32],pe=C[T+7-32];C[T+0+0]=Wt(C[T+0-32],U,Y),C[T+1+0]=C[T+0+32]=Wt(U,Y,ie),C[T+2+0]=C[T+1+32]=C[T+0+64]=Wt(Y,ie,oe),C[T+3+0]=C[T+2+32]=C[T+1+64]=C[T+0+96]=Wt(ie,oe,ce),C[T+3+32]=C[T+2+64]=C[T+1+96]=Wt(oe,ce,ue),C[T+3+64]=C[T+2+96]=Wt(ce,ue,pe),C[T+3+96]=Wt(ue,pe,pe)}function Hn(C,T){var U=C[T-1+0],Y=C[T-1+32],ie=C[T-1+64],oe=C[T-1-32],ce=C[T+0-32],ue=C[T+1-32],pe=C[T+2-32],we=C[T+3-32];C[T+0+0]=C[T+1+64]=oe+ce+1>>1,C[T+1+0]=C[T+2+64]=ce+ue+1>>1,C[T+2+0]=C[T+3+64]=ue+pe+1>>1,C[T+3+0]=pe+we+1>>1,C[T+0+96]=Wt(ie,Y,U),C[T+0+64]=Wt(Y,U,oe),C[T+0+32]=C[T+1+96]=Wt(U,oe,ce),C[T+1+32]=C[T+2+96]=Wt(oe,ce,ue),C[T+2+32]=C[T+3+96]=Wt(ce,ue,pe),C[T+3+32]=Wt(ue,pe,we)}function O1(C,T){var U=C[T+0-32],Y=C[T+1-32],ie=C[T+2-32],oe=C[T+3-32],ce=C[T+4-32],ue=C[T+5-32],pe=C[T+6-32],we=C[T+7-32];C[T+0+0]=U+Y+1>>1,C[T+1+0]=C[T+0+64]=Y+ie+1>>1,C[T+2+0]=C[T+1+64]=ie+oe+1>>1,C[T+3+0]=C[T+2+64]=oe+ce+1>>1,C[T+0+32]=Wt(U,Y,ie),C[T+1+32]=C[T+0+96]=Wt(Y,ie,oe),C[T+2+32]=C[T+1+96]=Wt(ie,oe,ce),C[T+3+32]=C[T+2+96]=Wt(oe,ce,ue),C[T+3+64]=Wt(ce,ue,pe),C[T+3+96]=Wt(ue,pe,we)}function Yf(C,T){var U=C[T-1+0],Y=C[T-1+32],ie=C[T-1+64],oe=C[T-1+96];C[T+0+0]=U+Y+1>>1,C[T+2+0]=C[T+0+32]=Y+ie+1>>1,C[T+2+32]=C[T+0+64]=ie+oe+1>>1,C[T+1+0]=Wt(U,Y,ie),C[T+3+0]=C[T+1+32]=Wt(Y,ie,oe),C[T+3+32]=C[T+1+64]=Wt(ie,oe,oe),C[T+3+64]=C[T+2+64]=C[T+0+96]=C[T+1+96]=C[T+2+96]=C[T+3+96]=oe}function nu(C,T){var U=C[T-1+0],Y=C[T-1+32],ie=C[T-1+64],oe=C[T-1+96],ce=C[T-1-32],ue=C[T+0-32],pe=C[T+1-32],we=C[T+2-32];C[T+0+0]=C[T+2+32]=U+ce+1>>1,C[T+0+32]=C[T+2+64]=Y+U+1>>1,C[T+0+64]=C[T+2+96]=ie+Y+1>>1,C[T+0+96]=oe+ie+1>>1,C[T+3+0]=Wt(ue,pe,we),C[T+2+0]=Wt(ce,ue,pe),C[T+1+0]=C[T+3+32]=Wt(U,ce,ue),C[T+1+32]=C[T+3+64]=Wt(Y,U,ce),C[T+1+64]=C[T+3+96]=Wt(ie,Y,U),C[T+1+96]=Wt(oe,ie,Y)}function lo(C,T){var U;for(U=0;8>U;++U)n(C,T+32*U,C,T-32,8)}function iu(C,T){var U;for(U=0;8>U;++U)i(C,T,C[T-1],8),T+=32}function Yo(C,T,U){var Y;for(Y=0;8>Y;++Y)i(T,U+32*Y,C,8)}function Xo(C,T){var U,Y=8;for(U=0;8>U;++U)Y+=C[T+U-32]+C[T-1+32*U];Yo(Y>>4,C,T)}function au(C,T){var U,Y=4;for(U=0;8>U;++U)Y+=C[T+U-32];Yo(Y>>3,C,T)}function hd(C,T){var U,Y=4;for(U=0;8>U;++U)Y+=C[T-1+32*U];Yo(Y>>3,C,T)}function Nl(C,T){Yo(128,C,T)}function co(C,T,U){var Y=C[T-U],ie=C[T+0],oe=3*(ie-Y)+M5[1020+C[T-2*U]-C[T+U]],ce=zy[112+(oe+4>>3)];C[T-U]=ho[255+Y+zy[112+(oe+3>>3)]],C[T+0]=ho[255+ie-ce]}function Ni(C,T,U,Y){var ie=C[T+0],oe=C[T+U];return Jo[255+C[T-2*U]-C[T-U]]>Y||Jo[255+oe-ie]>Y}function pd(C,T,U,Y){return 4*Jo[255+C[T-U]-C[T+0]]+Jo[255+C[T-2*U]-C[T+U]]<=Y}function su(C,T,U,Y,ie){var oe=C[T-3*U],ce=C[T-2*U],ue=C[T-U],pe=C[T+0],we=C[T+U],Pe=C[T+2*U],ze=C[T+3*U];return 4*Jo[255+ue-pe]+Jo[255+ce-we]>Y?0:Jo[255+C[T-4*U]-oe]<=ie&&Jo[255+oe-ce]<=ie&&Jo[255+ce-ue]<=ie&&Jo[255+ze-Pe]<=ie&&Jo[255+Pe-we]<=ie&&Jo[255+we-pe]<=ie}function md(C,T,U,Y){var ie=2*Y+1;for(Y=0;16>Y;++Y)pd(C,T+Y,U,ie)&&co(C,T+Y,U)}function ou(C,T,U,Y){var ie=2*Y+1;for(Y=0;16>Y;++Y)pd(C,T+Y*U,1,ie)&&co(C,T+Y*U,1)}function Np(C,T,U,Y){var ie;for(ie=3;0<ie;--ie)md(C,T+=4*U,U,Y)}function Op(C,T,U,Y){var ie;for(ie=3;0<ie;--ie)ou(C,T+=4,U,Y)}function Kr(C,T,U,Y,ie,oe,ce,ue){for(oe=2*oe+1;0<ie--;){if(su(C,T,U,oe,ce))if(Ni(C,T,U,ue))co(C,T,U);else{var pe=C,we=T,Pe=U,ze=pe[we-2*Pe],_e=pe[we-Pe],Me=pe[we+0],Fe=pe[we+Pe],Xe=pe[we+2*Pe],Ue=27*(nt=M5[1020+3*(Me-_e)+M5[1020+ze-Fe]])+63>>7,Je=18*nt+63>>7,nt=9*nt+63>>7;pe[we-3*Pe]=ho[255+pe[we-3*Pe]+nt],pe[we-2*Pe]=ho[255+ze+Je],pe[we-Pe]=ho[255+_e+Ue],pe[we+0]=ho[255+Me-Ue],pe[we+Pe]=ho[255+Fe-Je],pe[we+2*Pe]=ho[255+Xe-nt]}T+=Y}}function Zo(C,T,U,Y,ie,oe,ce,ue){for(oe=2*oe+1;0<ie--;){if(su(C,T,U,oe,ce))if(Ni(C,T,U,ue))co(C,T,U);else{var pe=C,we=T,Pe=U,ze=pe[we-Pe],_e=pe[we+0],Me=pe[we+Pe],Fe=zy[112+(4+(Xe=3*(_e-ze))>>3)],Xe=zy[112+(Xe+3>>3)],Ue=Fe+1>>1;pe[we-2*Pe]=ho[255+pe[we-2*Pe]+Ue],pe[we-Pe]=ho[255+ze+Xe],pe[we+0]=ho[255+_e-Fe],pe[we+Pe]=ho[255+Me-Ue]}T+=Y}}function lu(C,T,U,Y,ie,oe){Kr(C,T,U,1,16,Y,ie,oe)}function uo(C,T,U,Y,ie,oe){Kr(C,T,1,U,16,Y,ie,oe)}function cu(C,T,U,Y,ie,oe){var ce;for(ce=3;0<ce;--ce)Zo(C,T+=4*U,U,1,16,Y,ie,oe)}function Ve(C,T,U,Y,ie,oe){var ce;for(ce=3;0<ce;--ce)Zo(C,T+=4,1,U,16,Y,ie,oe)}function R(C,T,U,Y,ie,oe,ce,ue){Kr(C,T,ie,1,8,oe,ce,ue),Kr(U,Y,ie,1,8,oe,ce,ue)}function re(C,T,U,Y,ie,oe,ce,ue){Kr(C,T,1,ie,8,oe,ce,ue),Kr(U,Y,1,ie,8,oe,ce,ue)}function be(C,T,U,Y,ie,oe,ce,ue){Zo(C,T+4*ie,ie,1,8,oe,ce,ue),Zo(U,Y+4*ie,ie,1,8,oe,ce,ue)}function Te(C,T,U,Y,ie,oe,ce,ue){Zo(C,T+4,1,ie,8,oe,ce,ue),Zo(U,Y+4,1,ie,8,oe,ce,ue)}function De(){this.ba=new Gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lt(){this.ua=0,this.Wa=new ft,this.vb=new ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new X}function xt(){this.xb=this.a=0,this.l=new uc,this.ca=new Gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lt,this.ab=0,this.gc=s(4,lt),this.Oc=0}function Ar(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new uc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ft(C,T,U,Y,ie,oe,ce){for(C=C==null?0:C[T+0],T=0;T<ce;++T)ie[oe+T]=C+U[Y+T]&255,C=ie[oe+T]}function tn(C,T,U,Y,ie,oe,ce){var ue;if(C==null)Ft(null,null,U,Y,ie,oe,ce);else for(ue=0;ue<ce;++ue)ie[oe+ue]=C[T+ue]+U[Y+ue]&255}function bn(C,T,U,Y,ie,oe,ce){if(C==null)Ft(null,null,U,Y,ie,oe,ce);else{var ue,pe=C[T+0],we=pe,Pe=pe;for(ue=0;ue<ce;++ue)we=Pe+(pe=C[T+ue])-we,Pe=U[Y+ue]+(-256&we?0>we?0:255:we)&255,we=pe,ie[oe+ue]=Pe}}function Or(C,T,U,Y){var ie=T.width,oe=T.o;if(t(C!=null&&T!=null),0>U||0>=Y||U+Y>oe)return null;if(!C.Cc){if(C.ga==null){var ce;if(C.ga=new Ar,(ce=C.ga==null)||(ce=T.width*T.o,t(C.Gb.length==0),C.Gb=a(ce),C.Uc=0,C.Gb==null?ce=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,ce=1),ce=!ce),!ce){ce=C.ga;var ue=C.Fa,pe=C.P,we=C.qc,Pe=C.mb,ze=C.nb,_e=pe+1,Me=we-1,Fe=ce.l;if(t(ue!=null&&Pe!=null&&T!=null),vd[0]=null,vd[1]=Ft,vd[2]=tn,vd[3]=bn,ce.ca=Pe,ce.tb=ze,ce.c=T.width,ce.i=T.height,t(0<ce.c&&0<ce.i),1>=we)T=0;else if(ce.$a=3&ue[pe+0],ce.Z=ue[pe+0]>>2&3,ce.Lc=ue[pe+0]>>4&3,pe=ue[pe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||pe)T=0;else if(Fe.put=Rt,Fe.ac=Nn,Fe.bc=On,Fe.ma=ce,Fe.width=T.width,Fe.height=T.height,Fe.Da=T.Da,Fe.v=T.v,Fe.va=T.va,Fe.j=T.j,Fe.o=T.o,ce.$a)e:{t(ce.$a==1),T=Na();t:for(;;){if(T==null){T=0;break e}if(t(ce!=null),ce.mc=T,T.c=ce.c,T.i=ce.i,T.l=ce.l,T.l.ma=ce,T.l.width=ce.c,T.l.height=ce.i,T.a=0,H(T.m,ue,_e,Me),!Vo(ce.c,ce.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&gs(T.s)?(ce.ic=1,ue=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(ue),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ce.ic=0,T=Qc(T,ce.c)),!T))break t;T=1;break e}ce.mc=null,T=0}else T=Me>=ce.c*ce.i;ce=!T}if(ce)return null;C.ga.Lc!=1?C.Ga=0:Y=oe-U}t(C.ga!=null),t(U+Y<=oe);e:{if(T=(ue=C.ga).c,oe=ue.l.o,ue.$a==0){if(_e=C.rc,Me=C.Vc,Fe=C.Fa,pe=C.P+1+U*T,we=C.mb,Pe=C.nb+U*T,t(pe<=C.P+C.qc),ue.Z!=0)for(t(vd[ue.Z]!=null),ce=0;ce<Y;++ce)vd[ue.Z](_e,Me,Fe,pe,we,Pe,T),_e=we,Me=Pe,Pe+=T,pe+=T;else for(ce=0;ce<Y;++ce)n(we,Pe,Fe,pe,T),_e=we,Me=Pe,Pe+=T,pe+=T;C.rc=_e,C.Vc=Me}else{if(t(ue.mc!=null),T=U+Y,t((ce=ue.mc)!=null),t(T<=ce.i),ce.C>=T)T=1;else if(ue.ic||ua(),ue.ic){ue=ce.V,_e=ce.Ba,Me=ce.c;var Xe=ce.i,Ue=(Fe=1,pe=ce.$/Me,we=ce.$%Me,Pe=ce.m,ze=ce.s,ce.$),Je=Me*Xe,nt=Me*T,ht=ze.wc,ct=Ue<nt?Sn(ze,we,pe):null;t(Ue<=Je),t(T<=Xe),t(gs(ze));t:for(;;){for(;!Pe.h&&Ue<nt;){if(we&ht||(ct=Sn(ze,we,pe)),t(ct!=null),Se(Pe),256>(Xe=Zr(ct.G[0],ct.H[0],Pe)))ue[_e+Ue]=Xe,++Ue,++we>=Me&&(we=0,++pe<=T&&!(pe%16)&&Ca(ce,pe));else{if(!(280>Xe)){Fe=0;break t}Xe=hn(Xe-256,Pe);var or,qt=Zr(ct.G[4],ct.H[4],Pe);if(Se(Pe),!(Ue>=(qt=ri(Me,qt=hn(qt,Pe)))&&Je-Ue>=Xe)){Fe=0;break t}for(or=0;or<Xe;++or)ue[_e+Ue+or]=ue[_e+Ue+or-qt];for(Ue+=Xe,we+=Xe;we>=Me;)we-=Me,++pe<=T&&!(pe%16)&&Ca(ce,pe);Ue<nt&&we&ht&&(ct=Sn(ze,we,pe))}t(Pe.h==ge(Pe))}Ca(ce,pe>T?T:pe);break t}!Fe||Pe.h&&Ue<Je?(Fe=0,ce.a=Pe.h?5:3):ce.$=Ue,T=Fe}else T=Qa(ce,ce.V,ce.Ba,ce.c,ce.i,T,$a);if(!T){Y=0;break e}}U+Y>=oe&&(C.Cc=1),Y=1}if(!Y)return null;if(C.Cc&&((Y=C.ga)!=null&&(Y.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+U*ie}function St(C,T,U,Y,ie,oe){for(;0<ie--;){var ce,ue=C,pe=T+(U?1:0),we=C,Pe=T+(U?0:3);for(ce=0;ce<Y;++ce){var ze=we[Pe+4*ce];ze!=255&&(ze*=32897,ue[pe+4*ce+0]=ue[pe+4*ce+0]*ze>>23,ue[pe+4*ce+1]=ue[pe+4*ce+1]*ze>>23,ue[pe+4*ce+2]=ue[pe+4*ce+2]*ze>>23)}T+=oe}}function Fi(C,T,U,Y,ie){for(;0<Y--;){var oe;for(oe=0;oe<U;++oe){var ce=C[T+2*oe+0],ue=15&(we=C[T+2*oe+1]),pe=4369*ue,we=(240&we|we>>4)*pe>>16;C[T+2*oe+0]=(240&ce|ce>>4)*pe>>16&240|(15&ce|ce<<4)*pe>>16>>4&15,C[T+2*oe+1]=240&we|ue}T+=ie}}function Ir(C,T,U,Y,ie,oe,ce,ue){var pe,we,Pe=255;for(we=0;we<ie;++we){for(pe=0;pe<Y;++pe){var ze=C[T+pe];oe[ce+4*pe]=ze,Pe&=ze}T+=U,ce+=ue}return Pe!=255}function ii(C,T,U,Y,ie){var oe;for(oe=0;oe<ie;++oe)U[Y+oe]=C[T+oe]>>8}function ua(){Jf=St,Cj=Fi,Nj=Ir,Oj=ii}function es(C,T,U){P[C]=function(Y,ie,oe,ce,ue,pe,we,Pe,ze,_e,Me,Fe,Xe,Ue,Je,nt,ht){var ct,or=ht-1>>1,qt=ue[pe+0]|we[Pe+0]<<16,zr=ze[_e+0]|Me[Fe+0]<<16;t(Y!=null);var er=3*qt+zr+131074>>2;for(T(Y[ie+0],255&er,er>>16,Xe,Ue),oe!=null&&(er=3*zr+qt+131074>>2,T(oe[ce+0],255&er,er>>16,Je,nt)),ct=1;ct<=or;++ct){var an=ue[pe+ct]|we[Pe+ct]<<16,ha=ze[_e+ct]|Me[Fe+ct]<<16,qr=qt+an+zr+ha+524296,tr=qr+2*(an+zr)>>3;er=tr+qt>>1,qt=(qr=qr+2*(qt+ha)>>3)+an>>1,T(Y[ie+2*ct-1],255&er,er>>16,Xe,Ue+(2*ct-1)*U),T(Y[ie+2*ct-0],255&qt,qt>>16,Xe,Ue+(2*ct-0)*U),oe!=null&&(er=qr+zr>>1,qt=tr+ha>>1,T(oe[ce+2*ct-1],255&er,er>>16,Je,nt+(2*ct-1)*U),T(oe[ce+2*ct+0],255&qt,qt>>16,Je,nt+(2*ct+0)*U)),qt=an,zr=ha}1&ht||(er=3*qt+zr+131074>>2,T(Y[ie+ht-1],255&er,er>>16,Xe,Ue+(ht-1)*U),oe!=null&&(er=3*zr+qt+131074>>2,T(oe[ce+ht-1],255&er,er>>16,Je,nt+(ht-1)*U)))}}function vs(){el[qy]=tX,el[Wy]=Bj,el[Mj]=rX,el[Hy]=$j,el[Vy]=Uj,el[R5]=zj,el[Rj]=nX,el[D5]=Bj,el[L5]=$j,el[Gy]=Uj,el[F5]=zj}function fc(C){return C&~iX?0>C?0:255:C>>qj}function hc(C,T){return fc((19077*C>>8)+(26149*T>>8)-14234)}function Qo(C,T,U){return fc((19077*C>>8)-(6419*T>>8)-(13320*U>>8)+8708)}function pc(C,T){return fc((19077*C>>8)+(33050*T>>8)-17685)}function mc(C,T,U,Y,ie){Y[ie+0]=hc(C,U),Y[ie+1]=Qo(C,T,U),Y[ie+2]=pc(C,T)}function uu(C,T,U,Y,ie){Y[ie+0]=pc(C,T),Y[ie+1]=Qo(C,T,U),Y[ie+2]=hc(C,U)}function xi(C,T,U,Y,ie){var oe=Qo(C,T,U);T=oe<<3&224|pc(C,T)>>3,Y[ie+0]=248&hc(C,U)|oe>>5,Y[ie+1]=T}function Ol(C,T,U,Y,ie){var oe=240&pc(C,T)|15;Y[ie+0]=240&hc(C,U)|Qo(C,T,U)>>4,Y[ie+1]=oe}function du(C,T,U,Y,ie){Y[ie+0]=255,mc(C,T,U,Y,ie+1)}function Tl(C,T,U,Y,ie){uu(C,T,U,Y,ie),Y[ie+3]=255}function Xf(C,T,U,Y,ie){mc(C,T,U,Y,ie),Y[ie+3]=255}function wn(C,T){return 0>C?0:C>T?T:C}function Us(C,T,U){P[C]=function(Y,ie,oe,ce,ue,pe,we,Pe,ze){for(var _e=Pe+(-2&ze)*U;Pe!=_e;)T(Y[ie+0],oe[ce+0],ue[pe+0],we,Pe),T(Y[ie+1],oe[ce+0],ue[pe+0],we,Pe+U),ie+=2,++ce,++pe,Pe+=2*U;1&ze&&T(Y[ie+0],oe[ce+0],ue[pe+0],we,Pe)}}function da(C,T,U){return U==0?C==0?T==0?6:5:T==0?4:0:U}function Zf(C,T,U,Y,ie){switch(C>>>30){case 3:ke(T,U,Y,ie,0);break;case 2:Le(T,U,Y,ie);break;case 1:et(T,U,Y,ie)}}function bi(C,T){var U,Y,ie=T.M,oe=T.Nb,ce=C.oc,ue=C.pc+40,pe=C.oc,we=C.pc+584,Pe=C.oc,ze=C.pc+600;for(U=0;16>U;++U)ce[ue+32*U-1]=129;for(U=0;8>U;++U)pe[we+32*U-1]=129,Pe[ze+32*U-1]=129;for(0<ie?ce[ue-1-32]=pe[we-1-32]=Pe[ze-1-32]=129:(i(ce,ue-32-1,127,21),i(pe,we-32-1,127,9),i(Pe,ze-32-1,127,9)),Y=0;Y<C.za;++Y){var _e=T.ya[T.aa+Y];if(0<Y){for(U=-1;16>U;++U)n(ce,ue+32*U-4,ce,ue+32*U+12,4);for(U=-1;8>U;++U)n(pe,we+32*U-4,pe,we+32*U+4,4),n(Pe,ze+32*U-4,Pe,ze+32*U+4,4)}var Me=C.Gd,Fe=C.Hd+Y,Xe=_e.ad,Ue=_e.Hc;if(0<ie&&(n(ce,ue-32,Me[Fe].y,0,16),n(pe,we-32,Me[Fe].f,0,8),n(Pe,ze-32,Me[Fe].ea,0,8)),_e.Za){var Je=ce,nt=ue-32+16;for(0<ie&&(Y>=C.za-1?i(Je,nt,Me[Fe].y[15],4):n(Je,nt,Me[Fe+1].y,0,4)),U=0;4>U;U++)Je[nt+128+U]=Je[nt+256+U]=Je[nt+384+U]=Je[nt+0+U];for(U=0;16>U;++U,Ue<<=2)Je=ce,nt=ue+Hj[U],Il[_e.Ob[U]](Je,nt),Zf(Ue,Xe,16*+U,Je,nt)}else if(Je=da(Y,ie,_e.Ob[0]),gd[Je](ce,ue),Ue!=0)for(U=0;16>U;++U,Ue<<=2)Zf(Ue,Xe,16*+U,ce,ue+Hj[U]);for(U=_e.Gc,Je=da(Y,ie,_e.Dd),gu[Je](pe,we),gu[Je](Pe,ze),Ue=Xe,Je=pe,nt=we,255&(_e=0|U)&&(170&_e?We(Ue,256,Je,nt):at(Ue,256,Je,nt)),_e=Pe,Ue=ze,255&(U>>=8)&&(170&U?We(Xe,320,_e,Ue):at(Xe,320,_e,Ue)),ie<C.Ub-1&&(n(Me[Fe].y,0,ce,ue+480,16),n(Me[Fe].f,0,pe,we+224,8),n(Me[Fe].ea,0,Pe,ze+224,8)),U=8*oe*C.B,Me=C.sa,Fe=C.ta+16*Y+16*oe*C.R,Xe=C.qa,_e=C.ra+8*Y+U,Ue=C.Ha,Je=C.Ia+8*Y+U,U=0;16>U;++U)n(Me,Fe+U*C.R,ce,ue+32*U,16);for(U=0;8>U;++U)n(Xe,_e+U*C.B,pe,we+32*U,8),n(Ue,Je+U*C.B,Pe,ze+32*U,8)}}function fu(C,T,U,Y,ie,oe,ce,ue,pe){var we=[0],Pe=[0],ze=0,_e=pe!=null?pe.kd:0,Me=pe??new Qe;if(C==null||12>U)return 7;Me.data=C,Me.w=T,Me.ha=U,T=[T],U=[U],Me.gb=[Me.gb];e:{var Fe=T,Xe=U,Ue=Me.gb;if(t(C!=null),t(Xe!=null),t(Ue!=null),Ue[0]=0,12<=Xe[0]&&!r(C,Fe[0],"RIFF")){if(r(C,Fe[0]+8,"WEBP")){Ue=3;break e}var Je=je(C,Fe[0]+4);if(12>Je||4294967286<Je){Ue=3;break e}if(_e&&Je>Xe[0]-8){Ue=7;break e}Ue[0]=Je,Fe[0]+=12,Xe[0]-=12}Ue=0}if(Ue!=0)return Ue;for(Je=0<Me.gb[0],U=U[0];;){e:{var nt=C;Xe=T,Ue=U;var ht=we,ct=Pe,or=Fe=[0];if((er=ze=[ze])[0]=0,8>Ue[0])Ue=7;else{if(!r(nt,Xe[0],"VP8X")){if(je(nt,Xe[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var qt=je(nt,Xe[0]+8),zr=1+Re(nt,Xe[0]+12);if(2147483648<=zr*(nt=1+Re(nt,Xe[0]+15))){Ue=3;break e}or!=null&&(or[0]=qt),ht!=null&&(ht[0]=zr),ct!=null&&(ct[0]=nt),Xe[0]+=18,Ue[0]-=18,er[0]=1}Ue=0}}if(ze=ze[0],Fe=Fe[0],Ue!=0)return Ue;if(Xe=!!(2&Fe),!Je&&ze)return 3;if(oe!=null&&(oe[0]=!!(16&Fe)),ce!=null&&(ce[0]=Xe),ue!=null&&(ue[0]=0),ce=we[0],Fe=Pe[0],ze&&Xe&&pe==null){Ue=0;break}if(4>U){Ue=7;break}if(Je&&ze||!Je&&!ze&&!r(C,T[0],"ALPH")){U=[U],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{qt=C,Ue=T,Je=U;var er=Me.gb;ht=Me.na,ct=Me.P,or=Me.Sa,zr=22,t(qt!=null),t(Je!=null),nt=Ue[0];var an=Je[0];for(t(ht!=null),t(or!=null),ht[0]=null,ct[0]=null,or[0]=0;;){if(Ue[0]=nt,Je[0]=an,8>an){Ue=7;break e}var ha=je(qt,nt+4);if(4294967286<ha){Ue=3;break e}var qr=8+ha+1&-2;if(zr+=qr,0<er&&zr>er){Ue=3;break e}if(!r(qt,nt,"VP8 ")||!r(qt,nt,"VP8L")){Ue=0;break e}if(an[0]<qr){Ue=7;break e}r(qt,nt,"ALPH")||(ht[0]=qt,ct[0]=nt+8,or[0]=ha),nt+=qr,an-=qr}}if(U=U[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ue!=0)break}U=[U],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(er=C,Ue=T,Je=U,ht=Me.gb[0],ct=Me.Ja,or=Me.xa,qt=Ue[0],nt=!r(er,qt,"VP8 "),zr=!r(er,qt,"VP8L"),t(er!=null),t(Je!=null),t(ct!=null),t(or!=null),8>Je[0])Ue=7;else{if(nt||zr){if(er=je(er,qt+4),12<=ht&&er>ht-12){Ue=3;break e}if(_e&&er>Je[0]-8){Ue=7;break e}ct[0]=er,Ue[0]+=8,Je[0]-=8,or[0]=zr}else or[0]=5<=Je[0]&&er[qt+0]==47&&!(er[qt+4]>>5),ct[0]=Je[0];Ue=0}if(U=U[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],T=T[0],Ue!=0)break;if(4294967286<Me.Ja)return 3;if(ue==null||Xe||(ue[0]=Me.xa?2:1),ce=[ce],Fe=[Fe],Me.xa){if(5>U){Ue=7;break}ue=ce,_e=Fe,Xe=oe,C==null||5>U?C=0:5<=U&&C[T+0]==47&&!(C[T+4]>>5)?(Je=[0],er=[0],ht=[0],H(ct=new Z,C,T,U),ca(ct,Je,er,ht)?(ue!=null&&(ue[0]=Je[0]),_e!=null&&(_e[0]=er[0]),Xe!=null&&(Xe[0]=ht[0]),C=1):C=0):C=0}else{if(10>U){Ue=7;break}ue=Fe,C==null||10>U||!pi(C,T+3,U-3)?C=0:(_e=C[T+0]|C[T+1]<<8|C[T+2]<<16,Xe=16383&(C[T+7]<<8|C[T+6]),C=16383&(C[T+9]<<8|C[T+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=Me.Ja||!Xe||!C?C=0:(ce&&(ce[0]=Xe),ue&&(ue[0]=C),C=1))}if(!C||(ce=ce[0],Fe=Fe[0],ze&&(we[0]!=ce||Pe[0]!=Fe)))return 3;pe!=null&&(pe[0]=Me,pe.offset=T-pe.w,t(4294967286>T-pe.w),t(pe.offset==pe.ha-U));break}return Ue==0||Ue==7&&ze&&pe==null?(oe!=null&&(oe[0]|=Me.na!=null&&0<Me.na.length),Y!=null&&(Y[0]=ce),ie!=null&&(ie[0]=Fe),0):Ue}function hu(C,T,U){var Y=T.width,ie=T.height,oe=0,ce=0,ue=Y,pe=ie;if(T.Da=C!=null&&0<C.Da,T.Da&&(ue=C.cd,pe=C.bd,oe=C.v,ce=C.j,11>U||(oe&=-2,ce&=-2),0>oe||0>ce||0>=ue||0>=pe||oe+ue>Y||ce+pe>ie))return 0;if(T.v=oe,T.j=ce,T.va=oe+ue,T.o=ce+pe,T.U=ue,T.T=pe,T.da=C!=null&&0<C.da,T.da){if(!Ye(ue,pe,U=[C.ib],oe=[C.hb]))return 0;T.ib=U[0],T.hb=oe[0]}return T.ob=C!=null&&C.ob,T.Kb=C==null||!C.Sd,T.da&&(T.ob=T.ib<3*Y/4&&T.hb<3*ie/4,T.Kb=0),1}function Qf(C){if(C==null)return 2;if(11>C.S){var T=C.f.RGBA;T.fb+=(C.height-1)*T.A,T.A=-T.A}else T=C.f.kb,C=C.height,T.O+=(C-1)*T.fa,T.fa=-T.fa,T.N+=(C-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(C-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(C-1)*T.lb,T.lb=-T.lb);return 0}function jl(C,T,U,Y){if(Y==null||0>=C||0>=T)return 2;if(U!=null){if(U.Da){var ie=U.cd,oe=U.bd,ce=-2&U.v,ue=-2&U.j;if(0>ce||0>ue||0>=ie||0>=oe||ce+ie>C||ue+oe>T)return 2;C=ie,T=oe}if(U.da){if(!Ye(C,T,ie=[U.ib],oe=[U.hb]))return 2;C=ie[0],T=oe[0]}}Y.width=C,Y.height=T;e:{var pe=Y.width,we=Y.height;if(C=Y.S,0>=pe||0>=we||!(C>=qy&&13>C))C=2;else{if(0>=Y.Rd&&Y.sd==null){ce=oe=ie=T=0;var Pe=(ue=pe*Vj[C])*we;if(11>C||(oe=(we+1)/2*(T=(pe+1)/2),C==12&&(ce=(ie=pe)*we)),(we=a(Pe+2*oe+ce))==null){C=1;break e}Y.sd=we,11>C?((pe=Y.f.RGBA).eb=we,pe.fb=0,pe.A=ue,pe.size=Pe):((pe=Y.f.kb).y=we,pe.O=0,pe.fa=ue,pe.Fd=Pe,pe.f=we,pe.N=0+Pe,pe.Ab=T,pe.Cd=oe,pe.ea=we,pe.W=0+Pe+oe,pe.Db=T,pe.Ed=oe,C==12&&(pe.F=we,pe.J=0+Pe+2*oe),pe.Tc=ce,pe.lb=ie)}if(T=1,ie=Y.S,oe=Y.width,ce=Y.height,ie>=qy&&13>ie)if(11>ie)C=Y.f.RGBA,T&=(ue=Math.abs(C.A))*(ce-1)+oe<=C.size,T&=ue>=oe*Vj[ie],T&=C.eb!=null;else{C=Y.f.kb,ue=(oe+1)/2,Pe=(ce+1)/2,pe=Math.abs(C.fa),we=Math.abs(C.Ab);var ze=Math.abs(C.Db),_e=Math.abs(C.lb),Me=_e*(ce-1)+oe;T&=pe*(ce-1)+oe<=C.Fd,T&=we*(Pe-1)+ue<=C.Cd,T=(T&=ze*(Pe-1)+ue<=C.Ed)&pe>=oe&we>=ue&ze>=ue,T&=C.y!=null,T&=C.f!=null,T&=C.ea!=null,ie==12&&(T&=_e>=oe,T&=Me<=C.Tc,T&=C.F!=null)}else T=0;C=T?0:2}}return C!=0||U!=null&&U.fd&&(C=Qf(Y)),C}var Oa=64,ys=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],za=24,zs=32,Fr=8,fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(C){return C},P.Predictor2=function(C,T,U){return T[U+0]},P.Predictor3=function(C,T,U){return T[U+1]},P.Predictor4=function(C,T,U){return T[U-1]},P.Predictor5=function(C,T,U){return Ct(Ct(C,T[U+1]),T[U+0])},P.Predictor6=function(C,T,U){return Ct(C,T[U-1])},P.Predictor7=function(C,T,U){return Ct(C,T[U+0])},P.Predictor8=function(C,T,U){return Ct(T[U-1],T[U+0])},P.Predictor9=function(C,T,U){return Ct(T[U+0],T[U+1])},P.Predictor10=function(C,T,U){return Ct(Ct(C,T[U-1]),Ct(T[U+0],T[U+1]))},P.Predictor11=function(C,T,U){var Y=T[U+0];return 0>=vt(Y>>24&255,C>>24&255,(T=T[U-1])>>24&255)+vt(Y>>16&255,C>>16&255,T>>16&255)+vt(Y>>8&255,C>>8&255,T>>8&255)+vt(255&Y,255&C,255&T)?Y:C},P.Predictor12=function(C,T,U){var Y=T[U+0];return(Vt((C>>24&255)+(Y>>24&255)-((T=T[U-1])>>24&255))<<24|Vt((C>>16&255)+(Y>>16&255)-(T>>16&255))<<16|Vt((C>>8&255)+(Y>>8&255)-(T>>8&255))<<8|Vt((255&C)+(255&Y)-(255&T)))>>>0},P.Predictor13=function(C,T,U){var Y=T[U-1];return(Gt((C=Ct(C,T[U+0]))>>24&255,Y>>24&255)<<24|Gt(C>>16&255,Y>>16&255)<<16|Gt(C>>8&255,Y>>8&255)<<8|Gt(255&C,255&Y))>>>0};var J=P.PredictorAdd0;P.PredictorAdd1=hr,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var l=P.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var f,p=P.ColorIndexInverseTransform,v=P.MapARGB,x=P.VP8LColorIndexInverseTransformAlpha,b=P.MapAlpha,N=P.VP8LPredictorsAdd=[];N.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var j,L,G,ee,se,xe,Oe,ke,Le,We,et,at,tt,ur,vr,Ji,Ta,fa,An,ea,ts,pu,mu,Uy,Jf,Cj,Nj,Oj,Tj=a(511),jj=a(2041),Ij=a(225),kj=a(767),Pj=0,M5=jj,zy=Ij,ho=kj,Jo=Tj,qy=0,Wy=1,Mj=2,Hy=3,Vy=4,R5=5,Rj=6,D5=7,L5=8,Gy=9,F5=10,UY=[2,3,7],zY=[3,3,11],Dj=[280,256,256,256,40],qY=[0,1,1,1,0],WY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],HY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],VY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],GY=8,B5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],T1=null,KY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],YY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],XY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ZY=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],QY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],JY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gd=[],Il=[],gu=[],eX=1,Fj=2,vd=[],el=[];es("UpsampleRgbLinePair",mc,3),es("UpsampleBgrLinePair",uu,3),es("UpsampleRgbaLinePair",Xf,4),es("UpsampleBgraLinePair",Tl,4),es("UpsampleArgbLinePair",du,4),es("UpsampleRgba4444LinePair",Ol,2),es("UpsampleRgb565LinePair",xi,2);var tX=P.UpsampleRgbLinePair,rX=P.UpsampleBgrLinePair,Bj=P.UpsampleRgbaLinePair,$j=P.UpsampleBgraLinePair,Uj=P.UpsampleArgbLinePair,zj=P.UpsampleRgba4444LinePair,nX=P.UpsampleRgb565LinePair,Ky=16,Yy=1<<Ky-1,j1=-227,U5=482,qj=6,iX=(256<<qj)-1,Wj=0,aX=a(256),sX=a(256),oX=a(256),lX=a(256),cX=a(U5-j1),uX=a(U5-j1);Us("YuvToRgbRow",mc,3),Us("YuvToBgrRow",uu,3),Us("YuvToRgbaRow",Xf,4),Us("YuvToBgraRow",Tl,4),Us("YuvToArgbRow",du,4),Us("YuvToRgba4444Row",Ol,2),Us("YuvToRgb565Row",xi,2);var Hj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xy=[0,2,8],dX=[8,7,6,4,4,2,2,2,1,1,1,1],fX=1;this.WebPDecodeRGBA=function(C,T,U,Y,ie){var oe=Wy,ce=new De,ue=new Gr;ce.ba=ue,ue.S=oe,ue.width=[ue.width],ue.height=[ue.height];var pe=ue.width,we=ue.height,Pe=new lr;if(Pe==null||C==null)var ze=2;else t(Pe!=null),ze=fu(C,T,U,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(ze!=0?pe=0:(pe!=null&&(pe[0]=Pe.width[0]),we!=null&&(we[0]=Pe.height[0]),pe=1),pe){ue.width=ue.width[0],ue.height=ue.height[0],Y!=null&&(Y[0]=ue.width),ie!=null&&(ie[0]=ue.height);e:{if(Y=new uc,(ie=new Qe).data=C,ie.w=T,ie.ha=U,ie.kd=1,T=[0],t(ie!=null),((C=fu(ie.data,ie.w,ie.ha,null,null,null,T,null,ie))==0||C==7)&&T[0]&&(C=4),(T=C)==0){if(t(ce!=null),Y.data=ie.data,Y.w=ie.w+ie.offset,Y.ha=ie.ha-ie.offset,Y.put=Rt,Y.ac=Nn,Y.bc=On,Y.ma=ce,ie.xa){if((C=Na())==null){ce=1;break e}if(function(_e,Me){var Fe=[0],Xe=[0],Ue=[0];t:for(;;){if(_e==null)return 0;if(Me==null)return _e.a=2,0;if(_e.l=Me,_e.a=0,H(_e.m,Me.data,Me.w,Me.ha),!ca(_e.m,Fe,Xe,Ue)){_e.a=3;break t}if(_e.xb=Fj,Me.width=Fe[0],Me.height=Xe[0],!Vo(Fe[0],Xe[0],1,_e,null))break t;return 1}return t(_e.a!=0),0}(C,Y)){if(Y=(T=jl(Y.width,Y.height,ce.Oa,ce.ba))==0){t:{Y=C;r:for(;;){if(Y==null){Y=0;break t}if(t(Y.s.yc!=null),t(Y.s.Ya!=null),t(0<Y.s.Wb),t((U=Y.l)!=null),t((ie=U.ma)!=null),Y.xb!=0){if(Y.ca=ie.ba,Y.tb=ie.tb,t(Y.ca!=null),!hu(ie.Oa,U,Hy)){Y.a=2;break r}if(!Qc(Y,U.width)||U.da)break r;if((U.da||_r(Y.ca.S))&&ua(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&ua()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!de(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!Qa(Y,Y.V,Y.Ba,Y.c,Y.i,U.o,ms))break r;ie.Dc=Y.Ma,Y=1;break t}t(Y.a!=0),Y=0}Y=!Y}Y&&(T=C.a)}else T=C.a}else{if((C=new Gf)==null){ce=1;break e}if(C.Fa=ie.na,C.P=ie.P,C.qc=ie.Sa,oo(C,Y)){if((T=jl(Y.width,Y.height,ce.Oa,ce.ba))==0){if(C.Aa=0,U=ce.Oa,t((ie=C)!=null),U!=null){if(0<(pe=0>(pe=U.Md)?0:100<pe?255:255*pe/100)){for(we=Pe=0;4>we;++we)12>(ze=ie.pb[we]).lc&&(ze.ia=pe*dX[0>ze.lc?0:ze.lc]>>3),Pe|=ze.ia;Pe&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=U.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(_e,Me){if(_e==null)return 0;if(Me==null)return hi(_e,2,"NULL VP8Io parameter in VP8Decode().");if(!_e.cb&&!oo(_e,Me))return 0;if(t(_e.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(_e.L=0);var Fe=Xy[_e.L];if(_e.L==2?(_e.yb=0,_e.zb=0):(_e.yb=Me.v-Fe>>4,_e.zb=Me.j-Fe>>4,0>_e.yb&&(_e.yb=0),0>_e.zb&&(_e.zb=0)),_e.Va=Me.o+15+Fe>>4,_e.Hb=Me.va+15+Fe>>4,_e.Hb>_e.za&&(_e.Hb=_e.za),_e.Va>_e.Ub&&(_e.Va=_e.Ub),0<_e.L){var Xe=_e.ed;for(Fe=0;4>Fe;++Fe){var Ue;if(_e.Qa.Cb){var Je=_e.Qa.Lb[Fe];_e.Qa.Fb||(Je+=Xe.Tb)}else Je=Xe.Tb;for(Ue=0;1>=Ue;++Ue){var nt=_e.gd[Fe][Ue],ht=Je;if(Xe.Pc&&(ht+=Xe.vd[0],Ue&&(ht+=Xe.od[0])),0<(ht=0>ht?0:63<ht?63:ht)){var ct=ht;0<Xe.wb&&(ct=4<Xe.wb?ct>>2:ct>>1)>9-Xe.wb&&(ct=9-Xe.wb),1>ct&&(ct=1),nt.dd=ct,nt.tc=2*ht+ct,nt.ld=40<=ht?2:15<=ht?1:0}else nt.tc=0;nt.La=Ue}}}Fe=0}else hi(_e,6,"Frame setup failed"),Fe=_e.a;if(Fe=Fe==0){if(Fe){_e.$c=0,0<_e.Aa||(_e.Ic=fX);t:{Fe=_e.Ic,Xe=4*(ct=_e.za);var or=32*ct,qt=ct+1,zr=0<_e.L?ct*(0<_e.Aa?2:1):0,er=(_e.Aa==2?2:1)*ct;if((nt=Xe+832+(Ue=3*(16*Fe+Xy[_e.L])/2*or)+(Je=_e.Fa!=null&&0<_e.Fa.length?_e.Kc.c*_e.Kc.i:0))!=nt)Fe=0;else{if(nt>_e.Vb){if(_e.Vb=0,_e.Ec=a(nt),_e.Fc=0,_e.Ec==null){Fe=hi(_e,1,"no memory during frame initialization.");break t}_e.Vb=nt}nt=_e.Ec,ht=_e.Fc,_e.Ac=nt,_e.Bc=ht,ht+=Xe,_e.Gd=s(or,en),_e.Hd=0,_e.rb=s(qt+1,Bn),_e.sb=1,_e.wa=zr?s(zr,$s):null,_e.Y=0,_e.D.Nb=0,_e.D.wa=_e.wa,_e.D.Y=_e.Y,0<_e.Aa&&(_e.D.Y+=ct),t(!0),_e.oc=nt,_e.pc=ht,ht+=832,_e.ya=s(er,Vf),_e.aa=0,_e.D.ya=_e.ya,_e.D.aa=_e.aa,_e.Aa==2&&(_e.D.aa+=ct),_e.R=16*ct,_e.B=8*ct,ct=(or=Xy[_e.L])*_e.R,or=or/2*_e.B,_e.sa=nt,_e.ta=ht+ct,_e.qa=_e.sa,_e.ra=_e.ta+16*Fe*_e.R+or,_e.Ha=_e.qa,_e.Ia=_e.ra+8*Fe*_e.B+or,_e.$c=0,ht+=Ue,_e.mb=Je?nt:null,_e.nb=Je?ht:null,t(ht+Je<=_e.Fc+_e.Vb),Tn(_e),i(_e.Ac,_e.Bc,0,Xe),Fe=1}}if(Fe){if(Me.ka=0,Me.y=_e.sa,Me.O=_e.ta,Me.f=_e.qa,Me.N=_e.ra,Me.ea=_e.Ha,Me.Vd=_e.Ia,Me.fa=_e.R,Me.Rc=_e.B,Me.F=null,Me.J=0,!Pj){for(Fe=-255;255>=Fe;++Fe)Tj[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)jj[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)Ij[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)kj[255+Fe]=0>Fe?0:255<Fe?255:Fe;Pj=1}Oe=Ua,ke=$e,We=ve,et=Dt,at=yi,Le=Qi,tt=lu,ur=uo,vr=R,Ji=re,Ta=cu,fa=Ve,An=be,ea=Te,ts=md,pu=ou,mu=Np,Uy=Op,Il[0]=mr,Il[1]=eu,Il[2]=ru,Il[3]=Ko,Il[4]=N1,Il[5]=Hn,Il[6]=Sr,Il[7]=O1,Il[8]=nu,Il[9]=Yf,gd[0]=Go,gd[1]=cr,gd[2]=Wn,gd[3]=dd,gd[4]=fd,gd[5]=Cl,gd[6]=Kf,gu[0]=Xo,gu[1]=Ja,gu[2]=lo,gu[3]=iu,gu[4]=hd,gu[5]=au,gu[6]=Nl,Fe=1}else Fe=0}Fe&&(Fe=function(an,ha){for(an.M=0;an.M<an.Va;++an.M){var qr,tr=an.Jc[an.M&an.Xb],bt=an.m,Bi=an;for(qr=0;qr<Bi.za;++qr){var Br=bt,ln=Bi,ai=ln.Ac,qa=ln.Bc+4*qr,xs=ln.zc,Oi=ln.ya[ln.aa+qr];if(ln.Qa.Bb?Oi.$b=Ne(Br,ln.Pa.jb[0])?2+Ne(Br,ln.Pa.jb[2]):Ne(Br,ln.Pa.jb[1]):Oi.$b=0,ln.kc&&(Oi.Ad=Ne(Br,ln.Bd)),Oi.Za=!Ne(Br,145)+0,Oi.Za){var rs=Oi.Ob,bs=0;for(ln=0;4>ln;++ln){var pa,un=xs[0+ln];for(pa=0;4>pa;++pa){un=ZY[ai[qa+pa]][un];for(var jn=Lj[Ne(Br,un[0])];0<jn;)jn=Lj[2*jn+Ne(Br,un[jn])];un=-jn,ai[qa+pa]=un}n(rs,bs,ai,qa,4),bs+=4,xs[0+ln]=un}}else un=Ne(Br,156)?Ne(Br,128)?1:3:Ne(Br,163)?2:0,Oi.Ob[0]=un,i(ai,qa,un,4),i(xs,0,un,4);Oi.Dd=Ne(Br,142)?Ne(Br,114)?Ne(Br,183)?1:3:2:0}if(Bi.m.Ka)return hi(an,7,"Premature end-of-partition0 encountered.");for(;an.ja<an.za;++an.ja){if(Bi=tr,Br=(bt=an).rb[bt.sb-1],ai=bt.rb[bt.sb+bt.ja],qr=bt.ya[bt.aa+bt.ja],qa=bt.kc?qr.Ad:0)Br.la=ai.la=0,qr.Za||(Br.Na=ai.Na=0),qr.Hc=0,qr.Gc=0,qr.ia=0;else{var Ti,In;if(Br=ai,ai=Bi,qa=bt.Pa.Xc,xs=bt.ya[bt.aa+bt.ja],Oi=bt.pb[xs.$b],ln=xs.ad,rs=0,bs=bt.rb[bt.sb-1],un=pa=0,i(ln,rs,0,384),xs.Za)var Wa=0,kl=qa[3];else{jn=a(16);var $i=Br.Na+bs.Na;if($i=T1(ai,qa[1],$i,Oi.Eb,0,jn,0),Br.Na=bs.Na=(0<$i)+0,1<$i)Oe(jn,0,ln,rs);else{var qs=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)ln[rs+jn]=qs}Wa=1,kl=qa[0]}var Vn=15&Br.la,ma=15&bs.la;for(jn=0;4>jn;++jn){var po=1&ma;for(qs=In=0;4>qs;++qs)Vn=Vn>>1|(po=($i=T1(ai,kl,$i=po+(1&Vn),Oi.Sc,Wa,ln,rs))>Wa)<<7,In=In<<2|(3<$i?3:1<$i?2:ln[rs+0]!=0),rs+=16;Vn>>=4,ma=ma>>1|po<<7,pa=(pa<<8|In)>>>0}for(kl=Vn,Wa=ma>>4,Ti=0;4>Ti;Ti+=2){for(In=0,Vn=Br.la>>4+Ti,ma=bs.la>>4+Ti,jn=0;2>jn;++jn){for(po=1&ma,qs=0;2>qs;++qs)$i=po+(1&Vn),Vn=Vn>>1|(po=0<($i=T1(ai,qa[2],$i,Oi.Qc,0,ln,rs)))<<3,In=In<<2|(3<$i?3:1<$i?2:ln[rs+0]!=0),rs+=16;Vn>>=2,ma=ma>>1|po<<5}un|=In<<4*Ti,kl|=Vn<<4<<Ti,Wa|=(240&ma)<<Ti}Br.la=kl,bs.la=Wa,xs.Hc=pa,xs.Gc=un,xs.ia=43690&un?0:Oi.ia,qa=!(pa|un)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[qr.$b][qr.Za],bt.wa[bt.Y+bt.ja].La|=!qa),Bi.Ka)return hi(an,7,"Premature end-of-file encountered.")}if(Tn(an),bt=ha,Bi=1,qr=(tr=an).D,Br=0<tr.L&&tr.M>=tr.zb&&tr.M<=tr.Va,tr.Aa==0)t:{if(qr.M=tr.M,qr.uc=Br,bi(tr,qr),Bi=1,qr=(In=tr.D).Nb,Br=(un=Xy[tr.L])*tr.R,ai=un/2*tr.B,jn=16*qr*tr.R,qs=8*qr*tr.B,qa=tr.sa,xs=tr.ta-Br+jn,Oi=tr.qa,ln=tr.ra-ai+qs,rs=tr.Ha,bs=tr.Ia-ai+qs,ma=(Vn=In.M)==0,pa=Vn>=tr.Va-1,tr.Aa==2&&bi(tr,In),In.uc)for(po=($i=tr).D.M,t($i.D.uc),In=$i.yb;In<$i.Hb;++In){Wa=In,kl=po;var ws=(mo=(Ha=$i).D).Nb;Ti=Ha.R;var mo=mo.wa[mo.Y+Wa],go=Ha.sa,Ws=Ha.ta+16*ws*Ti+16*Wa,vo=mo.dd,Xn=mo.tc;if(Xn!=0)if(t(3<=Xn),Ha.L==1)0<Wa&&pu(go,Ws,Ti,Xn+4),mo.La&&Uy(go,Ws,Ti,Xn),0<kl&&ts(go,Ws,Ti,Xn+4),mo.La&&mu(go,Ws,Ti,Xn);else{var yo=Ha.B,Pl=Ha.qa,eh=Ha.ra+8*ws*yo+8*Wa,vu=Ha.Ha,Ha=Ha.Ia+8*ws*yo+8*Wa;ws=mo.ld,0<Wa&&(ur(go,Ws,Ti,Xn+4,vo,ws),Ji(Pl,eh,vu,Ha,yo,Xn+4,vo,ws)),mo.La&&(fa(go,Ws,Ti,Xn,vo,ws),ea(Pl,eh,vu,Ha,yo,Xn,vo,ws)),0<kl&&(tt(go,Ws,Ti,Xn+4,vo,ws),vr(Pl,eh,vu,Ha,yo,Xn+4,vo,ws)),mo.La&&(Ta(go,Ws,Ti,Xn,vo,ws),An(Pl,eh,vu,Ha,yo,Xn,vo,ws))}}if(tr.ia&&alert("todo:DitherRow"),bt.put!=null){if(In=16*Vn,Vn=16*(Vn+1),ma?(bt.y=tr.sa,bt.O=tr.ta+jn,bt.f=tr.qa,bt.N=tr.ra+qs,bt.ea=tr.Ha,bt.W=tr.Ia+qs):(In-=un,bt.y=qa,bt.O=xs,bt.f=Oi,bt.N=ln,bt.ea=rs,bt.W=bs),pa||(Vn-=un),Vn>bt.o&&(Vn=bt.o),bt.F=null,bt.J=null,tr.Fa!=null&&0<tr.Fa.length&&In<Vn&&(bt.J=Or(tr,bt,In,Vn-In),bt.F=tr.mb,bt.F==null&&bt.F.length==0)){Bi=hi(tr,3,"Could not decode alpha data.");break t}In<bt.j&&(un=bt.j-In,In=bt.j,t(!(1&un)),bt.O+=tr.R*un,bt.N+=tr.B*(un>>1),bt.W+=tr.B*(un>>1),bt.F!=null&&(bt.J+=bt.width*un)),In<Vn&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=In-bt.j,bt.U=bt.va-bt.v,bt.T=Vn-In,Bi=bt.put(bt))}qr+1!=tr.Ic||pa||(n(tr.sa,tr.ta-Br,qa,xs+16*tr.R,Br),n(tr.qa,tr.ra-ai,Oi,ln+8*tr.B,ai),n(tr.Ha,tr.Ia-ai,rs,bs+8*tr.B,ai))}if(!Bi)return hi(an,6,"Output aborted.")}return 1}(_e,Me)),Me.bc!=null&&Me.bc(Me),Fe&=1}return Fe?(_e.cb=0,Fe):0})(C,Y)||(T=C.a)}}else T=C.a}T==0&&ce.Oa!=null&&ce.Oa.fd&&(T=Qf(ce.ba))}ce=T}oe=ce!=0?null:11>oe?ue.f.RGBA.eb:ue.f.kb.y}else oe=null;return oe};var Vj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,K){for(var $="",z=0;z<4;z++)$+=String.fromCharCode(P[K++]);return $}function h(P,K){return P[K+0]|P[K+1]<<8}function m(P,K){return(P[K+0]|P[K+1]<<8|P[K+2]<<16)>>>0}function y(P,K){return(P[K+0]|P[K+1]<<8|P[K+2]<<16|P[K+3]<<24)>>>0}new c;var g=[0],S=[0],_=[],w=new c,A=e,E=function(P,K){var $={},z=0,X=!1,W=0,V=0;if($.frames=[],!function(q,Z){for(var ae=0;ae<4;ae++)if(q[Z+ae]!="RIFF".charCodeAt(ae))return!0;return!1}(P,K)){for(y(P,K+=4),K+=8;K<P.length;){var Q=u(P,K),ne=y(P,K+=4);K+=4;var te=ne+(1&ne);switch(Q){case"VP8 ":case"VP8L":$.frames[z]===void 0&&($.frames[z]={}),(fe=$.frames[z]).src_off=X?V:K-8,fe.src_size=W+ne+8,z++,X&&(X=!1,W=0,V=0);break;case"VP8X":(fe=$.header={}).feature_flags=P[K];var H=K+4;fe.canvas_width=1+m(P,H),H+=3,fe.canvas_height=1+m(P,H),H+=3;break;case"ALPH":X=!0,W=te+8,V=K-8;break;case"ANIM":(fe=$.header).bgcolor=y(P,K),H=K+4,fe.loop_count=h(P,H),H+=2;break;case"ANMF":var le,fe;(fe=$.frames[z]={}).offset_x=2*m(P,K),K+=3,fe.offset_y=2*m(P,K),K+=3,fe.width=1+m(P,K),K+=3,fe.height=1+m(P,K),K+=3,fe.duration=m(P,K),K+=3,le=P[K++],fe.dispose=1&le,fe.blend=le>>1&1}Q!="ANMF"&&(K+=te)}return $}}(A,0);E.response=A,E.rgbaoutput=!0,E.dataurl=!1;var O=E.header?E.header:null,I=E.frames?E.frames:null;if(O){O.loop_counter=O.loop_count,g=[O.canvas_height],S=[O.canvas_width];for(var k=0;k<I.length&&I[k].blend!=0;k++);}var F=I[0],B=w.WebPDecodeRGBA(A,F.src_off,F.src_size,S,g);F.rgba=B,F.imgwidth=S[0],F.imgheight=g[0];for(var D=0;D<S[0]*g[0]*4;D++)_[D]=B[D];return this.width=S,this.height=g,this.data=_,this}(function(e){var t,r,n,i,a,s,o,c,u,h=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new c,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new s,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new s,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var m=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=q;Object.defineProperty(this,"pdf",{get:function(){return Z}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(je){ae=!!je}});var ge=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ge},set:function(je){ge=!!je}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(je){isNaN(je)||(he=je)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(je){isNaN(je)||(Se=je)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(je){var de;typeof je=="number"?de=[je,je,je,je]:((de=new Array(4))[0]=je[0],de[1]=je.length>=2?je[1]:de[0],de[2]=je.length>=3?je[2]:de[0],de[3]=je.length>=4?je[3]:de[1]),u.margin=de}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(je){Ae=je}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(je){ye=je}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(je){Ne=je}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(je){je instanceof h&&(u=je)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(je){u.path=je}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(je){Ee=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var de;de=y(je),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var de=y(je);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var Ce=null,Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(je){Ce=null,Re=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var de;if(this.ctx.font=je,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var it=de[1];de[2];var ft=de[3],Ye=de[4];de[5];var Be=de[6],_t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(_t==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:_t==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var qe=function(sr){var kt,Ur,Zt=[],He=sr.trim();if(He==="")return KA;if(He in ML)return[ML[He]];for(;He!=="";){switch(Ur=null,kt=(He=DL(He)).charAt(0)){case'"':case"'":Ur=n7e(He.substring(1),kt);break;default:Ur=i7e(He)}if(Ur===null||(Zt.push(Ur[0]),(He=DL(Ur[1]))!==""&&He.charAt(0)!==","))return KA;He=He.replace(/^,/,"")}return Zt}(Be);if(this.fontFaces){var It=function(sr,kt){if(Ce===null){var Ur=function(Zt){var He=[];return Object.keys(Zt).forEach(function($t){Zt[$t].forEach(function(Qt){var Nt=null;switch(Qt){case"bold":Nt={family:$t,weight:"bold"};break;case"italic":Nt={family:$t,style:"italic"};break;case"bolditalic":Nt={family:$t,weight:"bold",style:"italic"};break;case"":case"normal":Nt={family:$t}}Nt!==null&&(Nt.ref={name:$t,style:Qt},He.push(Nt))})}),He}(sr.getFontList());Ce=function(Zt){for(var He={},$t=0;$t<Zt.length;++$t){var Qt=GA(Zt[$t]),Nt=Qt.family,Lr=Qt.stretch,_r=Qt.style,qn=Qt.weight;He[Nt]=He[Nt]||{},He[Nt][Lr]=He[Nt][Lr]||{},He[Nt][Lr][_r]=He[Nt][Lr][_r]||{},He[Nt][Lr][_r][qn]=Qt}return He}(Ur.concat(kt))}return Ce}(this.pdf,this.fontFaces),Ct=qe.map(function(sr){return{family:sr,stretch:"normal",weight:ft,style:it}}),Vt=function(sr,kt,Ur){for(var Zt=(Ur=Ur||{}).defaultFontFamily||"times",He=Object.assign({},r7e,Ur.genericFontFamilies||{}),$t=null,Qt=null,Nt=0;Nt<kt.length;++Nt)if(He[($t=GA(kt[Nt])).family]&&($t.family=He[$t.family]),sr.hasOwnProperty($t.family)){Qt=sr[$t.family];break}if(!(Qt=Qt||sr[Zt]))throw new Error("Could not find a font-family for the rule '"+RL($t)+"' and default family '"+Zt+"'.");if(Qt=function(Lr,_r){if(_r[Lr])return _r[Lr];var qn=z4[Lr],pr=qn<=z4.normal?-1:1,Gr=PL(_r,QK,qn,pr);if(!Gr)throw new Error("Could not find a matching font-stretch value for "+Lr);return Gr}($t.stretch,Qt),Qt=function(Lr,_r){if(_r[Lr])return _r[Lr];for(var qn=ZK[Lr],pr=0;pr<qn.length;++pr)if(_r[qn[pr]])return _r[qn[pr]];throw new Error("Could not find a matching font-style for "+Lr)}($t.style,Qt),!(Qt=function(Lr,_r){if(_r[Lr])return _r[Lr];if(Lr===400&&_r[500])return _r[500];if(Lr===500&&_r[400])return _r[400];var qn=t7e[Lr],pr=PL(_r,JK,qn,Lr<400?-1:1);if(!pr)throw new Error("Could not find a matching font-weight for value "+Lr);return pr}($t.weight,Qt)))throw new Error("Failed to resolve a font for the rule '"+RL($t)+"'.");return Qt}(It,Ct);this.pdf.setFont(Vt.ref.name,Vt.ref.style)}else{var Gt="";(ft==="bold"||parseInt(ft,10)>=700||it==="bold")&&(Gt="bold"),it==="italic"&&(Gt+="italic"),Gt.length===0&&(Gt="normal");for(var vt="",hr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Kt=0;Kt<qe.length;Kt++){if(this.pdf.internal.getFont(qe[Kt],Gt,{noFallback:!0,disableWarning:!0})!==void 0){vt=qe[Kt];break}if(Gt==="bolditalic"&&this.pdf.internal.getFont(qe[Kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vt=qe[Kt],Gt="bold";else if(this.pdf.internal.getFont(qe[Kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vt=qe[Kt],Gt="normal";break}}if(vt===""){for(var Et=0;Et<qe.length;Et++)if(hr[qe[Et]]){vt=hr[qe[Et]];break}}vt=vt===""?"Times":vt,this.pdf.setFont(vt,Gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};m.prototype.setLineDash=function(q){this.lineDash=q},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){I.call(this,"fill",!1)},m.prototype.stroke=function(){I.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(q,Z){if(isNaN(q)||isNaN(Z))throw Gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new s(q,Z));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(q,Z)},m.prototype.closePath=function(){var q=new s(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&Dn(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){q=new s(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(q.x,q.y)},m.prototype.lineTo=function(q,Z){if(isNaN(q)||isNaN(Z))throw Gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new s(q,Z));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},m.prototype.quadraticCurveTo=function(q,Z,ae,ge){if(isNaN(ae)||isNaN(ge)||isNaN(q)||isNaN(Z))throw Gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new s(ae,ge)),Se=this.ctx.transform.applyToPoint(new s(q,Z));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},m.prototype.bezierCurveTo=function(q,Z,ae,ge,he,Se){if(isNaN(he)||isNaN(Se)||isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ge))throw Gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new s(he,Se)),ye=this.ctx.transform.applyToPoint(new s(q,Z)),Ne=this.ctx.transform.applyToPoint(new s(ae,ge));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Ne.x,y2:Ne.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new s(Ae.x,Ae.y)},m.prototype.arc=function(q,Z,ae,ge,he,Se){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ge)||isNaN(he))throw Gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new s(q,Z));q=Ae.x,Z=Ae.y;var ye=this.ctx.transform.applyToPoint(new s(0,ae)),Ne=this.ctx.transform.applyToPoint(new s(0,0));ae=Math.sqrt(Math.pow(ye.x-Ne.x,2)+Math.pow(ye.y-Ne.y,2))}Math.abs(he-ge)>=2*Math.PI&&(ge=0,he=2*Math.PI),this.path.push({type:"arc",x:q,y:Z,radius:ae,startAngle:ge,endAngle:he,counterclockwise:Se})},m.prototype.arcTo=function(q,Z,ae,ge,he){throw new Error("arcTo not implemented.")},m.prototype.rect=function(q,Z,ae,ge){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ge))throw Gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,Z),this.lineTo(q+ae,Z),this.lineTo(q+ae,Z+ge),this.lineTo(q,Z+ge),this.lineTo(q,Z),this.lineTo(q+ae,Z),this.lineTo(q,Z)},m.prototype.fillRect=function(q,Z,ae,ge){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ge))throw Gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,Z,ae,ge),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},m.prototype.strokeRect=function(q,Z,ae,ge){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ge))throw Gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(q,Z,ae,ge),this.stroke())},m.prototype.clearRect=function(q,Z,ae,ge){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ge))throw Gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,Z,ae,ge))},m.prototype.save=function(q){q=typeof q!="boolean"||q;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ge=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ge}},m.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(q){var Z,ae,ge,he;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))Z=0,ae=0,ge=0,he=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(Se!==null)Z=parseInt(Se[1]),ae=parseInt(Se[2]),ge=parseInt(Se[3]),he=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)Z=parseInt(Se[1]),ae=parseInt(Se[2]),ge=parseInt(Se[3]),he=parseFloat(Se[4]);else{if(he=1,typeof q=="string"&&q.charAt(0)!=="#"){var Ae=new WK(q);q=Ae.ok?Ae.toHex():"#000000"}q.length===4?(Z=q.substring(1,2),Z+=Z,ae=q.substring(2,3),ae+=ae,ge=q.substring(3,4),ge+=ge):(Z=q.substring(1,3),ae=q.substring(3,5),ge=q.substring(5,7)),Z=parseInt(Z,16),ae=parseInt(ae,16),ge=parseInt(ge,16)}}return{r:Z,g:ae,b:ge,a:he,style:q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(q,Z,ae,ge){if(isNaN(Z)||isNaN(ae)||typeof q!="string")throw Gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ge=isNaN(ge)?void 0:ge,!g.call(this)){var he=te(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;z.call(this,{text:q,x:Z,y:ae,scale:Se,angle:he,align:this.textAlign,maxWidth:ge})}},m.prototype.strokeText=function(q,Z,ae,ge){if(isNaN(Z)||isNaN(ae)||typeof q!="string")throw Gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ge=isNaN(ge)?void 0:ge;var he=te(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;z.call(this,{text:q,x:Z,y:ae,scale:Se,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ge})}},m.prototype.measureText=function(q){if(typeof q!="string")throw Gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,ae=this.pdf.internal.scaleFactor,ge=Z.internal.getFontSize(),he=Z.getStringUnitWidth(q)*ge/Z.internal.scaleFactor;return new function(Se){var Ae=(Se=Se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this}({width:he*=Math.round(96*ae/72*1e4)/1e4})},m.prototype.scale=function(q,Z){if(isNaN(q)||isNaN(Z))throw Gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new c(q,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.rotate=function(q){if(isNaN(q))throw Gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new c(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.translate=function(q,Z){if(isNaN(q)||isNaN(Z))throw Gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new c(1,0,0,1,q,Z);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.transform=function(q,Z,ae,ge,he,Se){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ge)||isNaN(he)||isNaN(Se))throw Gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new c(q,Z,ae,ge,he,Se);this.ctx.transform=this.ctx.transform.multiply(Ae)},m.prototype.setTransform=function(q,Z,ae,ge,he,Se){q=isNaN(q)?1:q,Z=isNaN(Z)?0:Z,ae=isNaN(ae)?0:ae,ge=isNaN(ge)?1:ge,he=isNaN(he)?0:he,Se=isNaN(Se)?0:Se,this.ctx.transform=new c(q,Z,ae,ge,he,Se)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(q,Z,ae,ge,he,Se,Ae,ye,Ne){var Ee=this.pdf.getImageProperties(q),Ce=1,Re=1,je=1,de=1;ge!==void 0&&ye!==void 0&&(je=ye/ge,de=Ne/he,Ce=Ee.width/ge*ye/ge,Re=Ee.height/he*Ne/he),Se===void 0&&(Se=Z,Ae=ae,Z=0,ae=0),ge!==void 0&&ye===void 0&&(ye=ge,Ne=he),ge===void 0&&ye===void 0&&(ye=Ee.width,Ne=Ee.height);for(var it,ft=this.ctx.transform.decompose(),Ye=te(ft.rotate.shx),Be=new c,_t=(Be=(Be=(Be=Be.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new o(Se-Z*je,Ae-ae*de,ge*Ce,he*Re)),qe=w.call(this,_t),It=[],Ct=0;Ct<qe.length;Ct+=1)It.indexOf(qe[Ct])===-1&&It.push(qe[Ct]);if(O(It),this.autoPaging)for(var Vt=It[0],Gt=It[It.length-1],vt=Vt;vt<Gt+1;vt++){this.pdf.setPage(vt);var hr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=vt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=vt===1?0:Et+(vt-2)*sr;if(this.ctx.clip_path.length!==0){var Ur=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(it,this.posX+this.margin[3],-kt+Kt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=Ur}var Zt=JSON.parse(JSON.stringify(_t));Zt=E([Zt],this.posX+this.margin[3],-kt+Kt+this.ctx.prevPageLastElemOffset)[0];var He=(vt>Vt||vt<Gt)&&_.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],hr,sr,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,Ye),He&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Ye)};var w=function(q,Z,ae){var ge=[];Z=Z||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":ge.push(Math.floor((q.y+he)/ae)+1);break;case"arc":ge.push(Math.floor((q.y+he-q.radius)/ae)+1),ge.push(Math.floor((q.y+he+q.radius)/ae)+1);break;case"qct":var Se=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);ge.push(Math.floor((Se.y+he)/ae)+1),ge.push(Math.floor((Se.y+Se.h+he)/ae)+1);break;case"bct":var Ae=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);ge.push(Math.floor((Ae.y+he)/ae)+1),ge.push(Math.floor((Ae.y+Ae.h+he)/ae)+1);break;case"rect":ge.push(Math.floor((q.y+he)/ae)+1),ge.push(Math.floor((q.y+q.h+he)/ae)+1)}for(var ye=0;ye<ge.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ge[ye];)A.call(this);return ge},A=function(){var q=this.fillStyle,Z=this.strokeStyle,ae=this.font,ge=this.lineCap,he=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=Z,this.font=ae,this.lineCap=ge,this.lineWidth=he,this.lineJoin=Se},E=function(q,Z,ae){for(var ge=0;ge<q.length;ge++)switch(q[ge].type){case"bct":q[ge].x2+=Z,q[ge].y2+=ae;case"qct":q[ge].x1+=Z,q[ge].y1+=ae;default:q[ge].x+=Z,q[ge].y+=ae}return q},O=function(q){return q.sort(function(Z,ae){return Z-ae})},I=function(q,Z){for(var ae,ge,he=this.fillStyle,Se=this.strokeStyle,Ae=this.lineCap,ye=this.lineWidth,Ne=Math.abs(ye*this.ctx.transform.scaleX),Ee=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),je=[],de=0;de<Re.length;de++)if(Re[de].x!==void 0)for(var it=w.call(this,Re[de]),ft=0;ft<it.length;ft+=1)je.indexOf(it[ft])===-1&&je.push(it[ft]);for(var Ye=0;Ye<je.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<je[Ye];)A.call(this);if(O(je),this.autoPaging)for(var Be=je[0],_t=je[je.length-1],qe=Be;qe<_t+1;qe++){this.pdf.setPage(qe),this.fillStyle=he,this.strokeStyle=Se,this.lineCap=Ae,this.lineWidth=Ne,this.lineJoin=Ee;var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=qe===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=qe===1?0:Vt+(qe-2)*Gt;if(this.ctx.clip_path.length!==0){var hr=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ae,this.posX+this.margin[3],-vt+Ct+this.ctx.prevPageLastElemOffset),k.call(this,q,!0),this.path=hr}if(ge=JSON.parse(JSON.stringify(Ce)),this.path=E(ge,this.posX+this.margin[3],-vt+Ct+this.ctx.prevPageLastElemOffset),Z===!1||qe===0){var Kt=(qe>Be||qe<_t)&&_.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,Gt,null).clip().discardPath()),k.call(this,q,Z),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Ne,k.call(this,q,Z),this.lineWidth=ye;this.path=Ce},k=function(q,Z){if((q!=="stroke"||Z||!S.call(this))&&(q==="stroke"||Z||!g.call(this))){for(var ae,ge,he=[],Se=this.path,Ae=0;Ae<Se.length;Ae++){var ye=Se[Ae];switch(ye.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:ye,deltas:[],abs:[]});break;case"lt":var Ne=he.length;if(Se[Ae-1]&&!isNaN(Se[Ae-1].x)&&(ae=[ye.x-Se[Ae-1].x,ye.y-Se[Ae-1].y],Ne>0)){for(;Ne>=0;Ne--)if(he[Ne-1].close!==!0&&he[Ne-1].begin!==!0){he[Ne-1].deltas.push(ae),he[Ne-1].abs.push(ye);break}}break;case"bct":ae=[ye.x1-Se[Ae-1].x,ye.y1-Se[Ae-1].y,ye.x2-Se[Ae-1].x,ye.y2-Se[Ae-1].y,ye.x-Se[Ae-1].x,ye.y-Se[Ae-1].y],he[he.length-1].deltas.push(ae);break;case"qct":var Ee=Se[Ae-1].x+2/3*(ye.x1-Se[Ae-1].x),Ce=Se[Ae-1].y+2/3*(ye.y1-Se[Ae-1].y),Re=ye.x+2/3*(ye.x1-ye.x),je=ye.y+2/3*(ye.y1-ye.y),de=ye.x,it=ye.y;ae=[Ee-Se[Ae-1].x,Ce-Se[Ae-1].y,Re-Se[Ae-1].x,je-Se[Ae-1].y,de-Se[Ae-1].x,it-Se[Ae-1].y],he[he.length-1].deltas.push(ae);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(ye)}}ge=Z?null:q==="stroke"?"stroke":"fill";for(var ft=!1,Ye=0;Ye<he.length;Ye++)if(he[Ye].arc)for(var Be=he[Ye].abs,_t=0;_t<Be.length;_t++){var qe=Be[_t];qe.type==="arc"?D.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,Z,!ft):X.call(this,qe.x,qe.y),ft=!0}else if(he[Ye].close===!0)this.pdf.internal.out("h"),ft=!1;else if(he[Ye].begin!==!0){var It=he[Ye].start.x,Ct=he[Ye].start.y;W.call(this,he[Ye].deltas,It,Ct),ft=!0}ge&&P.call(this,ge),Z&&K.call(this)}},F=function(q){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-ae;case"top":return q+Z-ae;case"hanging":return q+Z-2*ae;case"middle":return q+Z/2-ae;default:return q}},B=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(Z,ae){this.colorStops.push([Z,ae])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(q,Z,ae,ge,he,Se,Ae,ye,Ne){for(var Ee=Q.call(this,ae,ge,he,Se),Ce=0;Ce<Ee.length;Ce++){var Re=Ee[Ce];Ce===0&&(Ne?$.call(this,Re.x1+q,Re.y1+Z):X.call(this,Re.x1+q,Re.y1+Z)),V.call(this,q,Z,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}ye?K.call(this):P.call(this,Ae)},P=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},$=function(q,Z){this.pdf.internal.out(r(q)+" "+n(Z)+" m")},z=function(q){var Z;switch(q.align){case"right":case"end":Z="right";break;case"center":Z="center";break;default:Z="left"}var ae=this.pdf.getTextDimensions(q.text),ge=F.call(this,q.y),he=B.call(this,ge)-ae.h,Se=this.ctx.transform.applyToPoint(new s(q.x,ge)),Ae=this.ctx.transform.decompose(),ye=new c;ye=(ye=(ye=ye.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Ne,Ee,Ce,Re=this.ctx.transform.applyToRectangle(new o(q.x,ge,ae.w,ae.h)),je=ye.applyToRectangle(new o(q.x,he,ae.w,ae.h)),de=w.call(this,je),it=[],ft=0;ft<de.length;ft+=1)it.indexOf(de[ft])===-1&&it.push(de[ft]);if(O(it),this.autoPaging)for(var Ye=it[0],Be=it[it.length-1],_t=Ye;_t<Be+1;_t++){this.pdf.setPage(_t);var qe=_t===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[2],Vt=Ct-this.margin[0],Gt=this.pdf.internal.pageSize.width-this.margin[1],vt=Gt-this.margin[3],hr=_t===1?0:It+(_t-2)*Vt;if(this.ctx.clip_path.length!==0){var Kt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ne,this.posX+this.margin[3],-1*hr+qe),k.call(this,"fill",!0),this.path=Kt}var Et=E([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-hr+qe+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*q.scale),Ce=this.lineWidth,this.lineWidth=Ce*q.scale);var sr=this.autoPaging!=="text";if(sr||Et.y+Et.h<=Ct){if(sr||Et.y>=qe&&Et.x<=Gt){var kt=sr?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Gt-Et.x)[0],Ur=E([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-hr+qe+this.ctx.prevPageLastElemOffset)[0],Zt=sr&&(_t>Ye||_t<Be)&&_.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Vt,null).clip().discardPath()),this.pdf.text(kt,Ur.x,Ur.y,{angle:q.angle,align:Z,renderingMode:q.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else Et.y<Ct&&(this.ctx.prevPageLastElemOffset+=Ct-Et.y);q.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Ce)}else q.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*q.scale),Ce=this.lineWidth,this.lineWidth=Ce*q.scale),this.pdf.text(q.text,Se.x+this.posX,Se.y+this.posY,{angle:q.angle,align:Z,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Ce)},X=function(q,Z,ae,ge){ae=ae||0,ge=ge||0,this.pdf.internal.out(r(q+ae)+" "+n(Z+ge)+" l")},W=function(q,Z,ae){return this.pdf.lines(q,Z,ae,null,null)},V=function(q,Z,ae,ge,he,Se,Ae,ye){this.pdf.internal.out([t(i(ae+q)),t(a(ge+Z)),t(i(he+q)),t(a(Se+Z)),t(i(Ae+q)),t(a(ye+Z)),"c"].join(" "))},Q=function(q,Z,ae,ge){for(var he=2*Math.PI,Se=Math.PI/2;Z>ae;)Z-=he;var Ae=Math.abs(ae-Z);Ae<he&&ge&&(Ae=he-Ae);for(var ye=[],Ne=ge?-1:1,Ee=Z;Ae>1e-5;){var Ce=Ee+Ne*Math.min(Ae,Se);ye.push(ne.call(this,q,Ee,Ce)),Ae-=Math.abs(Ce-Ee),Ee=Ce}return ye},ne=function(q,Z,ae){var ge=(ae-Z)/2,he=q*Math.cos(ge),Se=q*Math.sin(ge),Ae=he,ye=-Se,Ne=Ae*Ae+ye*ye,Ee=Ne+Ae*he+ye*Se,Ce=4/3*(Math.sqrt(2*Ne*Ee)-Ee)/(Ae*Se-ye*he),Re=Ae-Ce*ye,je=ye+Ce*Ae,de=Re,it=-je,ft=ge+Z,Ye=Math.cos(ft),Be=Math.sin(ft);return{x1:q*Math.cos(Z),y1:q*Math.sin(Z),x2:Re*Ye-je*Be,y2:Re*Be+je*Ye,x3:de*Ye-it*Be,y3:de*Be+it*Ye,x4:q*Math.cos(ae),y4:q*Math.sin(ae)}},te=function(q){return 180*q/Math.PI},H=function(q,Z,ae,ge,he,Se){var Ae=q+.5*(ae-q),ye=Z+.5*(ge-Z),Ne=he+.5*(ae-he),Ee=Se+.5*(ge-Se),Ce=Math.min(q,he,Ae,Ne),Re=Math.max(q,he,Ae,Ne),je=Math.min(Z,Se,ye,Ee),de=Math.max(Z,Se,ye,Ee);return new o(Ce,je,Re-Ce,de-je)},le=function(q,Z,ae,ge,he,Se,Ae,ye){var Ne,Ee,Ce,Re,je,de,it,ft,Ye,Be,_t,qe,It,Ct,Vt=ae-q,Gt=ge-Z,vt=he-ae,hr=Se-ge,Kt=Ae-he,Et=ye-Se;for(Ee=0;Ee<41;Ee++)Ye=(it=(Ce=q+(Ne=Ee/40)*Vt)+Ne*((je=ae+Ne*vt)-Ce))+Ne*(je+Ne*(he+Ne*Kt-je)-it),Be=(ft=(Re=Z+Ne*Gt)+Ne*((de=ge+Ne*hr)-Re))+Ne*(de+Ne*(Se+Ne*Et-de)-ft),Ee==0?(_t=Ye,qe=Be,It=Ye,Ct=Be):(_t=Math.min(_t,Ye),qe=Math.min(qe,Be),It=Math.max(It,Ye),Ct=Math.max(Ct,Be));return new o(Math.round(_t),Math.round(qe),Math.round(It-_t),Math.round(Ct-qe))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,Z,ae=(q=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:Z}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(ar.API),function(e){var t=function(s){var o,c,u,h,m,y,g,S,_,w;for(c=[],u=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)(m=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(y=(m=((m=((m=((m=(m-(w=m%85))/85)-(_=m%85))/85)-(S=m%85))/85)-(g=m%85))/85)%85,c.push(y+33,g+33,S+33,_+33,w+33)):c.push(122);return function(A,E){for(var O=E;O>0;O--)A.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var o,c,u,h,m,y=String,g="length",S=255,_="charCodeAt",w="slice",A="replace";for(s[w](-2),s=s[w](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],h=0,m=(s+=o="uuuuu"[w](s[g]%5||5))[g];m>h;h+=5)c=52200625*(s[_](h)-33)+614125*(s[_](h+1)-33)+7225*(s[_](h+2)-33)+85*(s[_](h+3)-33)+(s[_](h+4)-33),u.push(S&c>>24,S&c>>16,S&c>>8,S&c);return function(E,O){for(var I=O;I>0;I--)E.pop()}(u,o[g]),y.fromCharCode.apply(y,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},a=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return(o=T4(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,o){var c=0,u=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(ar.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,h){var m=new XMLHttpRequest,y=0,g=function(S){var _=S.length,w=[],A=String.fromCharCode;for(y=0;y<_;y+=1)w.push(A(255&S.charCodeAt(y)));return w.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?h(g(this.responseText)):h(void 0)}),m.send(null),u&&m.status===200)return g(m.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(ar.API),function(e){function t(){return(Tr.html2canvas?Promise.resolve(Tr.html2canvas):Bu(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Tr.DOMPurify?Promise.resolve(Tr.DOMPurify):Bu(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=Dn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},a=function o(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(o(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var S=h[g],_=S.src.find(function(w){return w.format==="truetype"});_&&u.addFont(_.url,S.ref.name,S.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,h){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,h){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(h,m){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,h),y}).then(h,m).then(function(y){return u.updateProgress(1),y})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),c&&(c=c.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),y=u.call(m,o,c);return s.convert(y,h.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ar.getPageSize=function(o,c,u){if(Dn(o)==="object"){var h=o;o=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var m,y=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var S,_=0,w=0;if(g.hasOwnProperty(y))_=g[y][1]/m,w=g[y][0]/m;else try{_=u[1],w=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",w>_&&(S=w,w=_,_=S);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>w&&(S=w,w=_,_=S)}return{width:w,height:_,unit:c,k:m,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(GA):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(ar.API),ar.API.addJS=function(e){return FL=e,this.internal.events.subscribe("postPutResources",function(){c2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(c2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),LL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+FL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){c2!==void 0&&LL!==void 0&&this.internal.out("/Names <</JavaScript "+c2+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(a=0;a<u;a++){var m=r.internal.newObject();h.push(m);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<h.length;a++)r.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(ar.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var c,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),S=m.length,_={width:0,height:0,numcomponents:1},w=4;w<S;w+=2){if(w+=g,t.indexOf(m.charCodeAt(w+1))!==-1){y=256*m.charCodeAt(w+5)+m.charCodeAt(w+6),_={width:256*m.charCodeAt(w+7)+m.charCodeAt(w+8),height:y,numcomponents:m.charCodeAt(w+9)};break}g=256*m.charCodeAt(w+2)+m.charCodeAt(w+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(ar.API),ar.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=ULe(e,{checkCrc:!0}),s=a.width,o=a.height,c=a.channels,u=a.palette,h=a.depth;i=u&&c===1?function(D){for(var P=D.width,K=D.height,$=D.data,z=D.palette,X=D.depth,W=!1,V=[],Q=[],ne=void 0,te=!1,H=0,le=0;le<z.length;le++){var fe=kD(z[le],4),q=fe[0],Z=fe[1],ae=fe[2],ge=fe[3];V.push(q,Z,ae),ge!=null&&(ge===0?(H++,Q.length<1&&Q.push(le)):ge<255&&(te=!0))}if(te||H>1){W=!0,Q=void 0;var he=P*K;ne=new Uint8Array(he);for(var Se=new DataView($.buffer),Ae=0;Ae<he;Ae++){var ye=YA(Se,Ae,X),Ne=kD(z[ye],4)[3];ne[Ae]=Ne}}else H===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:$,alphaBytes:ne,needSMask:W,palette:V,mask:Q}}(a):c===2||c===4?function(D){for(var P=D.data,K=D.width,$=D.height,z=D.channels,X=D.depth,W=z===2?"DeviceGray":"DeviceRGB",V=z-1,Q=K*$,ne=V,te=Q*ne,H=1*Q,le=Math.ceil(te*X/8),fe=Math.ceil(H*X/8),q=new Uint8Array(le),Z=new Uint8Array(fe),ae=new DataView(P.buffer),ge=new DataView(q.buffer),he=new DataView(Z.buffer),Se=!1,Ae=0;Ae<Q;Ae++){for(var ye=Ae*z,Ne=0;Ne<ne;Ne++)GL(ge,YA(ae,ye+Ne,X),Ae*ne+Ne,X);var Ee=YA(ae,ye+ne,X);Ee<(1<<X)-1&&(Se=!0),GL(he,Ee,1*Ae,X)}return{colorSpace:W,colorsPerPixel:V,sMaskBitsPerComponent:Se?X:void 0,colorBytes:q,alphaBytes:Z,needSMask:Se}}(a):function(D){var P=D.data,K=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function($){for(var z=$.length,X=new Uint8Array(2*z),W=new DataView(X.buffer,X.byteOffset,X.byteLength),V=0;V<z;V++)W.setUint16(2*V,$[V],!1);return X}(P):P,needSMask:!1}}(a);var m,y,g,S=i,_=S.colorSpace,w=S.colorsPerPixel,A=S.sMaskBitsPerComponent,E=S.colorBytes,O=S.alphaBytes,I=S.needSMask,k=S.palette,F=S.mask,B=null;return n!==ar.API.image_compression.NONE&&typeof T4=="function"?(B=function(D){var P;switch(D){case ar.API.image_compression.FAST:P=11;break;case ar.API.image_compression.MEDIUM:P=13;break;case ar.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(B," /Colors ").concat(w," /BitsPerComponent ").concat(h," /Columns ").concat(s),e=zL(E,Math.ceil(s*w*h/8),w,h,n),I&&(g=zL(O,Math.ceil(s*A/8),1,A,n))):(m=void 0,y=void 0,e=E,I&&(g=O)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:m,decodeParameters:y,transparency:F,palette:k,sMask:g,predictor:B,width:s,height:o,bitsPerComponent:h,sMaskBitsPerComponent:A,colorSpace:_}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new l7e(t),s=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},h=new XA(100).encode(u,100);return e.processJPEG.call(this,h,r,n,i)},e.processGIF87A=e.processGIF89A}(ar.API),Ll.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ll.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Gn.log("bit decode error:"+r)}},Ll.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ll.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,c=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ll.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ll.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,h=n*this.width*4+4*i;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=s,this.data[h+3]=u}this.pos+=e}},Ll.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,h=i*this.width*4+4*a;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},Ll.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ll.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Ll.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Ll(t,!1),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new XA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(ar.API),YL.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new YL(t),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new XA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(ar.API),ar.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var h=n[u],m=n[u+1],y=n[u+2],g=n[u+3];a[o++]=h,a[o++]=m,a[o++]=y,s[c++]=g}var S=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:S,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ar.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gp=ar.API,u2=Gp.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,m=t.doKerning!==!1,y=0,g=e.length,S=0,_=o[0]||c,w=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(y=m&&Dn(u[n])==="object"&&!isNaN(parseInt(u[n][S],10))?u[n][S]/h:0,w.push((o[n]||_)/c+y)),S=n;return w},BL=Gp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Gp.processArabic&&(e=Gp.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:u2.apply(this,arguments).reduce(function(a,s){return a+s},0)},$L=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var c=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(c,a)),o=0,c=a),o+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},UL=function(e,t,r){r||(r={});var n,i,a,s,o,c,u,h=[],m=[h],y=r.textIndent||0,g=0,S=0,_=e.split(" "),w=u2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var A=Array(c).join(" "),E=[];_.map(function(I){(I=I.split(/\s*\n/)).length>1?E=E.concat(I.map(function(k,F){return(F&&k.length?`
`:"")+k})):E.push(I[0])}),_=E,c=BL.apply(this,[A,r])}for(a=0,s=_.length;a<s;a++){var O=0;if(n=_[a],c&&n[0]==`
`&&(n=n.substr(1),O=1),y+g+(S=(i=u2.apply(this,[n,r])).reduce(function(I,k){return I+k},0))>t||O){if(S>t){for(o=$L.apply(this,[n,i,t-(y+g),t]),h.push(o.shift()),h=[o.pop()];o.length;)m.push([o.shift()]);S=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(I,k){return I+k},0)}else h=[n];m.push(h),y=S+c,g=w}else h.push(n),y+=g+S,g=w}return u=c?function(I,k){return(k?A:"")+I.join(" ")}:function(I){return I.join(" ")},m.map(u)},Gp.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(UL.apply(this,[n[o],s,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=e.__fontmetrics__.compress=function(y){var g,S,_,w,A=["{"];for(var E in y){if(g=y[E],isNaN(parseInt(E,10))?S="'"+E+"'":(E=parseInt(E,10),S=(S=s(E).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof g=="number")g<0?(_=s(g).slice(3),w="-"):(_=s(g).slice(2),w=""),_=w+_.slice(0,-1)+i[_.slice(-1)];else{if(Dn(g)!=="object")throw new Error("Don't know what to do with value type "+Dn(g)+".");_=o(g)}A.push(S+_)}return A.push("}"),A.join("")},c=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,S,_,w,A={},E=1,O=A,I=[],k="",F="",B=y.length-1,D=1;D<B;D+=1)(w=y[D])=="'"?g?(_=g.join(""),g=void 0):g=[]:g?g.push(w):w=="{"?(I.push([O,_]),O={},_=void 0):w=="}"?((S=I.pop())[0][S[1]]=O,_=void 0,O=S[0]):w=="-"?E=-1:_===void 0?n.hasOwnProperty(w)?(k+=n[w],_=parseInt(k,16)*E,E=1,k=""):k+=w:n.hasOwnProperty(w)?(F+=n[w],O[_]=parseInt(F,16)*E,E=1,_=void 0,F=""):F+=w;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var g=y.font,S=m.Unicode[g.postScriptName];S&&(g.metadata.Unicode={},g.metadata.Unicode.widths=S.widths,g.metadata.Unicode.kerning=S.kerning);var _=h.Unicode[g.postScriptName];_&&(g.metadata.Unicode.encoding=_,g.encoding=_.codePages[0])}])}(ar.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(M2(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(ar),ar.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw Gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Tr.canvg?Promise.resolve(Tr.canvg):Bu(()=>import("./index.es-D5NEbKkg.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},ar.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},ar.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,h=0,m=0;function y(S,_){var w,A=!1;for(w=0;w<S.length;w+=1)S[w]===_&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=o.length;for(m=0;m<g;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(Dn(e)==="object"){for(i in e)if(a=e[i],y(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&y(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(h=0;h<a[u].length;h+=1)typeof a[u][h]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,_=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?_.push("/"+S+" /"+r[S].value):_.push("/"+S+" "+r[S].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ar.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],m=0,y=a.length;m<y;++m){if(o=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(m),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(a){var s,o,c,u,h,m,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,y=(o=Object.keys(a).sort(function(g,S){return g-S})).length;m<y;m++)s=o[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,h=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",S=0;S<y.length;S++)g+=String.fromCharCode(y[S]);var _=u();h({data:g,addLength1:!0,objectId:_}),c("endobj");var w=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var A=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Qp(o.fontName)),c("/FontFile2 "+_+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var E=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Qp(o.fontName)),c("/FontDescriptor "+A+" 0 R"),c("/W "+e.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+w+" 0 R"),c("/BaseFont /"+Qp(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+E+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,h=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var S=u();h({data:y,addLength1:!0,objectId:S}),c("endobj");var _=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var w=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+S+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Qp(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var A=0;A<o.metadata.hmtx.widths.length;A++)o.metadata.hmtx.widths[A]=parseInt(o.metadata.hmtx.widths[A]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Qp(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",c=a.x,u=a.y,h=a.options||{},m=a.mutex||{},y=m.pdfEscape,g=m.activeFontKey,S=m.fonts,_=g,w="",A=0,E="",O=S[_].encoding;if(S[_].encoding!=="Identity-H")return{text:o,x:c,y:u,options:h,mutex:m};for(E=o,_=g,Array.isArray(o)&&(E=o[0]),A=0;A<E.length;A+=1)S[_].metadata.hasOwnProperty("cmap")&&(s=S[_].metadata.cmap.unicode.codeMap[E[A].charCodeAt(0)]),s||E[A].charCodeAt(0)<256&&S[_].metadata.hasOwnProperty("Unicode")?w+=E[A]:w+="";var I="";return parseInt(_.slice(1))<14||O==="WinAnsiEncoding"?I=y(w,_).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(I=r(w,S[_])),m.isHex=!0,{text:I,x:c,y:u,options:h,mutex:m}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},c,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},c,{text:s})).text}])}(ar),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ar.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,c,u,h,m=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,O=0;this.__bidiEngine__={};var I=function($){var z=$.charCodeAt(),X=z>>8,W=_[X];return W!==void 0?m[256*W+(255&z)]:X===252||X===253?"AL":A.test(X)?"L":X===8?"R":"N"},k=function($){for(var z,X=0;X<$.length;X++){if((z=I($.charAt(X)))==="L")return!1;if(z==="R")return!0}return!1},F=function($,z,X,W){var V,Q,ne,te,H=z[W];switch(H){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(H="AN");break;case"AL":E=!0,H="R";break;case"WS":case"BN":H="N";break;case"CS":W<1||W+1>=z.length||(V=X[W-1])!=="EN"&&V!=="AN"||(Q=z[W+1])!=="EN"&&Q!=="AN"?H="N":E&&(Q="AN"),H=Q===V?Q:"N";break;case"ES":H=(V=W>0?X[W-1]:"B")==="EN"&&W+1<z.length&&z[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&X[W-1]==="EN"){H="EN";break}if(E){H="N";break}for(ne=W+1,te=z.length;ne<te&&z[ne]==="ET";)ne++;H=ne<te&&z[ne]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(te=z.length,ne=W+1;ne<te&&z[ne]==="NSM";)ne++;if(ne<te){var le=$[W],fe=le>=1425&&le<=2303||le===64286;if(V=z[ne],fe&&(V==="R"||V==="AL")){H="R";break}}}H=W<1||(V=z[W-1])==="B"?"N":X[W-1];break;case"B":E=!1,i=!0,H=O;break;case"S":a=!0,H="N"}return H},B=function($,z,X){var W=$.split("");return X&&D(W,X,{hiLevel:O}),W.reverse(),z&&z.reverse(),W.join("")},D=function($,z,X){var W,V,Q,ne,te,H=-1,le=$.length,fe=0,q=[],Z=O?g:y,ae=[];for(E=!1,i=!1,a=!1,V=0;V<le;V++)ae[V]=I($[V]);for(Q=0;Q<le;Q++){if(te=fe,q[Q]=F($,ae,q,Q),W=240&(fe=Z[te][S[q[Q]]]),fe&=15,z[Q]=ne=Z[fe][5],W>0)if(W===16){for(V=H;V<Q;V++)z[V]=1;H=-1}else H=-1;if(Z[fe][6])H===-1&&(H=Q);else if(H>-1){for(V=H;V<Q;V++)z[V]=ne;H=-1}ae[Q]==="B"&&(z[Q]=0),X.hiLevel|=ne}a&&function(ge,he,Se){for(var Ae=0;Ae<Se;Ae++)if(ge[Ae]==="S"){he[Ae]=O;for(var ye=Ae-1;ye>=0&&ge[ye]==="WS";ye--)he[ye]=O}}(ae,z,le)},P=function($,z,X,W,V){if(!(V.hiLevel<$)){if($===1&&O===1&&!i)return z.reverse(),void(X&&X.reverse());for(var Q,ne,te,H,le=z.length,fe=0;fe<le;){if(W[fe]>=$){for(te=fe+1;te<le&&W[te]>=$;)te++;for(H=fe,ne=te-1;H<ne;H++,ne--)Q=z[H],z[H]=z[ne],z[ne]=Q,X&&(Q=X[H],X[H]=X[ne],X[ne]=Q);fe=te}fe++}}},K=function($,z,X){var W=$.split(""),V={hiLevel:O};return X||(X=[]),D(W,X,V),function(Q,ne,te){if(te.hiLevel!==0&&h)for(var H,le=0;le<Q.length;le++)ne[le]===1&&(H=w.indexOf(Q[le]))>=0&&(Q[le]=w[H+1])}(W,X,V),P(2,W,z,X,V),P(1,W,z,X,V),W.join("")};return this.__bidiEngine__.doBidiReorder=function($,z,X){if(function(V,Q){if(Q)for(var ne=0;ne<V.length;ne++)Q[ne]=ne;o===void 0&&(o=k(V)),u===void 0&&(u=k(V))}($,z),s||!c||u)if(s&&c&&o^u)O=o?1:0,$=B($,z,X);else if(!s&&c&&u)O=o?1:0,$=K($,z,X),$=B($,z);else if(!s||o||c||u){if(s&&!c&&o^u)$=B($,z),o?(O=0,$=K($,z,X)):(O=1,$=K($,z,X),$=B($,z));else if(s&&o&&!c&&u)O=1,$=K($,z,X),$=B($,z);else if(!s&&!c&&o^u){var W=h;o?(O=1,$=K($,z,X),O=0,h=!1,$=K($,z,X),h=W):(O=0,$=K($,z,X),$=B($,z),O=1,h=!1,$=K($,z,X),h=W,$=B($,z))}}else O=0,$=K($,z,X);else O=o?1:0,$=K($,z,X);return $},this.__bidiEngine__.setOptions=function($){$&&(s=$.isInputVisual,c=$.isOutputVisual,o=$.isInputRtl,u=$.isOutputRtl,h=$.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(ar),ar.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new kf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new S7e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new c7e(this.contents),this.head=new d7e(this),this.name=new g7e(this),this.cmap=new tY(this),this.toUnicode={},this.hhea=new f7e(this),this.maxp=new v7e(this),this.hmtx=new y7e(this),this.post=new p7e(this),this.os2=new h7e(this),this.loca=new _7e(this),this.glyf=new x7e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var lc,kf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),c7e=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,c,u,h,m,y,g,S,_;for(_ in g=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(g)/c),s=Math.floor(m/c),h=16*g-m,(i=new kf).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(s),i.writeShort(h),a=16*g,u=i.pos+a,o=null,S=[],r)for(y=r[_],i.writeString(_),i.writeInt(e(y)),i.writeInt(u),i.writeInt(y.length),S=S.concat(y),_==="head"&&(o=u),u+=y.length;u%4;)S.push(0),u++;return i.write(S),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=rY.call(r);r.length%4;)r.push(0);for(a=new kf(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),u7e={}.hasOwnProperty,Zc=function(e,t){for(var r in t)u7e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};lc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var d7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new kf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),XL=function(){function e(t,r){var n,i,a,s,o,c,u,h,m,y,g,S,_,w,A,E,O;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,a=function(){var I,k;for(k=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)k.push(t.readUInt16());return k}(),t.pos+=2,_=function(){var I,k;for(k=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)k.push(t.readUInt16());return k}(),u=function(){var I,k;for(k=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)k.push(t.readUInt16());return k}(),h=function(){var I,k;for(k=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)k.push(t.readUInt16());return k}(),i=(this.length-t.pos+this.offset)/2,o=function(){var I,k;for(k=[],c=I=0;0<=i?I<i:I>i;c=0<=i?++I:--I)k.push(t.readUInt16());return k}(),c=A=0,O=a.length;A<O;c=++A)for(w=a[c],n=E=S=_[c];S<=w?E<=w:E>=w;n=S<=w?++E:--E)h[c]===0?s=n+u[c]:(s=o[h[c]/2+(n-S)-(y-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}t.pos=m}return e.encode=function(t,r){var n,i,a,s,o,c,u,h,m,y,g,S,_,w,A,E,O,I,k,F,B,D,P,K,$,z,X,W,V,Q,ne,te,H,le,fe,q,Z,ae,ge,he,Se,Ae,ye,Ne,Ee,Ce;switch(W=new kf,s=Object.keys(t).sort(function(Re,je){return Re-je}),r){case"macroman":for(_=0,w=function(){var Re=[];for(S=0;S<256;++S)Re.push(0);return Re}(),E={0:0},a={},V=0,H=s.length;V<H;V++)E[ye=t[i=s[V]]]==null&&(E[ye]=++_),a[i]={old:t[i],new:E[t[i]]},w[i]=E[t[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(w),{charMap:a,subtable:W.data,maxGlyphID:_+1};case"unicode":for(z=[],m=[],O=0,E={},n={},A=u=null,Q=0,le=s.length;Q<le;Q++)E[k=t[i=s[Q]]]==null&&(E[k]=++O),n[i]={old:k,new:E[k]},o=E[k]-i,A!=null&&o===u||(A&&m.push(A),z.push(i),u=o),A=i;for(A&&m.push(A),m.push(65535),z.push(65535),K=2*(P=z.length),D=2*Math.pow(Math.log(P)/Math.LN2,2),y=Math.log(D/2)/Math.LN2,B=2*P-D,c=[],F=[],g=[],S=ne=0,fe=z.length;ne<fe;S=++ne){if($=z[S],h=m[S],$===65535){c.push(0),F.push(0);break}if($-(X=n[$].new)>=32768)for(c.push(0),F.push(2*(g.length+P-S)),i=te=$;$<=h?te<=h:te>=h;i=$<=h?++te:--te)g.push(n[i].new);else c.push(X-$),F.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*P+2*g.length),W.writeUInt16(0),W.writeUInt16(K),W.writeUInt16(D),W.writeUInt16(y),W.writeUInt16(B),Se=0,q=m.length;Se<q;Se++)i=m[Se],W.writeUInt16(i);for(W.writeUInt16(0),Ae=0,Z=z.length;Ae<Z;Ae++)i=z[Ae],W.writeUInt16(i);for(Ne=0,ae=c.length;Ne<ae;Ne++)o=c[Ne],W.writeUInt16(o);for(Ee=0,ge=F.length;Ee<ge;Ee++)I=F[Ee],W.writeUInt16(I);for(Ce=0,he=g.length;Ce<he;Ce++)_=g[Ce],W.writeUInt16(_);return{charMap:n,subtable:W.data,maxGlyphID:O+1}}},e}(),tY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new XL(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=XL.encode(t,r),(i=new kf).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),f7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),h7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),p7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,c;for(c=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)c.push(t.readUInt32());return c}).call(this)}},e}(),m7e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},g7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,c,u,h,m,y;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},a=h=0,m=n.length;h<m;a=++h)i=n[a],t.pos=i.offset,u=t.readString(i.length),s=new m7e(u,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),v7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),y7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,m,y;for(y=[],u=0,h=(m=this.metrics).length;u<h;u++)a=m[u],y.push(a.advance);return y}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),rY=[].slice,x7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,c,u,h,m;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new kf(r.read(i))).readShort(),u=o.readShort(),m=o.readShort(),c=o.readShort(),h=o.readShort(),this.cache[t]=s===-1?new w7e(o,u,m,c,h):new b7e(o,s,u,m,c,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,c;for(s=[],a=[],o=0,c=r.length;o<c;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),b7e=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),w7e=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new kf(rY.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),_7e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zc(e,lc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],c=this.offsets[s+1]-o;c>0&&(i+=c)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},e}(),S7e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,c;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,c,u,h,m,y,g,S,_,w,A;for(i in n=tY.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),g={0:0},A=n.charMap)g[(c=A[i]).old]=c.new;for(S in y=n.maxGlyphID,s)S in g||(g[S]=y++);return h=function(E){var O,I;for(O in I={},E)I[E[O]]=O;return I}(g),m=Object.keys(h).sort(function(E,O){return E-O}),_=function(){var E,O,I;for(I=[],E=0,O=m.length;E<O;E++)o=m[E],I.push(h[o]);return I}(),a=this.font.glyf.encode(s,_,g),u=this.font.loca.encode(a.offsets,_),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();ar.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();const nY=e=>{const t=e.items||e.sale_items||[],r=e.saleNumber||e.sale_number||"",n=e.paymentMethod||e.payment_method||"cash",i=e.installmentAmount||e.installment_amount||0;iY({saleNumber:r,items:t,subtotal:e.subtotal,discount:e.discount,tax:e.tax,cardSurcharge:e.cardSurcharge,total:e.total,paymentMethod:n,installments:e.installments,installmentAmount:i,companyName:e.companyName||"Mi Negocio",companyAddress:e.companyAddress,companyPhone:e.companyPhone,companyTaxId:e.companyTaxId,footer:e.footer})},iY=e=>{var a;const t=new ar({unit:"mm",format:[80,200]});let r=10;const n=5,i=80;t.setFontSize(14),t.setFont("helvetica","bold"),t.text(e.companyName,i/2,r,{align:"center"}),r+=6,t.setFontSize(8),t.setFont("helvetica","normal"),e.companyTaxId&&(t.text(`Tax ID: ${e.companyTaxId}`,i/2,r,{align:"center"}),r+=4),e.companyAddress&&(t.text(e.companyAddress,i/2,r,{align:"center"}),r+=4),e.companyPhone&&(t.text(`Tel: ${e.companyPhone}`,i/2,r,{align:"center"}),r+=4),r+=2,t.line(n,r,i-n,r),r+=4,t.setFontSize(9),t.setFont("helvetica","bold"),t.text(`TICKET: ${e.saleNumber}`,n,r),r+=5,t.setFont("helvetica","normal"),t.text(`Fecha: ${Yi(new Date,"dd/MM/yyyy HH:mm",{locale:Xi})}`,n,r),r+=5,t.text(`Pago: ${A7e(e.paymentMethod)}`,n,r),r+=3,t.line(n,r,i-n,r),r+=4,t.setFontSize(8),t.setFont("helvetica","bold"),t.text("Producto",n,r),t.text("Cant",i-35,r),t.text("Precio",i-25,r),t.text("Total",i-15,r,{align:"right"}),r+=4,t.line(n,r,i-n,r),r+=4,t.setFont("helvetica","normal"),e.items.forEach(s=>{t.splitTextToSize(s.product_name,35).forEach((c,u)=>{t.text(c,n,r),u===0&&(t.text(s.quantity.toString(),i-35,r),t.text(`$${s.unit_price.toFixed(2)}`,i-25,r),t.text(`$${s.subtotal.toFixed(2)}`,i-5,r,{align:"right"})),r+=4})}),r+=1,t.line(n,r,i-n,r),r+=4,t.setFontSize(9),t.text("Subtotal:",n,r),t.text(`$${e.subtotal.toFixed(2)}`,i-5,r,{align:"right"}),r+=5,e.discount>0&&(t.text("Descuento:",n,r),t.text(`-$${e.discount.toFixed(2)}`,i-5,r,{align:"right"}),r+=5),e.tax>0&&(t.text("Impuesto:",n,r),t.text(`$${e.tax.toFixed(2)}`,i-5,r,{align:"right"}),r+=5),e.cardSurcharge&&e.cardSurcharge>0&&(t.text("Recargo Tarjeta:",n,r),t.text(`$${e.cardSurcharge.toFixed(2)}`,i-5,r,{align:"right"}),r+=5),t.setFont("helvetica","bold"),t.setFontSize(11),t.text("TOTAL:",n,r),t.text(`$${e.total.toFixed(2)}`,i-5,r,{align:"right"}),r+=6,e.installments&&e.installments>1&&(t.setFont("helvetica","normal"),t.setFontSize(8),t.text(`${e.installments} cuotas de $${(a=e.installmentAmount)==null?void 0:a.toFixed(2)}`,n,r),r+=5),e.footer&&(r+=5,t.line(n,r,i-n,r),r+=4,t.setFontSize(7),t.splitTextToSize(e.footer,i-10).forEach(o=>{t.text(o,i/2,r,{align:"center"}),r+=3})),t.save(`ticket-${e.saleNumber}.pdf`)},A7e=e=>({cash:"Efectivo",card:"Tarjeta",transfer:"Transferencia"})[e]||e,E7e=Rn().max(100,"Search term is too long").regex(/^[a-zA-Z0-9\s\-@._()\u00C0-\u017F]*$/,"Search contains invalid characters"),cc=e=>E7e.safeParse(e).success?e.replace(/[%_\\]/g,"\\$&").trim():"",C7e=by("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),oy=M.forwardRef(({className:e,variant:t,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:Mt(C7e({variant:t}),e),...r}));oy.displayName="Alert";const N7e=M.forwardRef(({className:e,...t},r)=>d.jsx("h5",{ref:r,className:Mt("mb-1 font-medium leading-none tracking-tight",e),...t}));N7e.displayName="AlertTitle";const ly=M.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Mt("text-sm [&_p]:leading-relaxed",e),...t}));ly.displayName="AlertDescription";function O7e(){const[e,t]=M.useState(""),[r,n]=M.useState([]),[i,a]=M.useState("cash"),[s,o]=M.useState(0),[c,u]=M.useState(1),[h,m]=M.useState(null),y=Ls(),{data:g}=Cr({queryKey:["products",e],queryFn:async()=>{let W=Ge.from("products").select("*").eq("active",!0);if(e){const ne=cc(e);ne&&(W=W.or(`name.ilike.%${ne}%,barcode.eq.${ne},sku.eq.${ne}`))}const{data:V,error:Q}=await W.limit(10);if(Q)throw Q;return V}}),{data:S}=Cr({queryKey:["company-settings"],queryFn:async()=>{const{data:W,error:V}=await Ge.from("company_settings").select("*").single();if(V)throw V;return W}}),{data:_}=Cr({queryKey:["customers-pos"],queryFn:async()=>{const{data:W,error:V}=await Ge.from("customer_pos_view").select("*").order("name",{ascending:!0});if(V)throw V;return W}}),w=W=>{t(W),ut.success(`Código escaneado: ${W}`)},A=W=>{const V=r.find(Q=>Q.product_id===W.id);if(V){if(V.quantity>=W.stock){ut.error("Stock insuficiente");return}n(r.map(Q=>Q.product_id===W.id?{...Q,quantity:Q.quantity+1,subtotal:(Q.quantity+1)*Q.unit_price}:Q))}else{if(W.stock<1){ut.error("Producto sin stock");return}n([...r,{product_id:W.id,product_name:W.name,quantity:1,unit_price:Number(W.price),subtotal:Number(W.price)}])}ut.success(`${W.name} agregado al carrito`)},E=(W,V)=>{n(r.map(Q=>{if(Q.product_id===W){const ne=Q.quantity+V;return ne<=0?Q:{...Q,quantity:ne,subtotal:ne*Q.unit_price}}return Q}))},O=W=>{n(r.filter(V=>V.product_id!==W)),ut.success("Producto eliminado del carrito")},I=()=>{n([]),o(0),u(1),m(null),a("cash"),ut.info("Carrito vaciado")},k=r.reduce((W,V)=>W+V.subtotal,0),F=k*s/100,B=(S==null?void 0:S.default_tax_rate)||0,D=(k-F)*B/100,P=i==="card"&&(S==null?void 0:S.card_surcharge_rate)||0,K=(k-F+D)*P/100,$=k-F+D+K,z=c>1?$/c:0,X=Di({mutationFn:async()=>{const{data:{user:W}}=await Ge.auth.getUser();if(!W)throw new Error("Usuario no autenticado");if(i==="credit"){if(!h)throw new Error("Debe seleccionar un cliente para ventas a crédito");const H=Number(h.credit_limit)-Number(h.current_balance);if($>H)throw new Error(`Crédito insuficiente. Disponible: $${H.toFixed(2)}`)}const V=`S-${Date.now()}`,{data:Q,error:ne}=await Ge.from("sales").insert({sale_number:V,user_id:W.id,customer_id:(h==null?void 0:h.id)||null,subtotal:k,discount:F,discount_rate:s,tax:D,tax_rate:B,total:$,payment_method:i,installments:c,installment_amount:z,status:"completed"}).select().single();if(ne)throw ne;const{error:te}=await Ge.from("sale_items").insert(r.map(H=>({sale_id:Q.id,product_id:H.product_id,product_name:H.product_name,quantity:H.quantity,unit_price:H.unit_price,subtotal:H.subtotal})));if(te)throw te;for(const H of r){const{data:le}=await Ge.from("products").select("stock").eq("id",H.product_id).single();le&&await Ge.from("products").update({stock:le.stock-H.quantity}).eq("id",H.product_id)}return Q},onSuccess:async W=>{if(ut.success("¡Venta procesada exitosamente!"),i==="cash")try{const{data:{user:V}}=await Ge.auth.getUser(),{data:Q}=await Ge.from("cash_registers").select("*").eq("status","open").order("opening_date",{ascending:!1}).limit(1).maybeSingle();Q&&V&&(await Ge.from("cash_movements").insert({cash_register_id:Q.id,user_id:V.id,type:"income",amount:$,category:"Venta",description:`Venta ${W.sale_number}`,reference:W.sale_number}),y.invalidateQueries({queryKey:["cash-register"]}))}catch(V){console.error("Error registrando movimiento de caja:",V)}iY({saleNumber:W.sale_number,items:r,subtotal:k,discount:F,tax:D,cardSurcharge:K>0?K:void 0,total:$,paymentMethod:i,installments:c>1?c:void 0,installmentAmount:c>1?z:void 0,companyName:(S==null?void 0:S.company_name)||"Mi Empresa",companyAddress:S==null?void 0:S.address,companyPhone:S==null?void 0:S.phone,companyTaxId:S==null?void 0:S.tax_id,footer:S==null?void 0:S.receipt_footer}),I(),y.invalidateQueries({queryKey:["products"]}),y.invalidateQueries({queryKey:["sales-stats"]})},onError:W=>{ut.error(W.message||"Error al procesar la venta")}});return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Punto de Venta"}),d.jsx("p",{className:"text-muted-foreground",children:"Procesa ventas rápidamente"})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[d.jsxs(At,{className:"lg:col-span-2 shadow-soft",children:[d.jsxs(Xt,{children:[d.jsx(fr,{children:"Productos"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar por nombre, código de barras o SKU...",value:e,onChange:W=>t(W.target.value),className:"pl-10"})]}),d.jsx(_Me,{onScan:w})]})]}),d.jsx(Pt,{children:d.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:g==null?void 0:g.map(W=>d.jsx(At,{className:"cursor-pointer hover:shadow-medium transition-all",onClick:()=>A(W),children:d.jsx(Pt,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-foreground",children:W.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stock: ",W.stock]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",Number(W.price).toFixed(2)]})})]})})},W.id))})})]}),d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(mp,{className:"h-5 w-5"}),"Carrito"]})}),d.jsxs(Pt,{className:"space-y-4",children:[d.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.map(W=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-sm",children:W.product_name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",W.unit_price.toFixed(2)," c/u"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ot,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>E(W.product_id,-1),children:d.jsx(fee,{className:"h-3 w-3"})}),d.jsx("span",{className:"w-8 text-center font-medium",children:W.quantity}),d.jsx(ot,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>E(W.product_id,1),children:d.jsx(Wc,{className:"h-3 w-3"})}),d.jsx(ot,{size:"icon",variant:"ghost",className:"h-7 w-7 text-destructive",onClick:()=>O(W.product_id),children:d.jsx(om,{className:"h-3 w-3"})})]})]},W.product_id))}),r.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(o1,{}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{className:"text-xs",children:"Descuento (%)"}),d.jsx(pt,{type:"number",min:"0",max:"100",value:s,onChange:W=>o(parseFloat(W.target.value)||0),placeholder:"0"})]}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),d.jsxs("span",{children:["$",k.toFixed(2)]})]}),F>0&&d.jsxs("div",{className:"flex justify-between text-destructive",children:[d.jsxs("span",{children:["Descuento (",s,"%):"]}),d.jsxs("span",{children:["-$",F.toFixed(2)]})]}),D>0&&d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-muted-foreground",children:["Impuesto (",B,"%):"]}),d.jsxs("span",{children:["$",D.toFixed(2)]})]}),K>0&&d.jsxs("div",{className:"flex justify-between text-warning",children:[d.jsxs("span",{children:["Recargo Tarjeta (",P,"%):"]}),d.jsxs("span",{children:["+$",K.toFixed(2)]})]})]}),d.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{className:"text-primary",children:["$",$.toFixed(2)]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Cliente (Opcional)"}),d.jsxs(ro,{value:(h==null?void 0:h.id)||"none",onValueChange:W=>{if(W==="none")m(null);else{const V=_==null?void 0:_.find(Q=>Q.id===W);m(V||null)}},children:[d.jsx(ks,{children:d.jsx(no,{placeholder:"Seleccionar cliente..."})}),d.jsxs(Ps,{children:[d.jsx(cn,{value:"none",children:"Sin cliente"}),_==null?void 0:_.map(W=>d.jsxs(cn,{value:W.id,children:[W.name,Number(W.current_balance)>0&&` (Debe: $${Number(W.current_balance).toFixed(2)})`]},W.id))]})]})]}),h&&Number(h.current_balance)>0&&d.jsxs(oy,{children:[d.jsx(iee,{className:"h-4 w-4"}),d.jsxs(ly,{className:"text-xs",children:["Saldo pendiente: $",Number(h.current_balance).toFixed(2)]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Método de Pago"}),d.jsxs(ro,{value:i,onValueChange:a,children:[d.jsx(ks,{children:d.jsx(no,{})}),d.jsxs(Ps,{children:[d.jsx(cn,{value:"cash",children:"Efectivo"}),d.jsx(cn,{value:"card",children:"Tarjeta"}),d.jsx(cn,{value:"transfer",children:"Transferencia"}),h&&d.jsx(cn,{value:"credit",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(WN,{className:"h-4 w-4"}),"Cuenta Corriente"]})})]})]})]}),i==="credit"&&h&&d.jsxs(oy,{children:[d.jsx(Cf,{className:"h-4 w-4"}),d.jsxs(ly,{className:"text-xs space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Límite de crédito:"}),d.jsxs("span",{className:"font-medium",children:["$",Number(h.credit_limit).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Saldo actual:"}),d.jsxs("span",{className:"font-medium text-destructive",children:["$",Number(h.current_balance).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[d.jsx("span",{children:"Disponible:"}),d.jsxs("span",{className:"font-bold",children:["$",(Number(h.credit_limit)-Number(h.current_balance)).toFixed(2)]})]})]})]}),i==="card"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Cuotas"}),d.jsxs(ro,{value:c.toString(),onValueChange:W=>u(parseInt(W)),children:[d.jsx(ks,{children:d.jsx(no,{})}),d.jsxs(Ps,{children:[d.jsx(cn,{value:"1",children:"1 cuota"}),d.jsx(cn,{value:"3",children:"3 cuotas"}),d.jsx(cn,{value:"6",children:"6 cuotas"}),d.jsx(cn,{value:"12",children:"12 cuotas"})]})]}),c>1&&d.jsxs("p",{className:"text-xs text-muted-foreground",children:[c," cuotas de $",z.toFixed(2)]})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsx(ot,{variant:"outline",onClick:I,className:"flex-1",children:"Limpiar"}),d.jsxs(ot,{onClick:()=>X.mutate(),disabled:X.isPending,className:"flex-1",children:[d.jsx(sm,{className:"mr-2 h-4 w-4"}),X.isPending?"Procesando...":"Cobrar"]})]})]})]})]})]})]})]})})}const Vi=M.forwardRef(({className:e,...t},r)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:r,className:Mt("w-full caption-bottom text-sm",e),...t})}));Vi.displayName="Table";const Gi=M.forwardRef(({className:e,...t},r)=>d.jsx("thead",{ref:r,className:Mt("[&_tr]:border-b",e),...t}));Gi.displayName="TableHeader";const Ki=M.forwardRef(({className:e,...t},r)=>d.jsx("tbody",{ref:r,className:Mt("[&_tr:last-child]:border-0",e),...t}));Ki.displayName="TableBody";const T7e=M.forwardRef(({className:e,...t},r)=>d.jsx("tfoot",{ref:r,className:Mt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));T7e.displayName="TableFooter";const dr=M.forwardRef(({className:e,...t},r)=>d.jsx("tr",{ref:r,className:Mt("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));dr.displayName="TableRow";const rt=M.forwardRef(({className:e,...t},r)=>d.jsx("th",{ref:r,className:Mt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));rt.displayName="TableHead";const Ke=M.forwardRef(({className:e,...t},r)=>d.jsx("td",{ref:r,className:Mt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ke.displayName="TableCell";const j7e=M.forwardRef(({className:e,...t},r)=>d.jsx("caption",{ref:r,className:Mt("mt-4 text-sm text-muted-foreground",e),...t}));j7e.displayName="TableCaption";var aY={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Ac,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},c=0,u={};function h(D){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var K=k(P);K.chunkSize=parseInt(K.chunkSize),P.step||P.chunk||(K.chunkSize=null),this._handle=new _(K),(this._handle.streamer=this)._config=K}).call(this,D),this.parseChunk=function(P,K){var $=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<$){let X=this._config.newline;X||(z=this._config.quoteChar||'"',X=this._handle.guessLineEndings(P,z)),P=[...P.split(X).slice($)].join(X)}this.isFirstChunk&&B(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(P))!==void 0&&(P=z),this.isFirstChunk=!1,this._halted=!1;var $=this._partialLine+P,z=(this._partialLine="",this._handle.parse($,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=z.meta.cursor,$=(this._finished||(this._partialLine=$.substring(P-this._baseIndex),this._baseIndex=P),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:z,workerId:u.WORKER_ID,finished:$});else if(B(this._config.chunk)&&!K){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!$||!B(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),$||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(P){B(this._config.error)?this._config.error(P):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:P,finished:!1})}}function m(D){var P;(D=D||{}).chunkSize||(D.chunkSize=u.RemoteChunkSize),h.call(this,D),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),a||(P.onload=F(this._chunkLoaded,this),P.onerror=F(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var K,$=this._config.downloadRequestHeaders;for(K in $)P.setRequestHeader(K,$[K])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+z));try{P.send(this._config.downloadRequestBody)}catch(X){this._chunkError(X.message)}a&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(K=>(K=K.getResponseHeader("Content-Range"))!==null?parseInt(K.substring(K.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(K){K=P.statusText||K,this._sendError(new Error(K))}}function y(D){(D=D||{}).chunkSize||(D.chunkSize=u.LocalChunkSize),h.call(this,D);var P,K,$=typeof FileReader<"u";this.stream=function(z){this._input=z,K=z.slice||z.webkitSlice||z.mozSlice,$?((P=new FileReader).onload=F(this._chunkLoaded,this),P.onerror=F(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,X=(this._config.chunkSize&&(X=Math.min(this._start+this._config.chunkSize,this._input.size),z=K.call(z,this._start,X)),P.readAsText(z,this._config.encoding));$||this._chunkLoaded({target:{result:X}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(P.error)}}function g(D){var P;h.call(this,D=D||{}),this.stream=function(K){return P=K,this._nextChunk()},this._nextChunk=function(){var K,$;if(!this._finished)return K=this._config.chunkSize,P=K?($=P.substring(0,K),P.substring(K)):($=P,""),this._finished=!P,this.parseChunk($)}}function S(D){h.call(this,D=D||{});var P=[],K=!0,$=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){$&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):K=!0},this._streamData=F(function(z){try{P.push(typeof z=="string"?z:z.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(X){this._streamError(X)}},this),this._streamError=F(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=F(function(){this._streamCleanUp(),$=!0,this._streamData("")},this),this._streamCleanUp=F(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(D){var P,K,$,z,X=Math.pow(2,53),W=-X,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,te=0,H=0,le=!1,fe=!1,q=[],Z={data:[],errors:[],meta:{}};function ae(Ae){return D.skipEmptyLines==="greedy"?Ae.join("").trim()==="":Ae.length===1&&Ae[0].length===0}function ge(){if(Z&&$&&(Se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),$=!1),D.skipEmptyLines&&(Z.data=Z.data.filter(function(Ee){return!ae(Ee)})),he()){let Ee=function(Ce,Re){B(D.transformHeader)&&(Ce=D.transformHeader(Ce,Re)),q.push(Ce)};if(Z)if(Array.isArray(Z.data[0])){for(var Ae=0;he()&&Ae<Z.data.length;Ae++)Z.data[Ae].forEach(Ee);Z.data.splice(0,1)}else Z.data.forEach(Ee)}function ye(Ee,Ce){for(var Re=D.header?{}:[],je=0;je<Ee.length;je++){var de=je,it=Ee[je],it=((ft,Ye)=>(Be=>(D.dynamicTypingFunction&&D.dynamicTyping[Be]===void 0&&(D.dynamicTyping[Be]=D.dynamicTypingFunction(Be)),(D.dynamicTyping[Be]||D.dynamicTyping)===!0))(ft)?Ye==="true"||Ye==="TRUE"||Ye!=="false"&&Ye!=="FALSE"&&((Be=>{if(V.test(Be)&&(Be=parseFloat(Be),W<Be&&Be<X))return 1})(Ye)?parseFloat(Ye):Q.test(Ye)?new Date(Ye):Ye===""?null:Ye):Ye)(de=D.header?je>=q.length?"__parsed_extra":q[je]:de,it=D.transform?D.transform(it,de):it);de==="__parsed_extra"?(Re[de]=Re[de]||[],Re[de].push(it)):Re[de]=it}return D.header&&(je>q.length?Se("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+je,H+Ce):je<q.length&&Se("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+je,H+Ce)),Re}var Ne;Z&&(D.header||D.dynamicTyping||D.transform)&&(Ne=1,!Z.data.length||Array.isArray(Z.data[0])?(Z.data=Z.data.map(ye),Ne=Z.data.length):Z.data=ye(Z.data,0),D.header&&Z.meta&&(Z.meta.fields=q),H+=Ne)}function he(){return D.header&&q.length===0}function Se(Ae,ye,Ne,Ee){Ae={type:Ae,code:ye,message:Ne},Ee!==void 0&&(Ae.row=Ee),Z.errors.push(Ae)}B(D.step)&&(z=D.step,D.step=function(Ae){Z=Ae,he()?ge():(ge(),Z.data.length!==0&&(te+=Ae.data.length,D.preview&&te>D.preview?K.abort():(Z.data=Z.data[0],z(Z,ne))))}),this.parse=function(Ae,ye,Ne){var Ee=D.quoteChar||'"',Ee=(D.newline||(D.newline=this.guessLineEndings(Ae,Ee)),$=!1,D.delimiter?B(D.delimiter)&&(D.delimiter=D.delimiter(Ae),Z.meta.delimiter=D.delimiter):((Ee=((Ce,Re,je,de,it)=>{var ft,Ye,Be,_t;it=it||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var qe=0;qe<it.length;qe++){for(var It,Ct=it[qe],Vt=0,Gt=0,vt=0,hr=(Be=void 0,new A({comments:de,delimiter:Ct,newline:Re,preview:10}).parse(Ce)),Kt=0;Kt<hr.data.length;Kt++)je&&ae(hr.data[Kt])?vt++:(It=hr.data[Kt].length,Gt+=It,Be===void 0?Be=It:0<It&&(Vt+=Math.abs(It-Be),Be=It));0<hr.data.length&&(Gt/=hr.data.length-vt),(Ye===void 0||Vt<=Ye)&&(_t===void 0||_t<Gt)&&1.99<Gt&&(Ye=Vt,ft=Ct,_t=Gt)}return{successful:!!(D.delimiter=ft),bestDelimiter:ft}})(Ae,D.newline,D.skipEmptyLines,D.comments,D.delimitersToGuess)).successful?D.delimiter=Ee.bestDelimiter:($=!0,D.delimiter=u.DefaultDelimiter),Z.meta.delimiter=D.delimiter),k(D));return D.preview&&D.header&&Ee.preview++,P=Ae,K=new A(Ee),Z=K.parse(P,ye,Ne),ge(),le?{meta:{paused:!0}}:Z||{meta:{paused:!1}}},this.paused=function(){return le},this.pause=function(){le=!0,K.abort(),P=B(D.chunk)?"":P.substring(K.getCharIndex())},this.resume=function(){ne.streamer._halted?(le=!1,ne.streamer.parseChunk(P,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return fe},this.abort=function(){fe=!0,K.abort(),Z.meta.aborted=!0,B(D.complete)&&D.complete(Z),P=""},this.guessLineEndings=function(Ce,Ee){Ce=Ce.substring(0,1048576);var Ee=new RegExp(w(Ee)+"([^]*?)"+w(Ee),"gm"),Ne=(Ce=Ce.replace(Ee,"")).split("\r"),Ee=Ce.split(`
`),Ce=1<Ee.length&&Ee[0].length<Ne[0].length;if(Ne.length===1||Ce)return`
`;for(var Re=0,je=0;je<Ne.length;je++)Ne[je][0]===`
`&&Re++;return Re>=Ne.length/2?`\r
`:"\r"}}function w(D){return D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(D){var P=(D=D||{}).delimiter,K=D.newline,$=D.comments,z=D.step,X=D.preview,W=D.fastMode,V=null,Q=!1,ne=D.quoteChar==null?'"':D.quoteChar,te=ne;if(D.escapeChar!==void 0&&(te=D.escapeChar),(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=","),$===P)throw new Error("Comment character same as delimiter");$===!0?$="#":(typeof $!="string"||-1<u.BAD_DELIMITERS.indexOf($))&&($=!1),K!==`
`&&K!=="\r"&&K!==`\r
`&&(K=`
`);var H=0,le=!1;this.parse=function(fe,q,Z){if(typeof fe!="string")throw new Error("Input must be a string");var ae=fe.length,ge=P.length,he=K.length,Se=$.length,Ae=B(z),ye=[],Ne=[],Ee=[],Ce=H=0;if(!fe)return Vt();if(W||W!==!1&&fe.indexOf(ne)===-1){for(var Re=fe.split(K),je=0;je<Re.length;je++){if(Ee=Re[je],H+=Ee.length,je!==Re.length-1)H+=K.length;else if(Z)return Vt();if(!$||Ee.substring(0,Se)!==$){if(Ae){if(ye=[],_t(Ee.split(P)),Gt(),le)return Vt()}else _t(Ee.split(P));if(X&&X<=je)return ye=ye.slice(0,X),Vt(!0)}}return Vt()}for(var de=fe.indexOf(P,H),it=fe.indexOf(K,H),ft=new RegExp(w(te)+w(ne),"g"),Ye=fe.indexOf(ne,H);;)if(fe[H]===ne)for(Ye=H,H++;;){if((Ye=fe.indexOf(ne,Ye+1))===-1)return Z||Ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ye.length,index:H}),It();if(Ye===ae-1)return It(fe.substring(H,Ye).replace(ft,ne));if(ne===te&&fe[Ye+1]===te)Ye++;else if(ne===te||Ye===0||fe[Ye-1]!==te){de!==-1&&de<Ye+1&&(de=fe.indexOf(P,Ye+1));var Be=qe((it=it!==-1&&it<Ye+1?fe.indexOf(K,Ye+1):it)===-1?de:Math.min(de,it));if(fe.substr(Ye+1+Be,ge)===P){Ee.push(fe.substring(H,Ye).replace(ft,ne)),fe[H=Ye+1+Be+ge]!==ne&&(Ye=fe.indexOf(ne,H)),de=fe.indexOf(P,H),it=fe.indexOf(K,H);break}if(Be=qe(it),fe.substring(Ye+1+Be,Ye+1+Be+he)===K){if(Ee.push(fe.substring(H,Ye).replace(ft,ne)),Ct(Ye+1+Be+he),de=fe.indexOf(P,H),Ye=fe.indexOf(ne,H),Ae&&(Gt(),le))return Vt();if(X&&ye.length>=X)return Vt(!0);break}Ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ye.length,index:H}),Ye++}}else if($&&Ee.length===0&&fe.substring(H,H+Se)===$){if(it===-1)return Vt();H=it+he,it=fe.indexOf(K,H),de=fe.indexOf(P,H)}else if(de!==-1&&(de<it||it===-1))Ee.push(fe.substring(H,de)),H=de+ge,de=fe.indexOf(P,H);else{if(it===-1)break;if(Ee.push(fe.substring(H,it)),Ct(it+he),Ae&&(Gt(),le))return Vt();if(X&&ye.length>=X)return Vt(!0)}return It();function _t(vt){ye.push(vt),Ce=H}function qe(vt){var hr=0;return hr=vt!==-1&&(vt=fe.substring(Ye+1,vt))&&vt.trim()===""?vt.length:hr}function It(vt){return Z||(vt===void 0&&(vt=fe.substring(H)),Ee.push(vt),H=ae,_t(Ee),Ae&&Gt()),Vt()}function Ct(vt){H=vt,_t(Ee),Ee=[],it=fe.indexOf(K,H)}function Vt(vt){if(D.header&&!q&&ye.length&&!Q){var hr=ye[0],Kt=Object.create(null),Et=new Set(hr);let sr=!1;for(let kt=0;kt<hr.length;kt++){let Ur=hr[kt];if(Kt[Ur=B(D.transformHeader)?D.transformHeader(Ur,kt):Ur]){let Zt,He=Kt[Ur];for(;Zt=Ur+"_"+He,He++,Et.has(Zt););Et.add(Zt),hr[kt]=Zt,Kt[Ur]++,sr=!0,(V=V===null?{}:V)[Zt]=Ur}else Kt[Ur]=1,hr[kt]=Ur;Et.add(Ur)}sr&&console.warn("Duplicate headers found and renamed."),Q=!0}return{data:ye,errors:Ne,meta:{delimiter:P,linebreak:K,aborted:le,truncated:!!vt,cursor:Ce+(q||0),renamedHeaders:V}}}function Gt(){z(Vt()),ye=[],Ne=[]}},this.abort=function(){le=!0},this.getCharIndex=function(){return H}}function E(D){var P=D.data,K=o[P.workerId],$=!1;if(P.error)K.userError(P.error,P.file);else if(P.results&&P.results.data){var z={abort:function(){$=!0,O(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(B(K.userStep)){for(var X=0;X<P.results.data.length&&(K.userStep({data:P.results.data[X],errors:P.results.errors,meta:P.results.meta},z),!$);X++);delete P.results}else B(K.userChunk)&&(K.userChunk(P.results,z,P.file),delete P.results)}P.finished&&!$&&O(P.workerId,P.results)}function O(D,P){var K=o[D];B(K.userComplete)&&K.userComplete(P),K.terminate(),delete o[D]}function I(){throw new Error("Not implemented.")}function k(D){if(typeof D!="object"||D===null)return D;var P,K=Array.isArray(D)?[]:{};for(P in D)K[P]=k(D[P]);return K}function F(D,P){return function(){D.apply(P,arguments)}}function B(D){return typeof D=="function"}return u.parse=function(D,P){var K=(P=P||{}).dynamicTyping||!1;if(B(K)&&(P.dynamicTypingFunction=K,K={}),P.dynamicTyping=K,P.transform=!!B(P.transform)&&P.transform,!P.worker||!u.WORKERS_SUPPORTED)return K=null,u.NODE_STREAM_INPUT,typeof D=="string"?(D=($=>$.charCodeAt(0)!==65279?$:$.slice(1))(D),K=new(P.download?m:g)(P)):D.readable===!0&&B(D.read)&&B(D.on)?K=new S(P):(n.File&&D instanceof File||D instanceof Object)&&(K=new y(P)),K.stream(D);(K=(()=>{var $;return!!u.WORKERS_SUPPORTED&&($=(()=>{var z=n.URL||n.webkitURL||null,X=r.toString();return u.BLOB_URL||(u.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",X,")();"],{type:"text/javascript"})))})(),($=new n.Worker($)).onmessage=E,$.id=c++,o[$.id]=$)})()).userStep=P.step,K.userChunk=P.chunk,K.userComplete=P.complete,K.userError=P.error,P.step=B(P.step),P.chunk=B(P.chunk),P.complete=B(P.complete),P.error=B(P.error),delete P.worker,K.postMessage({input:D,config:P,workerId:K.id})},u.unparse=function(D,P){var K=!1,$=!0,z=",",X=`\r
`,W='"',V=W+W,Q=!1,ne=null,te=!1,H=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||u.BAD_DELIMITERS.filter(function(q){return P.delimiter.indexOf(q)!==-1}).length||(z=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(K=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(Q=P.skipEmptyLines),typeof P.newline=="string"&&(X=P.newline),typeof P.quoteChar=="string"&&(W=P.quoteChar),typeof P.header=="boolean"&&($=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");ne=P.columns}P.escapeChar!==void 0&&(V=P.escapeChar+W),P.escapeFormulae instanceof RegExp?te=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(te=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(W),"g"));if(typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(D)){if(!D.length||Array.isArray(D[0]))return le(null,D,Q);if(typeof D[0]=="object")return le(ne||Object.keys(D[0]),D,Q)}else if(typeof D=="object")return typeof D.data=="string"&&(D.data=JSON.parse(D.data)),Array.isArray(D.data)&&(D.fields||(D.fields=D.meta&&D.meta.fields||ne),D.fields||(D.fields=Array.isArray(D.data[0])?D.fields:typeof D.data[0]=="object"?Object.keys(D.data[0]):[]),Array.isArray(D.data[0])||typeof D.data[0]=="object"||(D.data=[D.data])),le(D.fields||[],D.data||[],Q);throw new Error("Unable to serialize unrecognized input");function le(q,Z,ae){var ge="",he=(typeof q=="string"&&(q=JSON.parse(q)),typeof Z=="string"&&(Z=JSON.parse(Z)),Array.isArray(q)&&0<q.length),Se=!Array.isArray(Z[0]);if(he&&$){for(var Ae=0;Ae<q.length;Ae++)0<Ae&&(ge+=z),ge+=fe(q[Ae],Ae);0<Z.length&&(ge+=X)}for(var ye=0;ye<Z.length;ye++){var Ne=(he?q:Z[ye]).length,Ee=!1,Ce=he?Object.keys(Z[ye]).length===0:Z[ye].length===0;if(ae&&!he&&(Ee=ae==="greedy"?Z[ye].join("").trim()==="":Z[ye].length===1&&Z[ye][0].length===0),ae==="greedy"&&he){for(var Re=[],je=0;je<Ne;je++){var de=Se?q[je]:je;Re.push(Z[ye][de])}Ee=Re.join("").trim()===""}if(!Ee){for(var it=0;it<Ne;it++){0<it&&!Ce&&(ge+=z);var ft=he&&Se?q[it]:it;ge+=fe(Z[ye][ft],it)}ye<Z.length-1&&(!ae||0<Ne&&!Ce)&&(ge+=X)}}return ge}function fe(q,Z){var ae,ge;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(ge=!1,te&&typeof q=="string"&&te.test(q)&&(q="'"+q,ge=!0),ae=q.toString().replace(H,V),(ge=ge||K===!0||typeof K=="function"&&K(q,Z)||Array.isArray(K)&&K[Z]||((he,Se)=>{for(var Ae=0;Ae<Se.length;Ae++)if(-1<he.indexOf(Se[Ae]))return!0;return!1})(ae,u.BAD_DELIMITERS)||-1<ae.indexOf(z)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ")?W+ae+W:ae)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=A,u.ParserHandle=_,u.NetworkStreamer=m,u.FileStreamer=y,u.StringStreamer=g,u.ReadableStreamStreamer=S,n.jQuery&&((i=n.jQuery).fn.parse=function(D){var P=D.config||{},K=[];return this.each(function(X){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var W=0;W<this.files.length;W++)K.push({file:this.files[W],inputElem:this,instanceConfig:i.extend({},P)})}),$(),this;function $(){if(K.length===0)B(D.complete)&&D.complete();else{var X,W,V,Q,ne=K[0];if(B(D.before)){var te=D.before(ne.file,ne.inputElem);if(typeof te=="object"){if(te.action==="abort")return X="AbortError",W=ne.file,V=ne.inputElem,Q=te.reason,void(B(D.error)&&D.error({name:X},W,V,Q));if(te.action==="skip")return void z();typeof te.config=="object"&&(ne.instanceConfig=i.extend(ne.instanceConfig,te.config))}else if(te==="skip")return void z()}var H=ne.instanceConfig.complete;ne.instanceConfig.complete=function(le){B(H)&&H(le,ne.file,ne.inputElem),z()},u.parse(ne.file,ne.instanceConfig)}}function z(){K.splice(0,1),$()}}),s&&(n.onmessage=function(D){D=D.data,u.WORKER_ID===void 0&&D&&(u.WORKER_ID=D.workerId),typeof D.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(D.input,D.config),finished:!0}):(n.File&&D.input instanceof File||D.input instanceof Object)&&(D=u.parse(D.input,D.config))&&n.postMessage({workerId:u.WORKER_ID,results:D,finished:!0})}),(m.prototype=Object.create(h.prototype)).constructor=m,(y.prototype=Object.create(h.prototype)).constructor=y,(g.prototype=Object.create(g.prototype)).constructor=g,(S.prototype=Object.create(h.prototype)).constructor=S,u})})(aY);var I7e=aY.exports;const ZL=yn(I7e);var I5="Checkbox",[k7e,H9e]=Ho(I5),[P7e,vj]=k7e(I5);function M7e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:s,name:o,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:m}=e,[y,g]=Zu({prop:r,defaultProp:i??!1,onChange:c,caller:I5}),[S,_]=M.useState(null),[w,A]=M.useState(null),E=M.useRef(!1),O=S?!!s||!!S.closest("form"):!0,I={checked:y,disabled:a,setChecked:g,control:S,setControl:_,name:o,form:s,value:h,hasConsumerStoppedPropagationRef:E,required:u,defaultChecked:Sf(i)?!1:i,isFormControl:O,bubbleInput:w,setBubbleInput:A};return d.jsx(P7e,{scope:t,...I,children:R7e(m)?m(I):n})}var sY="CheckboxTrigger",oY=M.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:a,value:s,disabled:o,checked:c,required:u,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:y,isFormControl:g,bubbleInput:S}=vj(sY,e),_=Qr(i,h),w=M.useRef(c);return M.useEffect(()=>{const A=a==null?void 0:a.form;if(A){const E=()=>m(w.current);return A.addEventListener("reset",E),()=>A.removeEventListener("reset",E)}},[a,m]),d.jsx(br.button,{type:"button",role:"checkbox","aria-checked":Sf(c)?"mixed":c,"aria-required":u,"data-state":fY(c),"data-disabled":o?"":void 0,disabled:o,value:s,...n,ref:_,onKeyDown:wt(t,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:wt(r,A=>{m(E=>Sf(E)?!0:!E),S&&g&&(y.current=A.isPropagationStopped(),y.current||A.stopPropagation())})})});oY.displayName=sY;var yj=M.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:c,onCheckedChange:u,form:h,...m}=e;return d.jsx(M7e,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:o,required:s,onCheckedChange:u,name:n,form:h,value:c,internal_do_not_use_render:({isFormControl:y})=>d.jsxs(d.Fragment,{children:[d.jsx(oY,{...m,ref:t,__scopeCheckbox:r}),y&&d.jsx(dY,{__scopeCheckbox:r})]})})});yj.displayName=I5;var lY="CheckboxIndicator",cY=M.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=vj(lY,r);return d.jsx(bl,{present:n||Sf(a.checked)||a.checked===!0,children:d.jsx(br.span,{"data-state":fY(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});cY.displayName=lY;var uY="CheckboxBubbleInput",dY=M.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:s,required:o,disabled:c,name:u,value:h,form:m,bubbleInput:y,setBubbleInput:g}=vj(uY,e),S=Qr(r,g),_=VT(a),w=rO(n);M.useEffect(()=>{const E=y;if(!E)return;const O=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(O,"checked").set,F=!i.current;if(_!==a&&k){const B=new Event("click",{bubbles:F});E.indeterminate=Sf(a),k.call(E,Sf(a)?!1:a),E.dispatchEvent(B)}},[y,_,a,i]);const A=M.useRef(Sf(a)?!1:a);return d.jsx(br.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??A.current,required:o,disabled:c,name:u,value:h,form:m,...t,tabIndex:-1,ref:S,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dY.displayName=uY;function R7e(e){return typeof e=="function"}function Sf(e){return e==="indeterminate"}function fY(e){return Sf(e)?"indeterminate":e?"checked":"unchecked"}const qw=M.forwardRef(({className:e,...t},r)=>d.jsx(yj,{ref:r,className:Mt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:d.jsx(cY,{className:Mt("flex items-center justify-center text-current"),children:d.jsx(qN,{className:"h-4 w-4"})})}));qw.displayName=yj.displayName;var hY="AlertDialog",[D7e,V9e]=Ho(hY,[OG]),cd=OG(),pY=e=>{const{__scopeAlertDialog:t,...r}=e,n=cd(t);return d.jsx(WG,{...n,...r,modal:!0})};pY.displayName=hY;var L7e="AlertDialogTrigger",mY=M.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=cd(r);return d.jsx(HG,{...i,...n,ref:t})});mY.displayName=L7e;var F7e="AlertDialogPortal",gY=e=>{const{__scopeAlertDialog:t,...r}=e,n=cd(t);return d.jsx(VG,{...n,...r})};gY.displayName=F7e;var B7e="AlertDialogOverlay",vY=M.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=cd(r);return d.jsx(JT,{...i,...n,ref:t})});vY.displayName=B7e;var $0="AlertDialogContent",[$7e,U7e]=D7e($0),z7e=TF("AlertDialogContent"),yY=M.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=cd(r),s=M.useRef(null),o=Qr(t,s),c=M.useRef(null);return d.jsx(vMe,{contentName:$0,titleName:xY,docsSlug:"alert-dialog",children:d.jsx($7e,{scope:r,cancelRef:c,children:d.jsxs(ej,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:wt(i.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[d.jsx(z7e,{children:n}),d.jsx(W7e,{contentRef:s})]})})})});yY.displayName=$0;var xY="AlertDialogTitle",bY=M.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=cd(r);return d.jsx(tj,{...i,...n,ref:t})});bY.displayName=xY;var wY="AlertDialogDescription",_Y=M.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=cd(r);return d.jsx(rj,{...i,...n,ref:t})});_Y.displayName=wY;var q7e="AlertDialogAction",SY=M.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=cd(r);return d.jsx(nj,{...i,...n,ref:t})});SY.displayName=q7e;var AY="AlertDialogCancel",EY=M.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=U7e(AY,r),a=cd(r),s=Qr(t,i);return d.jsx(nj,{...a,...n,ref:s})});EY.displayName=AY;var W7e=({contentRef:e})=>{const t=`\`${$0}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$0}\` by passing a \`${wY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$0}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return M.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},H7e=pY,V7e=mY,G7e=gY,CY=vY,NY=yY,OY=SY,TY=EY,jY=bY,IY=_Y;const kY=H7e,PY=V7e,K7e=G7e,MY=M.forwardRef(({className:e,...t},r)=>d.jsx(CY,{className:Mt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));MY.displayName=CY.displayName;const xj=M.forwardRef(({className:e,...t},r)=>d.jsxs(K7e,{children:[d.jsx(MY,{}),d.jsx(NY,{ref:r,className:Mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));xj.displayName=NY.displayName;const bj=({className:e,...t})=>d.jsx("div",{className:Mt("flex flex-col space-y-2 text-center sm:text-left",e),...t});bj.displayName="AlertDialogHeader";const wj=({className:e,...t})=>d.jsx("div",{className:Mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wj.displayName="AlertDialogFooter";const _j=M.forwardRef(({className:e,...t},r)=>d.jsx(jY,{ref:r,className:Mt("text-lg font-semibold",e),...t}));_j.displayName=jY.displayName;const Sj=M.forwardRef(({className:e,...t},r)=>d.jsx(IY,{ref:r,className:Mt("text-sm text-muted-foreground",e),...t}));Sj.displayName=IY.displayName;const Aj=M.forwardRef(({className:e,...t},r)=>d.jsx(OY,{ref:r,className:Mt(NO(),e),...t}));Aj.displayName=OY.displayName;const Ej=M.forwardRef(({className:e,...t},r)=>d.jsx(TY,{ref:r,className:Mt(NO({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ej.displayName=TY.displayName;const QL=_5({name:Rn().trim().min(1,"El nombre es requerido").max(200,"El nombre debe tener máximo 200 caracteres"),price:Ch({invalid_type_error:"El precio debe ser un número"}).positive("El precio debe ser mayor a 0").max(999999.99,"El precio debe ser menor a 1,000,000"),cost:Ch({invalid_type_error:"El costo debe ser un número"}).nonnegative("El costo no puede ser negativo").max(999999.99,"El costo debe ser menor a 1,000,000").optional(),stock:Ch({invalid_type_error:"El stock debe ser un número"}).int("El stock debe ser un número entero").nonnegative("El stock no puede ser negativo").max(1e6,"El stock debe ser menor a 1,000,000"),min_stock:Ch({invalid_type_error:"El stock mínimo debe ser un número"}).int("El stock mínimo debe ser un número entero").nonnegative("El stock mínimo no puede ser negativo").max(1e6,"El stock mínimo debe ser menor a 1,000,000").optional(),category:Rn().max(100,"La categoría debe tener máximo 100 caracteres").optional(),barcode:Rn().max(50,"El código de barras debe tener máximo 50 caracteres").optional(),sku:Rn().max(50,"El SKU debe tener máximo 50 caracteres").optional(),location:Rn().max(100,"La ubicación debe tener máximo 100 caracteres").optional(),batch_number:Rn().max(50,"El número de lote debe tener máximo 50 caracteres").optional(),expiration_date:Rn().optional()});function Y7e(){const[e,t]=M.useState(""),[r,n]=M.useState(!1),[i,a]=M.useState(null),[s,o]=M.useState({name:"",barcode:"",sku:"",price:"",cost:"",stock:"",min_stock:"",category:"",location:"",batch_number:"",expiration_date:""}),[c,u]=M.useState(new Set),[h,m]=M.useState(!1),[y,g]=M.useState(null),[S,_]=M.useState(!1),[w,A]=M.useState({price:"",cost:"",stock:"",category:""}),[E,O]=M.useState(!1),I=Ls(),{data:k,isLoading:F}=Cr({queryKey:["products",e],queryFn:async()=>{let H=Ge.from("products").select("*").order("created_at",{ascending:!1});if(e){const q=cc(e);q&&(H=H.or(`name.ilike.%${q}%,barcode.ilike.%${q}%,sku.ilike.%${q}%`))}const{data:le,error:fe}=await H;if(fe)throw fe;return le}}),B=Di({mutationFn:async H=>{const{error:le}=await Ge.from("products").insert(H);if(le)throw le},onSuccess:()=>{ut.success("Producto creado exitosamente"),I.invalidateQueries({queryKey:["products"]}),n(!1),K()},onError:H=>{ut.error(H.message||"Error al crear producto")}}),D=Di({mutationFn:async({id:H,data:le})=>{const{error:fe}=await Ge.from("products").update(le).eq("id",H);if(fe)throw fe},onSuccess:()=>{ut.success("Producto actualizado exitosamente"),I.invalidateQueries({queryKey:["products"]}),n(!1),a(null),K()},onError:H=>{ut.error(H.message||"Error al actualizar producto")}}),P=Di({mutationFn:async H=>{const{error:le}=await Ge.from("products").delete().eq("id",H);if(le)throw le},onSuccess:()=>{ut.success("Producto eliminado exitosamente"),I.invalidateQueries({queryKey:["products"]})},onError:H=>{ut.error(H.message||"Error al eliminar producto")}}),K=()=>{o({name:"",barcode:"",sku:"",price:"",cost:"",stock:"",min_stock:"",category:"",location:"",batch_number:"",expiration_date:""}),a(null)},$=H=>{H.preventDefault();try{const le=QL.parse({name:s.name,price:parseFloat(s.price),cost:s.cost?parseFloat(s.cost):void 0,stock:parseInt(s.stock),min_stock:s.min_stock?parseInt(s.min_stock):void 0,category:s.category||void 0,barcode:s.barcode||void 0,sku:s.sku||void 0,location:s.location||void 0,batch_number:s.batch_number||void 0,expiration_date:s.expiration_date||void 0}),fe={name:le.name,barcode:le.barcode||null,sku:le.sku||null,price:le.price,cost:le.cost??0,stock:le.stock,min_stock:le.min_stock??0,category:le.category||null,location:le.location||null,batch_number:le.batch_number||null,expiration_date:le.expiration_date||null,last_restock_date:i?void 0:new Date().toISOString()};i?D.mutate({id:i.id,data:fe}):B.mutate(fe)}catch(le){if(le instanceof Ms){const fe=le.errors[0];ut.error(fe.message)}else ut.error("Error al validar el producto")}},z=H=>{var le,fe;a(H),o({name:H.name,barcode:H.barcode||"",sku:H.sku||"",price:H.price.toString(),cost:((le=H.cost)==null?void 0:le.toString())||"",stock:H.stock.toString(),min_stock:((fe=H.min_stock)==null?void 0:fe.toString())||"",category:H.category||"",location:H.location||"",batch_number:H.batch_number||"",expiration_date:H.expiration_date||""}),n(!0)},X=H=>{u(H&&k?new Set(k.map(le=>le.id)):new Set)},W=(H,le)=>{const fe=new Set(c);le?fe.add(H):fe.delete(H),u(fe)},V=()=>{if(!k||k.length===0){ut.error("No hay productos para exportar");return}const H=k.map(Z=>({nombre:Z.name,categoria:Z.category||"",codigo_barras:Z.barcode||"",sku:Z.sku||"",precio:Z.price,costo:Z.cost||"",stock:Z.stock,stock_minimo:Z.min_stock||""})),le=ZL.unparse(H),fe=new Blob([le],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a");q.href=URL.createObjectURL(fe),q.download=`productos_${new Date().toISOString().split("T")[0]}.csv`,q.click(),ut.success("Productos exportados exitosamente")},Q=()=>{if(!y){ut.error("Selecciona un archivo CSV");return}ZL.parse(y,{header:!0,skipEmptyLines:!0,complete:async H=>{var ae,ge,he,Se,Ae,ye,Ne;const le=H.data;let fe=0,q=0;const Z=[];if(le.length===0){ut.error("El archivo CSV está vacío");return}if(le.length>1e3){ut.error("El archivo CSV es demasiado grande (máximo 1000 productos)");return}for(const Ee of le)try{const Ce=((ae=Ee.nombre)==null?void 0:ae.trim())||((ge=Ee.name)==null?void 0:ge.trim());if(!Ce)throw new Error("Falta el campo 'nombre'");const Re=QL.parse({name:Ce,price:parseFloat(Ee.precio||Ee.price),cost:Ee.costo||Ee.cost?parseFloat(Ee.costo||Ee.cost):void 0,stock:parseInt(Ee.stock),min_stock:Ee.stock_minimo||Ee.min_stock?parseInt(Ee.stock_minimo||Ee.min_stock):void 0,category:((he=Ee.categoria)==null?void 0:he.trim())||((Se=Ee.category)==null?void 0:Se.trim())||void 0,barcode:((Ae=Ee.codigo_barras)==null?void 0:Ae.trim())||((ye=Ee.barcode)==null?void 0:ye.trim())||void 0,sku:((Ne=Ee.sku)==null?void 0:Ne.trim())||void 0}),je={name:Re.name,barcode:Re.barcode||null,sku:Re.sku||null,price:Re.price,cost:Re.cost??0,stock:Re.stock,min_stock:Re.min_stock??0,category:Re.category||null},{error:de}=await Ge.from("products").insert(je);if(de)throw de;fe++}catch(Ce){q++;const Re=Ce instanceof Ms?Ce.errors[0].message:Ce.message||"Error desconocido";Z.push(`Fila ${fe+q}: ${Re}`)}I.invalidateQueries({queryKey:["products"]}),m(!1),g(null),fe>0&&ut.success(`${fe} productos importados exitosamente`),q>0&&ut.error(`${q} productos no pudieron ser importados. ${Z.slice(0,3).join(", ")}`)},error:H=>{ut.error("Error al leer el archivo CSV"),console.error(H)}})},ne=async()=>{if(c.size===0){ut.error("Selecciona al menos un producto");return}const H={};if(w.price&&(H.price=parseFloat(w.price)),w.cost&&(H.cost=parseFloat(w.cost)),w.stock&&(H.stock=parseInt(w.stock)),w.category&&(H.category=w.category),Object.keys(H).length===0){ut.error("Ingresa al menos un campo para actualizar");return}try{const le=Array.from(c),{error:fe}=await Ge.from("products").update(H).in("id",le);if(fe)throw fe;ut.success(`${le.length} productos actualizados exitosamente`),I.invalidateQueries({queryKey:["products"]}),_(!1),A({price:"",cost:"",stock:"",category:""}),u(new Set)}catch(le){ut.error(le.message||"Error al actualizar productos")}},te=async()=>{if(c.size===0){ut.error("Selecciona al menos un producto");return}try{const H=Array.from(c),{error:le}=await Ge.from("products").delete().in("id",H);if(le)throw le;ut.success(`${H.length} productos eliminados exitosamente`),I.invalidateQueries({queryKey:["products"]}),O(!1),u(new Set)}catch(H){ut.error(H.message||"Error al eliminar productos")}};return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Productos"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu inventario"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ot,{variant:"outline",onClick:V,children:[d.jsx(HN,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]}),d.jsxs(Aa,{open:h,onOpenChange:m,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{variant:"outline",children:[d.jsx(yee,{className:"mr-2 h-4 w-4"}),"Importar CSV"]})}),d.jsxs(sa,{children:[d.jsxs(oa,{children:[d.jsx(la,{children:"Importar Productos desde CSV"}),d.jsx(Dw,{children:"El archivo debe contener las columnas: nombre, categoria, codigo_barras, sku, precio, costo, stock, stock_minimo"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"csv-file",children:"Archivo CSV"}),d.jsx(pt,{id:"csv-file",type:"file",accept:".csv",onChange:H=>{var le;return g(((le=H.target.files)==null?void 0:le[0])||null)}})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),d.jsx(ot,{onClick:Q,disabled:!y,children:"Importar"})]})]})]})]}),d.jsxs(Aa,{open:r,onOpenChange:n,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{onClick:()=>{a(null),K()},children:[d.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Nuevo Producto"]})}),d.jsxs(sa,{className:"max-w-2xl",children:[d.jsx(oa,{children:d.jsx(la,{children:i?"Editar Producto":"Nuevo Producto"})}),d.jsxs("form",{onSubmit:$,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"name",children:"Nombre *"}),d.jsx(pt,{id:"name",value:s.name,onChange:H=>o({...s,name:H.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"category",children:"Categoría"}),d.jsx(pt,{id:"category",value:s.category,onChange:H=>o({...s,category:H.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"barcode",children:"Código de Barras"}),d.jsx(pt,{id:"barcode",value:s.barcode,onChange:H=>o({...s,barcode:H.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"sku",children:"SKU"}),d.jsx(pt,{id:"sku",value:s.sku,onChange:H=>o({...s,sku:H.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"price",children:"Precio *"}),d.jsx(pt,{id:"price",type:"number",step:"0.01",value:s.price,onChange:H=>o({...s,price:H.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"cost",children:"Costo"}),d.jsx(pt,{id:"cost",type:"number",step:"0.01",value:s.cost,onChange:H=>o({...s,cost:H.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"stock",children:"Stock *"}),d.jsx(pt,{id:"stock",type:"number",value:s.stock,onChange:H=>o({...s,stock:H.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"min_stock",children:"Stock Mínimo"}),d.jsx(pt,{id:"min_stock",type:"number",value:s.min_stock,onChange:H=>o({...s,min_stock:H.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"location",children:"Ubicación/Almacén"}),d.jsx(pt,{id:"location",value:s.location,onChange:H=>o({...s,location:H.target.value}),placeholder:"Ej: Estante A-3"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"batch_number",children:"Número de Lote"}),d.jsx(pt,{id:"batch_number",value:s.batch_number,onChange:H=>o({...s,batch_number:H.target.value}),placeholder:"Ej: LOTE-2025-001"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"expiration_date",children:"Fecha de Vencimiento"}),d.jsx(pt,{id:"expiration_date",type:"date",value:s.expiration_date,onChange:H=>o({...s,expiration_date:H.target.value})})]})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),d.jsx(ot,{type:"submit",children:i?"Actualizar":"Crear"})]})]})]})]})]})]}),c.size>0&&d.jsx(At,{className:"shadow-soft bg-muted/50",children:d.jsx(Pt,{className:"pt-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"text-sm font-medium",children:[c.size," producto",c.size>1?"s":""," seleccionado",c.size>1?"s":""]}),d.jsxs(ot,{variant:"outline",size:"sm",onClick:()=>u(new Set),children:[d.jsx(d_,{className:"mr-2 h-4 w-4"}),"Limpiar selección"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Aa,{open:S,onOpenChange:_,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{variant:"outline",size:"sm",children:[d.jsx(nv,{className:"mr-2 h-4 w-4"}),"Editar seleccionados"]})}),d.jsxs(sa,{children:[d.jsxs(oa,{children:[d.jsx(la,{children:"Edición Masiva"}),d.jsxs(Dw,{children:["Los campos que completes se aplicarán a los ",c.size," productos seleccionados"]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"mass-price",children:"Precio"}),d.jsx(pt,{id:"mass-price",type:"number",step:"0.01",placeholder:"Dejar vacío para no modificar",value:w.price,onChange:H=>A({...w,price:H.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"mass-cost",children:"Costo"}),d.jsx(pt,{id:"mass-cost",type:"number",step:"0.01",placeholder:"Dejar vacío para no modificar",value:w.cost,onChange:H=>A({...w,cost:H.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"mass-stock",children:"Stock"}),d.jsx(pt,{id:"mass-stock",type:"number",placeholder:"Dejar vacío para no modificar",value:w.stock,onChange:H=>A({...w,stock:H.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"mass-category",children:"Categoría"}),d.jsx(pt,{id:"mass-category",placeholder:"Dejar vacío para no modificar",value:w.category,onChange:H=>A({...w,category:H.target.value})})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{variant:"outline",onClick:()=>_(!1),children:"Cancelar"}),d.jsxs(ot,{onClick:ne,children:["Actualizar ",c.size," productos"]})]})]})]})]}),d.jsxs(kY,{open:E,onOpenChange:O,children:[d.jsx(PY,{asChild:!0,children:d.jsxs(ot,{variant:"outline",size:"sm",className:"text-destructive",children:[d.jsx(om,{className:"mr-2 h-4 w-4"}),"Eliminar seleccionados"]})}),d.jsxs(xj,{children:[d.jsxs(bj,{children:[d.jsx(_j,{children:"¿Estás seguro?"}),d.jsxs(Sj,{children:["Esta acción eliminará ",c.size," producto",c.size>1?"s":""," y no se puede deshacer."]})]}),d.jsxs(wj,{children:[d.jsx(Ej,{children:"Cancelar"}),d.jsx(Aj,{onClick:te,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})]})]})]})})}),d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar productos...",value:e,onChange:H=>t(H.target.value),className:"pl-10"})]})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{className:"w-12",children:d.jsx(qw,{checked:k&&k.length>0&&c.size===k.length,onCheckedChange:X})}),d.jsx(rt,{children:"Nombre"}),d.jsx(rt,{children:"Categoría"}),d.jsx(rt,{children:"Precio"}),d.jsx(rt,{children:"Stock"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{className:"text-right",children:"Acciones"})]})}),d.jsx(Ki,{children:k==null?void 0:k.map(H=>d.jsxs(dr,{children:[d.jsx(Ke,{children:d.jsx(qw,{checked:c.has(H.id),onCheckedChange:le=>W(H.id,le)})}),d.jsx(Ke,{className:"font-medium",children:H.name}),d.jsx(Ke,{children:H.category||"-"}),d.jsxs(Ke,{children:["$",Number(H.price).toFixed(2)]}),d.jsx(Ke,{children:H.stock}),d.jsx(Ke,{children:H.stock<=(H.min_stock||0)?d.jsx(Yr,{variant:"destructive",children:"Stock Bajo"}):d.jsx(Yr,{variant:"default",className:"bg-success",children:"En Stock"})}),d.jsxs(Ke,{className:"text-right space-x-2",children:[d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>z(H),children:d.jsx(nv,{className:"h-4 w-4"})}),d.jsx(ot,{size:"icon",variant:"outline",className:"text-destructive",onClick:()=>P.mutate(H.id),children:d.jsx(om,{className:"h-4 w-4"})})]})]},H.id))})]})})]})]})})}const ml=M.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:Mt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ml.displayName="Textarea";var k5="Switch",[X7e,G9e]=Ho(k5),[Z7e,Q7e]=X7e(k5),RY=M.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:c="on",onCheckedChange:u,form:h,...m}=e,[y,g]=M.useState(null),S=Qr(t,O=>g(O)),_=M.useRef(!1),w=y?h||!!y.closest("form"):!0,[A,E]=Zu({prop:i,defaultProp:a??!1,onChange:u,caller:k5});return d.jsxs(Z7e,{scope:r,checked:A,disabled:o,children:[d.jsx(br.button,{type:"button",role:"switch","aria-checked":A,"aria-required":s,"data-state":BY(A),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:S,onClick:wt(e.onClick,O=>{E(I=>!I),w&&(_.current=O.isPropagationStopped(),_.current||O.stopPropagation())})}),w&&d.jsx(FY,{control:y,bubbles:!_.current,name:n,value:c,checked:A,required:s,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});RY.displayName=k5;var DY="SwitchThumb",LY=M.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Q7e(DY,r);return d.jsx(br.span,{"data-state":BY(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});LY.displayName=DY;var J7e="SwitchBubbleInput",FY=M.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const s=M.useRef(null),o=Qr(s,a),c=VT(r),u=rO(t);return M.useEffect(()=>{const h=s.current;if(!h)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&g){const S=new Event("click",{bubbles:n});g.call(h,r),h.dispatchEvent(S)}},[c,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});FY.displayName=J7e;function BY(e){return e?"checked":"unchecked"}var $Y=RY,e9e=LY;const Vm=M.forwardRef(({className:e,...t},r)=>d.jsx($Y,{className:Mt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:d.jsx(e9e,{className:Mt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vm.displayName=$Y.displayName;function t9e(){const[e,t]=M.useState(""),[r,n]=M.useState(!1),[i,a]=M.useState(null),[s,o]=M.useState({name:"",contact_name:"",email:"",phone:"",address:"",tax_id:"",payment_terms:"",credit_limit:"0",active:!0,notes:""}),c=Ls(),{data:u=[]}=Cr({queryKey:["suppliers",e],queryFn:async()=>{let w=Ge.from("suppliers").select("*").order("name");e&&(w=w.or(`name.ilike.%${e}%,contact_name.ilike.%${e}%,email.ilike.%${e}%`));const{data:A,error:E}=await w;if(E)throw E;return A}}),h=Di({mutationFn:async w=>{const{error:A}=await Ge.from("suppliers").insert({name:w.name,contact_name:w.contact_name||null,email:w.email||null,phone:w.phone||null,address:w.address||null,tax_id:w.tax_id||null,payment_terms:w.payment_terms||null,credit_limit:parseFloat(w.credit_limit),active:w.active,notes:w.notes||null});if(A)throw A},onSuccess:()=>{c.invalidateQueries({queryKey:["suppliers"]}),ut.success("Proveedor creado exitosamente"),n(!1),y()},onError:w=>{ut.error("Error al crear el proveedor: "+w.message)}}),m=Di({mutationFn:async w=>{const{error:A}=await Ge.from("suppliers").update({name:w.name,contact_name:w.contact_name||null,email:w.email||null,phone:w.phone||null,address:w.address||null,tax_id:w.tax_id||null,payment_terms:w.payment_terms||null,credit_limit:parseFloat(w.credit_limit),active:w.active,notes:w.notes||null}).eq("id",w.id);if(A)throw A},onSuccess:()=>{c.invalidateQueries({queryKey:["suppliers"]}),ut.success("Proveedor actualizado exitosamente"),n(!1),y()},onError:w=>{ut.error("Error al actualizar el proveedor: "+w.message)}}),y=()=>{o({name:"",contact_name:"",email:"",phone:"",address:"",tax_id:"",payment_terms:"",credit_limit:"0",active:!0,notes:""}),a(null)},g=w=>{w.preventDefault(),i?m.mutate({...s,id:i.id}):h.mutate(s)},S=w=>{a(w),o({name:w.name,contact_name:w.contact_name||"",email:w.email||"",phone:w.phone||"",address:w.address||"",tax_id:w.tax_id||"",payment_terms:w.payment_terms||"",credit_limit:w.credit_limit.toString(),active:w.active,notes:w.notes||""}),n(!0)},_=(w,A)=>w===0?{color:"bg-green-500",text:"Al día"}:w>A?{color:"bg-red-500",text:"Excedido"}:w>A*.8?{color:"bg-yellow-500",text:"Alto"}:{color:"bg-blue-500",text:"Normal"};return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Proveedores"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestión de proveedores y crédito"})]}),d.jsxs(Aa,{open:r,onOpenChange:n,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{onClick:y,children:[d.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Nuevo Proveedor"]})}),d.jsxs(sa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsx(oa,{children:d.jsx(la,{children:i?"Editar Proveedor":"Nuevo Proveedor"})}),d.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"name",children:"Nombre del Proveedor *"}),d.jsx(pt,{id:"name",value:s.name,onChange:w=>o({...s,name:w.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"contact_name",children:"Persona de Contacto"}),d.jsx(pt,{id:"contact_name",value:s.contact_name,onChange:w=>o({...s,contact_name:w.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"email",children:"Email"}),d.jsx(pt,{id:"email",type:"email",value:s.email,onChange:w=>o({...s,email:w.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"phone",children:"Teléfono"}),d.jsx(pt,{id:"phone",value:s.phone,onChange:w=>o({...s,phone:w.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"address",children:"Dirección"}),d.jsx(ml,{id:"address",value:s.address,onChange:w=>o({...s,address:w.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"tax_id",children:"RUC/DNI"}),d.jsx(pt,{id:"tax_id",value:s.tax_id,onChange:w=>o({...s,tax_id:w.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"payment_terms",children:"Términos de Pago"}),d.jsx(pt,{id:"payment_terms",placeholder:"Ej: 30 días",value:s.payment_terms,onChange:w=>o({...s,payment_terms:w.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"credit_limit",children:"Límite de Crédito"}),d.jsx(pt,{id:"credit_limit",type:"number",step:"0.01",value:s.credit_limit,onChange:w=>o({...s,credit_limit:w.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"notes",children:"Notas"}),d.jsx(ml,{id:"notes",value:s.notes,onChange:w=>o({...s,notes:w.target.value})})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Vm,{id:"active",checked:s.active,onCheckedChange:w=>o({...s,active:w})}),d.jsx(dt,{htmlFor:"active",children:"Proveedor Activo"})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{type:"button",variant:"outline",onClick:()=>{n(!1),y()},children:"Cancelar"}),d.jsxs(ot,{type:"submit",children:[i?"Actualizar":"Crear"," Proveedor"]})]})]})]})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Total Proveedores"}),d.jsx(lm,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Pt,{children:[d.jsx("div",{className:"text-2xl font-bold",children:u.length}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.filter(w=>w.active).length," activos"]})]})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Deuda Total"}),d.jsx(u_,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Pt,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:["$",u.reduce((w,A)=>w+A.current_balance,0).toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Balance pendiente"})]})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Crédito Disponible"}),d.jsx(lm,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Pt,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:["$",u.reduce((w,A)=>w+Math.max(0,A.credit_limit-A.current_balance),0).toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Límite restante"})]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{children:"Lista de Proveedores"})}),d.jsxs(Pt,{children:[d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar proveedores...",value:e,onChange:w=>t(w.target.value),className:"pl-8"})]})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Proveedor"}),d.jsx(rt,{children:"Contacto"}),d.jsx(rt,{children:"Email"}),d.jsx(rt,{children:"Teléfono"}),d.jsx(rt,{children:"Balance"}),d.jsx(rt,{children:"Crédito"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{children:"Acciones"})]})}),d.jsxs(Ki,{children:[u.map(w=>{const A=_(w.current_balance,w.credit_limit);return d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:w.name}),d.jsx(Ke,{children:w.contact_name||"-"}),d.jsx(Ke,{children:w.email||"-"}),d.jsx(Ke,{children:w.phone||"-"}),d.jsx(Ke,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"font-medium",children:["$",w.current_balance.toFixed(2)]}),d.jsx(Yr,{className:A.color,children:A.text})]})}),d.jsxs(Ke,{children:["$",w.credit_limit.toFixed(2)]}),d.jsx(Ke,{children:d.jsx(Yr,{variant:w.active?"default":"secondary",children:w.active?"Activo":"Inactivo"})}),d.jsx(Ke,{children:d.jsx(ot,{variant:"outline",size:"sm",onClick:()=>S(w),children:d.jsx(nv,{className:"h-4 w-4"})})})]},w.id)}),u.length===0&&d.jsx(dr,{children:d.jsx(Ke,{colSpan:8,className:"text-center text-muted-foreground",children:"No se encontraron proveedores"})})]})]})})]})]})]})})}const r9e=_5({name:Rn().trim().min(1,"El nombre es requerido").max(200,"El nombre debe tener máximo 200 caracteres"),email:Rn().trim().toLowerCase().max(255,"El email debe tener máximo 255 caracteres").refine(e=>e===""||Rn().email().safeParse(e).success,"Email inválido").optional(),phone:Rn().max(20,"El teléfono debe tener máximo 20 caracteres").optional(),document:Rn().max(50,"El documento debe tener máximo 50 caracteres").optional(),address:Rn().max(500,"La dirección debe tener máximo 500 caracteres").optional(),credit_limit:Ch({invalid_type_error:"El límite de crédito debe ser un número"}).nonnegative("El límite de crédito no puede ser negativo").max(99999999999e-2,"El límite de crédito es demasiado alto").optional(),payment_terms:Rn().max(100,"Los términos de pago deben tener máximo 100 caracteres").optional()});function n9e(){const[e,t]=M.useState(""),[r,n]=M.useState(!1),[i,a]=M.useState(!1),[s,o]=M.useState(null),[c,u]=M.useState(null),[h,m]=M.useState({name:"",email:"",phone:"",document:"",address:"",credit_limit:"",payment_terms:""}),[y,g]=M.useState(!1),[S,_]=M.useState({amount:"",payment_method:"cash",notes:""}),w=Ls(),{data:A}=Cr({queryKey:["customers",e],queryFn:async()=>{let W=Ge.from("customers").select("*").order("created_at",{ascending:!1});if(e){const ne=cc(e);ne&&(W=W.or(`name.ilike.%${ne}%,email.ilike.%${ne}%,phone.ilike.%${ne}%`))}const{data:V,error:Q}=await W;if(Q)throw Q;return V}}),{data:E}=Cr({queryKey:["customer-sales",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return[];const{data:W,error:V}=await Ge.from("sales").select(`
          *,
          sale_items(*)
        `).eq("customer_id",s.id).order("created_at",{ascending:!1});if(V)throw V;return W},enabled:!!(s!=null&&s.id)}),{data:O}=Cr({queryKey:["customer-payments",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return[];const{data:W,error:V}=await Ge.from("customer_payments").select("*").eq("customer_id",s.id).order("payment_date",{ascending:!1});if(V)throw V;return W},enabled:!!(s!=null&&s.id)}),I=Di({mutationFn:async W=>{const{error:V}=await Ge.from("customers").insert(W);if(V)throw V},onSuccess:()=>{ut.success("Cliente creado exitosamente"),w.invalidateQueries({queryKey:["customers"]}),n(!1),B()},onError:W=>{ut.error(W.message||"Error al crear cliente")}}),k=Di({mutationFn:async({id:W,data:V})=>{const{error:Q}=await Ge.from("customers").update(V).eq("id",W);if(Q)throw Q},onSuccess:()=>{ut.success("Cliente actualizado exitosamente"),w.invalidateQueries({queryKey:["customers"]}),n(!1),u(null),B()},onError:W=>{ut.error(W.message||"Error al actualizar cliente")}}),F=Di({mutationFn:async W=>{const{data:{user:V}}=await Ge.auth.getUser();if(!V)throw new Error("Usuario no autenticado");const{error:Q}=await Ge.from("customer_payments").insert({...W,user_id:V.id});if(Q)throw Q},onSuccess:()=>{ut.success("Pago registrado exitosamente"),w.invalidateQueries({queryKey:["customers"]}),w.invalidateQueries({queryKey:["customer-payments"]}),g(!1),_({amount:"",payment_method:"cash",notes:""})},onError:W=>{ut.error(W.message||"Error al registrar pago")}}),B=()=>{m({name:"",email:"",phone:"",document:"",address:"",credit_limit:"",payment_terms:""})},D=W=>{W.preventDefault();try{const V=r9e.parse({name:h.name,email:h.email||void 0,phone:h.phone||void 0,document:h.document||void 0,address:h.address||void 0,credit_limit:h.credit_limit?parseFloat(h.credit_limit):void 0,payment_terms:h.payment_terms||void 0}),Q={name:V.name,email:V.email||null,phone:V.phone||null,document:V.document||null,address:V.address||null,credit_limit:V.credit_limit??0,payment_terms:V.payment_terms||null};c?k.mutate({id:c.id,data:Q}):I.mutate(Q)}catch(V){V instanceof Ms?ut.error(V.errors[0].message):ut.error("Error al validar los datos del cliente")}},P=W=>{W.preventDefault(),s&&F.mutate({customer_id:s.id,amount:parseFloat(S.amount),payment_method:S.payment_method,notes:S.notes||null})},K=W=>{var V;u(W),m({name:W.name,email:W.email||"",phone:W.phone||"",document:W.document||"",address:W.address||"",credit_limit:((V=W.credit_limit)==null?void 0:V.toString())||"",payment_terms:W.payment_terms||""}),n(!0)},$=W=>{o(W),a(!0)},z=(E==null?void 0:E.reduce((W,V)=>W+Number(V.total),0))||0,X=W=>{const V={...W,items:W.sale_items||[],customer:s};nY(V)};return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Clientes"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu base de clientes"})]}),d.jsxs(Aa,{open:r,onOpenChange:n,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{onClick:()=>{u(null),B()},children:[d.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Nuevo Cliente"]})}),d.jsxs(sa,{className:"max-w-lg",children:[d.jsx(oa,{children:d.jsx(la,{children:c?"Editar Cliente":"Nuevo Cliente"})}),d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"name",children:"Nombre *"}),d.jsx(pt,{id:"name",value:h.name,onChange:W=>m({...h,name:W.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"email",children:"Email"}),d.jsx(pt,{id:"email",type:"email",value:h.email,onChange:W=>m({...h,email:W.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"phone",children:"Teléfono"}),d.jsx(pt,{id:"phone",value:h.phone,onChange:W=>m({...h,phone:W.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"document",children:"Documento"}),d.jsx(pt,{id:"document",value:h.document,onChange:W=>m({...h,document:W.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"address",children:"Dirección"}),d.jsx(pt,{id:"address",value:h.address,onChange:W=>m({...h,address:W.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"credit_limit",children:"Límite de Crédito"}),d.jsx(pt,{id:"credit_limit",type:"number",step:"0.01",value:h.credit_limit,onChange:W=>m({...h,credit_limit:W.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"payment_terms",children:"Condiciones de Pago"}),d.jsx(pt,{id:"payment_terms",placeholder:"Ej: 30 días",value:h.payment_terms,onChange:W=>m({...h,payment_terms:W.target.value})})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),d.jsx(ot,{type:"submit",children:c?"Actualizar":"Crear"})]})]})]})]})]}),d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar clientes...",value:e,onChange:W=>t(W.target.value),className:"pl-10"})]})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Nombre"}),d.jsx(rt,{children:"Email"}),d.jsx(rt,{children:"Teléfono"}),d.jsx(rt,{children:"Saldo"}),d.jsx(rt,{children:"Límite"}),d.jsx(rt,{className:"text-right",children:"Acciones"})]})}),d.jsx(Ki,{children:A==null?void 0:A.map(W=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:W.name}),d.jsx(Ke,{children:W.email||"-"}),d.jsx(Ke,{children:W.phone||"-"}),d.jsx(Ke,{children:d.jsxs(Yr,{variant:Number(W.current_balance)>0?"destructive":"default",children:["$",Number(W.current_balance||0).toFixed(2)]})}),d.jsxs(Ke,{children:["$",Number(W.credit_limit||0).toFixed(2)]}),d.jsxs(Ke,{className:"text-right space-x-2",children:[Number(W.current_balance)>0&&d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>{o(W),g(!0)},children:d.jsx(Cf,{className:"h-4 w-4"})}),d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>$(W),children:d.jsx(VN,{className:"h-4 w-4"})}),d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>K(W),children:d.jsx(nv,{className:"h-4 w-4"})})]})]},W.id))})]})})]}),d.jsx(Aa,{open:i,onOpenChange:a,children:d.jsxs(sa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[d.jsx(oa,{children:d.jsxs(la,{className:"flex items-center gap-2",children:[d.jsx(sm,{className:"h-5 w-5 text-primary"}),"Cuenta Corriente - ",s==null?void 0:s.name]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(At,{children:d.jsx(Pt,{className:"pt-6",children:d.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Actual"}),d.jsxs("p",{className:`text-2xl font-bold ${Number(s==null?void 0:s.current_balance)>0?"text-destructive":"text-success"}`,children:["$",Number((s==null?void 0:s.current_balance)||0).toFixed(2)]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Límite de Crédito"}),d.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",Number((s==null?void 0:s.credit_limit)||0).toFixed(2)]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Compras"}),d.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.length)||0})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Promedio"}),d.jsxs("p",{className:"text-2xl font-bold",children:["$",E!=null&&E.length?(z/E.length).toFixed(2):"0.00"]})]})]})})}),d.jsxs(Dy,{defaultValue:"sales",className:"w-full",children:[d.jsxs(_1,{className:"grid w-full grid-cols-2",children:[d.jsx(Ra,{value:"sales",children:"Ventas"}),d.jsx(Ra,{value:"payments",children:"Pagos"})]}),d.jsx(Da,{value:"sales",className:"mt-4",children:d.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Número"}),d.jsx(rt,{children:"Fecha"}),d.jsx(rt,{children:"Método"}),d.jsx(rt,{children:"Total"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{className:"text-right",children:"Acción"})]})}),d.jsx(Ki,{children:E==null?void 0:E.map(W=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:W.sale_number}),d.jsx(Ke,{children:Yi(new Date(W.created_at),"dd/MM/yyyy HH:mm",{locale:Xi})}),d.jsx(Ke,{children:d.jsx(Yr,{variant:"outline",children:W.payment_method==="cash"?"Efectivo":W.payment_method==="card"?"Tarjeta":"Transferencia"})}),d.jsxs(Ke,{className:"font-bold text-primary",children:["$",Number(W.total).toFixed(2)]}),d.jsx(Ke,{children:d.jsx(Yr,{className:"bg-success",children:"Completada"})}),d.jsx(Ke,{className:"text-right",children:d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>X(W),children:d.jsx(YE,{className:"h-4 w-4"})})})]},W.id))})]})})}),d.jsx(Da,{value:"payments",className:"mt-4",children:d.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Fecha"}),d.jsx(rt,{children:"Método"}),d.jsx(rt,{children:"Monto"}),d.jsx(rt,{children:"Notas"})]})}),d.jsx(Ki,{children:O==null?void 0:O.map(W=>d.jsxs(dr,{children:[d.jsx(Ke,{children:Yi(new Date(W.payment_date),"dd/MM/yyyy HH:mm",{locale:Xi})}),d.jsx(Ke,{children:d.jsx(Yr,{variant:"outline",children:W.payment_method==="cash"?"Efectivo":W.payment_method==="card"?"Tarjeta":"Transferencia"})}),d.jsxs(Ke,{className:"font-bold text-success",children:["$",Number(W.amount).toFixed(2)]}),d.jsx(Ke,{className:"text-sm text-muted-foreground",children:W.notes||"-"})]},W.id))})]})})})]})]})]})}),d.jsx(Aa,{open:y,onOpenChange:g,children:d.jsxs(sa,{children:[d.jsx(oa,{children:d.jsxs(la,{className:"flex items-center gap-2",children:[d.jsx(WN,{className:"h-5 w-5 text-primary"}),"Registrar Pago - ",s==null?void 0:s.name]})}),d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsx(At,{children:d.jsx(Pt,{className:"pt-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Actual"}),d.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["$",Number((s==null?void 0:s.current_balance)||0).toFixed(2)]})]})})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"payment-amount",children:"Monto del Pago *"}),d.jsx(pt,{id:"payment-amount",type:"number",step:"0.01",value:S.amount,onChange:W=>_({...S,amount:W.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"payment-method",children:"Método de Pago *"}),d.jsxs("select",{id:"payment-method",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:S.payment_method,onChange:W=>_({...S,payment_method:W.target.value}),children:[d.jsx("option",{value:"cash",children:"Efectivo"}),d.jsx("option",{value:"card",children:"Tarjeta"}),d.jsx("option",{value:"transfer",children:"Transferencia"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"payment-notes",children:"Notas"}),d.jsx(pt,{id:"payment-notes",value:S.notes,onChange:W=>_({...S,notes:W.target.value})})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),d.jsx(ot,{type:"submit",children:"Registrar Pago"})]})]})]})})]})})}function i9e(){var g,S,_,w,A,E;const[e,t]=M.useState(""),[r,n]=M.useState(null),[i,a]=M.useState(!1),s=Ls(),o=Di({mutationFn:async O=>{var z;const{data:I,error:k}=await Ge.from("sales").select("*, sale_items(*), customer:customers(name)").eq("id",O).single();if(k)throw k;const{data:{user:F}}=await Ge.auth.getUser();if(!F)throw new Error("No autenticado");const{data:B}=await Ge.rpc("generate_delivery_number"),D=((z=I.customer)==null?void 0:z.name)||"Cliente",{data:P,error:K}=await Ge.from("delivery_notes").insert({delivery_number:B,sale_id:O,customer_id:I.customer_id,customer_name:D,user_id:F.id,subtotal:I.subtotal,total:I.total,status:"pending"}).select().single();if(K)throw K;const $=I.sale_items.map(X=>({delivery_note_id:P.id,product_id:X.product_id,product_name:X.product_name,quantity:X.quantity,unit_price:X.unit_price,subtotal:X.subtotal}));return await Ge.from("delivery_note_items").insert($),P},onSuccess:()=>{ut.success("Remito generado exitosamente"),s.invalidateQueries({queryKey:["delivery-notes"]})},onError:O=>{ut.error("Error: "+O.message)}}),{data:c}=Cr({queryKey:["sales",e],queryFn:async()=>{let O=Ge.from("sales").select(`
          *,
          customer:customers(name, email, phone, document, address),
          sale_items(*)
        `).order("created_at",{ascending:!1});if(e){const F=cc(e);F&&(O=O.or(`sale_number.ilike.%${F}%`))}const{data:I,error:k}=await O;if(k)throw k;return I}}),{data:u}=Cr({queryKey:["sale-details",r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))return null;const{data:O,error:I}=await Ge.from("sales").select(`
          *,
          customer:customers(*),
          sale_items(*)
        `).eq("id",r.id).single();if(I)throw I;if(O!=null&&O.user_id){const{data:k}=await Ge.from("profiles").select("full_name").eq("id",O.user_id).single();return{...O,profile:k}}return O},enabled:!!(r!=null&&r.id)}),h=O=>({cash:"Efectivo",card:"Tarjeta",transfer:"Transferencia"})[O]||O,m=O=>{n(O),a(!0)},y=O=>{const I={...O,items:O.sale_items||[]};nY(I)};return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Ventas"}),d.jsx("p",{className:"text-muted-foreground",children:"Historial de transacciones"})]}),d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar por número de venta...",value:e,onChange:O=>t(O.target.value),className:"pl-10"})]})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Número"}),d.jsx(rt,{children:"Fecha"}),d.jsx(rt,{children:"Cliente"}),d.jsx(rt,{children:"Método de Pago"}),d.jsx(rt,{children:"Total"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{className:"text-right",children:"Acciones"})]})}),d.jsx(Ki,{children:c==null?void 0:c.map(O=>{var I;return d.jsxs(dr,{children:[d.jsxs(Ke,{className:"font-medium flex items-center gap-2",children:[d.jsx(sm,{className:"h-4 w-4 text-muted-foreground"}),O.sale_number]}),d.jsx(Ke,{children:Yi(new Date(O.created_at),"dd/MM/yyyy HH:mm",{locale:Xi})}),d.jsx(Ke,{children:((I=O.customer)==null?void 0:I.name)||"Cliente general"}),d.jsx(Ke,{children:d.jsx(Yr,{variant:"outline",children:h(O.payment_method)})}),d.jsxs(Ke,{className:"font-bold text-primary",children:["$",Number(O.total).toFixed(2)]}),d.jsx(Ke,{children:d.jsx(Yr,{className:"bg-success",children:O.status==="completed"?"Completada":O.status})}),d.jsxs(Ke,{className:"text-right space-x-2",children:[d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>m(O),children:d.jsx(VN,{className:"h-4 w-4"})}),d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>y(O),children:d.jsx(YE,{className:"h-4 w-4"})}),d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>o.mutate(O.id),disabled:o.isPending,children:d.jsx(E0,{className:"h-4 w-4"})})]})]},O.id)})})]})})]}),d.jsx(Aa,{open:i,onOpenChange:a,children:d.jsxs(sa,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx(oa,{children:d.jsxs(la,{className:"flex items-center gap-2",children:[d.jsx(sm,{className:"h-5 w-5 text-primary"}),"Detalle de Venta - ",r==null?void 0:r.sale_number]})}),u&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs(At,{children:[d.jsx(Xt,{className:"pb-3",children:d.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Información de Venta"})}),d.jsxs(Pt,{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha:"}),d.jsx("span",{className:"font-medium",children:Yi(new Date(u.created_at),"dd/MM/yyyy HH:mm",{locale:Xi})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Vendedor:"}),d.jsx("span",{className:"font-medium",children:((g=u.profile)==null?void 0:g.full_name)||"-"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Método de Pago:"}),d.jsx(Yr,{variant:"outline",children:h(u.payment_method)})]}),u.installments>1&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Cuotas:"}),d.jsxs("span",{className:"font-medium",children:[u.installments,"x $",Number(u.installment_amount).toFixed(2)]})]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{className:"pb-3",children:d.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Información del Cliente"})}),d.jsxs(Pt,{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Nombre:"}),d.jsx("span",{className:"font-medium",children:((S=u.customer)==null?void 0:S.name)||"Cliente general"})]}),((_=u.customer)==null?void 0:_.email)&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Email:"}),d.jsx("span",{className:"font-medium text-xs",children:u.customer.email})]}),((w=u.customer)==null?void 0:w.phone)&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Teléfono:"}),d.jsx("span",{className:"font-medium",children:u.customer.phone})]}),((A=u.customer)==null?void 0:A.document)&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Documento:"}),d.jsx("span",{className:"font-medium",children:u.customer.document})]})]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{className:"text-sm font-medium",children:"Productos"})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Producto"}),d.jsx(rt,{className:"text-center",children:"Cantidad"}),d.jsx(rt,{className:"text-right",children:"Precio Unit."}),d.jsx(rt,{className:"text-right",children:"Subtotal"})]})}),d.jsx(Ki,{children:(E=u.sale_items)==null?void 0:E.map(O=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:O.product_name}),d.jsx(Ke,{className:"text-center",children:O.quantity}),d.jsxs(Ke,{className:"text-right",children:["$",Number(O.unit_price).toFixed(2)]}),d.jsxs(Ke,{className:"text-right font-medium",children:["$",Number(O.subtotal).toFixed(2)]})]},O.id))})]})})]}),d.jsx(At,{children:d.jsx(Pt,{className:"pt-6",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),d.jsxs("span",{className:"font-medium",children:["$",Number(u.subtotal).toFixed(2)]})]}),Number(u.discount)>0&&d.jsxs("div",{className:"flex justify-between text-sm text-destructive",children:[d.jsxs("span",{children:["Descuento (",u.discount_rate,"%):"]}),d.jsxs("span",{children:["-$",Number(u.discount).toFixed(2)]})]}),Number(u.tax)>0&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:"text-muted-foreground",children:["IVA (",u.tax_rate,"%):"]}),d.jsxs("span",{className:"font-medium",children:["$",Number(u.tax).toFixed(2)]})]}),d.jsx(o1,{}),d.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{className:"text-primary",children:["$",Number(u.total).toFixed(2)]})]})]})})}),u.notes&&d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{className:"text-sm font-medium",children:"Notas"})}),d.jsx(Pt,{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:u.notes})})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{variant:"outline",onClick:()=>a(!1),children:"Cerrar"}),d.jsxs(ot,{variant:"outline",onClick:()=>{o.mutate(u.id),a(!1)},disabled:o.isPending,children:[d.jsx(E0,{className:"mr-2 h-4 w-4"}),"Generar Remito"]}),d.jsxs(ot,{onClick:()=>y(u),children:[d.jsx(YE,{className:"mr-2 h-4 w-4"}),"Imprimir Ticket"]})]})]})]})})]})})}const JL={received:"Recibido",in_diagnosis:"En diagnóstico",in_repair:"En reparación",ready:"Listo",delivered:"Entregado"},a9e={received:"bg-blue-500",in_diagnosis:"bg-yellow-500",in_repair:"bg-orange-500",ready:"bg-green-500",delivered:"bg-gray-500"};function s9e(){const[e,t]=M.useState(""),[r,n]=M.useState(!1),[i,a]=M.useState(null),[s,o]=M.useState({customer_id:"",device_type:"",brand:"",model:"",serial_number:"",reported_issue:"",diagnosis:"",status:"received",estimated_completion_date:"",labor_cost:"0",parts_cost:"0",notes:""}),c=Ls(),{data:u=[]}=Cr({queryKey:["technical-services",e],queryFn:async()=>{let w=Ge.from("technical_services").select("*, customers(name)").order("created_at",{ascending:!1});e&&(w=w.or(`service_number.ilike.%${e}%,device_type.ilike.%${e}%`));const{data:A,error:E}=await w;if(E)throw E;return A}}),{data:h=[]}=Cr({queryKey:["customers-list"],queryFn:async()=>{const{data:w,error:A}=await Ge.from("customers").select("id, name").order("name");if(A)throw A;return w}}),m=Di({mutationFn:async w=>{const{data:A}=await Ge.auth.getUser();if(!A.user)throw new Error("Usuario no autenticado");const{data:E}=await Ge.rpc("generate_service_number"),O=parseFloat(w.labor_cost)+parseFloat(w.parts_cost),{error:I}=await Ge.from("technical_services").insert({service_number:E,customer_id:w.customer_id||null,device_type:w.device_type,brand:w.brand||null,model:w.model||null,serial_number:w.serial_number||null,reported_issue:w.reported_issue,diagnosis:w.diagnosis||null,status:w.status,estimated_completion_date:w.estimated_completion_date||null,labor_cost:parseFloat(w.labor_cost),parts_cost:parseFloat(w.parts_cost),total_cost:O,notes:w.notes||null,user_id:A.user.id});if(I)throw I},onSuccess:()=>{c.invalidateQueries({queryKey:["technical-services"]}),ut.success("Servicio técnico creado exitosamente"),n(!1),g()},onError:w=>{ut.error("Error al crear el servicio: "+w.message)}}),y=Di({mutationFn:async w=>{const A=parseFloat(w.labor_cost)+parseFloat(w.parts_cost),E={customer_id:w.customer_id||null,device_type:w.device_type,brand:w.brand||null,model:w.model||null,serial_number:w.serial_number||null,reported_issue:w.reported_issue,diagnosis:w.diagnosis||null,status:w.status,estimated_completion_date:w.estimated_completion_date||null,labor_cost:parseFloat(w.labor_cost),parts_cost:parseFloat(w.parts_cost),total_cost:A,notes:w.notes||null};w.status==="ready"&&!(i!=null&&i.completed_date)&&(E.completed_date=new Date().toISOString()),w.status==="delivered"&&!(i!=null&&i.delivered_date)&&(E.delivered_date=new Date().toISOString());const{error:O}=await Ge.from("technical_services").update(E).eq("id",w.id);if(O)throw O},onSuccess:()=>{c.invalidateQueries({queryKey:["technical-services"]}),ut.success("Servicio actualizado exitosamente"),n(!1),g()},onError:w=>{ut.error("Error al actualizar el servicio: "+w.message)}}),g=()=>{o({customer_id:"",device_type:"",brand:"",model:"",serial_number:"",reported_issue:"",diagnosis:"",status:"received",estimated_completion_date:"",labor_cost:"0",parts_cost:"0",notes:""}),a(null)},S=w=>{w.preventDefault(),i?y.mutate({...s,id:i.id}):m.mutate(s)},_=w=>{a(w),o({customer_id:w.customer_id||"",device_type:w.device_type,brand:w.brand||"",model:w.model||"",serial_number:w.serial_number||"",reported_issue:w.reported_issue,diagnosis:w.diagnosis||"",status:w.status,estimated_completion_date:w.estimated_completion_date?Yi(new Date(w.estimated_completion_date),"yyyy-MM-dd"):"",labor_cost:w.labor_cost.toString(),parts_cost:w.parts_cost.toString(),notes:w.notes||""}),n(!0)};return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Servicios Técnicos"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestión de reparaciones y servicios"})]}),d.jsxs(Aa,{open:r,onOpenChange:n,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{onClick:g,children:[d.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Nuevo Servicio"]})}),d.jsxs(sa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsx(oa,{children:d.jsx(la,{children:i?"Editar Servicio":"Nuevo Servicio Técnico"})}),d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"customer_id",children:"Cliente (opcional)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ro,{value:s.customer_id||void 0,onValueChange:w=>o({...s,customer_id:w}),children:[d.jsx(ks,{className:"flex-1",children:d.jsx(no,{placeholder:"Seleccionar cliente"})}),d.jsx(Ps,{children:h.map(w=>d.jsx(cn,{value:w.id,children:w.name},w.id))})]}),s.customer_id&&d.jsx(ot,{type:"button",variant:"outline",size:"icon",onClick:()=>o({...s,customer_id:""}),children:"×"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"status",children:"Estado"}),d.jsxs(ro,{value:s.status,onValueChange:w=>o({...s,status:w}),children:[d.jsx(ks,{children:d.jsx(no,{})}),d.jsx(Ps,{children:Object.entries(JL).map(([w,A])=>d.jsx(cn,{value:w,children:A},w))})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"device_type",children:"Tipo de Equipo *"}),d.jsx(pt,{id:"device_type",value:s.device_type,onChange:w=>o({...s,device_type:w.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"brand",children:"Marca"}),d.jsx(pt,{id:"brand",value:s.brand,onChange:w=>o({...s,brand:w.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"model",children:"Modelo"}),d.jsx(pt,{id:"model",value:s.model,onChange:w=>o({...s,model:w.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"serial_number",children:"Número de Serie"}),d.jsx(pt,{id:"serial_number",value:s.serial_number,onChange:w=>o({...s,serial_number:w.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"reported_issue",children:"Problema Reportado *"}),d.jsx(ml,{id:"reported_issue",value:s.reported_issue,onChange:w=>o({...s,reported_issue:w.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"diagnosis",children:"Diagnóstico"}),d.jsx(ml,{id:"diagnosis",value:s.diagnosis,onChange:w=>o({...s,diagnosis:w.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"estimated_completion_date",children:"Fecha Estimada de Entrega"}),d.jsx(pt,{id:"estimated_completion_date",type:"date",value:s.estimated_completion_date,onChange:w=>o({...s,estimated_completion_date:w.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"labor_cost",children:"Costo de Mano de Obra"}),d.jsx(pt,{id:"labor_cost",type:"number",step:"0.01",value:s.labor_cost,onChange:w=>o({...s,labor_cost:w.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"parts_cost",children:"Costo de Repuestos"}),d.jsx(pt,{id:"parts_cost",type:"number",step:"0.01",value:s.parts_cost,onChange:w=>o({...s,parts_cost:w.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"notes",children:"Notas Adicionales"}),d.jsx(ml,{id:"notes",value:s.notes,onChange:w=>o({...s,notes:w.target.value})})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{type:"button",variant:"outline",onClick:()=>{n(!1),g()},children:"Cancelar"}),d.jsxs(ot,{type:"submit",children:[i?"Actualizar":"Crear"," Servicio"]})]})]})]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{children:"Lista de Servicios"})}),d.jsxs(Pt,{children:[d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar por número de servicio o equipo...",value:e,onChange:w=>t(w.target.value),className:"pl-8"})]})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Número"}),d.jsx(rt,{children:"Cliente"}),d.jsx(rt,{children:"Equipo"}),d.jsx(rt,{children:"Problema"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{children:"Fecha Recibido"}),d.jsx(rt,{children:"Total"}),d.jsx(rt,{children:"Acciones"})]})}),d.jsxs(Ki,{children:[u.map(w=>{var A;return d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:w.service_number}),d.jsx(Ke,{children:((A=w.customers)==null?void 0:A.name)||"Sin cliente"}),d.jsxs(Ke,{children:[w.device_type,w.brand&&` - ${w.brand}`]}),d.jsx(Ke,{className:"max-w-xs truncate",children:w.reported_issue}),d.jsx(Ke,{children:d.jsx(Yr,{className:a9e[w.status],children:JL[w.status]})}),d.jsx(Ke,{children:Yi(new Date(w.received_date),"dd/MM/yyyy")}),d.jsxs(Ke,{children:["$",w.total_cost.toFixed(2)]}),d.jsx(Ke,{children:d.jsx(ot,{variant:"outline",size:"sm",onClick:()=>_(w),children:d.jsx(sB,{className:"h-4 w-4"})})})]},w.id)}),u.length===0&&d.jsx(dr,{children:d.jsx(Ke,{colSpan:8,className:"text-center text-muted-foreground",children:"No se encontraron servicios técnicos"})})]})]})})]})]})]})})}function o9e(){const[e,t]=M.useState([]),[r,n]=M.useState(!0),[i,a]=M.useState(""),[s,o]=M.useState(!1),[c,u]=M.useState(!1),[h,m]=M.useState(null),[y,g]=M.useState([]),[S,_]=M.useState(""),[w,A]=M.useState(""),[E,O]=M.useState(!1),[I,k]=M.useState(!1),[F,B]=M.useState(!1),D=[{value:"admin",label:"Administrador",color:"bg-red-500",description:"Acceso total al sistema"},{value:"manager",label:"Gerente",color:"bg-blue-500",description:"Gestión completa excepto configuración crítica"},{value:"cashier",label:"Cajero",color:"bg-purple-500",description:"Ventas y gestión de caja"},{value:"accountant",label:"Contador",color:"bg-yellow-500",description:"Finanzas y reportes"},{value:"viewer",label:"Visualizador",color:"bg-gray-500",description:"Solo lectura"},{value:"employee",label:"Empleado",color:"bg-green-500",description:"Acceso limitado básico"}];M.useEffect(()=>{K(),P()},[]);const P=async()=>{try{const{data:{user:q}}=await Ge.auth.getUser();if(!q)return;const{data:Z}=await Ge.from("user_roles").select("role").eq("user_id",q.id);k((Z==null?void 0:Z.some(ae=>ae.role==="admin"))||!1)}catch(q){console.error("Error checking admin status:",q)}},K=async()=>{try{n(!0);const{data:{user:q}}=await Ge.auth.getUser();if(!q){ut.error("No estás autenticado");return}const{data:Z,error:ae}=await Ge.from("profiles").select("id, full_name");if(ae)throw ae;const{data:ge,error:he}=await Ge.from("user_roles").select("user_id, role");if(he)throw he;const Se=(Z==null?void 0:Z.map(Ae=>{const ye=(ge==null?void 0:ge.filter(Ne=>Ne.user_id===Ae.id).map(Ne=>Ne.role))||[];return{id:Ae.id,full_name:Ae.full_name,email:Ae.id===q.id?q.email||"Sin email":"***@***.***",roles:ye}}))||[];t(Se)}catch(q){ut.error("Error al cargar empleados: "+q.message)}finally{n(!1)}},$=(q,Z)=>{g(Z?[...y,q]:y.filter(ae=>ae!==q))},z=async()=>{if(h)try{const{error:q}=await Ge.from("user_roles").delete().eq("user_id",h.id);if(q)throw q;if(y.length>0){const Z=y.map(ge=>({user_id:h.id,role:ge})),{error:ae}=await Ge.from("user_roles").insert(Z);if(ae)throw ae}ut.success("Roles actualizados exitosamente"),o(!1),K()}catch(q){ut.error("Error al actualizar roles: "+q.message)}},X=q=>{m(q),g(q.roles),o(!0)},W=async()=>{if(!S){ut.error("El email es requerido");return}try{O(!0);const{data:{session:q}}=await Ge.auth.getSession();if(!q){ut.error("No estás autenticado");return}const Z=await fetch("https://pjcfncnydhxrlnaowbae.supabase.co/functions/v1/invite-employee",{method:"POST",headers:{Authorization:`Bearer ${q.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:S,full_name:w})}),ae=await Z.json();if(!Z.ok)throw new Error(ae.error||"Error al invitar empleado");ut.success("Invitación enviada exitosamente"),u(!1),_(""),A(""),K()}catch(q){ut.error("Error al invitar empleado: "+q.message)}finally{O(!1)}},V=async()=>{try{B(!0);const{data:{session:q}}=await Ge.auth.getSession();if(!q){ut.error("No estás autenticado");return}const Z=await fetch("https://pjcfncnydhxrlnaowbae.supabase.co/functions/v1/reset-database",{method:"POST",headers:{Authorization:`Bearer ${q.access_token}`,"Content-Type":"application/json"}}),ae=await Z.json();if(!Z.ok)throw new Error(ae.error||"Error al resetear la base de datos");ut.success("Base de datos reseteada exitosamente")}catch(q){ut.error("Error al resetear la base de datos: "+q.message)}finally{B(!1)}},Q=e.filter(q=>{var Z;return((Z=q.full_name)==null?void 0:Z.toLowerCase().includes(i.toLowerCase()))||q.email.toLowerCase().includes(i.toLowerCase())}),ne=e.filter(q=>q.roles.includes("admin")).length,te=e.filter(q=>q.roles.includes("manager")).length,H=e.filter(q=>q.roles.includes("cashier")).length,le=e.filter(q=>q.roles.includes("accountant")).length;e.filter(q=>q.roles.includes("viewer")).length;const fe=e.filter(q=>q.roles.includes("employee")).length;return d.jsxs(Li,{children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestión de Usuarios"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Administra roles y permisos del sistema"})]}),d.jsx("div",{className:"flex gap-2",children:I&&d.jsxs(d.Fragment,{children:[d.jsxs(Aa,{open:c,onOpenChange:u,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{children:[d.jsx(bee,{className:"h-4 w-4 mr-2"}),"Agregar Empleado"]})}),d.jsxs(sa,{children:[d.jsxs(oa,{children:[d.jsx(la,{children:"Invitar Nuevo Empleado"}),d.jsx(Dw,{children:'Envía una invitación por correo electrónico. El nuevo usuario recibirá un rol de "Empleado" por defecto.'})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"name",children:"Nombre completo (opcional)"}),d.jsx(pt,{id:"name",placeholder:"Juan Pérez",value:w,onChange:q=>A(q.target.value)})]}),d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"email",children:"Email *"}),d.jsx(pt,{id:"email",type:"email",placeholder:"empleado@ejemplo.com",value:S,onChange:q=>_(q.target.value)})]})]}),d.jsxs(ij,{children:[d.jsx(ot,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),d.jsx(ot,{onClick:W,disabled:E,children:E?"Enviando...":"Enviar Invitación"})]})]})]}),d.jsxs(kY,{children:[d.jsx(PY,{asChild:!0,children:d.jsxs(ot,{variant:"destructive",children:[d.jsx(og,{className:"h-4 w-4 mr-2"}),"Reset DB"]})}),d.jsxs(xj,{children:[d.jsxs(bj,{children:[d.jsx(_j,{children:"¿Estás absolutamente seguro?"}),d.jsx(Sj,{children:"Esta acción eliminará todos los datos de ventas, compras, productos, clientes, proveedores y servicios técnicos. Los usuarios y roles permanecerán intactos. Esta acción NO se puede deshacer."})]}),d.jsxs(wj,{children:[d.jsx(Ej,{children:"Cancelar"}),d.jsx(Aj,{onClick:V,disabled:F,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:F?"Reseteando...":"Sí, resetear la base de datos"})]})]})]})]})})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Total"}),d.jsx(GN,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Admins"}),d.jsx(_k,{className:"h-4 w-4 text-red-500"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:ne})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Gerentes"}),d.jsx(_k,{className:"h-4 w-4 text-blue-500"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:te})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Cajeros"}),d.jsx(CS,{className:"h-4 w-4 text-purple-500"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:H})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Contadores"}),d.jsx(CS,{className:"h-4 w-4 text-yellow-500"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:le})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Empleados"}),d.jsx(CS,{className:"h-4 w-4 text-green-500"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:fe})})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(pt,{placeholder:"Buscar por nombre o email...",value:i,onChange:q=>a(q.target.value),className:"pl-10"})]})})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Nombre"}),d.jsx(rt,{children:"ID de Usuario"}),d.jsx(rt,{children:"Roles"}),d.jsx(rt,{className:"text-right",children:"Acciones"})]})}),d.jsx(Ki,{children:r?d.jsx(dr,{children:d.jsx(Ke,{colSpan:4,className:"text-center",children:"Cargando..."})}):Q.length===0?d.jsx(dr,{children:d.jsx(Ke,{colSpan:4,className:"text-center",children:"No se encontraron empleados"})}):Q.map(q=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:q.full_name||"Sin nombre"}),d.jsxs(Ke,{className:"font-mono text-xs",children:[q.id.substring(0,8),"..."]}),d.jsx(Ke,{children:d.jsx("div",{className:"flex gap-1 flex-wrap",children:q.roles.length===0?d.jsx(Yr,{variant:"outline",children:"Sin roles"}):q.roles.map(Z=>{const ae=D.find(ge=>ge.value===Z);return d.jsx(Yr,{className:`${ae==null?void 0:ae.color} text-white`,children:(ae==null?void 0:ae.label)||Z},Z)})})}),d.jsx(Ke,{className:"text-right",children:d.jsx(ot,{variant:"outline",size:"sm",onClick:()=>X(q),children:"Gestionar Roles"})})]},q.id))})]})})]})]}),d.jsx(Aa,{open:s,onOpenChange:o,children:d.jsxs(sa,{children:[d.jsx(oa,{children:d.jsx(la,{children:"Gestionar Roles"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(dt,{className:"text-sm font-medium",children:"Usuario"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(h==null?void 0:h.full_name)||"Sin nombre"}),d.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",h==null?void 0:h.id]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(dt,{className:"text-sm font-medium",children:"Roles asignados"}),D.map(q=>d.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent/50 transition-colors",children:[d.jsx(qw,{id:q.value,checked:y.includes(q.value),onCheckedChange:Z=>$(q.value,Z),className:"mt-1"}),d.jsxs("label",{htmlFor:q.value,className:"flex-1 cursor-pointer",children:[d.jsx("div",{className:"flex items-center gap-2 mb-1",children:d.jsx(Yr,{className:`${q.color} text-white`,children:q.label})}),d.jsx("p",{className:"text-xs text-muted-foreground",children:q.description})]})]},q.value))]}),d.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[d.jsx(ot,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),d.jsx(ot,{onClick:z,children:"Guardar Cambios"})]})]})]})})]})}function l9e(){const e=Ls(),[t,r]=M.useState(!1),[n,i]=M.useState(!1),[a,s]=M.useState(!1),[o,c]=M.useState(""),[u,h]=M.useState(""),[m,y]=M.useState(""),[g,S]=M.useState("income"),[_,w]=M.useState(""),[A,E]=M.useState(""),[O,I]=M.useState(""),{data:k,isLoading:F}=Cr({queryKey:["cash-register"],queryFn:async()=>{const{data:V,error:Q}=await Ge.from("cash_registers").select("*").eq("status","open").order("opening_date",{ascending:!1}).limit(1).maybeSingle();if(Q)throw Q;return V},refetchInterval:5e3}),{data:B=[]}=Cr({queryKey:["cash-movements",k==null?void 0:k.id],queryFn:async()=>{if(!(k!=null&&k.id))return[];const{data:V,error:Q}=await Ge.from("cash_movements").select("*").eq("cash_register_id",k.id).order("created_at",{ascending:!1});if(Q)throw Q;return V||[]},enabled:!!(k!=null&&k.id),refetchInterval:5e3}),D=async()=>{try{const{data:{user:V}}=await Ge.auth.getUser();if(!V)throw new Error("Usuario no autenticado");const{error:Q}=await Ge.from("cash_registers").insert({user_id:V.id,opening_amount:parseFloat(o)||0,status:"open"});if(Q)throw Q;ut.success("Caja abierta exitosamente"),r(!1),c(""),e.invalidateQueries({queryKey:["cash-register"]})}catch(V){ut.error("Error al abrir caja: "+V.message)}},P=async()=>{if(k)try{const V=parseFloat(u)||0,Q=$(),ne=V-Q,{error:te}=await Ge.from("cash_registers").update({closing_date:new Date().toISOString(),closing_amount:V,expected_amount:Q,difference:ne,status:"closed",notes:m||null}).eq("id",k.id);if(te)throw te;ut.success("Caja cerrada exitosamente"),i(!1),h(""),y(""),e.invalidateQueries({queryKey:["cash-register"]})}catch(V){ut.error("Error al cerrar caja: "+V.message)}},K=async()=>{if(k)try{const{data:{user:V}}=await Ge.auth.getUser();if(!V)throw new Error("Usuario no autenticado");const{error:Q}=await Ge.from("cash_movements").insert({cash_register_id:k.id,user_id:V.id,type:g,amount:parseFloat(_)||0,category:A,description:O||null});if(Q)throw Q;ut.success("Movimiento registrado exitosamente"),s(!1),w(""),E(""),I(""),e.invalidateQueries({queryKey:["cash-register"]}),e.invalidateQueries({queryKey:["cash-movements"]})}catch(V){ut.error("Error al registrar movimiento: "+V.message)}},$=()=>{if(!k)return 0;const V=B.filter(ne=>ne.type==="income"||ne.type==="deposit").reduce((ne,te)=>ne+parseFloat(te.amount.toString()),0),Q=B.filter(ne=>ne.type==="expense"||ne.type==="withdrawal").reduce((ne,te)=>ne+parseFloat(te.amount.toString()),0);return parseFloat(k.opening_amount.toString())+V-Q},z=B.filter(V=>V.type==="income"||V.type==="deposit").reduce((V,Q)=>V+parseFloat(Q.amount.toString()),0),X=B.filter(V=>V.type==="expense"||V.type==="withdrawal").reduce((V,Q)=>V+parseFloat(Q.amount.toString()),0),W=k?$():0;return d.jsxs(Li,{children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestión de Caja"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Control de apertura, cierre y movimientos de caja"})]}),d.jsx("div",{className:"flex gap-2",children:k?d.jsxs(d.Fragment,{children:[d.jsxs(ot,{variant:"outline",onClick:()=>s(!0),children:[d.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Registrar Movimiento"]}),d.jsxs(ot,{variant:"destructive",onClick:()=>i(!0),children:[d.jsx(E2,{className:"mr-2 h-4 w-4"}),"Cerrar Caja"]})]}):d.jsxs(ot,{onClick:()=>r(!0),children:[d.jsx(E2,{className:"mr-2 h-4 w-4"}),"Abrir Caja"]})})]}),k?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Monto Inicial"}),d.jsx(Cf,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(Pt,{children:d.jsxs("div",{className:"text-2xl font-bold",children:["$",parseFloat(k.opening_amount.toString()).toFixed(2)]})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Ingresos"}),d.jsx(lm,{className:"h-4 w-4 text-green-500"})]}),d.jsx(Pt,{children:d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+$",z.toFixed(2)]})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Egresos"}),d.jsx(u_,{className:"h-4 w-4 text-red-500"})]}),d.jsx(Pt,{children:d.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["-$",X.toFixed(2)]})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Saldo Actual"}),d.jsx(Cf,{className:"h-4 w-4 text-blue-500"})]}),d.jsx(Pt,{children:d.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",W.toFixed(2)]})})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{children:"Movimientos del Día"})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Tipo"}),d.jsx(rt,{children:"Categoría"}),d.jsx(rt,{children:"Descripción"}),d.jsx(rt,{children:"Monto"}),d.jsx(rt,{children:"Hora"})]})}),d.jsx(Ki,{children:B.length===0?d.jsx(dr,{children:d.jsx(Ke,{colSpan:5,className:"text-center",children:"No hay movimientos registrados"})}):B.map(V=>d.jsxs(dr,{children:[d.jsx(Ke,{children:d.jsxs(Yr,{className:V.type==="income"||V.type==="deposit"?"bg-green-500":"bg-red-500",children:[V.type==="income"&&"Ingreso",V.type==="expense"&&"Egreso",V.type==="deposit"&&"Depósito",V.type==="withdrawal"&&"Retiro"]})}),d.jsx(Ke,{children:V.category}),d.jsx(Ke,{children:V.description||"-"}),d.jsxs(Ke,{className:V.type==="income"||V.type==="deposit"?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[V.type==="income"||V.type==="deposit"?"+":"-","$",parseFloat(V.amount.toString()).toFixed(2)]}),d.jsx(Ke,{children:new Date(V.created_at).toLocaleTimeString()})]},V.id))})]})})]})]}):d.jsx(At,{children:d.jsxs(Pt,{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(E2,{className:"h-16 w-16 text-muted-foreground mb-4"}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay caja abierta"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Debes abrir la caja para comenzar a registrar movimientos"}),d.jsx(ot,{onClick:()=>r(!0),children:"Abrir Caja"})]})})]}),d.jsx(Aa,{open:t,onOpenChange:r,children:d.jsxs(sa,{children:[d.jsx(oa,{children:d.jsx(la,{children:"Abrir Caja"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"opening-amount",children:"Monto Inicial"}),d.jsx(pt,{id:"opening-amount",type:"number",step:"0.01",placeholder:"0.00",value:o,onChange:V=>c(V.target.value)})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),d.jsx(ot,{onClick:D,children:"Abrir Caja"})]})]})]})}),d.jsx(Aa,{open:n,onOpenChange:i,children:d.jsxs(sa,{children:[d.jsx(oa,{children:d.jsx(la,{children:"Cerrar Caja"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"p-4 bg-muted rounded-lg",children:d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{className:"text-sm",children:"Monto esperado:"}),d.jsxs("span",{className:"text-sm font-bold",children:["$",W.toFixed(2)]})]})}),d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"closing-amount",children:"Monto Final (conteo físico)"}),d.jsx(pt,{id:"closing-amount",type:"number",step:"0.01",placeholder:"0.00",value:u,onChange:V=>h(V.target.value)})]}),u&&d.jsx("div",{className:"p-4 bg-muted rounded-lg",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm",children:"Diferencia:"}),d.jsxs("span",{className:`text-sm font-bold ${parseFloat(u)-W>=0?"text-green-600":"text-red-600"}`,children:["$",(parseFloat(u)-W).toFixed(2)]})]})}),d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"closing-notes",children:"Notas (opcional)"}),d.jsx(ml,{id:"closing-notes",placeholder:"Observaciones sobre el cierre de caja...",value:m,onChange:V=>y(V.target.value)})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),d.jsx(ot,{onClick:P,children:"Cerrar Caja"})]})]})]})}),d.jsx(Aa,{open:a,onOpenChange:s,children:d.jsxs(sa,{children:[d.jsx(oa,{children:d.jsx(la,{children:"Registrar Movimiento"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"movement-type",children:"Tipo de Movimiento"}),d.jsxs(ro,{value:g,onValueChange:S,children:[d.jsx(ks,{children:d.jsx(no,{})}),d.jsxs(Ps,{children:[d.jsx(cn,{value:"income",children:"Ingreso"}),d.jsx(cn,{value:"expense",children:"Egreso"}),d.jsx(cn,{value:"deposit",children:"Depósito"}),d.jsx(cn,{value:"withdrawal",children:"Retiro"})]})]})]}),d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"movement-amount",children:"Monto"}),d.jsx(pt,{id:"movement-amount",type:"number",step:"0.01",placeholder:"0.00",value:_,onChange:V=>w(V.target.value)})]}),d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"movement-category",children:"Categoría"}),d.jsx(pt,{id:"movement-category",placeholder:"Ej: Venta, Gasto operativo, etc.",value:A,onChange:V=>E(V.target.value)})]}),d.jsxs("div",{children:[d.jsx(dt,{htmlFor:"movement-description",children:"Descripción (opcional)"}),d.jsx(ml,{id:"movement-description",placeholder:"Detalles del movimiento...",value:O,onChange:V=>I(V.target.value)})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),d.jsx(ot,{onClick:K,children:"Registrar"})]})]})]})})]})}const c9e=()=>{const e=Ls(),[t,r]=M.useState(""),[n,i]=M.useState(!1);M.useState(null);const[a,s]=M.useState(""),[o,c]=M.useState([]),[u,h]=M.useState(""),[m,y]=M.useState(1),[g,S]=M.useState(0),[_,w]=M.useState(0),[A,E]=M.useState(""),{data:O,isLoading:I}=Cr({queryKey:["purchases",t],queryFn:async()=>{let Q=Ge.from("purchases").select(`
          *,
          suppliers(name)
        `).order("purchase_date",{ascending:!1});if(t){const H=cc(t);H&&(Q=Q.ilike("purchase_number",`%${H}%`))}const{data:ne,error:te}=await Q;if(te)throw te;return ne}}),{data:k}=Cr({queryKey:["suppliers"],queryFn:async()=>{const{data:Q,error:ne}=await Ge.from("suppliers").select("*").eq("active",!0).order("name");if(ne)throw ne;return Q}}),{data:F}=Cr({queryKey:["products"],queryFn:async()=>{const{data:Q,error:ne}=await Ge.from("products").select("*").eq("active",!0).order("name");if(ne)throw ne;return Q}}),B=Di({mutationFn:async()=>{const{data:{user:Q}}=await Ge.auth.getUser();if(!Q)throw new Error("No user found");const ne=o.reduce((he,Se)=>he+Se.subtotal,0),te=ne*(_/100),H=ne+te,le=`PUR-${Date.now()}`,{data:fe,error:q}=await Ge.from("purchases").insert({purchase_number:le,supplier_id:a,user_id:Q.id,subtotal:ne,tax:te,tax_rate:_,total:H,notes:A,payment_status:"pending"}).select().single();if(q)throw q;const Z=o.map(he=>({purchase_id:fe.id,product_id:he.product_id,product_name:he.product_name,quantity:he.quantity,unit_cost:he.unit_cost,subtotal:he.subtotal})),{error:ae}=await Ge.from("purchase_items").insert(Z);if(ae)throw ae;for(const he of o){const Se=F==null?void 0:F.find(Ae=>Ae.id===he.product_id);if(Se){const{error:Ae}=await Ge.from("products").update({stock:Se.stock+he.quantity}).eq("id",he.product_id);if(Ae)throw Ae}}const ge=k==null?void 0:k.find(he=>he.id===a);if(ge){const{error:he}=await Ge.from("suppliers").update({current_balance:(ge.current_balance||0)+H}).eq("id",a);if(he)throw he}return fe},onSuccess:()=>{ut.success("Compra registrada exitosamente"),e.invalidateQueries({queryKey:["purchases"]}),e.invalidateQueries({queryKey:["products"]}),e.invalidateQueries({queryKey:["suppliers"]}),D(),i(!1)},onError:Q=>{ut.error("Error al registrar la compra"),console.error(Q)}}),D=()=>{s(""),c([]),h(""),y(1),S(0),w(0),E("")},P=()=>{if(!u){ut.error("Selecciona un producto");return}const Q=F==null?void 0:F.find(H=>H.id===u);if(!Q)return;const ne=m*g,te={product_id:Q.id,product_name:Q.name,quantity:m,unit_cost:g,subtotal:ne};c([...o,te]),h(""),y(1),S(0)},K=Q=>{c(o.filter((ne,te)=>te!==Q))},$=()=>{const Q=o.reduce((te,H)=>te+H.subtotal,0),ne=Q*(_/100);return{subtotal:Q,tax:ne,total:Q+ne}},{subtotal:z,tax:X,total:W}=$(),V=Q=>{const ne={pending:{label:"Pendiente",variant:"secondary"},partial:{label:"Parcial",variant:"outline"},paid:{label:"Pagado",variant:"default"}},te=ne[Q]||ne.pending;return d.jsx(Yr,{variant:te.variant,children:te.label})};return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Gestión de Compras"}),d.jsx("p",{className:"text-muted-foreground",children:"Administra las compras a proveedores"})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsxs(fr,{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Lista de Compras"}),d.jsxs(Aa,{open:n,onOpenChange:i,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{children:[d.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Nueva Compra"]})}),d.jsxs(sa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[d.jsx(oa,{children:d.jsx(la,{children:"Nueva Compra"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(dt,{children:"Proveedor"}),d.jsxs(ro,{value:a,onValueChange:s,children:[d.jsx(ks,{children:d.jsx(no,{placeholder:"Selecciona un proveedor"})}),d.jsx(Ps,{children:k==null?void 0:k.map(Q=>d.jsx(cn,{value:Q.id,children:Q.name},Q.id))})]})]}),d.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[d.jsx("h3",{className:"font-semibold",children:"Agregar Productos"}),d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx(dt,{children:"Producto"}),d.jsxs(ro,{value:u,onValueChange:h,children:[d.jsx(ks,{children:d.jsx(no,{placeholder:"Producto"})}),d.jsx(Ps,{children:F==null?void 0:F.map(Q=>d.jsx(cn,{value:Q.id,children:Q.name},Q.id))})]})]}),d.jsxs("div",{children:[d.jsx(dt,{children:"Cantidad"}),d.jsx(pt,{type:"number",min:"1",value:m,onChange:Q=>y(parseInt(Q.target.value)||1)})]}),d.jsxs("div",{children:[d.jsx(dt,{children:"Costo Unitario"}),d.jsx(pt,{type:"number",min:"0",step:"0.01",value:g,onChange:Q=>S(parseFloat(Q.target.value)||0)})]}),d.jsx("div",{className:"flex items-end",children:d.jsxs(ot,{onClick:P,className:"w-full",children:[d.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Agregar"]})})]}),o.length>0&&d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Producto"}),d.jsx(rt,{children:"Cantidad"}),d.jsx(rt,{children:"Costo Unit."}),d.jsx(rt,{children:"Subtotal"}),d.jsx(rt,{})]})}),d.jsx(Ki,{children:o.map((Q,ne)=>d.jsxs(dr,{children:[d.jsx(Ke,{children:Q.product_name}),d.jsx(Ke,{children:Q.quantity}),d.jsxs(Ke,{children:["$",Q.unit_cost.toFixed(2)]}),d.jsxs(Ke,{children:["$",Q.subtotal.toFixed(2)]}),d.jsx(Ke,{children:d.jsx(ot,{variant:"ghost",size:"sm",onClick:()=>K(ne),children:d.jsx(om,{className:"h-4 w-4"})})})]},ne))})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(dt,{children:"% Impuesto"}),d.jsx(pt,{type:"number",min:"0",step:"0.01",value:_,onChange:Q=>w(parseFloat(Q.target.value)||0)})]}),d.jsxs("div",{children:[d.jsx(dt,{children:"Notas"}),d.jsx(ml,{value:A,onChange:Q=>E(Q.target.value),placeholder:"Notas adicionales..."})]})]}),d.jsxs("div",{className:"border-t pt-4 space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{className:"font-semibold",children:["$",z.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:["Impuesto (",_,"%):"]}),d.jsxs("span",{className:"font-semibold",children:["$",X.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",W.toFixed(2)]})]})]}),d.jsx(ot,{onClick:()=>B.mutate(),disabled:!a||o.length===0,className:"w-full",children:"Registrar Compra"})]})]})]})]})}),d.jsxs(Pt,{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(pt,{placeholder:"Buscar por número de compra...",value:t,onChange:Q=>r(Q.target.value),className:"pl-10"})]})}),d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Número"}),d.jsx(rt,{children:"Fecha"}),d.jsx(rt,{children:"Proveedor"}),d.jsx(rt,{children:"Total"}),d.jsx(rt,{children:"Estado Pago"}),d.jsx(rt,{children:"Registrado por"})]})}),d.jsx(Ki,{children:I?d.jsx(dr,{children:d.jsx(Ke,{colSpan:6,className:"text-center",children:"Cargando..."})}):(O==null?void 0:O.length)===0?d.jsx(dr,{children:d.jsx(Ke,{colSpan:6,className:"text-center",children:"No hay compras registradas"})}):O==null?void 0:O.map(Q=>{var ne;return d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:Q.purchase_number}),d.jsx(Ke,{children:Yi(new Date(Q.purchase_date),"dd/MM/yyyy")}),d.jsx(Ke,{children:((ne=Q.suppliers)==null?void 0:ne.name)||"N/A"}),d.jsxs(Ke,{children:["$",Q.total.toFixed(2)]}),d.jsx(Ke,{children:V(Q.payment_status)}),d.jsx(Ke,{children:"Usuario"})]},Q.id)})})]})]})]})]})})},e7=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"],u9e=()=>{const[e,t]=M.useState("7"),r=()=>{const u=parseInt(e);return{start:mv(Iz(new Date,u)),end:Cz(new Date)}},{data:n}=Cr({queryKey:["reports-sales",e],queryFn:async()=>{const{start:u,end:h}=r(),{data:m,error:y}=await Ge.from("sales").select("created_at, total").gte("created_at",u.toISOString()).lte("created_at",h.toISOString()).order("created_at");if(y)throw y;const g=m.reduce((S,_)=>{const w=Yi(new Date(_.created_at),"dd/MMM",{locale:Xi});return S[w]||(S[w]={day:w,total:0,count:0}),S[w].total+=Number(_.total),S[w].count+=1,S},{});return Object.values(g)}}),{data:i}=Cr({queryKey:["reports-payment-methods",e],queryFn:async()=>{const{start:u,end:h}=r(),{data:m,error:y}=await Ge.from("sales").select("payment_method, total").gte("created_at",u.toISOString()).lte("created_at",h.toISOString());if(y)throw y;const g=m.reduce((S,_)=>{const w=_.payment_method;return S[w]||(S[w]={name:w,value:0}),S[w].value+=Number(_.total),S},{});return Object.values(g)}}),{data:a}=Cr({queryKey:["reports-top-products",e],queryFn:async()=>{const{start:u,end:h}=r(),{data:m,error:y}=await Ge.from("sale_items").select(`
          product_name,
          quantity,
          subtotal,
          sale_id,
          sales!inner(created_at)
        `).gte("sales.created_at",u.toISOString()).lte("sales.created_at",h.toISOString());if(y)throw y;const g=m.reduce((S,_)=>{const w=_.product_name;return S[w]||(S[w]={name:w,quantity:0,revenue:0}),S[w].quantity+=_.quantity,S[w].revenue+=Number(_.subtotal),S},{});return Object.values(g).sort((S,_)=>_.revenue-S.revenue).slice(0,10)}}),{data:s}=Cr({queryKey:["reports-summary",e],queryFn:async()=>{const{start:u,end:h}=r(),{data:m}=await Ge.from("sales").select("total").gte("created_at",u.toISOString()).lte("created_at",h.toISOString()),{data:y}=await Ge.from("purchases").select("total").gte("created_at",u.toISOString()).lte("created_at",h.toISOString()),{data:g}=await Ge.from("cash_movements").select("amount, type").gte("created_at",u.toISOString()).lte("created_at",h.toISOString()),{data:S}=await Ge.from("products").select("*"),_=(S==null?void 0:S.filter(I=>I.stock<(I.min_stock||0)))||[],w=(m==null?void 0:m.reduce((I,k)=>I+Number(k.total),0))||0,A=(y==null?void 0:y.reduce((I,k)=>I+Number(k.total),0))||0,E=(g==null?void 0:g.filter(I=>I.type==="income").reduce((I,k)=>I+Number(k.amount),0))||0,O=(g==null?void 0:g.filter(I=>I.type==="expense").reduce((I,k)=>I+Number(k.amount),0))||0;return{totalSales:w,totalPurchases:A,profit:w-A,cashBalance:E-O,lowStockCount:_.length,salesCount:(m==null?void 0:m.length)||0}}}),{data:o}=Cr({queryKey:["reports-purchases",e],queryFn:async()=>{const{start:u,end:h}=r(),{data:m,error:y}=await Ge.from("purchases").select("created_at, total").gte("created_at",u.toISOString()).lte("created_at",h.toISOString()).order("created_at");if(y)throw y;const g=m.reduce((S,_)=>{const w=Yi(new Date(_.created_at),"dd/MMM",{locale:Xi});return S[w]||(S[w]={day:w,total:0}),S[w].total+=Number(_.total),S},{});return Object.values(g)}}),c=({title:u,value:h,icon:m,trend:y,trendValue:g})=>d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:u}),d.jsx(m,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Pt,{children:[d.jsx("div",{className:"text-2xl font-bold",children:h}),y&&d.jsxs("div",{className:`flex items-center text-sm ${y==="up"?"text-green-600":"text-red-600"}`,children:[y==="up"?d.jsx(ZJ,{className:"h-4 w-4"}):d.jsx(XJ,{className:"h-4 w-4"}),d.jsx("span",{className:"ml-1",children:g})]})]})]});return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Reportes y Análisis"}),d.jsx("p",{className:"text-muted-foreground",children:"Visualiza el rendimiento de tu negocio"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(ro,{value:e,onValueChange:t,children:[d.jsx(ks,{className:"w-[180px]",children:d.jsx(no,{})}),d.jsxs(Ps,{children:[d.jsx(cn,{value:"7",children:"Últimos 7 días"}),d.jsx(cn,{value:"15",children:"Últimos 15 días"}),d.jsx(cn,{value:"30",children:"Últimos 30 días"}),d.jsx(cn,{value:"90",children:"Últimos 90 días"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>t("7"),children:"Semanal"}),d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>t("30"),children:"Mensual"}),d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>t("90"),children:"Trimestral"}),d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>t("365"),children:"Anual"})]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{children:"Administrar reportes automáticos"})}),d.jsx(Pt,{children:d.jsx(d9e,{})})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsx(c,{title:"Ventas Totales",value:`$${(s==null?void 0:s.totalSales.toFixed(2))||"0.00"}`,icon:Cf,trend:"up",trendValue:`${(s==null?void 0:s.salesCount)||0} ventas`}),d.jsx(c,{title:"Compras Totales",value:`$${(s==null?void 0:s.totalPurchases.toFixed(2))||"0.00"}`,icon:mp}),d.jsx(c,{title:"Ganancia Bruta",value:`$${(s==null?void 0:s.profit.toFixed(2))||"0.00"}`,icon:lm,trend:(s==null?void 0:s.profit)>=0?"up":"down",trendValue:`${((s==null?void 0:s.profit)/(s==null?void 0:s.totalSales)*100||0).toFixed(1)}%`}),d.jsx(c,{title:"Balance de Caja",value:`$${(s==null?void 0:s.cashBalance.toFixed(2))||"0.00"}`,icon:aB})]}),d.jsxs(Dy,{defaultValue:"sales",className:"space-y-4",children:[d.jsxs(_1,{children:[d.jsx(Ra,{value:"sales",children:"Ventas"}),d.jsx(Ra,{value:"purchases",children:"Compras"}),d.jsx(Ra,{value:"products",children:"Productos"}),d.jsx(Ra,{value:"payments",children:"Métodos de Pago"})]}),d.jsx(Da,{value:"sales",className:"space-y-4",children:d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{children:"Ventas por Día"})}),d.jsx(Pt,{children:d.jsx(d0,{width:"100%",height:300,children:d.jsxs(f4,{data:n,children:[d.jsx(M0,{strokeDasharray:"3 3"}),d.jsx(Wu,{dataKey:"day"}),d.jsx(Hu,{}),d.jsx(Cs,{}),d.jsx(Uu,{}),d.jsx(Bc,{dataKey:"total",fill:"hsl(var(--chart-1))",name:"Total ($)"}),d.jsx(Bc,{dataKey:"count",fill:"hsl(var(--chart-2))",name:"N° Ventas"})]})})})]})}),d.jsx(Da,{value:"purchases",className:"space-y-4",children:d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{children:"Compras por Día"})}),d.jsx(Pt,{children:d.jsx(d0,{width:"100%",height:300,children:d.jsxs(yV,{data:o,children:[d.jsx(M0,{strokeDasharray:"3 3"}),d.jsx(Wu,{dataKey:"day"}),d.jsx(Hu,{}),d.jsx(Cs,{}),d.jsx(Uu,{}),d.jsx(w1,{type:"monotone",dataKey:"total",stroke:"hsl(var(--chart-3))",name:"Total ($)",strokeWidth:2})]})})})]})}),d.jsx(Da,{value:"products",className:"space-y-4",children:d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{children:"Productos Más Vendidos"})}),d.jsx(Pt,{children:d.jsx(d0,{width:"100%",height:300,children:d.jsxs(f4,{data:a,layout:"vertical",children:[d.jsx(M0,{strokeDasharray:"3 3"}),d.jsx(Wu,{type:"number"}),d.jsx(Hu,{dataKey:"name",type:"category",width:120}),d.jsx(Cs,{}),d.jsx(Uu,{}),d.jsx(Bc,{dataKey:"revenue",fill:"hsl(var(--chart-4))",name:"Ingresos ($)"})]})})})]})}),d.jsx(Da,{value:"payments",className:"space-y-4",children:d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{children:"Distribución por Método de Pago"})}),d.jsx(Pt,{children:d.jsx(d0,{width:"100%",height:300,children:d.jsxs(v8e,{children:[d.jsx(ld,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:u=>`${u.name}: $${u.value.toFixed(2)}`,outerRadius:80,fill:"hsl(var(--chart-1))",dataKey:"value",children:i==null?void 0:i.map((u,h)=>d.jsx(X_,{fill:e7[h%e7.length]},`cell-${h}`))}),d.jsx(Cs,{})]})})})]})})]})]})})},t7="auto_reports_presets";function d9e(){const[e,t]=M.useState(()=>{try{const h=localStorage.getItem(t7);return h?JSON.parse(h):[]}catch{return[]}}),[r,n]=M.useState(""),[i,a]=M.useState("7"),s=h=>{t(h);try{localStorage.setItem(t7,JSON.stringify(h))}catch(m){console.error("Failed to persist auto reports",m)}},o=()=>{if(!r.trim())return;const h={id:Date.now().toString(),name:r.trim(),range:i,enabled:!0};s([h,...e]),n(""),a("7")},c=h=>{s(e.map(m=>m.id===h?{...m,enabled:!m.enabled}:m))},u=h=>{s(e.filter(m=>m.id!==h))};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[d.jsx("div",{className:"flex-1 md:mr-4",children:d.jsx(pt,{value:r,onChange:h=>n(h.target.value),placeholder:"Nombre del preset (ej. Reporte semanal)"})}),d.jsx("div",{className:"w-[180px]",children:d.jsxs(ro,{value:i,onValueChange:a,children:[d.jsx(ks,{className:"w-full",children:d.jsx(no,{})}),d.jsxs(Ps,{children:[d.jsx(cn,{value:"7",children:"Semanal"}),d.jsx(cn,{value:"30",children:"Mensual"}),d.jsx(cn,{value:"90",children:"Trimestral"}),d.jsx(cn,{value:"365",children:"Anual"})]})]})}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(ot,{onClick:o,size:"sm",children:"Agregar preset"})})]}),d.jsxs("div",{className:"space-y-2",children:[e.length===0&&d.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay presets guardados."}),e.map(h=>d.jsxs("div",{className:"flex items-center justify-between gap-2 border rounded-md p-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"font-medium",children:h.name}),d.jsx("div",{className:"text-sm text-muted-foreground",children:h.range==="7"?"Semanal":h.range==="30"?"Mensual":h.range==="90"?"Trimestral":"Anual"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Vm,{checked:h.enabled,onCheckedChange:()=>c(h.id)}),d.jsx(ot,{size:"sm",variant:"ghost",onClick:()=>u(h.id),children:"Eliminar"})]})]},h.id))]})]})}const f9e=_5({company_name:Rn().trim().min(1,"El nombre de la empresa es requerido").max(200,"El nombre debe tener máximo 200 caracteres"),email:Rn().trim().toLowerCase().max(255,"El email debe tener máximo 255 caracteres").refine(e=>e===""||Rn().email().safeParse(e).success,"Email inválido").optional(),phone:Rn().max(20,"El teléfono debe tener máximo 20 caracteres").optional(),tax_id:Rn().max(50,"El Tax ID debe tener máximo 50 caracteres").optional(),address:Rn().max(500,"La dirección debe tener máximo 500 caracteres").optional(),default_tax_rate:Ch({invalid_type_error:"El impuesto debe ser un número"}).min(0,"El impuesto no puede ser negativo").max(100,"El impuesto no puede ser mayor a 100%"),card_surcharge_rate:Ch({invalid_type_error:"El recargo debe ser un número"}).min(0,"El recargo no puede ser negativo").max(100,"El recargo no puede ser mayor a 100%"),currency:Rn().length(3,"El código de moneda debe tener 3 caracteres (ISO 4217)"),receipt_footer:Rn().max(500,"El pie de ticket debe tener máximo 500 caracteres").optional(),receipt_format:Rn().optional(),receipt_printer_name:Rn().max(100,"El nombre de impresora debe tener máximo 100 caracteres").optional(),whatsapp_number:Rn().max(20,"El número debe tener máximo 20 caracteres").optional(),whatsapp_enabled:cD(),low_stock_alert:cD()});function h9e(){const e=Ls(),[t,r]=M.useState({company_name:"",tax_id:"",address:"",phone:"",email:"",default_tax_rate:"",card_surcharge_rate:"",currency:"",receipt_footer:"",receipt_format:"thermal",receipt_printer_name:"",whatsapp_number:"",whatsapp_enabled:!1,low_stock_alert:!0}),{data:n,isLoading:i}=Cr({queryKey:["company-settings"],queryFn:async()=>{var u,h;const{data:o,error:c}=await Ge.from("company_settings").select("*").single();if(c)throw c;return r({company_name:o.company_name||"",tax_id:o.tax_id||"",address:o.address||"",phone:o.phone||"",email:o.email||"",default_tax_rate:((u=o.default_tax_rate)==null?void 0:u.toString())||"",card_surcharge_rate:((h=o.card_surcharge_rate)==null?void 0:h.toString())||"",currency:o.currency||"USD",receipt_footer:o.receipt_footer||"",receipt_format:o.receipt_format||"thermal",receipt_printer_name:o.receipt_printer_name||"",whatsapp_number:o.whatsapp_number||"",whatsapp_enabled:o.whatsapp_enabled||!1,low_stock_alert:o.low_stock_alert!==!1}),o}}),a=Di({mutationFn:async o=>{if(!(n!=null&&n.id))throw new Error("No settings found");const{error:c}=await Ge.from("company_settings").update({company_name:o.company_name,tax_id:o.tax_id||null,address:o.address||null,phone:o.phone||null,email:o.email||null,default_tax_rate:parseFloat(o.default_tax_rate)||0,card_surcharge_rate:parseFloat(o.card_surcharge_rate)||0,currency:o.currency,receipt_footer:o.receipt_footer||null,receipt_format:o.receipt_format||"thermal",receipt_printer_name:o.receipt_printer_name||null,whatsapp_number:o.whatsapp_number||null,whatsapp_enabled:o.whatsapp_enabled,low_stock_alert:o.low_stock_alert}).eq("id",n.id);if(c)throw c},onSuccess:()=>{ut.success("Configuración actualizada exitosamente"),e.invalidateQueries({queryKey:["company-settings"]})},onError:o=>{ut.error(o.message||"Error al actualizar configuración")}}),s=o=>{o.preventDefault();try{const c=f9e.parse({company_name:t.company_name,email:t.email||void 0,phone:t.phone||void 0,tax_id:t.tax_id||void 0,address:t.address||void 0,default_tax_rate:parseFloat(t.default_tax_rate)||0,card_surcharge_rate:parseFloat(t.card_surcharge_rate)||0,currency:t.currency,receipt_footer:t.receipt_footer||void 0,receipt_format:t.receipt_format||"thermal",receipt_printer_name:t.receipt_printer_name||void 0,whatsapp_number:t.whatsapp_number||void 0,whatsapp_enabled:t.whatsapp_enabled,low_stock_alert:t.low_stock_alert});a.mutate(c)}catch(c){if(c instanceof Ms){const u=c.errors[0];ut.error(u.message)}else ut.error("Error al validar la configuración")}};return i?d.jsx(Li,{children:d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:"Cargando configuración..."})}):d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuración del Sistema"}),d.jsx("p",{className:"text-muted-foreground",children:"Administra todos los ajustes globales del sistema"})]}),d.jsxs(Dy,{defaultValue:"company",className:"space-y-6",children:[d.jsxs(_1,{className:"grid w-full grid-cols-6",children:[d.jsx(Ra,{value:"company",children:"Empresa"}),d.jsx(Ra,{value:"financial",children:"Finanzas"}),d.jsx(Ra,{value:"receipts",children:"Tickets"}),d.jsx(Ra,{value:"inventory",children:"Inventario"}),d.jsx(Ra,{value:"integrations",children:"WhatsApp"}),d.jsx(Ra,{value:"system",children:"Sistema"})]}),d.jsx(Da,{value:"company",className:"space-y-6",children:d.jsxs(At,{className:"shadow-soft",children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(JJ,{className:"h-5 w-5 text-primary"}),"Datos de la Empresa"]}),d.jsx(Vl,{children:"Información que aparecerá en tickets y facturas"})]}),d.jsx(Pt,{children:d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"company_name",children:"Nombre de la Empresa *"}),d.jsx(pt,{id:"company_name",value:t.company_name,onChange:o=>r({...t,company_name:o.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"tax_id",children:"RUC / Tax ID"}),d.jsx(pt,{id:"tax_id",value:t.tax_id,onChange:o=>r({...t,tax_id:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"phone",children:"Teléfono"}),d.jsx(pt,{id:"phone",value:t.phone,onChange:o=>r({...t,phone:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"email",children:"Email"}),d.jsx(pt,{id:"email",type:"email",value:t.email,onChange:o=>r({...t,email:o.target.value})})]}),d.jsxs("div",{className:"space-y-2 md:col-span-2",children:[d.jsx(dt,{htmlFor:"address",children:"Dirección"}),d.jsx(pt,{id:"address",value:t.address,onChange:o=>r({...t,address:o.target.value})})]})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(ot,{type:"submit",disabled:a.isPending,children:a.isPending?"Guardando...":"Guardar Cambios"})})]})})]})}),d.jsx(Da,{value:"financial",className:"space-y-6",children:d.jsxs(At,{className:"shadow-soft",children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(Cf,{className:"h-5 w-5 text-primary"}),"Configuración Financiera"]}),d.jsx(Vl,{children:"Ajustes de impuestos y moneda"})]}),d.jsx(Pt,{children:d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"default_tax_rate",children:"Impuesto por Defecto (%)"}),d.jsx(pt,{id:"default_tax_rate",type:"number",step:"0.01",value:t.default_tax_rate,onChange:o=>r({...t,default_tax_rate:o.target.value})}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"IVA o impuesto aplicado automáticamente a productos"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"card_surcharge_rate",children:"Recargo Tarjeta de Crédito (%)"}),d.jsx(pt,{id:"card_surcharge_rate",type:"number",step:"0.01",value:t.card_surcharge_rate,onChange:o=>r({...t,card_surcharge_rate:o.target.value})}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Se aplicará automáticamente al pagar con tarjeta"})]}),d.jsxs("div",{className:"space-y-2 md:col-span-2",children:[d.jsx(dt,{htmlFor:"currency",children:"Moneda (Código ISO)"}),d.jsx(pt,{id:"currency",value:t.currency,onChange:o=>r({...t,currency:o.target.value.toUpperCase()}),placeholder:"USD, EUR, PEN, ARS, etc.",maxLength:3}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Código de 3 letras según ISO 4217 (ej: USD, EUR, ARS, PEN)"})]})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(ot,{type:"submit",disabled:a.isPending,children:a.isPending?"Guardando...":"Guardar Cambios"})})]})})]})}),d.jsx(Da,{value:"receipts",className:"space-y-6",children:d.jsxs(At,{className:"shadow-soft",children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(sm,{className:"h-5 w-5 text-primary"}),"Configuración de Tickets"]}),d.jsx(Vl,{children:"Personaliza la apariencia de tus tickets de venta"})]}),d.jsx(Pt,{children:d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"receipt_format",children:"Formato de Ticket"}),d.jsxs(ro,{value:t.receipt_format,onValueChange:o=>r({...t,receipt_format:o}),children:[d.jsx(ks,{id:"receipt_format",children:d.jsx(no,{})}),d.jsxs(Ps,{children:[d.jsx(cn,{value:"thermal",children:"Térmico (58mm/80mm)"}),d.jsx(cn,{value:"a4",children:"A4 (Hoja completa)"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"receipt_printer_name",children:"Nombre de Impresora"}),d.jsx(pt,{id:"receipt_printer_name",value:t.receipt_printer_name,onChange:o=>r({...t,receipt_printer_name:o.target.value}),placeholder:"Ej: EPSON TM-T20"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Nombre exacto de la impresora configurada en el sistema"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"receipt_footer",children:"Mensaje en el Ticket"}),d.jsx(ml,{id:"receipt_footer",value:t.receipt_footer,onChange:o=>r({...t,receipt_footer:o.target.value}),placeholder:"Ej: ¡Gracias por su compra! Vuelva pronto.",rows:4}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Este mensaje aparecerá al final de cada ticket impreso"})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(ot,{type:"submit",disabled:a.isPending,children:a.isPending?"Guardando...":"Guardar Cambios"})})]})})]})}),d.jsx(Da,{value:"inventory",className:"space-y-6",children:d.jsxs(At,{className:"shadow-soft",children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(mf,{className:"h-5 w-5 text-primary"}),"Configuración de Inventario"]}),d.jsx(Vl,{children:"Alertas y notificaciones de stock"})]}),d.jsx(Pt,{children:d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(dt,{htmlFor:"low_stock_alert",className:"text-base font-medium",children:"Alertas de Stock Bajo"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Recibe notificaciones cuando los productos alcancen su stock mínimo"})]}),d.jsx(Vm,{id:"low_stock_alert",checked:t.low_stock_alert,onCheckedChange:o=>r({...t,low_stock_alert:o})})]}),d.jsxs("div",{className:"rounded-lg border p-4 space-y-2 bg-muted/50",children:[d.jsx("h4",{className:"font-semibold text-sm",children:"Cómo funcionan las alertas"}),d.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[d.jsx("li",{children:"Las alertas se activan cuando el stock actual < stock mínimo"}),d.jsx("li",{children:"Puedes configurar el stock mínimo de cada producto individualmente"}),d.jsx("li",{children:"Los productos con stock bajo aparecerán destacados en los reportes"})]})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(ot,{type:"submit",disabled:a.isPending,children:a.isPending?"Guardando...":"Guardar Cambios"})})]})})]})}),d.jsx(Da,{value:"integrations",className:"space-y-6",children:d.jsxs(At,{className:"shadow-soft",children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(dee,{className:"h-5 w-5 text-primary"}),"Integración WhatsApp Business"]}),d.jsx(Vl,{children:"Envía tickets y notificaciones por WhatsApp"})]}),d.jsx(Pt,{children:d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(dt,{htmlFor:"whatsapp_enabled",className:"text-base font-medium",children:"Activar WhatsApp"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilita el envío de mensajes por WhatsApp"})]}),d.jsx(Vm,{id:"whatsapp_enabled",checked:t.whatsapp_enabled,onCheckedChange:o=>r({...t,whatsapp_enabled:o})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"whatsapp_number",children:"Número de WhatsApp Business"}),d.jsx(pt,{id:"whatsapp_number",value:t.whatsapp_number,onChange:o=>r({...t,whatsapp_number:o.target.value}),placeholder:"+1234567890"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Incluye el código de país (ej: +54 para Argentina, +51 para Perú)"})]}),d.jsxs("div",{className:"rounded-lg border p-4 space-y-2 bg-muted/50",children:[d.jsx("h4",{className:"font-semibold text-sm",children:"Próximamente"}),d.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[d.jsx("li",{children:"Envío automático de tickets de venta"}),d.jsx("li",{children:"Notificaciones de servicios técnicos"}),d.jsx("li",{children:"Recordatorios de pagos pendientes"}),d.jsx("li",{children:"Confirmaciones de compra"})]})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(ot,{type:"submit",disabled:a.isPending,children:a.isPending?"Guardando...":"Guardar Cambios"})})]})})]})}),d.jsxs(Da,{value:"system",className:"space-y-6",children:[d.jsxs(At,{className:"shadow-soft",children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(og,{className:"h-5 w-5 text-primary"}),"Información y Backup"]}),d.jsx(Vl,{children:"Estado del sistema y respaldos de base de datos"})]}),d.jsx(Pt,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[d.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[d.jsx(og,{className:"h-4 w-4"}),"Estado de Backup"]}),d.jsxs("div",{className:"text-sm space-y-1",children:[d.jsx("p",{className:"text-muted-foreground",children:n!=null&&n.last_backup_date?`Último backup: ${new Date(n.last_backup_date).toLocaleString("es")}`:"Sin backup realizado"}),d.jsxs("p",{className:"text-muted-foreground",children:["Estado: ",n!=null&&n.backup_enabled?"✓ Activado":"✗ Desactivado"]})]}),d.jsxs(ot,{variant:"outline",disabled:!0,children:[d.jsx(og,{className:"mr-2 h-4 w-4"}),"Crear Backup Manual (Próximamente)"]})]}),d.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[d.jsx("h4",{className:"font-semibold",children:"Información del Sistema"}),d.jsxs("div",{className:"text-sm space-y-1",children:[d.jsx("p",{className:"text-muted-foreground",children:"Versión: 1.0.0"}),d.jsx("p",{className:"text-muted-foreground",children:"Base de datos: Supabase (PostgreSQL)"}),d.jsx("p",{className:"text-muted-foreground",children:"Framework: React + Vite"})]})]})]})})]}),d.jsxs(At,{className:"shadow-soft border-destructive/50",children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2 text-destructive",children:[d.jsx(cb,{className:"h-5 w-5"}),"Zona de Peligro"]}),d.jsx(Vl,{children:"Acciones críticas que pueden afectar permanentemente tu sistema"})]}),d.jsx(Pt,{children:d.jsxs("div",{className:"border border-destructive rounded-lg p-4 space-y-2 bg-destructive/5",children:[d.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[d.jsx(og,{className:"h-4 w-4"}),"Reset de Base de Datos"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Elimina TODOS los datos del sistema (ventas, productos, clientes, etc.)"}),d.jsx("p",{className:"text-sm font-semibold text-destructive",children:"⚠️ ADVERTENCIA: Esta acción es IRREVERSIBLE"}),d.jsxs(ot,{variant:"destructive",disabled:!0,children:[d.jsx(cb,{className:"mr-2 h-4 w-4"}),"Reset Completo (Deshabilitado)"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Por seguridad, esta función requiere acceso directo a la base de datos en Supabase"})]})})]})]})]})]})})}const P5=()=>{const{data:e}=Cr({queryKey:["current-user"],queryFn:async()=>{const{data:{user:h}}=await Ge.auth.getUser();return h}}),{data:t}=Cr({queryKey:["user-roles",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:h,error:m}=await Ge.from("user_roles").select("role").eq("user_id",e.id);if(m)throw m;return h.map(y=>y.role)},enabled:!!(e!=null&&e.id)}),{data:r}=Cr({queryKey:["role-permissions",t],queryFn:async()=>{if(!t||t.length===0)return[];const{data:h,error:m}=await Ge.from("role_permissions").select("*").in("role",t);if(m)throw m;return h},enabled:!!t&&t.length>0}),n=(h,m)=>{if(!r||r.length===0)return!1;const y=r.filter(g=>g.module===h);return y.length===0?!1:y.some(g=>{switch(m){case"view":return g.can_view;case"create":return g.can_create;case"edit":return g.can_edit;case"delete":return g.can_delete;case"export":return g.can_export;default:return!1}})},i=h=>(t==null?void 0:t.some(m=>m===h))||!1,a=i("admin"),s=i("manager"),o=i("cashier"),c=i("accountant"),u=i("viewer");return{permissions:r,userRoles:t,hasPermission:n,hasRole:i,isAdmin:a,isManager:s,isCashier:o,isAccountant:c,isViewer:u,loading:!r}};function p9e(){const[e,t]=M.useState(""),{hasPermission:r,isAdmin:n,isManager:i}=P5(),{data:a,isLoading:s}=Cr({queryKey:["audit-logs",e],queryFn:async()=>{let u=Ge.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(e){const y=cc(e);y&&(u=u.or(`table_name.ilike.%${y}%,user_email.ilike.%${y}%,user_name.ilike.%${y}%`))}const{data:h,error:m}=await u;if(m)throw m;return h}});if(!n&&!i)return d.jsx(Li,{children:d.jsx(oy,{variant:"destructive",children:d.jsx(ly,{children:"No tienes permisos para ver los registros de auditoría. Solo administradores y gerentes pueden acceder."})})});const o=u=>{const h={INSERT:"default",UPDATE:"secondary",DELETE:"destructive"};return d.jsx(Yr,{variant:h[u]||"default",children:u})},c=u=>({products:"Productos",customers:"Clientes",sales:"Ventas",purchases:"Compras",suppliers:"Proveedores",user_roles:"Roles de Usuario"})[u]||u;return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Auditoría de Cambios"}),d.jsx("p",{className:"text-muted-foreground",children:"Historial completo de todas las modificaciones en el sistema"})]}),d.jsxs(At,{children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(rB,{className:"h-5 w-5"}),"Registros de Auditoría"]}),d.jsx(Vl,{children:"Últimas 100 modificaciones en el sistema"})]}),d.jsxs(Pt,{children:[d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar por tabla, usuario o email...",value:e,onChange:u=>t(u.target.value),className:"pl-10"})]})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Fecha"}),d.jsx(rt,{children:"Usuario"}),d.jsx(rt,{children:"Tabla"}),d.jsx(rt,{children:"Acción"}),d.jsx(rt,{children:"Campos Modificados"})]})}),d.jsx(Ki,{children:s?d.jsx(dr,{children:d.jsx(Ke,{colSpan:5,className:"text-center",children:"Cargando registros..."})}):a&&a.length>0?a.map(u=>d.jsxs(dr,{children:[d.jsx(Ke,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(zN,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm",children:Yi(new Date(u.created_at),"dd/MM/yyyy HH:mm",{locale:Xi})})]})}),d.jsx(Ke,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(iB,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-medium",children:u.user_name||"Sin nombre"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:u.user_email})]})]})}),d.jsx(Ke,{children:c(u.table_name)}),d.jsx(Ke,{children:o(u.action)}),d.jsx(Ke,{children:u.changed_fields&&u.changed_fields.length>0?d.jsx("div",{className:"flex flex-wrap gap-1",children:u.changed_fields.map((h,m)=>d.jsx(Yr,{variant:"outline",className:"text-xs",children:h},m))}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})})]},u.id)):d.jsx(dr,{children:d.jsx(Ke,{colSpan:5,className:"text-center text-muted-foreground",children:"No hay registros de auditoría"})})})]})})]})]})]})})}function m9e(){const[e,t]=M.useState(""),{isAdmin:r,isManager:n}=P5(),{data:i,isLoading:a}=Cr({queryKey:["access-logs",e],queryFn:async()=>{let o=Ge.from("access_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(e){const h=cc(e);h&&(o=o.or(`action.ilike.%${h}%,user_email.ilike.%${h}%,user_name.ilike.%${h}%`))}const{data:c,error:u}=await o;if(u)throw u;return c}});if(!r&&!n)return d.jsx(Li,{children:d.jsx(oy,{variant:"destructive",children:d.jsx(ly,{children:"No tienes permisos para ver los registros de acceso. Solo administradores y gerentes pueden acceder."})})});const s=o=>{const c={login:"Inicio de sesión",logout:"Cierre de sesión",page_view:"Vista de página",api_call:"Llamada API"};return d.jsx(Yr,{variant:"outline",children:c[o]||o})};return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Registros de Acceso"}),d.jsx("p",{className:"text-muted-foreground",children:"Historial de accesos y actividad de usuarios en el sistema"})]}),d.jsxs(At,{children:[d.jsxs(Xt,{children:[d.jsxs(fr,{className:"flex items-center gap-2",children:[d.jsx(GE,{className:"h-5 w-5"}),"Logs de Acceso"]}),d.jsx(Vl,{children:"Últimas 100 actividades registradas"})]}),d.jsxs(Pt,{children:[d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar por acción, usuario o email...",value:e,onChange:o=>t(o.target.value),className:"pl-10"})]})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Fecha"}),d.jsx(rt,{children:"Usuario"}),d.jsx(rt,{children:"Acción"}),d.jsx(rt,{children:"Página/URL"}),d.jsx(rt,{children:"Estado"})]})}),d.jsx(Ki,{children:a?d.jsx(dr,{children:d.jsx(Ke,{colSpan:5,className:"text-center",children:"Cargando registros..."})}):i&&i.length>0?i.map(o=>d.jsxs(dr,{children:[d.jsx(Ke,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(zN,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm",children:Yi(new Date(o.created_at),"dd/MM/yyyy HH:mm:ss",{locale:Xi})})]})}),d.jsx(Ke,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(iB,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-medium",children:o.user_name||"Sin nombre"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:o.user_email})]})]})}),d.jsx(Ke,{children:s(o.action)}),d.jsx(Ke,{children:d.jsx("span",{className:"text-sm text-muted-foreground",children:o.page_url||"-"})}),d.jsxs(Ke,{children:[o.success?d.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[d.jsx(pf,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"Exitoso"})]}):d.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[d.jsx(KE,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"Fallido"})]}),o.error_message&&d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.error_message})]})]},o.id)):d.jsx(dr,{children:d.jsx(Ke,{colSpan:5,className:"text-center text-muted-foreground",children:"No hay registros de acceso"})})})]})})]})]})]})})}const g9e=async(e,t)=>{const r=new ar,n=r.internal.pageSize.getWidth();let i=20;if(r.setFontSize(18),r.setFont("helvetica","bold"),r.text((t==null?void 0:t.company_name)||"Mi Empresa",n/2,i,{align:"center"}),i+=7,r.setFontSize(10),r.setFont("helvetica","normal"),t!=null&&t.address&&(r.text(t.address,n/2,i,{align:"center"}),i+=5),t!=null&&t.phone||t!=null&&t.email){const s=[t.phone,t.email].filter(Boolean).join(" | ");r.text(s,n/2,i,{align:"center"}),i+=5}if(t!=null&&t.tax_id&&r.text(`CUIT/RUT: ${t.tax_id}`,n/2,i,{align:"center"}),i+=10,r.setDrawColor(200,200,200),r.line(15,i,n-15,i),i+=10,r.setFontSize(16),r.setFont("helvetica","bold"),r.text("PRESUPUESTO",n/2,i,{align:"center"}),i+=10,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Número:",15,i),r.setFont("helvetica","normal"),r.text(e.quotation_number,45,i),i+=6,r.setFont("helvetica","bold"),r.text("Fecha:",15,i),r.setFont("helvetica","normal"),r.text(new Date(e.created_at).toLocaleDateString("es-ES"),45,i),e.valid_until&&(i+=6,r.setFont("helvetica","bold"),r.text("Válido hasta:",15,i),r.setFont("helvetica","normal"),r.text(new Date(e.valid_until).toLocaleDateString("es-ES"),45,i)),i+=6,r.setFont("helvetica","bold"),r.text("Cliente:",15,i),r.setFont("helvetica","normal"),r.text(e.customer_name,45,i),i+=15,r.setFillColor(240,240,240),r.rect(15,i-5,n-30,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(9),r.text("Producto",17,i),r.text("Cant.",n-80,i,{align:"right"}),r.text("Precio Unit.",n-55,i,{align:"right"}),r.text("Subtotal",n-20,i,{align:"right"}),i+=8,r.setFont("helvetica","normal"),e.items.forEach(s=>{i>270&&(r.addPage(),i=20),r.text(s.product_name.substring(0,40),17,i),r.text(s.quantity.toString(),n-80,i,{align:"right"}),r.text(`$${s.unit_price.toFixed(2)}`,n-55,i,{align:"right"}),r.text(`$${s.subtotal.toFixed(2)}`,n-20,i,{align:"right"}),i+=6}),i+=5,r.setDrawColor(200,200,200),r.line(15,i,n-15,i),i+=8,r.setFont("helvetica","normal"),r.text("Subtotal:",n-60,i),r.text(`$${e.subtotal.toFixed(2)}`,n-20,i,{align:"right"}),e.discount>0&&(i+=6,r.text(`Descuento (${e.discount_rate}%):`,n-60,i),r.text(`-$${e.discount.toFixed(2)}`,n-20,i,{align:"right"})),e.tax>0&&(i+=6,r.text("Impuestos:",n-60,i),r.text(`$${e.tax.toFixed(2)}`,n-20,i,{align:"right"})),i+=8,r.setFont("helvetica","bold"),r.setFontSize(12),r.text("TOTAL:",n-60,i),r.text(`$${e.total.toFixed(2)}`,n-20,i,{align:"right"}),e.notes){i+=15,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Notas:",15,i),i+=5,r.setFont("helvetica","normal"),r.setFontSize(9);const s=r.splitTextToSize(e.notes,n-30);r.text(s,15,i)}const a=r.getNumberOfPages();for(let s=1;s<=a;s++)r.setPage(s),r.setFontSize(8),r.setFont("helvetica","italic"),r.setTextColor(150),r.text(`Página ${s} de ${a}`,n/2,r.internal.pageSize.getHeight()-10,{align:"center"});r.save(`Presupuesto-${e.quotation_number}.pdf`)};function v9e(){const[e,t]=M.useState(""),[r,n]=M.useState(!1),[i,a]=M.useState(""),[s,o]=M.useState([]),[c,u]=M.useState(""),[h,m]=M.useState(""),[y,g]=M.useState(0),S=Ls(),{hasPermission:_}=P5(),{data:w,isLoading:A}=Cr({queryKey:["quotations",e],queryFn:async()=>{let H=Ge.from("quotations").select("*").order("created_at",{ascending:!1});if(e){const q=cc(e);q&&(H=H.or(`quotation_number.ilike.%${q}%,customer_name.ilike.%${q}%`))}const{data:le,error:fe}=await H;if(fe)throw fe;return le}}),{data:E}=Cr({queryKey:["customers-list"],queryFn:async()=>{const{data:H,error:le}=await Ge.from("customers").select("id, name").order("name");if(le)throw le;return H}}),{data:O}=Cr({queryKey:["products-active"],queryFn:async()=>{const{data:H,error:le}=await Ge.from("products").select("id, name, price").eq("active",!0).order("name");if(le)throw le;return H}}),{data:I}=Cr({queryKey:["company-settings"],queryFn:async()=>{const{data:H,error:le}=await Ge.from("company_settings").select("*").single();if(le)throw le;return H}}),k=Di({mutationFn:async()=>{if(!i||s.length===0)throw new Error("Debe seleccionar un cliente y agregar al menos un producto");const{data:{user:H}}=await Ge.auth.getUser();if(!H)throw new Error("Usuario no autenticado");const le=E==null?void 0:E.find(Ce=>Ce.id===i);if(!le)throw new Error("Cliente no encontrado");const{data:fe,error:q}=await Ge.rpc("generate_quotation_number");if(q)throw q;const Z=s.reduce((Ce,Re)=>Ce+Re.subtotal,0),ae=Z*(y/100),ge=0,he=(Z-ae)*(ge/100),Se=Z-ae+he,{data:Ae,error:ye}=await Ge.from("quotations").insert({quotation_number:fe,customer_id:i,customer_name:le.name,user_id:H.id,subtotal:Z,discount:ae,discount_rate:y,tax:he,tax_rate:ge,total:Se,notes:c,valid_until:h||null,status:"draft"}).select().single();if(ye)throw ye;const Ne=s.map(Ce=>({quotation_id:Ae.id,product_id:Ce.product_id,product_name:Ce.product_name,quantity:Ce.quantity,unit_price:Ce.unit_price,subtotal:Ce.subtotal})),{error:Ee}=await Ge.from("quotation_items").insert(Ne);if(Ee)throw Ee;return Ae},onSuccess:()=>{ut.success("Presupuesto creado exitosamente"),S.invalidateQueries({queryKey:["quotations"]}),n(!1),z()},onError:H=>{ut.error("Error al crear presupuesto: "+H.message)}}),F=Di({mutationFn:async({id:H,status:le})=>{const{error:fe}=await Ge.from("quotations").update({status:le}).eq("id",H);if(fe)throw fe},onSuccess:()=>{ut.success("Estado actualizado"),S.invalidateQueries({queryKey:["quotations"]})},onError:H=>{ut.error("Error: "+H.message)}}),B=Di({mutationFn:async H=>{var de;const{data:le,error:fe}=await Ge.from("quotations").select("*").eq("id",H).single();if(fe)throw fe;const{data:q,error:Z}=await Ge.from("quotation_items").select("*").eq("quotation_id",H);if(Z)throw Z;const{data:{user:ae}}=await Ge.auth.getUser();if(!ae)throw new Error("Usuario no autenticado");const{data:ge}=await Ge.from("sales").select("sale_number").order("created_at",{ascending:!1}).limit(1),Se=(((de=ge==null?void 0:ge[0])==null?void 0:de.sale_number)||"VENTA-00000000-0000").split("-"),Ae=parseInt(Se[2])+1,ye=`VENTA-${new Date().toISOString().split("T")[0].replace(/-/g,"")}-${Ae.toString().padStart(4,"0")}`,{data:Ne,error:Ee}=await Ge.from("sales").insert({sale_number:ye,customer_id:le.customer_id,user_id:ae.id,subtotal:le.subtotal,discount:le.discount,discount_rate:le.discount_rate,tax:le.tax,tax_rate:le.tax_rate,total:le.total,payment_method:"credit",installments:1,notes:`Convertido desde presupuesto ${le.quotation_number}`,status:"completed"}).select().single();if(Ee)throw Ee;const Ce=q.map(it=>({sale_id:Ne.id,product_id:it.product_id,product_name:it.product_name,quantity:it.quantity,unit_price:it.unit_price,subtotal:it.subtotal})),{error:Re}=await Ge.from("sale_items").insert(Ce);if(Re)throw Re;for(const it of q)if(it.product_id){const{data:ft}=await Ge.from("products").select("stock").eq("id",it.product_id).single();ft&&await Ge.from("products").update({stock:ft.stock-it.quantity}).eq("id",it.product_id)}const{error:je}=await Ge.from("quotations").update({status:"converted",converted_to_sale_id:Ne.id}).eq("id",H);if(je)throw je;return Ne},onSuccess:()=>{ut.success("Presupuesto convertido a venta exitosamente"),S.invalidateQueries({queryKey:["quotations"]}),S.invalidateQueries({queryKey:["sales"]})},onError:H=>{ut.error("Error al convertir: "+H.message)}}),D=H=>{const le=O==null?void 0:O.find(q=>q.id===H);if(!le)return;const fe={product_id:le.id,product_name:le.name,quantity:1,unit_price:Number(le.price),subtotal:Number(le.price)};o([...s,fe])},P=async H=>{try{const{data:le,error:fe}=await Ge.from("quotations").select("*").eq("id",H).single();if(fe)throw fe;const{data:q,error:Z}=await Ge.from("quotation_items").select("*").eq("quotation_id",H);if(Z)throw Z;await g9e({...le,items:q||[]},I),ut.success("PDF generado exitosamente")}catch(le){ut.error("Error al generar PDF: "+le.message)}},K=(H,le)=>{const fe=[...s];fe[H].quantity=le,fe[H].subtotal=le*fe[H].unit_price,o(fe)},$=H=>{o(s.filter((le,fe)=>fe!==H))},z=()=>{a(""),o([]),u(""),m(""),g(0)},X=s.reduce((H,le)=>H+le.subtotal,0),W=X*(y/100),V=X-W,Q=H=>{const fe={draft:{variant:"secondary",label:"Borrador"},sent:{variant:"default",label:"Enviado"},accepted:{variant:"default",label:"Aceptado"},rejected:{variant:"destructive",label:"Rechazado"},expired:{variant:"outline",label:"Vencido"},converted:{variant:"default",label:"Convertido"}}[H]||{variant:"outline",label:H};return d.jsx(Yr,{variant:fe.variant,children:fe.label})},ne=_("quotations","create"),te=_("quotations","edit");return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Presupuestos"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestiona presupuestos para clientes"})]}),ne&&d.jsxs(Aa,{open:r,onOpenChange:n,children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{children:[d.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Nuevo Presupuesto"]})}),d.jsxs(sa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[d.jsx(oa,{children:d.jsx(la,{children:"Crear Presupuesto"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(dt,{children:"Cliente *"}),d.jsxs(ro,{value:i,onValueChange:a,children:[d.jsx(ks,{children:d.jsx(no,{placeholder:"Seleccionar cliente"})}),d.jsx(Ps,{children:E==null?void 0:E.map(H=>d.jsx(cn,{value:H.id,children:H.name},H.id))})]})]}),d.jsxs("div",{children:[d.jsx(dt,{children:"Válido hasta"}),d.jsx(pt,{type:"date",value:h,onChange:H=>m(H.target.value)})]})]}),d.jsxs("div",{children:[d.jsx(dt,{children:"Agregar Productos"}),d.jsxs(ro,{onValueChange:D,children:[d.jsx(ks,{children:d.jsx(no,{placeholder:"Seleccionar producto"})}),d.jsx(Ps,{children:O==null?void 0:O.map(H=>d.jsxs(cn,{value:H.id,children:[H.name," - $",Number(H.price).toFixed(2)]},H.id))})]})]}),s.length>0&&d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Producto"}),d.jsx(rt,{children:"Cantidad"}),d.jsx(rt,{children:"Precio"}),d.jsx(rt,{children:"Subtotal"}),d.jsx(rt,{})]})}),d.jsx(Ki,{children:s.map((H,le)=>d.jsxs(dr,{children:[d.jsx(Ke,{children:H.product_name}),d.jsx(Ke,{children:d.jsx(pt,{type:"number",min:"1",value:H.quantity,onChange:fe=>K(le,Number(fe.target.value)),className:"w-20"})}),d.jsxs(Ke,{children:["$",H.unit_price.toFixed(2)]}),d.jsxs(Ke,{children:["$",H.subtotal.toFixed(2)]}),d.jsx(Ke,{children:d.jsx(ot,{variant:"ghost",size:"sm",onClick:()=>$(le),children:d.jsx(om,{className:"h-4 w-4"})})})]},le))})]}),d.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.jsxs("div",{children:[d.jsx(dt,{children:"Descuento (%)"}),d.jsx(pt,{type:"number",min:"0",max:"100",value:y,onChange:H=>g(Number(H.target.value))})]})}),d.jsxs("div",{children:[d.jsx(dt,{children:"Notas"}),d.jsx(ml,{value:c,onChange:H=>u(H.target.value),placeholder:"Notas adicionales..."})]}),d.jsxs("div",{className:"border-t pt-4 space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{className:"font-medium",children:["$",X.toFixed(2)]})]}),y>0&&d.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[d.jsxs("span",{children:["Descuento (",y,"%):"]}),d.jsxs("span",{children:["-$",W.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",V.toFixed(2)]})]})]})]}),d.jsxs(ij,{children:[d.jsx(ot,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),d.jsx(ot,{onClick:()=>k.mutate(),children:"Crear Presupuesto"})]})]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(pt,{placeholder:"Buscar por número o cliente...",value:e,onChange:H=>t(H.target.value),className:"pl-10"})]})})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Número"}),d.jsx(rt,{children:"Cliente"}),d.jsx(rt,{children:"Total"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{children:"Válido hasta"}),d.jsx(rt,{children:"Fecha"}),d.jsx(rt,{children:"Acciones"})]})}),d.jsx(Ki,{children:A?d.jsx(dr,{children:d.jsx(Ke,{colSpan:7,className:"text-center",children:"Cargando..."})}):w&&w.length>0?w.map(H=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:H.quotation_number}),d.jsx(Ke,{children:H.customer_name}),d.jsxs(Ke,{children:["$",Number(H.total).toFixed(2)]}),d.jsx(Ke,{children:Q(H.status)}),d.jsx(Ke,{children:H.valid_until?Yi(new Date(H.valid_until),"dd/MM/yyyy",{locale:Xi}):"-"}),d.jsx(Ke,{children:Yi(new Date(H.created_at),"dd/MM/yyyy",{locale:Xi})}),d.jsx(Ke,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>P(H.id),title:"Descargar PDF",children:d.jsx(HN,{className:"h-4 w-4"})}),te&&H.status==="draft"&&d.jsxs(d.Fragment,{children:[d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>F.mutate({id:H.id,status:"sent"}),title:"Marcar como enviado",children:d.jsx(mee,{className:"h-4 w-4"})}),d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>F.mutate({id:H.id,status:"accepted"}),title:"Marcar como aceptado",children:d.jsx(pf,{className:"h-4 w-4"})})]}),te&&H.status==="accepted"&&d.jsxs(ot,{size:"sm",variant:"default",onClick:()=>B.mutate(H.id),title:"Convertir a venta",children:[d.jsx(mp,{className:"h-4 w-4 mr-1"}),"Convertir"]})]})})]},H.id)):d.jsx(dr,{children:d.jsx(Ke,{colSpan:7,className:"text-center text-muted-foreground",children:"No hay presupuestos"})})})]})})]})]})})}const y9e=async(e,t)=>{const r=new ar,n=r.internal.pageSize.getWidth();let i=20;if(r.setFontSize(18),r.setFont("helvetica","bold"),r.text((t==null?void 0:t.company_name)||"Mi Empresa",n/2,i,{align:"center"}),i+=7,r.setFontSize(10),r.setFont("helvetica","normal"),t!=null&&t.address&&(r.text(t.address,n/2,i,{align:"center"}),i+=5),t!=null&&t.phone||t!=null&&t.email){const m=[t.phone,t.email].filter(Boolean).join(" | ");r.text(m,n/2,i,{align:"center"}),i+=5}if(t!=null&&t.tax_id&&r.text(`CUIT/RUT: ${t.tax_id}`,n/2,i,{align:"center"}),i+=10,r.setDrawColor(200,200,200),r.line(15,i,n-15,i),i+=10,r.setFontSize(16),r.setFont("helvetica","bold"),r.text("REMITO",n/2,i,{align:"center"}),i+=10,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Número:",15,i),r.setFont("helvetica","normal"),r.text(e.delivery_number,45,i),i+=6,r.setFont("helvetica","bold"),r.text("Fecha emisión:",15,i),r.setFont("helvetica","normal"),r.text(new Date(e.created_at).toLocaleDateString("es-ES"),45,i),e.delivery_date&&(i+=6,r.setFont("helvetica","bold"),r.text("Fecha entrega:",15,i),r.setFont("helvetica","normal"),r.text(new Date(e.delivery_date).toLocaleDateString("es-ES"),45,i)),i+=6,r.setFont("helvetica","bold"),r.text("Cliente:",15,i),r.setFont("helvetica","normal"),r.text(e.customer_name,45,i),e.delivery_address){i+=6,r.setFont("helvetica","bold"),r.text("Dirección:",15,i),r.setFont("helvetica","normal");const m=r.splitTextToSize(e.delivery_address,n-50);r.text(m,45,i),i+=m.length*5}if(i+=15,r.setFillColor(240,240,240),r.rect(15,i-5,n-30,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(9),r.text("Producto",17,i),r.text("Cant.",n-80,i,{align:"right"}),r.text("Precio Unit.",n-55,i,{align:"right"}),r.text("Subtotal",n-20,i,{align:"right"}),i+=8,r.setFont("helvetica","normal"),e.items.forEach(m=>{i>240&&(r.addPage(),i=20),r.text(m.product_name.substring(0,40),17,i),r.text(m.quantity.toString(),n-80,i,{align:"right"}),r.text(`$${m.unit_price.toFixed(2)}`,n-55,i,{align:"right"}),r.text(`$${m.subtotal.toFixed(2)}`,n-20,i,{align:"right"}),i+=6}),i+=5,r.setDrawColor(200,200,200),r.line(15,i,n-15,i),i+=8,r.setFont("helvetica","bold"),r.setFontSize(12),r.text("TOTAL:",n-60,i),r.text(`$${e.total.toFixed(2)}`,n-20,i,{align:"right"}),e.notes){i+=15,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Notas:",15,i),i+=5,r.setFont("helvetica","normal"),r.setFontSize(9);const m=r.splitTextToSize(e.notes,n-30);r.text(m,15,i),i+=m.length*5}i+=20,i>250&&(r.addPage(),i=20),r.setFontSize(10),r.setFont("helvetica","bold");const a=i,s=20,o=n-80,c=60,u=30;r.rect(s,a,c,u),r.text("Recibido por:",s+2,a+6),r.setFont("helvetica","normal"),r.setFontSize(8),e.received_by&&r.text(e.received_by,s+2,a+12),e.received_at&&r.text(new Date(e.received_at).toLocaleString("es-ES"),s+2,a+u-3),r.setFont("helvetica","bold"),r.setFontSize(10),r.rect(o,a,c,u),r.text("Entregado por:",o+2,a+6),r.setFont("helvetica","normal"),r.setFontSize(8),r.text("Firma:",o+2,a+u-3);const h=r.getNumberOfPages();for(let m=1;m<=h;m++)r.setPage(m),r.setFontSize(8),r.setFont("helvetica","italic"),r.setTextColor(150),r.text(`Página ${m} de ${h}`,n/2,r.internal.pageSize.getHeight()-10,{align:"center"});r.save(`Remito-${e.delivery_number}.pdf`)};function x9e(){const[e,t]=M.useState(""),r=Ls(),{hasPermission:n}=P5(),{data:i,isLoading:a}=Cr({queryKey:["delivery-notes",e],queryFn:async()=>{let m=Ge.from("delivery_notes").select("*").order("created_at",{ascending:!1});if(e){const S=cc(e);S&&(m=m.or(`delivery_number.ilike.%${S}%,customer_name.ilike.%${S}%`))}const{data:y,error:g}=await m;if(g)throw g;return y}}),{data:s}=Cr({queryKey:["company-settings"],queryFn:async()=>{const{data:m,error:y}=await Ge.from("company_settings").select("*").single();if(y)throw y;return m}}),o=Di({mutationFn:async({id:m,status:y})=>{const g={status:y};y==="delivered"&&(g.received_at=new Date().toISOString());const{error:S}=await Ge.from("delivery_notes").update(g).eq("id",m);if(S)throw S},onSuccess:()=>{ut.success("Estado actualizado"),r.invalidateQueries({queryKey:["delivery-notes"]})},onError:m=>{ut.error("Error: "+m.message)}}),c=m=>{const g={pending:{variant:"secondary",label:"Pendiente",icon:mf},in_transit:{variant:"default",label:"En tránsito",icon:E0},delivered:{variant:"default",label:"Entregado",icon:pf},cancelled:{variant:"destructive",label:"Cancelado",icon:null}}[m]||{variant:"outline",label:m,icon:null},S=g.icon;return d.jsxs(Yr,{variant:g.variant,className:"flex items-center gap-1 w-fit",children:[S&&d.jsx(S,{className:"h-3 w-3"}),g.label]})},u=async m=>{try{const{data:y,error:g}=await Ge.from("delivery_notes").select("*").eq("id",m).single();if(g)throw g;const{data:S,error:_}=await Ge.from("delivery_note_items").select("*").eq("delivery_note_id",m);if(_)throw _;await y9e({...y,items:S||[]},s),ut.success("PDF generado exitosamente")}catch(y){ut.error("Error al generar PDF: "+y.message)}},h=n("delivery_notes","edit");return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Remitos"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestiona entregas y remitos de ventas"})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Total Remitos"}),d.jsx(mf,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.length)||0})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Pendientes"}),d.jsx(mf,{className:"h-4 w-4 text-orange-500"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.filter(m=>m.status==="pending").length)||0})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"En Tránsito"}),d.jsx(E0,{className:"h-4 w-4 text-blue-500"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.filter(m=>m.status==="in_transit").length)||0})})]}),d.jsxs(At,{children:[d.jsxs(Xt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(fr,{className:"text-sm font-medium",children:"Entregados"}),d.jsx(pf,{className:"h-4 w-4 text-green-500"})]}),d.jsx(Pt,{children:d.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.filter(m=>m.status==="delivered").length)||0})})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(pt,{placeholder:"Buscar por número o cliente...",value:e,onChange:m=>t(m.target.value),className:"pl-10"})]})})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Número"}),d.jsx(rt,{children:"Cliente"}),d.jsx(rt,{children:"Total"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{children:"Dirección"}),d.jsx(rt,{children:"Fecha Creación"}),d.jsx(rt,{children:"Fecha Entrega"}),d.jsx(rt,{children:"Acciones"})]})}),d.jsx(Ki,{children:a?d.jsx(dr,{children:d.jsx(Ke,{colSpan:8,className:"text-center",children:"Cargando..."})}):i&&i.length>0?i.map(m=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:m.delivery_number}),d.jsx(Ke,{children:m.customer_name}),d.jsxs(Ke,{children:["$",Number(m.total).toFixed(2)]}),d.jsx(Ke,{children:c(m.status)}),d.jsx(Ke,{className:"max-w-xs truncate",children:m.delivery_address||"-"}),d.jsx(Ke,{children:Yi(new Date(m.created_at),"dd/MM/yyyy",{locale:Xi})}),d.jsx(Ke,{children:m.delivery_date?Yi(new Date(m.delivery_date),"dd/MM/yyyy",{locale:Xi}):"-"}),d.jsx(Ke,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>u(m.id),title:"Descargar PDF",children:d.jsx(HN,{className:"h-4 w-4"})}),h&&d.jsxs(d.Fragment,{children:[m.status==="pending"&&d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>o.mutate({id:m.id,status:"in_transit"}),title:"Marcar en tránsito",children:d.jsx(E0,{className:"h-4 w-4"})}),m.status==="in_transit"&&d.jsx(ot,{size:"sm",variant:"outline",onClick:()=>o.mutate({id:m.id,status:"delivered"}),title:"Marcar como entregado",children:d.jsx(pf,{className:"h-4 w-4"})})]})]})})]},m.id)):d.jsx(dr,{children:d.jsx(Ke,{colSpan:8,className:"text-center text-muted-foreground",children:"No hay remitos"})})})]})})]})]})})}function b9e(){const[e,t]=M.useState(""),[r,n]=M.useState(null),{data:i}=Cr({queryKey:["customers-with-balance"],queryFn:async()=>{const{data:c,error:u}=await Ge.from("customers").select("*").order("name");if(u)throw u;return c}}),{data:a}=Cr({queryKey:["customer-account",r],queryFn:async()=>{if(!r)return null;const[c,u,h]=await Promise.all([Ge.from("customers").select("*").eq("id",r).single(),Ge.from("sales").select("*").eq("customer_id",r).order("created_at",{ascending:!1}),Ge.from("customer_payments").select("*").eq("customer_id",r).order("payment_date",{ascending:!1})]);if(c.error)throw c.error;return{customer:c.data,sales:u.data||[],payments:h.data||[]}},enabled:!!r}),s=i==null?void 0:i.filter(c=>{var u;return c.name.toLowerCase().includes(e.toLowerCase())||((u=c.document)==null?void 0:u.toLowerCase().includes(e.toLowerCase()))}),o=c=>c>0?"text-destructive":c<0?"text-success":"text-muted-foreground";return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Cuentas Corrientes"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestión de saldos y pagos de clientes"})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[d.jsxs(At,{className:"shadow-soft lg:col-span-1",children:[d.jsxs(Xt,{children:[d.jsx(fr,{className:"text-lg",children:"Clientes"}),d.jsxs("div",{className:"relative mt-2",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar cliente...",value:e,onChange:c=>t(c.target.value),className:"pl-10"})]})]}),d.jsx(Pt,{className:"space-y-2 max-h-[600px] overflow-y-auto",children:s==null?void 0:s.map(c=>d.jsx("button",{onClick:()=>n(c.id),className:`w-full text-left p-3 rounded-lg border transition-all ${r===c.id?"bg-primary/10 border-primary":"hover:bg-muted border-transparent"}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:c.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:c.document||"Sin documento"})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:`text-sm font-bold ${o(Number(c.current_balance))}`,children:["$",Number(c.current_balance).toFixed(2)]}),Number(c.current_balance)>0&&d.jsx(Yr,{variant:"destructive",className:"text-xs mt-1",children:"Debe"})]})]})},c.id))})]}),d.jsxs(At,{className:"shadow-soft lg:col-span-2",children:[d.jsx(Xt,{children:d.jsx(fr,{className:"text-lg",children:a!=null&&a.customer?d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{children:["Estado de Cuenta - ",a.customer.name]}),d.jsxs(Yr,{variant:Number(a.customer.current_balance)>0?"destructive":"outline",className:"text-lg px-4 py-1",children:["Saldo: $",Number(a.customer.current_balance).toFixed(2)]})]}):"Selecciona un cliente"})}),d.jsx(Pt,{children:a?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),d.jsx("p",{className:"text-sm font-medium",children:a.customer.email||"-"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Teléfono"}),d.jsx("p",{className:"text-sm font-medium",children:a.customer.phone||"-"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Límite de Crédito"}),d.jsxs("p",{className:"text-sm font-medium",children:["$",Number(a.customer.credit_limit).toFixed(2)]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Dirección"}),d.jsx("p",{className:"text-sm font-medium",children:a.customer.address||"-"})]})]}),d.jsx(o1,{}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[d.jsx(E2,{className:"h-4 w-4 text-primary"}),"Historial de Movimientos"]}),d.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[[...a.sales.map(c=>({...c,type:"sale"})),...a.payments.map(c=>({...c,type:"payment"}))].sort((c,u)=>{const h=new Date(c.type==="sale"?c.created_at:c.payment_date);return new Date(u.type==="sale"?u.created_at:u.payment_date).getTime()-h.getTime()}).map((c,u)=>{const h=c.type==="sale",m=h?c.created_at:c.payment_date,y=h?c.total:c.amount;return d.jsx("div",{className:`p-3 rounded-lg border ${h?"bg-destructive/5 border-destructive/20":"bg-success/5 border-success/20"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[h?d.jsx(u_,{className:"h-5 w-5 text-destructive mt-0.5"}):d.jsx(pf,{className:"h-5 w-5 text-success mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:h?`Venta ${c.sale_number}`:"Pago Recibido"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:Yi(new Date(m),"dd/MM/yyyy HH:mm",{locale:Xi})}),h&&c.payment_method==="credit"&&d.jsx(Yr,{variant:"outline",className:"mt-1 text-xs",children:"A crédito"}),!h&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Método: ",c.payment_method]})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:`text-lg font-bold ${h?"text-destructive":"text-success"}`,children:[h?"+":"-","$",Number(y).toFixed(2)]})})]})},`${c.type}-${c.id}`)}),a.sales.length===0&&a.payments.length===0&&d.jsx("p",{className:"text-center py-8 text-sm text-muted-foreground",children:"No hay movimientos registrados"})]})]})]}):d.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[d.jsx(Cf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),d.jsx("p",{children:"Selecciona un cliente para ver su estado de cuenta"})]})})]})]})]})})}function w9e(){const[e,t]=M.useState(""),[r,n]=M.useState(!1),[i,a]=M.useState(null),s=Ls(),[o,c]=M.useState({code:"",name:"",description:"",type:"percentage",value:"0",min_quantity:"1",min_amount:"0",max_uses:"",start_date:"",end_date:"",active:!0,applies_to:"all",category:""}),{data:u}=Cr({queryKey:["promotions",e],queryFn:async()=>{let E=Ge.from("promotions").select("*").order("created_at",{ascending:!1});if(e){const k=cc(e);k&&(E=E.or(`code.ilike.%${k}%,name.ilike.%${k}%`))}const{data:O,error:I}=await E;if(I)throw I;return O}}),h=Di({mutationFn:async E=>{const{error:O}=await Ge.from("promotions").insert(E);if(O)throw O},onSuccess:()=>{ut.success("Promoción creada exitosamente"),s.invalidateQueries({queryKey:["promotions"]}),n(!1),_()},onError:E=>{ut.error("Error: "+E.message)}}),m=Di({mutationFn:async({id:E,data:O})=>{const{error:I}=await Ge.from("promotions").update(O).eq("id",E);if(I)throw I},onSuccess:()=>{ut.success("Promoción actualizada"),s.invalidateQueries({queryKey:["promotions"]}),n(!1),_()},onError:E=>{ut.error("Error: "+E.message)}}),y=Di({mutationFn:async E=>{const{error:O}=await Ge.from("promotions").delete().eq("id",E);if(O)throw O},onSuccess:()=>{ut.success("Promoción eliminada"),s.invalidateQueries({queryKey:["promotions"]})},onError:E=>{ut.error("Error: "+E.message)}}),g=E=>{E.preventDefault();const O={...o,value:parseFloat(o.value),min_quantity:parseInt(o.min_quantity),min_amount:parseFloat(o.min_amount),max_uses:o.max_uses?parseInt(o.max_uses):null};i?m.mutate({id:i.id,data:O}):h.mutate(O)},S=E=>{var O;a(E),c({code:E.code,name:E.name,description:E.description||"",type:E.type,value:E.value.toString(),min_quantity:E.min_quantity.toString(),min_amount:E.min_amount.toString(),max_uses:((O=E.max_uses)==null?void 0:O.toString())||"",start_date:E.start_date.split("T")[0],end_date:E.end_date?E.end_date.split("T")[0]:"",active:E.active,applies_to:E.applies_to,category:E.category||""}),n(!0)},_=()=>{a(null),c({code:"",name:"",description:"",type:"percentage",value:"0",min_quantity:"1",min_amount:"0",max_uses:"",start_date:"",end_date:"",active:!0,applies_to:"all",category:""})},w=E=>{switch(E){case"percentage":return d.jsx(pee,{className:"h-4 w-4"});case"fixed":return d.jsx(u_,{className:"h-4 w-4"});case"volume":return d.jsx(oee,{className:"h-4 w-4"});default:return d.jsx(nB,{className:"h-4 w-4"})}},A=E=>{switch(E){case"percentage":return"Porcentaje";case"fixed":return"Fijo";case"volume":return"Por Volumen";default:return E}};return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Promociones y Descuentos"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestión de cupones y ofertas"})]}),d.jsxs(Aa,{open:r,onOpenChange:E=>{n(E),E||_()},children:[d.jsx(Uc,{asChild:!0,children:d.jsxs(ot,{children:[d.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Nueva Promoción"]})}),d.jsxs(sa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsx(oa,{children:d.jsx(la,{children:i?"Editar Promoción":"Nueva Promoción"})}),d.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"code",children:"Código *"}),d.jsx(pt,{id:"code",value:o.code,onChange:E=>c({...o,code:E.target.value.toUpperCase()}),placeholder:"VERANO2024",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"name",children:"Nombre *"}),d.jsx(pt,{id:"name",value:o.name,onChange:E=>c({...o,name:E.target.value}),placeholder:"Oferta de Verano",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"description",children:"Descripción"}),d.jsx(ml,{id:"description",value:o.description,onChange:E=>c({...o,description:E.target.value}),placeholder:"Descripción de la promoción..."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"type",children:"Tipo de Descuento *"}),d.jsxs(ro,{value:o.type,onValueChange:E=>c({...o,type:E}),children:[d.jsx(ks,{children:d.jsx(no,{})}),d.jsxs(Ps,{children:[d.jsx(cn,{value:"percentage",children:"Porcentaje"}),d.jsx(cn,{value:"fixed",children:"Monto Fijo"}),d.jsx(cn,{value:"volume",children:"Por Volumen"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"value",children:"Valor *"}),d.jsx(pt,{id:"value",type:"number",step:"0.01",value:o.value,onChange:E=>c({...o,value:E.target.value}),required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"min_quantity",children:"Cantidad Mínima"}),d.jsx(pt,{id:"min_quantity",type:"number",value:o.min_quantity,onChange:E=>c({...o,min_quantity:E.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"min_amount",children:"Monto Mínimo"}),d.jsx(pt,{id:"min_amount",type:"number",step:"0.01",value:o.min_amount,onChange:E=>c({...o,min_amount:E.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"start_date",children:"Fecha Inicio *"}),d.jsx(pt,{id:"start_date",type:"date",value:o.start_date,onChange:E=>c({...o,start_date:E.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"end_date",children:"Fecha Fin"}),d.jsx(pt,{id:"end_date",type:"date",value:o.end_date,onChange:E=>c({...o,end_date:E.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"max_uses",children:"Máximo de Usos"}),d.jsx(pt,{id:"max_uses",type:"number",value:o.max_uses,onChange:E=>c({...o,max_uses:E.target.value}),placeholder:"Dejar vacío para ilimitado"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Vm,{id:"active",checked:o.active,onCheckedChange:E=>c({...o,active:E})}),d.jsx(dt,{htmlFor:"active",children:"Promoción Activa"})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),d.jsxs(ot,{type:"submit",children:[i?"Actualizar":"Crear"," Promoción"]})]})]})]})]})]}),d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar por código o nombre...",value:e,onChange:E=>t(E.target.value),className:"pl-10"})]})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Código"}),d.jsx(rt,{children:"Nombre"}),d.jsx(rt,{children:"Tipo"}),d.jsx(rt,{children:"Valor"}),d.jsx(rt,{children:"Usos"}),d.jsx(rt,{children:"Válido Hasta"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{className:"text-right",children:"Acciones"})]})}),d.jsx(Ki,{children:u==null?void 0:u.map(E=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-mono font-bold",children:E.code}),d.jsx(Ke,{children:E.name}),d.jsx(Ke,{children:d.jsxs(Yr,{variant:"outline",className:"gap-1",children:[w(E.type),A(E.type)]})}),d.jsx(Ke,{className:"font-semibold text-primary",children:E.type==="percentage"?`${E.value}%`:`$${E.value}`}),d.jsxs(Ke,{children:[E.current_uses,"/",E.max_uses||"∞"]}),d.jsx(Ke,{children:E.end_date?Yi(new Date(E.end_date),"dd/MM/yyyy",{locale:Xi}):"Sin límite"}),d.jsx(Ke,{children:d.jsx(Yr,{variant:E.active?"default":"secondary",children:E.active?"Activa":"Inactiva"})}),d.jsxs(Ke,{className:"text-right space-x-2",children:[d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>S(E),children:d.jsx(nv,{className:"h-4 w-4"})}),d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>{confirm("¿Eliminar esta promoción?")&&y.mutate(E.id)},children:d.jsx(om,{className:"h-4 w-4"})})]})]},E.id))})]})})]})]})})}function _9e(){var y;const[e,t]=M.useState(""),[r,n]=M.useState(null),[i,a]=M.useState(!1),s=Ls(),{data:o}=Cr({queryKey:["returns",e],queryFn:async()=>{let g=Ge.from("returns").select("*").order("created_at",{ascending:!1});if(e){const w=cc(e);w&&(g=g.or(`return_number.ilike.%${w}%,customer_name.ilike.%${w}%`))}const{data:S,error:_}=await g;if(_)throw _;return S}}),{data:c}=Cr({queryKey:["return-details",r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))return null;const{data:g,error:S}=await Ge.from("returns").select(`
          *,
          return_items(*)
        `).eq("id",r.id).single();if(S)throw S;return g},enabled:!!(r!=null&&r.id)}),u=Di({mutationFn:async({id:g,status:S})=>{const _={status:S};(S==="approved"||S==="completed")&&(_.completed_at=new Date().toISOString());const{error:w}=await Ge.from("returns").update(_).eq("id",g);if(w)throw w;if(S==="approved"){const A=o==null?void 0:o.find(E=>E.id===g);if(A&&A.refund_method==="credit_note"){const{data:E}=await Ge.rpc("generate_credit_note_number");await Ge.from("credit_notes").insert({credit_note_number:E,return_id:g,customer_id:A.customer_id,amount:A.total,balance:A.total})}}},onSuccess:()=>{ut.success("Estado actualizado exitosamente"),s.invalidateQueries({queryKey:["returns"]}),s.invalidateQueries({queryKey:["return-details"]})},onError:g=>{ut.error("Error: "+g.message)}}),h=g=>{switch(g){case"pending":return d.jsx(Yr,{variant:"secondary",children:"Pendiente"});case"approved":return d.jsx(Yr,{className:"bg-success",children:"Aprobada"});case"rejected":return d.jsx(Yr,{variant:"destructive",children:"Rechazada"});case"completed":return d.jsx(Yr,{className:"bg-primary",children:"Completada"});default:return d.jsx(Yr,{variant:"outline",children:g})}},m=g=>({cash:"Efectivo",card:"Tarjeta",credit_note:"Nota de Crédito",exchange:"Cambio"})[g]||g;return d.jsx(Li,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Devoluciones"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestión de devoluciones y reembolsos"})]}),d.jsxs(At,{className:"shadow-soft",children:[d.jsx(Xt,{children:d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar por número o cliente...",value:e,onChange:g=>t(g.target.value),className:"pl-10"})]})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Número"}),d.jsx(rt,{children:"Fecha"}),d.jsx(rt,{children:"Cliente"}),d.jsx(rt,{children:"Motivo"}),d.jsx(rt,{children:"Método Reembolso"}),d.jsx(rt,{children:"Total"}),d.jsx(rt,{children:"Estado"}),d.jsx(rt,{className:"text-right",children:"Acciones"})]})}),d.jsx(Ki,{children:o==null?void 0:o.map(g=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-mono font-medium",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(XE,{className:"h-4 w-4 text-muted-foreground"}),g.return_number]})}),d.jsx(Ke,{children:Yi(new Date(g.created_at),"dd/MM/yyyy",{locale:Xi})}),d.jsx(Ke,{children:g.customer_name}),d.jsx(Ke,{className:"max-w-[200px] truncate",children:g.reason}),d.jsx(Ke,{children:d.jsx(Yr,{variant:"outline",children:m(g.refund_method)})}),d.jsxs(Ke,{className:"font-bold text-destructive",children:["$",Number(g.total).toFixed(2)]}),d.jsx(Ke,{children:h(g.status)}),d.jsxs(Ke,{className:"text-right space-x-2",children:[d.jsx(ot,{size:"icon",variant:"outline",onClick:()=>{n(g),a(!0)},children:d.jsx(VN,{className:"h-4 w-4"})}),g.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsx(ot,{size:"icon",variant:"outline",className:"text-success",onClick:()=>u.mutate({id:g.id,status:"approved"}),children:d.jsx(pf,{className:"h-4 w-4"})}),d.jsx(ot,{size:"icon",variant:"outline",className:"text-destructive",onClick:()=>u.mutate({id:g.id,status:"rejected"}),children:d.jsx(KE,{className:"h-4 w-4"})})]})]})]},g.id))})]})})]}),d.jsx(Aa,{open:i,onOpenChange:a,children:d.jsxs(sa,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx(oa,{children:d.jsxs(la,{className:"flex items-center gap-2",children:[d.jsx(XE,{className:"h-5 w-5 text-primary"}),"Detalle de Devolución - ",r==null?void 0:r.return_number]})}),c&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs(At,{children:[d.jsx(Xt,{className:"pb-3",children:d.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Información General"})}),d.jsxs(Pt,{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),d.jsx("span",{className:"font-medium",children:c.customer_name})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha:"}),d.jsx("span",{className:"font-medium",children:Yi(new Date(c.created_at),"dd/MM/yyyy HH:mm",{locale:Xi})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado:"}),h(c.status)]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{className:"pb-3",children:d.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Reembolso"})}),d.jsxs(Pt,{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Método:"}),d.jsx(Yr,{variant:"outline",children:m(c.refund_method)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Monto:"}),d.jsxs("span",{className:"text-lg font-bold text-destructive",children:["$",Number(c.total).toFixed(2)]})]})]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{className:"text-sm",children:"Motivo de Devolución"})}),d.jsxs(Pt,{children:[d.jsx("p",{className:"text-sm text-foreground",children:c.reason}),c.notes&&d.jsxs(d.Fragment,{children:[d.jsx(o1,{className:"my-3"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:c.notes})]})]})]}),d.jsxs(At,{children:[d.jsx(Xt,{children:d.jsx(fr,{className:"text-sm",children:"Productos Devueltos"})}),d.jsx(Pt,{children:d.jsxs(Vi,{children:[d.jsx(Gi,{children:d.jsxs(dr,{children:[d.jsx(rt,{children:"Producto"}),d.jsx(rt,{className:"text-center",children:"Cantidad"}),d.jsx(rt,{className:"text-right",children:"Precio Unit."}),d.jsx(rt,{className:"text-right",children:"Subtotal"})]})}),d.jsx(Ki,{children:(y=c.return_items)==null?void 0:y.map(g=>d.jsxs(dr,{children:[d.jsx(Ke,{className:"font-medium",children:g.product_name}),d.jsx(Ke,{className:"text-center",children:g.quantity}),d.jsxs(Ke,{className:"text-right",children:["$",Number(g.unit_price).toFixed(2)]}),d.jsxs(Ke,{className:"text-right font-medium",children:["$",Number(g.subtotal).toFixed(2)]})]},g.id))})]})})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ot,{variant:"outline",onClick:()=>a(!1),children:"Cerrar"}),c.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsxs(ot,{variant:"outline",className:"text-destructive",onClick:()=>{u.mutate({id:c.id,status:"rejected"}),a(!1)},children:[d.jsx(KE,{className:"mr-2 h-4 w-4"}),"Rechazar"]}),d.jsxs(ot,{className:"bg-success",onClick:()=>{u.mutate({id:c.id,status:"approved"}),a(!1)},children:[d.jsx(pf,{className:"mr-2 h-4 w-4"}),"Aprobar"]})]})]})]})]})})]})})}function S9e(){const[e,t]=M.useState(""),r=i1(),{data:n,isLoading:i}=Cr({queryKey:["low-stock-products"],queryFn:async()=>{const{data:g,error:S}=await Ge.from("products").select("*").eq("active",!0).order("stock",{ascending:!0});if(S)throw S;return(g==null?void 0:g.filter(_=>_.stock<=_.min_stock&&_.min_stock>0))||[]}}),{data:a,isLoading:s}=Cr({queryKey:["expiring-products"],queryFn:async()=>{const g=new Date;g.setDate(g.getDate()+30);const{data:S,error:_}=await Ge.from("products").select("*").not("expiration_date","is",null).lte("expiration_date",g.toISOString()).gte("expiration_date",new Date().toISOString()).eq("active",!0).order("expiration_date",{ascending:!0});if(_)throw _;return S}}),{data:o,refetch:c}=Cr({queryKey:["notifications"],queryFn:async()=>{const{data:{user:g}}=await Ge.auth.getUser();if(!g)return[];const{data:S,error:_}=await Ge.from("notifications").select("*").eq("user_id",g.id).order("created_at",{ascending:!1}).limit(50);if(_)throw _;return S}}),u=async g=>{const{error:S}=await Ge.from("notifications").update({read:!0}).eq("id",g);if(S){ut.error("Error al marcar como leída");return}c()},h=async()=>{try{const{error:g}=await Ge.rpc("check_low_stock_alerts");if(g)throw g;const{error:S}=await Ge.rpc("check_expiring_products");if(S)throw S;ut.success("Alertas generadas exitosamente"),c()}catch(g){console.error("Error checking alerts:",g),ut.error("Error al generar alertas")}},m=n==null?void 0:n.filter(g=>{var S;return g.name.toLowerCase().includes(e.toLowerCase())||((S=g.sku)==null?void 0:S.toLowerCase().includes(e.toLowerCase()))}),y=a==null?void 0:a.filter(g=>{var S;return g.name.toLowerCase().includes(e.toLowerCase())||((S=g.batch_number)==null?void 0:S.toLowerCase().includes(e.toLowerCase()))});return d.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Alertas de Inventario"}),d.jsx("p",{className:"text-muted-foreground",children:"Monitoreo de stock bajo y productos próximos a vencer"})]}),d.jsx(ot,{onClick:h,children:"Generar Alertas"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(At,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Stock Bajo"}),d.jsx("p",{className:"text-2xl font-bold",children:(n==null?void 0:n.length)||0})]}),d.jsx(cb,{className:"h-8 w-8 text-destructive"})]})}),d.jsx(At,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Próximos a Vencer"}),d.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)||0})]}),d.jsx(zN,{className:"h-8 w-8 text-warning"})]})}),d.jsx(At,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificaciones Sin Leer"}),d.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.filter(g=>!g.read).length)||0})]}),d.jsx(mf,{className:"h-8 w-8 text-primary"})]})})]}),d.jsxs("div",{className:"relative",children:[d.jsx(ps,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(pt,{placeholder:"Buscar productos...",value:e,onChange:g=>t(g.target.value),className:"pl-10"})]}),d.jsxs(Dy,{defaultValue:"low-stock",className:"w-full",children:[d.jsxs(_1,{className:"grid w-full grid-cols-3",children:[d.jsx(Ra,{value:"low-stock",children:"Stock Bajo"}),d.jsx(Ra,{value:"expiring",children:"Próximos a Vencer"}),d.jsx(Ra,{value:"notifications",children:"Notificaciones"})]}),d.jsx(Da,{value:"low-stock",className:"space-y-4",children:i?d.jsx("div",{className:"flex justify-center p-8",children:d.jsx(wk,{className:"h-8 w-8 animate-spin"})}):(m==null?void 0:m.length)===0?d.jsx(At,{className:"p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"No hay productos con stock bajo"})}):m==null?void 0:m.map(g=>d.jsx(At,{className:"p-4",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-2 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-semibold",children:g.name}),d.jsxs(Yr,{variant:"destructive",children:["Stock: ",g.stock," / Min: ",g.min_stock]})]}),g.sku&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",g.sku]}),g.location&&d.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[d.jsx(uee,{className:"h-3 w-3"}),g.location]})]}),d.jsx(ot,{variant:"outline",size:"sm",onClick:()=>r("/products"),children:"Ver Detalles"})]})},g.id))}),d.jsx(Da,{value:"expiring",className:"space-y-4",children:s?d.jsx("div",{className:"flex justify-center p-8",children:d.jsx(wk,{className:"h-8 w-8 animate-spin"})}):(y==null?void 0:y.length)===0?d.jsx(At,{className:"p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"No hay productos próximos a vencer"})}):y==null?void 0:y.map(g=>d.jsx(At,{className:"p-4",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-2 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-semibold",children:g.name}),d.jsxs(Yr,{variant:"destructive",children:["Vence"," ",LC(new Date(g.expiration_date),{addSuffix:!0,locale:Xi})]})]}),g.batch_number&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lote: ",g.batch_number]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fecha de vencimiento:"," ",new Date(g.expiration_date).toLocaleDateString("es")]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stock disponible: ",g.stock," unidades"]})]}),d.jsx(ot,{variant:"outline",size:"sm",onClick:()=>r("/products"),children:"Ver Detalles"})]})},g.id))}),d.jsx(Da,{value:"notifications",className:"space-y-4",children:(o==null?void 0:o.length)===0?d.jsx(At,{className:"p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"No hay notificaciones"})}):o==null?void 0:o.map(g=>d.jsx(At,{className:`p-4 ${g.read?"opacity-60":""}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-2 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-semibold",children:g.title}),!g.read&&d.jsx(Yr,{variant:"default",children:"Nueva"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:g.message}),d.jsx("p",{className:"text-xs text-muted-foreground",children:LC(new Date(g.created_at),{addSuffix:!0,locale:Xi})})]}),!g.read&&d.jsx(ot,{variant:"ghost",size:"sm",onClick:()=>u(g.id),children:"Marcar como leída"})]})},g.id))})]})]})}const A9e=()=>{const e=gp();return M.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},E9e=new Rne;function ta({children:e}){const[t,r]=M.useState(null),[n,i]=M.useState(null),[a,s]=M.useState(!0);return M.useEffect(()=>{const{data:{subscription:o}}=Ge.auth.onAuthStateChange((c,u)=>{i(u),r((u==null?void 0:u.user)??null),s(!1)});return Ge.auth.getSession().then(({data:{session:c}})=>{i(c),r((c==null?void 0:c.user)??null),s(!1)}),()=>o.unsubscribe()},[]),a?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):t?d.jsx(d.Fragment,{children:e}):d.jsx(Bie,{to:"/auth"})}const C9e=()=>d.jsx($ne,{client:E9e,children:d.jsxs(yne,{children:[d.jsx(rte,{}),d.jsx(Mte,{}),d.jsx(Kie,{children:d.jsxs(Uie,{children:[d.jsx(wi,{path:"/auth",element:d.jsx(X8e,{})}),d.jsx(wi,{path:"/",element:d.jsx(ta,{children:d.jsx(y8e,{})})}),d.jsx(wi,{path:"/pos",element:d.jsx(ta,{children:d.jsx(O7e,{})})}),d.jsx(wi,{path:"/products",element:d.jsx(ta,{children:d.jsx(Y7e,{})})}),d.jsx(wi,{path:"/suppliers",element:d.jsx(ta,{children:d.jsx(t9e,{})})}),d.jsx(wi,{path:"/customers",element:d.jsx(ta,{children:d.jsx(n9e,{})})}),d.jsx(wi,{path:"/sales",element:d.jsx(ta,{children:d.jsx(i9e,{})})}),d.jsx(wi,{path:"/quotations",element:d.jsx(ta,{children:d.jsx(v9e,{})})}),d.jsx(wi,{path:"/delivery-notes",element:d.jsx(ta,{children:d.jsx(x9e,{})})}),d.jsx(wi,{path:"/customer-account",element:d.jsx(ta,{children:d.jsx(b9e,{})})}),d.jsx(wi,{path:"/promotions",element:d.jsx(ta,{children:d.jsx(w9e,{})})}),d.jsx(wi,{path:"/returns",element:d.jsx(ta,{children:d.jsx(_9e,{})})}),d.jsx(wi,{path:"/technical-services",element:d.jsx(ta,{children:d.jsx(s9e,{})})}),d.jsx(wi,{path:"/employees",element:d.jsx(ta,{children:d.jsx(o9e,{})})}),d.jsx(wi,{path:"/cash-register",element:d.jsx(ta,{children:d.jsx(l9e,{})})}),d.jsx(wi,{path:"/purchases",element:d.jsx(ta,{children:d.jsx(c9e,{})})}),d.jsx(wi,{path:"/reports",element:d.jsx(ta,{children:d.jsx(u9e,{})})}),d.jsx(wi,{path:"/audit-logs",element:d.jsx(ta,{children:d.jsx(p9e,{})})}),d.jsx(wi,{path:"/access-logs",element:d.jsx(ta,{children:d.jsx(m9e,{})})}),d.jsx(wi,{path:"/inventory-alerts",element:d.jsx(ta,{children:d.jsx(S9e,{})})}),d.jsx(wi,{path:"/settings",element:d.jsx(ta,{children:d.jsx(h9e,{})})}),d.jsx(wi,{path:"*",element:d.jsx(A9e,{})})]})})]})});NF(document.getElementById("root")).render(d.jsx(C9e,{}));export{Dn as _,Ac as c,yn as g};
